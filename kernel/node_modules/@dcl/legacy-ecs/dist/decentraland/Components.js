var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
import { Vector3, Quaternion, Matrix, MathTmp, Color3 } from '@dcl/ecs-math';
import { Component, ObservableComponent, DisposableComponent, getComponentId } from '../ecs/Component';
import { AnimationState } from './AnimationState';
import { log, newId } from '../ecs/helpers';
import { ActionButton } from './Input';
import { CameraMode } from './Types';
/**
 * @public
 */
export var CLASS_ID;
(function (CLASS_ID) {
    CLASS_ID[CLASS_ID["TRANSFORM"] = 1] = "TRANSFORM";
    CLASS_ID[CLASS_ID["UUID_CALLBACK"] = 8] = "UUID_CALLBACK";
    CLASS_ID[CLASS_ID["BOX_SHAPE"] = 16] = "BOX_SHAPE";
    CLASS_ID[CLASS_ID["SPHERE_SHAPE"] = 17] = "SPHERE_SHAPE";
    CLASS_ID[CLASS_ID["PLANE_SHAPE"] = 18] = "PLANE_SHAPE";
    CLASS_ID[CLASS_ID["CONE_SHAPE"] = 19] = "CONE_SHAPE";
    CLASS_ID[CLASS_ID["CYLINDER_SHAPE"] = 20] = "CYLINDER_SHAPE";
    CLASS_ID[CLASS_ID["TEXT_SHAPE"] = 21] = "TEXT_SHAPE";
    CLASS_ID[CLASS_ID["NFT_SHAPE"] = 22] = "NFT_SHAPE";
    CLASS_ID[CLASS_ID["UI_WORLD_SPACE_SHAPE"] = 23] = "UI_WORLD_SPACE_SHAPE";
    CLASS_ID[CLASS_ID["UI_SCREEN_SPACE_SHAPE"] = 24] = "UI_SCREEN_SPACE_SHAPE";
    CLASS_ID[CLASS_ID["UI_CONTAINER_RECT"] = 25] = "UI_CONTAINER_RECT";
    CLASS_ID[CLASS_ID["UI_CONTAINER_STACK"] = 26] = "UI_CONTAINER_STACK";
    CLASS_ID[CLASS_ID["UI_TEXT_SHAPE"] = 27] = "UI_TEXT_SHAPE";
    CLASS_ID[CLASS_ID["UI_INPUT_TEXT_SHAPE"] = 28] = "UI_INPUT_TEXT_SHAPE";
    CLASS_ID[CLASS_ID["UI_IMAGE_SHAPE"] = 29] = "UI_IMAGE_SHAPE";
    CLASS_ID[CLASS_ID["UI_SLIDER_SHAPE"] = 30] = "UI_SLIDER_SHAPE";
    CLASS_ID[CLASS_ID["CIRCLE_SHAPE"] = 31] = "CIRCLE_SHAPE";
    CLASS_ID[CLASS_ID["BILLBOARD"] = 32] = "BILLBOARD";
    CLASS_ID[CLASS_ID["ANIMATION"] = 33] = "ANIMATION";
    CLASS_ID[CLASS_ID["FONT"] = 34] = "FONT";
    CLASS_ID[CLASS_ID["UI_FULLSCREEN_SHAPE"] = 40] = "UI_FULLSCREEN_SHAPE";
    CLASS_ID[CLASS_ID["UI_BUTTON_SHAPE"] = 41] = "UI_BUTTON_SHAPE";
    CLASS_ID[CLASS_ID["GLTF_SHAPE"] = 54] = "GLTF_SHAPE";
    CLASS_ID[CLASS_ID["OBJ_SHAPE"] = 55] = "OBJ_SHAPE";
    CLASS_ID[CLASS_ID["AVATAR_SHAPE"] = 56] = "AVATAR_SHAPE";
    CLASS_ID[CLASS_ID["BASIC_MATERIAL"] = 64] = "BASIC_MATERIAL";
    CLASS_ID[CLASS_ID["PBR_MATERIAL"] = 65] = "PBR_MATERIAL";
    CLASS_ID[CLASS_ID["HIGHLIGHT_ENTITY"] = 66] = "HIGHLIGHT_ENTITY";
    /** @deprecated Sound has been deprecataed */
    CLASS_ID[CLASS_ID["SOUND"] = 67] = "SOUND";
    CLASS_ID[CLASS_ID["TEXTURE"] = 68] = "TEXTURE";
    CLASS_ID[CLASS_ID["VIDEO_CLIP"] = 70] = "VIDEO_CLIP";
    CLASS_ID[CLASS_ID["VIDEO_TEXTURE"] = 71] = "VIDEO_TEXTURE";
    CLASS_ID[CLASS_ID["AVATAR_TEXTURE"] = 72] = "AVATAR_TEXTURE";
    CLASS_ID[CLASS_ID["AUDIO_CLIP"] = 200] = "AUDIO_CLIP";
    CLASS_ID[CLASS_ID["AUDIO_SOURCE"] = 201] = "AUDIO_SOURCE";
    CLASS_ID[CLASS_ID["AUDIO_STREAM"] = 202] = "AUDIO_STREAM";
    CLASS_ID[CLASS_ID["GIZMOS"] = 203] = "GIZMOS";
    CLASS_ID[CLASS_ID["SMART_ITEM"] = 204] = "SMART_ITEM";
    CLASS_ID[CLASS_ID["AVATAR_MODIFIER_AREA"] = 205] = "AVATAR_MODIFIER_AREA";
    CLASS_ID[CLASS_ID["AVATAR_ATTACH"] = 206] = "AVATAR_ATTACH";
    CLASS_ID[CLASS_ID["CAMERA_MODE_AREA"] = 207] = "CAMERA_MODE_AREA";
    // For state sync only
    CLASS_ID[CLASS_ID["NAME"] = 300] = "NAME";
    CLASS_ID[CLASS_ID["LOCKED_ON_EDIT"] = 301] = "LOCKED_ON_EDIT";
    CLASS_ID[CLASS_ID["VISIBLE_ON_EDIT"] = 302] = "VISIBLE_ON_EDIT";
})(CLASS_ID || (CLASS_ID = {}));
/** @public */
export var AvatarModifiers;
(function (AvatarModifiers) {
    AvatarModifiers["HIDE_AVATARS"] = "HIDE_AVATARS";
    AvatarModifiers["DISABLE_PASSPORTS"] = "DISABLE_PASSPORTS";
})(AvatarModifiers || (AvatarModifiers = {}));
/**
 * Define an area where avatars can be modified in some way
 * @public
 */
var AvatarModifierArea = /** @class */ (function (_super) {
    __extends(AvatarModifierArea, _super);
    function AvatarModifierArea(args) {
        var _this = _super.call(this) || this;
        _this.area = args.area;
        _this.modifiers = args.modifiers;
        _this.excludeIds = args.excludeIds;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Object)
    ], AvatarModifierArea.prototype, "area", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Array)
    ], AvatarModifierArea.prototype, "modifiers", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Array)
    ], AvatarModifierArea.prototype, "excludeIds", void 0);
    AvatarModifierArea = __decorate([
        Component('engine.avatarModifierArea', CLASS_ID.AVATAR_MODIFIER_AREA),
        __metadata("design:paramtypes", [Object])
    ], AvatarModifierArea);
    return AvatarModifierArea;
}(ObservableComponent));
export { AvatarModifierArea };
/**
 * @public
 */
var Transform = /** @class */ (function (_super) {
    __extends(Transform, _super);
    function Transform(args) {
        if (args === void 0) { args = {}; }
        var _this = _super.call(this) || this;
        _this.position = args.position || Vector3.Zero();
        _this.rotation = args.rotation || Quaternion.Identity;
        _this.scale = args.scale || new Vector3(1, 1, 1);
        return _this;
    }
    Object.defineProperty(Transform.prototype, "eulerAngles", {
        /**
         * @public
         * The rotation as Euler angles in degrees.
         */
        get: function () {
            return this.rotation.eulerAngles;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * @public
     * Rotates the transform so the forward vector points at target's current position.
     */
    Transform.prototype.lookAt = function (target, worldUp) {
        if (worldUp === void 0) { worldUp = MathTmp.staticUp; }
        var result = new Matrix();
        Matrix.LookAtLHToRef(this.position, target, worldUp, result);
        result.invert();
        Quaternion.FromRotationMatrixToRef(result, this.rotation);
        return this;
    };
    /**
     * @public
     * Applies a rotation of euler angles around the x, y and z axis.
     */
    Transform.prototype.rotate = function (axis, angle) {
        this.rotation.multiplyInPlace(this.rotation.angleAxis(angle, axis));
        return this;
    };
    /**
     * @public
     * Moves the transform in the direction and distance of translation.
     */
    Transform.prototype.translate = function (vec) {
        this.position.addInPlace(vec);
        return this;
    };
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Vector3)
    ], Transform.prototype, "position", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Quaternion)
    ], Transform.prototype, "rotation", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Vector3)
    ], Transform.prototype, "scale", void 0);
    Transform = __decorate([
        Component('engine.transform', CLASS_ID.TRANSFORM),
        __metadata("design:paramtypes", [Object])
    ], Transform);
    return Transform;
}(ObservableComponent));
export { Transform };
/** @public */
export var AttachToAvatarAnchorPointId;
(function (AttachToAvatarAnchorPointId) {
    AttachToAvatarAnchorPointId[AttachToAvatarAnchorPointId["Position"] = 0] = "Position";
    AttachToAvatarAnchorPointId[AttachToAvatarAnchorPointId["NameTag"] = 1] = "NameTag";
    /** @internal */
    AttachToAvatarAnchorPointId[AttachToAvatarAnchorPointId["LeftHand"] = 2] = "LeftHand";
    /** @internal */
    AttachToAvatarAnchorPointId[AttachToAvatarAnchorPointId["RightHand"] = 3] = "RightHand";
})(AttachToAvatarAnchorPointId || (AttachToAvatarAnchorPointId = {}));
/**
 * @public
 */
var AttachToAvatar = /** @class */ (function (_super) {
    __extends(AttachToAvatar, _super);
    function AttachToAvatar(args) {
        if (args === void 0) { args = {}; }
        var _this = _super.call(this) || this;
        _this.avatarId = args.avatarId || '';
        _this.anchorPointId =
            args.anchorPointId || AttachToAvatarAnchorPointId.Position;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], AttachToAvatar.prototype, "avatarId", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], AttachToAvatar.prototype, "anchorPointId", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], AttachToAvatar.prototype, "avatarSceneId", void 0);
    AttachToAvatar = __decorate([
        Component('engine.transform', CLASS_ID.AVATAR_ATTACH),
        __metadata("design:paramtypes", [Object])
    ], AttachToAvatar);
    return AttachToAvatar;
}(ObservableComponent));
export { AttachToAvatar };
/**
 * Billboard defines a behavior that makes the entity face the camera in any moment.
 * @public
 */
var Billboard = /** @class */ (function (_super) {
    __extends(Billboard, _super);
    function Billboard(x, y, z) {
        if (x === void 0) { x = true; }
        if (y === void 0) { y = true; }
        if (z === void 0) { z = true; }
        var _this = _super.call(this) || this;
        _this.x = true;
        _this.y = true;
        _this.z = true;
        _this.x = x;
        _this.y = y;
        _this.z = z;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Billboard.prototype, "x", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Billboard.prototype, "y", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Billboard.prototype, "z", void 0);
    Billboard = __decorate([
        Component('engine.billboard', CLASS_ID.BILLBOARD),
        __metadata("design:paramtypes", [Boolean, Boolean, Boolean])
    ], Billboard);
    return Billboard;
}(ObservableComponent));
export { Billboard };
/**
 * @public
 */
var Shape = /** @class */ (function (_super) {
    __extends(Shape, _super);
    function Shape() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Set to true to turn on the collider for the entity.
         */
        _this.withCollisions = true;
        /**
         * Set to true to turn on the PointerEvents blocking for the entity.
         */
        _this.isPointerBlocker = true;
        /**
         * Defines if the entity and its children should be rendered
         */
        _this.visible = true;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Shape.prototype, "withCollisions", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Shape.prototype, "isPointerBlocker", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Shape.prototype, "visible", void 0);
    return Shape;
}(ObservableComponent));
export { Shape };
/**
 * @public
 */
var BoxShape = /** @class */ (function (_super) {
    __extends(BoxShape, _super);
    function BoxShape() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Array)
    ], BoxShape.prototype, "uvs", void 0);
    BoxShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.BOX_SHAPE)
    ], BoxShape);
    return BoxShape;
}(Shape));
export { BoxShape };
/**
 * @public
 */
var SphereShape = /** @class */ (function (_super) {
    __extends(SphereShape, _super);
    function SphereShape() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    SphereShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.SPHERE_SHAPE)
    ], SphereShape);
    return SphereShape;
}(Shape));
export { SphereShape };
/**
 * @public
 */
var CircleShape = /** @class */ (function (_super) {
    __extends(CircleShape, _super);
    function CircleShape() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CircleShape.prototype, "segments", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CircleShape.prototype, "arc", void 0);
    CircleShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.CIRCLE_SHAPE)
    ], CircleShape);
    return CircleShape;
}(Shape));
export { CircleShape };
/**
 * @public
 */
var PlaneShape = /** @class */ (function (_super) {
    __extends(PlaneShape, _super);
    function PlaneShape() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Sets the horizontal length of the plane. Defaults to 1.
         */
        _this.width = 1;
        /**
         * Sets the vertical length of the plane. Defaults to 1.
         */
        _this.height = 1;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], PlaneShape.prototype, "width", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], PlaneShape.prototype, "height", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Array)
    ], PlaneShape.prototype, "uvs", void 0);
    PlaneShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.PLANE_SHAPE)
    ], PlaneShape);
    return PlaneShape;
}(Shape));
export { PlaneShape };
/**
 * @public
 */
var ConeShape = /** @class */ (function (_super) {
    __extends(ConeShape, _super);
    function ConeShape() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * The radius of the top of a truncated cone. Defaults to 0.
         */
        _this.radiusTop = 0;
        /**
         * The radius of the base of the cone. Defaults to 1.
         */
        _this.radiusBottom = 1;
        /**
         * Sets the number of rings along the cone height (positive integer). Defaults to 1.
         */
        _this.segmentsHeight = 1;
        /**
         * Sets the number of cone sides (positive integer). Defaults to 36.
         */
        _this.segmentsRadial = 36;
        /**
         * Adds two extra faces per subdivision to enclose the cone around its height axis.
         * Defaults to false.
         */
        _this.openEnded = false;
        /**
         * Sets the radius of the top and bottom caps at once.
         *
         * Properties `radiusTop` and `radiusBottom` are prioritized over this one.
         */
        _this.radius = null;
        /**
         * Sets the ratio (max 1) to apply to the circumference to slice the cone. Defaults to 360.
         */
        _this.arc = 360;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], ConeShape.prototype, "radiusTop", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], ConeShape.prototype, "radiusBottom", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], ConeShape.prototype, "segmentsHeight", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], ConeShape.prototype, "segmentsRadial", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], ConeShape.prototype, "openEnded", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Object)
    ], ConeShape.prototype, "radius", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], ConeShape.prototype, "arc", void 0);
    ConeShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.CONE_SHAPE)
    ], ConeShape);
    return ConeShape;
}(Shape));
export { ConeShape };
/**
 * @public
 */
var CylinderShape = /** @class */ (function (_super) {
    __extends(CylinderShape, _super);
    function CylinderShape() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * The radius of the top of the cylinder. Defaults to 0.
         */
        _this.radiusTop = 1;
        /**
         * The radius of the base of the cylinder. Defaults to 1.
         */
        _this.radiusBottom = 1;
        /**
         * Sets the number of rings along the cylinder height (positive integer). Defaults to 1.
         */
        _this.segmentsHeight = 1;
        /**
         * Sets the number of cylinder sides (positive integer). Defaults to 36.
         */
        _this.segmentsRadial = 36;
        /**
         * Adds two extra faces per subdivision to enclose the cylinder around its height axis.
         * Defaults to false.
         */
        _this.openEnded = false;
        /**
         * Sets the radius of the top and bottom caps at once.
         *
         * Properties `radiusTop` and `radiusBottom` are prioritized over this one.
         */
        _this.radius = null;
        /**
         * Sets the ratio (max 1) to apply to the circumference to slice the cylinder. Defaults to 360.
         */
        _this.arc = 360;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CylinderShape.prototype, "radiusTop", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CylinderShape.prototype, "radiusBottom", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CylinderShape.prototype, "segmentsHeight", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CylinderShape.prototype, "segmentsRadial", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], CylinderShape.prototype, "openEnded", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Object)
    ], CylinderShape.prototype, "radius", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CylinderShape.prototype, "arc", void 0);
    CylinderShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.CYLINDER_SHAPE)
    ], CylinderShape);
    return CylinderShape;
}(Shape));
export { CylinderShape };
/**
 * @public
 */
var GLTFShape = /** @class */ (function (_super) {
    __extends(GLTFShape, _super);
    function GLTFShape(src) {
        var _this = _super.call(this) || this;
        _this.src = src;
        return _this;
    }
    __decorate([
        Shape.readonly,
        __metadata("design:type", String)
    ], GLTFShape.prototype, "src", void 0);
    GLTFShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.GLTF_SHAPE),
        __metadata("design:paramtypes", [String])
    ], GLTFShape);
    return GLTFShape;
}(Shape));
export { GLTFShape };
/** @public */
export var PictureFrameStyle;
(function (PictureFrameStyle) {
    PictureFrameStyle[PictureFrameStyle["Classic"] = 0] = "Classic";
    PictureFrameStyle[PictureFrameStyle["Baroque_Ornament"] = 1] = "Baroque_Ornament";
    PictureFrameStyle[PictureFrameStyle["Diamond_Ornament"] = 2] = "Diamond_Ornament";
    PictureFrameStyle[PictureFrameStyle["Minimal_Wide"] = 3] = "Minimal_Wide";
    PictureFrameStyle[PictureFrameStyle["Minimal_Grey"] = 4] = "Minimal_Grey";
    PictureFrameStyle[PictureFrameStyle["Blocky"] = 5] = "Blocky";
    PictureFrameStyle[PictureFrameStyle["Gold_Edges"] = 6] = "Gold_Edges";
    PictureFrameStyle[PictureFrameStyle["Gold_Carved"] = 7] = "Gold_Carved";
    PictureFrameStyle[PictureFrameStyle["Gold_Wide"] = 8] = "Gold_Wide";
    PictureFrameStyle[PictureFrameStyle["Gold_Rounded"] = 9] = "Gold_Rounded";
    PictureFrameStyle[PictureFrameStyle["Metal_Medium"] = 10] = "Metal_Medium";
    PictureFrameStyle[PictureFrameStyle["Metal_Wide"] = 11] = "Metal_Wide";
    PictureFrameStyle[PictureFrameStyle["Metal_Slim"] = 12] = "Metal_Slim";
    PictureFrameStyle[PictureFrameStyle["Metal_Rounded"] = 13] = "Metal_Rounded";
    PictureFrameStyle[PictureFrameStyle["Pins"] = 14] = "Pins";
    PictureFrameStyle[PictureFrameStyle["Minimal_Black"] = 15] = "Minimal_Black";
    PictureFrameStyle[PictureFrameStyle["Minimal_White"] = 16] = "Minimal_White";
    PictureFrameStyle[PictureFrameStyle["Tape"] = 17] = "Tape";
    PictureFrameStyle[PictureFrameStyle["Wood_Slim"] = 18] = "Wood_Slim";
    PictureFrameStyle[PictureFrameStyle["Wood_Wide"] = 19] = "Wood_Wide";
    PictureFrameStyle[PictureFrameStyle["Wood_Twigs"] = 20] = "Wood_Twigs";
    PictureFrameStyle[PictureFrameStyle["Canvas"] = 21] = "Canvas";
    PictureFrameStyle[PictureFrameStyle["None"] = 22] = "None";
})(PictureFrameStyle || (PictureFrameStyle = {}));
/**
 * @public
 */
var NFTShape = /** @class */ (function (_super) {
    __extends(NFTShape, _super);
    function NFTShape(src, args) {
        if (args === void 0) { args = {}; }
        var _this = _super.call(this) || this;
        _this.src = src;
        var color = new Color3(0.6404918, 0.611472, 0.8584906);
        var style = PictureFrameStyle.Classic;
        // check if args is color (backwards compatibility)
        if ('r' in args) {
            color = args;
        }
        else if (args !== null) {
            if (args.color)
                color = args.color;
            if (args.style)
                style = args.style;
        }
        _this.color = color;
        _this.style = style;
        return _this;
    }
    __decorate([
        Shape.readonly,
        __metadata("design:type", String)
    ], NFTShape.prototype, "src", void 0);
    __decorate([
        Shape.readonly,
        __metadata("design:type", Number)
    ], NFTShape.prototype, "style", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Color3)
    ], NFTShape.prototype, "color", void 0);
    NFTShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.NFT_SHAPE),
        __metadata("design:paramtypes", [String, Object])
    ], NFTShape);
    return NFTShape;
}(Shape));
export { NFTShape };
/**
 * @public
 */
var Texture = /** @class */ (function (_super) {
    __extends(Texture, _super);
    function Texture(src, opts) {
        var _this = _super.call(this) || this;
        var base64Test = new RegExp('data:[a-z-]+/[a-z-]+;base64');
        if (src.length > 2048 || base64Test.test(src)) {
            log('⚠️🚨 Base64 textures will be deprecated in version 7 of decentraland-ecs');
        }
        _this.src = src;
        if (opts) {
            for (var i in opts) {
                var that = _this;
                that[i] = opts[i];
            }
        }
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], Texture.prototype, "src", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Number)
    ], Texture.prototype, "samplingMode", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Number)
    ], Texture.prototype, "wrap", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Boolean)
    ], Texture.prototype, "hasAlpha", void 0);
    Texture = __decorate([
        DisposableComponent('engine.texture', CLASS_ID.TEXTURE),
        __metadata("design:paramtypes", [String, Object])
    ], Texture);
    return Texture;
}(ObservableComponent));
export { Texture };
/**
 * @public
 */
var Animator = /** @class */ (function (_super) {
    __extends(Animator, _super);
    function Animator() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.states = [];
        return _this;
    }
    /**
     * Adds an AnimationState to the animation lists.
     */
    Animator.prototype.addClip = function (clip) {
        var _this = this;
        this.states.push(clip);
        clip.onChange(function () {
            _this.dirty = true;
        });
        clip.owner = this;
        return this;
    };
    /**
     * Gets the animation clip instance for the specified clip name.
     * If the clip doesn't exist a new one will be created.
     */
    Animator.prototype.getClip = function (clipName) {
        for (var i = 0; i < this.states.length; i++) {
            var clip = this.states[i];
            if (clip.clip === clipName) {
                return clip;
            }
        }
        var newClip = new AnimationState(clipName);
        this.addClip(newClip);
        return newClip;
    };
    /**
     * Resets and pauses the animation state, if the clip is null it will stop all animations on this animator
     */
    Animator.prototype.stop = function (clip) {
        if (clip) {
            clip.playing = false;
            clip.shouldReset = true;
        }
        else {
            for (var i = 0; i < this.states.length; i++) {
                var animationState = this.states[i];
                this.stop(animationState);
            }
        }
    };
    /**
     * Starts the animation
     */
    Animator.prototype.play = function (clip, reset) {
        if (reset === void 0) { reset = false; }
        for (var i = 0; i < this.states.length; i++) {
            var animationState = this.states[i];
            if (animationState.layer === clip.layer && clip !== animationState) {
                this.pause(animationState);
            }
        }
        if (reset)
            clip.shouldReset = true;
        clip.playing = true;
        clip.dirty = true;
        clip.data.nonce = Math.random();
    };
    /**
     * Pauses the animation state, if the clip is null it will pause all animations on this animator
     */
    Animator.prototype.pause = function (clip) {
        if (clip) {
            clip.playing = false;
        }
        else {
            for (var i = 0; i < this.states.length; i++) {
                var animationState = this.states[i];
                this.pause(animationState);
            }
        }
    };
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Array)
    ], Animator.prototype, "states", void 0);
    Animator = __decorate([
        Component('engine.animator', CLASS_ID.ANIMATION)
    ], Animator);
    return Animator;
}(Shape));
export { Animator };
/**
 * @public
 */
var OBJShape = /** @class */ (function (_super) {
    __extends(OBJShape, _super);
    function OBJShape(src) {
        var _this = _super.call(this) || this;
        _this.src = src;
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], OBJShape.prototype, "src", void 0);
    OBJShape = __decorate([
        DisposableComponent('engine.shape', CLASS_ID.OBJ_SHAPE),
        __metadata("design:paramtypes", [String])
    ], OBJShape);
    return OBJShape;
}(Shape));
export { OBJShape };
/**
 * @public
 */
var Font = /** @class */ (function (_super) {
    __extends(Font, _super);
    function Font(src) {
        if (src === void 0) { src = ''; }
        var _this = _super.call(this) || this;
        _this.src = src;
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], Font.prototype, "src", void 0);
    Font = __decorate([
        DisposableComponent('engine.font', CLASS_ID.FONT),
        __metadata("design:paramtypes", [String])
    ], Font);
    return Font;
}(ObservableComponent));
export { Font };
/**
 * @public
 */
export var Fonts;
(function (Fonts) {
    /** @deprecated SanFrancisco has been deprecated. Use SansSerif instead.*/
    Fonts["SanFrancisco"] = "builtin:SF-UI-Text-Regular SDF";
    /** @deprecated SanFrancisco_Heavy has been deprecated. Use SansSerif_Heavy instead.*/
    Fonts["SanFrancisco_Heavy"] = "builtin:SF-UI-Text-Heavy SDF";
    /** @deprecated SanFrancisco_Semibold has been deprecated. Use SansSerif_SemiBold instead.*/
    Fonts["SanFrancisco_Semibold"] = "builtin:SF-UI-Text-Semibold SDF";
    Fonts["LiberationSans"] = "builtin:LiberationSans SDF";
    Fonts["SansSerif"] = "SansSerif";
    Fonts["SansSerif_Heavy"] = "SansSerif_Heavy";
    Fonts["SansSerif_Bold"] = "SansSerif_Bold";
    Fonts["SansSerif_SemiBold"] = "SansSerif_SemiBold";
})(Fonts || (Fonts = {}));
/**
 * @public
 */
var TextShape = /** @class */ (function (_super) {
    __extends(TextShape, _super);
    function TextShape(value) {
        var _this = _super.call(this) || this;
        _this.outlineWidth = 0;
        _this.outlineColor = new Color3(1, 1, 1);
        _this.color = new Color3(1, 1, 1);
        _this.fontSize = 10;
        _this.opacity = 1.0;
        _this.value = '';
        _this.lineSpacing = '0px';
        _this.lineCount = 0;
        _this.textWrapping = false;
        _this.shadowBlur = 0;
        _this.shadowOffsetX = 0;
        _this.shadowOffsetY = 0;
        _this.shadowColor = new Color3(1, 1, 1);
        _this.hTextAlign = 'center';
        _this.vTextAlign = 'center';
        _this.width = 1;
        _this.height = 1;
        _this.paddingTop = 0;
        _this.paddingRight = 0;
        _this.paddingBottom = 0;
        _this.paddingLeft = 0;
        _this.billboard = false;
        _this.visible = true;
        if (value) {
            _this.value = value;
        }
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "outlineWidth", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Color3)
    ], TextShape.prototype, "outlineColor", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Color3)
    ], TextShape.prototype, "color", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "fontSize", void 0);
    __decorate([
        ObservableComponent.component,
        __metadata("design:type", Font)
    ], TextShape.prototype, "font", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "opacity", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], TextShape.prototype, "value", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], TextShape.prototype, "lineSpacing", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "lineCount", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], TextShape.prototype, "textWrapping", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "shadowBlur", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "shadowOffsetX", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "shadowOffsetY", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Color3)
    ], TextShape.prototype, "shadowColor", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], TextShape.prototype, "hTextAlign", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], TextShape.prototype, "vTextAlign", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "width", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "height", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "paddingTop", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "paddingRight", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "paddingBottom", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], TextShape.prototype, "paddingLeft", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], TextShape.prototype, "billboard", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], TextShape.prototype, "visible", void 0);
    TextShape = __decorate([
        Component('engine.text', CLASS_ID.TEXT_SHAPE),
        __metadata("design:paramtypes", [String])
    ], TextShape);
    return TextShape;
}(ObservableComponent));
export { TextShape };
/**
 * @public
 */
export var TransparencyMode;
(function (TransparencyMode) {
    TransparencyMode[TransparencyMode["OPAQUE"] = 0] = "OPAQUE";
    TransparencyMode[TransparencyMode["ALPHA_TEST"] = 1] = "ALPHA_TEST";
    TransparencyMode[TransparencyMode["ALPHA_BLEND"] = 2] = "ALPHA_BLEND";
    TransparencyMode[TransparencyMode["ALPHA_TEST_AND_BLEND"] = 3] = "ALPHA_TEST_AND_BLEND";
    TransparencyMode[TransparencyMode["AUTO"] = 4] = "AUTO";
})(TransparencyMode || (TransparencyMode = {}));
/**
 * @public
 */
var Material = /** @class */ (function (_super) {
    __extends(Material, _super);
    function Material() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Cutoff level for ALPHATEST mode. Range is between 0 and 1.
         * Defaults to 0.5
         */
        _this.alphaTest = 0.5;
        /**
         * Allow the material to cast shadows over other objects
         */
        _this.castShadows = true;
        /**
         * Sets the transparency mode of the material.
         * Defaults to -1.
         *
         * | Value | Type                                           |
         * | ----- | ---------------------------------------------- |
         * | 0     | OPAQUE  (default)                              |
         * | 1     | ALPHATEST                                      |
         * | 2     | ALPHABLEND                                     |
         * | 3     | ALPHATESTANDBLEND                              |
         * | 4     | AUTO (ALPHABLEND if alpha OPAQUE otherwise     |
         */
        _this.transparencyMode = TransparencyMode.AUTO;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "alphaTest", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Object)
    ], Material.prototype, "albedoColor", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Color3
        /**
         * Specifies the metallic scalar of the metallic/roughness workflow.
         * Can also be used to scale the metalness values of the metallic texture.
         * Defaults to  0.5.
         */
        )
    ], Material.prototype, "emissiveColor", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "metallic", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "roughness", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Color3
        /**
         * Intensity of the direct lights e.g. the four lights available in scene.
         * This impacts both the direct diffuse and specular highlights.
         * Defaults to 1.
         */
        )
    ], Material.prototype, "reflectivityColor", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "directIntensity", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "microSurface", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "emissiveIntensity", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "specularIntensity", void 0);
    __decorate([
        ObservableComponent.component,
        __metadata("design:type", Object)
    ], Material.prototype, "albedoTexture", void 0);
    __decorate([
        ObservableComponent.component,
        __metadata("design:type", Object)
    ], Material.prototype, "alphaTexture", void 0);
    __decorate([
        ObservableComponent.component,
        __metadata("design:type", Object)
    ], Material.prototype, "emissiveTexture", void 0);
    __decorate([
        ObservableComponent.component,
        __metadata("design:type", Object)
    ], Material.prototype, "bumpTexture", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], Material.prototype, "castShadows", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], Material.prototype, "transparencyMode", void 0);
    Material = __decorate([
        DisposableComponent('engine.material', CLASS_ID.PBR_MATERIAL)
    ], Material);
    return Material;
}(ObservableComponent));
export { Material };
/**
 * @public
 */
var BasicMaterial = /** @class */ (function (_super) {
    __extends(BasicMaterial, _super);
    function BasicMaterial() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * A number between 0 and 1.
         * Any pixel with an alpha lower than this value will be shown as transparent.
         */
        _this.alphaTest = 0.5;
        /**
         * Allow the material to cast shadows over other objects
         */
        _this.castShadows = true;
        return _this;
    }
    __decorate([
        ObservableComponent.component,
        __metadata("design:type", Object)
    ], BasicMaterial.prototype, "texture", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], BasicMaterial.prototype, "alphaTest", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], BasicMaterial.prototype, "castShadows", void 0);
    BasicMaterial = __decorate([
        DisposableComponent('engine.material', CLASS_ID.BASIC_MATERIAL)
    ], BasicMaterial);
    return BasicMaterial;
}(ObservableComponent));
export { BasicMaterial };
/**
 * @public
 */
var OnUUIDEvent = /** @class */ (function (_super) {
    __extends(OnUUIDEvent, _super);
    function OnUUIDEvent(callback) {
        var _this = _super.call(this) || this;
        // @internal
        _this.uuid = newId('UUID');
        if (!callback || !('apply' in callback) || !('call' in callback)) {
            throw new Error('Callback is not a function');
        }
        _this.callback = callback;
        return _this;
    }
    OnUUIDEvent.uuidEvent = function (target, propertyKey) {
        if (delete target[propertyKey]) {
            var componentSymbol_1 = propertyKey + '_' + Math.random();
            target[componentSymbol_1] = undefined;
            Object.defineProperty(target, componentSymbol_1, __assign(__assign({}, Object.getOwnPropertyDescriptor(target, componentSymbol_1)), { enumerable: false }));
            Object.defineProperty(target, propertyKey.toString(), {
                get: function () {
                    return this[componentSymbol_1];
                },
                set: function (value) {
                    var oldValue = this[componentSymbol_1];
                    if (value) {
                        if (value instanceof OnUUIDEvent) {
                            this.data[propertyKey] = value.uuid;
                        }
                        else {
                            throw new Error('value is not an OnUUIDEvent');
                        }
                    }
                    else {
                        this.data[propertyKey] = null;
                    }
                    this[componentSymbol_1] = value;
                    if (value !== oldValue) {
                        this.dirty = true;
                        for (var i = 0; i < this.subscriptions.length; i++) {
                            this.subscriptions[i](propertyKey, value, oldValue);
                        }
                    }
                },
                enumerable: true
            });
        }
    };
    OnUUIDEvent.prototype.toJSON = function () {
        return { uuid: this.uuid, type: this.type };
    };
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Function)
    ], OnUUIDEvent.prototype, "callback", void 0);
    return OnUUIDEvent;
}(ObservableComponent));
export { OnUUIDEvent };
/**
 * @public
 */
var OnPointerUUIDEvent = /** @class */ (function (_super) {
    __extends(OnPointerUUIDEvent, _super);
    function OnPointerUUIDEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.button = ActionButton.ANY;
        _this.hoverText = 'Interact';
        _this.distance = 10;
        _this.showFeedback = true;
        return _this;
    }
    OnPointerUUIDEvent.prototype.toJSON = function () {
        return {
            uuid: this.uuid,
            type: this.type,
            button: this.button,
            hoverText: this.hoverText,
            distance: this.distance,
            showFeedback: this.showFeedback
        };
    };
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], OnPointerUUIDEvent.prototype, "button", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", String)
    ], OnPointerUUIDEvent.prototype, "hoverText", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], OnPointerUUIDEvent.prototype, "distance", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], OnPointerUUIDEvent.prototype, "showFeedback", void 0);
    return OnPointerUUIDEvent;
}(OnUUIDEvent));
export { OnPointerUUIDEvent };
/**
 * @internal
 */
var OnPointerLock = /** @class */ (function (_super) {
    __extends(OnPointerLock, _super);
    function OnPointerLock() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = 'onPointerLock';
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], OnPointerLock.prototype, "type", void 0);
    OnPointerLock = __decorate([
        Component('engine.onPointerLock', CLASS_ID.UUID_CALLBACK)
    ], OnPointerLock);
    return OnPointerLock;
}(OnUUIDEvent));
export { OnPointerLock };
/**
 * @public
 */
var OnAnimationEnd = /** @class */ (function (_super) {
    __extends(OnAnimationEnd, _super);
    function OnAnimationEnd() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = 'onAnimationEnd';
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], OnAnimationEnd.prototype, "type", void 0);
    OnAnimationEnd = __decorate([
        Component('engine.onAnimationEnd', CLASS_ID.UUID_CALLBACK)
    ], OnAnimationEnd);
    return OnAnimationEnd;
}(OnUUIDEvent));
export { OnAnimationEnd };
/**
 * @internal
 */
var SmartItem = /** @class */ (function (_super) {
    __extends(SmartItem, _super);
    function SmartItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    SmartItem = __decorate([
        Component('engine.smartItem', CLASS_ID.SMART_ITEM)
    ], SmartItem);
    return SmartItem;
}(ObservableComponent));
export { SmartItem };
/**
 * @public
 */
var VideoClip = /** @class */ (function (_super) {
    __extends(VideoClip, _super);
    function VideoClip(url) {
        var _this = _super.call(this) || this;
        _this.url = url;
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], VideoClip.prototype, "url", void 0);
    VideoClip = __decorate([
        DisposableComponent('engine.VideoClip', CLASS_ID.VIDEO_CLIP),
        __metadata("design:paramtypes", [String])
    ], VideoClip);
    return VideoClip;
}(ObservableComponent));
export { VideoClip };
/** @public */
export var VideoStatus;
(function (VideoStatus) {
    VideoStatus[VideoStatus["NONE"] = 0] = "NONE";
    VideoStatus[VideoStatus["ERROR"] = 1] = "ERROR";
    VideoStatus[VideoStatus["LOADING"] = 2] = "LOADING";
    VideoStatus[VideoStatus["READY"] = 3] = "READY";
    VideoStatus[VideoStatus["PLAYING"] = 4] = "PLAYING";
    VideoStatus[VideoStatus["BUFFERING"] = 5] = "BUFFERING";
})(VideoStatus || (VideoStatus = {}));
/**
 * @public
 */
var VideoTexture = /** @class */ (function (_super) {
    __extends(VideoTexture, _super);
    function VideoTexture(videoClip, opts) {
        var _this = _super.call(this) || this;
        _this.volume = 1;
        _this.playbackRate = 1;
        _this.loop = false;
        _this.seek = -1;
        _this._position = -1;
        _this._videoLength = -1;
        _this._status = VideoStatus.NONE;
        /**
         * Is this VideoTexture playing?
         */
        _this.playing = false;
        if (!(videoClip instanceof VideoClip)) {
            throw new Error("Trying to create VideoTexture(VideoClip) with an invalid VideoClip");
        }
        _this.videoClipId = getComponentId(videoClip);
        if (opts) {
            for (var i in opts) {
                var that = _this;
                that[i] = opts[i];
            }
        }
        return _this;
    }
    VideoTexture.prototype.play = function () {
        this.playing = true;
    };
    VideoTexture.prototype.pause = function () {
        this.playing = false;
    };
    VideoTexture.prototype.reset = function () {
        this.seekTime(0);
        this.pause();
    };
    VideoTexture.prototype.seekTime = function (seconds) {
        this.seek = seconds;
        this.dirty = true;
        this.data.nonce = Math.random();
    };
    VideoTexture.prototype.toJSON = function () {
        if (this.seek >= 0) {
            // the seek value was changed/used
            var ret = JSON.parse(JSON.stringify(_super.prototype.toJSON.call(this)));
            this.seek = -1;
            return ret;
        }
        return _super.prototype.toJSON.call(this);
    };
    VideoTexture.prototype.update = function (videoEvent) {
        if (videoEvent.videoClipId === this.videoClipId) {
            this._status = videoEvent.videoStatus || VideoStatus.NONE;
            this._videoLength = videoEvent.totalVideoLength;
            this._position = videoEvent.currentOffset;
        }
    };
    Object.defineProperty(VideoTexture.prototype, "position", {
        get: function () {
            return this._position;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(VideoTexture.prototype, "videoLength", {
        get: function () {
            return this._videoLength;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(VideoTexture.prototype, "status", {
        get: function () {
            return this._status;
        },
        enumerable: false,
        configurable: true
    });
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], VideoTexture.prototype, "videoClipId", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Number)
    ], VideoTexture.prototype, "samplingMode", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Number)
    ], VideoTexture.prototype, "wrap", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], VideoTexture.prototype, "volume", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], VideoTexture.prototype, "playbackRate", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], VideoTexture.prototype, "loop", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], VideoTexture.prototype, "seek", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Boolean)
    ], VideoTexture.prototype, "playing", void 0);
    VideoTexture = __decorate([
        DisposableComponent('engine.VideoTexture', CLASS_ID.VIDEO_TEXTURE),
        __metadata("design:paramtypes", [VideoClip, Object])
    ], VideoTexture);
    return VideoTexture;
}(ObservableComponent));
export { VideoTexture };
/**
 * @public
 */
var CameraModeArea = /** @class */ (function (_super) {
    __extends(CameraModeArea, _super);
    function CameraModeArea(args) {
        var _this = _super.call(this) || this;
        _this.area = args.area;
        _this.cameraMode = args.cameraMode;
        return _this;
    }
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Object)
    ], CameraModeArea.prototype, "area", void 0);
    __decorate([
        ObservableComponent.field,
        __metadata("design:type", Number)
    ], CameraModeArea.prototype, "cameraMode", void 0);
    CameraModeArea = __decorate([
        Component('engine.cameraModeArea', CLASS_ID.CAMERA_MODE_AREA),
        __metadata("design:paramtypes", [Object])
    ], CameraModeArea);
    return CameraModeArea;
}(ObservableComponent));
export { CameraModeArea };
/**
 * @public
 */
var AvatarTexture = /** @class */ (function (_super) {
    __extends(AvatarTexture, _super);
    function AvatarTexture(userId, opts) {
        var _this = _super.call(this) || this;
        _this.userId = userId;
        if (opts) {
            for (var i in opts) {
                var that = _this;
                that[i] = opts[i];
            }
        }
        return _this;
    }
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", String)
    ], AvatarTexture.prototype, "userId", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Number)
    ], AvatarTexture.prototype, "samplingMode", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Number)
    ], AvatarTexture.prototype, "wrap", void 0);
    __decorate([
        ObservableComponent.readonly,
        __metadata("design:type", Boolean)
    ], AvatarTexture.prototype, "hasAlpha", void 0);
    AvatarTexture = __decorate([
        DisposableComponent('engine.texture', CLASS_ID.AVATAR_TEXTURE),
        __metadata("design:paramtypes", [String, Object])
    ], AvatarTexture);
    return AvatarTexture;
}(ObservableComponent));
export { AvatarTexture };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcG9uZW50cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZWNlbnRyYWxhbmQvQ29tcG9uZW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sRUFDTCxPQUFPLEVBQ1AsVUFBVSxFQUNWLE1BQU0sRUFDTixPQUFPLEVBQ1AsTUFBTSxFQUVQLE1BQU0sZUFBZSxDQUFBO0FBRXRCLE9BQU8sRUFDTCxTQUFTLEVBQ1QsbUJBQW1CLEVBQ25CLG1CQUFtQixFQUNuQixjQUFjLEVBQ2YsTUFBTSxrQkFBa0IsQ0FBQTtBQUN6QixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDakQsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQTtBQUMzQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBQ3RDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFZcEM7O0dBRUc7QUFDSCxNQUFNLENBQU4sSUFBWSxRQTJEWDtBQTNERCxXQUFZLFFBQVE7SUFDbEIsaURBQWEsQ0FBQTtJQUNiLHlEQUFpQixDQUFBO0lBQ2pCLGtEQUFjLENBQUE7SUFDZCx3REFBaUIsQ0FBQTtJQUNqQixzREFBZ0IsQ0FBQTtJQUNoQixvREFBZSxDQUFBO0lBQ2YsNERBQW1CLENBQUE7SUFDbkIsb0RBQWUsQ0FBQTtJQUVmLGtEQUFjLENBQUE7SUFDZCx3RUFBeUIsQ0FBQTtJQUN6QiwwRUFBMEIsQ0FBQTtJQUMxQixrRUFBc0IsQ0FBQTtJQUN0QixvRUFBdUIsQ0FBQTtJQUN2QiwwREFBa0IsQ0FBQTtJQUNsQixzRUFBd0IsQ0FBQTtJQUN4Qiw0REFBbUIsQ0FBQTtJQUNuQiw4REFBb0IsQ0FBQTtJQUNwQix3REFBaUIsQ0FBQTtJQUNqQixrREFBYyxDQUFBO0lBRWQsa0RBQWMsQ0FBQTtJ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SUFHWDtRQURDLG1CQUFtQixDQUFDLEtBQUs7O3NEQUNIO0lBTFosY0FBYztRQUQxQixTQUFTLENBQUMsdUJBQXVCLEVBQUUsUUFBUSxDQUFDLGdCQUFnQixDQUFDOztPQUNqRCxjQUFjLENBWTFCO0lBQUQscUJBQUM7Q0FBQSxBQVpELENBQW9DLG1CQUFtQixHQVl0RDtTQVpZLGNBQWM7QUFjM0I7O0dBRUc7QUFFSDtJQUFtQyxpQ0FBbUI7SUFnQ3BELHVCQUNFLE1BQWMsRUFDZCxJQUF5RTtRQUYzRSxZQUlFLGlCQUFPLFNBVVI7UUFSQyxLQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUVwQixJQUFJLElBQUksRUFBRTtZQUNSLEtBQUssSUFBTSxDQUFDLElBQUksSUFBSSxFQUFFO2dCQUNwQixJQUFNLElBQUksR0FBRyxLQUFXLENBQUE7Z0JBQ3hCLElBQUksQ0FBQyxDQUF5QyxDQUFDLEdBQUksSUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO2FBQ25FO1NBQ0Y7O0lBQ0gsQ0FBQztJQTVDRDtRQURDLG1CQUFtQixDQUFDLFFBQVE7O2lEQUNMO0lBV3hCO1FBREMsbUJBQW1CLENBQUMsUUFBUTs7dURBQ0M7SUFXOUI7UUFEQyxtQkFBbUIsQ0FBQyxRQUFROzsrQ0FDUDtJQU10QjtRQURDLG1CQUFtQixDQUFDLFFBQVE7O21EQUNGO0lBOUJoQixhQUFhO1FBRHpCLG1CQUFtQixDQUFDLGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUM7O09BQ2xELGFBQWEsQ0ErQ3pCO0lBQUQsb0JBQUM7Q0FBQSxBQS9DRCxDQUFtQyxtQkFBbUIsR0ErQ3JEO1NBL0NZLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBWZWN0b3IzLFxuICBRdWF0ZXJuaW9uLFxuICBNYXRyaXgsXG4gIE1hdGhUbXAsXG4gIENvbG9yMyxcbiAgQ29sb3I0XG59IGZyb20gJ0BkY2wvZWNzLW1hdGgnXG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgT2JzZXJ2YWJsZUNvbXBvbmVudCxcbiAgRGlzcG9zYWJsZUNvbXBvbmVudCxcbiAgZ2V0Q29tcG9uZW50SWRcbn0gZnJvbSAnLi4vZWNzL0NvbXBvbmVudCdcbmltcG9ydCB7IEFuaW1hdGlvblN0YXRlIH0gZnJvbSAnLi9BbmltYXRpb25TdGF0ZSdcbmltcG9ydCB7IGxvZywgbmV3SWQgfSBmcm9tICcuLi9lY3MvaGVscGVycydcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgeyBDYW1lcmFNb2RlIH0gZnJvbSAnLi9UeXBlcydcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFRyYW5mb3JtQ29uc3RydWN0b3JBcmdzID0gVHJhbnNmb3JtQ29uc3RydWN0b3JBcmdzXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBUcmFuc2Zvcm1Db25zdHJ1Y3RvckFyZ3MgPSB7XG4gIHBvc2l0aW9uPzogVmVjdG9yM1xuICByb3RhdGlvbj86IFF1YXRlcm5pb25cbiAgc2NhbGU/OiBWZWN0b3IzXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZW51bSBDTEFTU19JRCB7XG4gIFRSQU5TRk9STSA9IDEsXG4gIFVVSURfQ0FMTEJBQ0sgPSA4LFxuICBCT1hfU0hBUEUgPSAxNixcbiAgU1BIRVJFX1NIQVBFID0gMTcsXG4gIFBMQU5FX1NIQVBFID0gMTgsXG4gIENPTkVfU0hBUEUgPSAxOSxcbiAgQ1lMSU5ERVJfU0hBUEUgPSAyMCxcbiAgVEVYVF9TSEFQRSA9IDIxLFxuXG4gIE5GVF9TSEFQRSA9IDIyLFxuICBVSV9XT1JMRF9TUEFDRV9TSEFQRSA9IDIzLFxuICBVSV9TQ1JFRU5fU1BBQ0VfU0hBUEUgPSAyNCxcbiAgVUlfQ09OVEFJTkVSX1JFQ1QgPSAyNSxcbiAgVUlfQ09OVEFJTkVSX1NUQUNLID0gMjYsXG4gIFVJX1RFWFRfU0hBUEUgPSAyNyxcbiAgVUlfSU5QVVRfVEVYVF9TSEFQRSA9IDI4LFxuICBVSV9JTUFHRV9TSEFQRSA9IDI5LFxuICBVSV9TTElERVJfU0hBUEUgPSAzMCxcbiAgQ0lSQ0xFX1NIQVBFID0gMzEsXG4gIEJJTExCT0FSRCA9IDMyLFxuXG4gIEFOSU1BVElPTiA9IDMzLFxuICBGT05UID0gMzQsXG5cbiAgVUlfRlVMTFNDUkVFTl9TSEFQRSA9IDQwLCAvLyBpbnRlcm5hbCBmdWxsc2NyZWVuIHNjZW5lc1xuICBVSV9CVVRUT05fU0hBUEUgPSA0MSxcblxuICBHTFRGX1NIQVBFID0gNTQsXG4gIE9CSl9TSEFQRSA9IDU1LFxuICBBVkFUQVJfU0hBUEUgPSA1NixcblxuICBCQVNJQ19NQVRFUklBTCA9IDY0LFxuICBQQlJfTUFURVJJQUwgPSA2NSxcblxuICBISUdITElHSFRfRU5USVRZID0gNjYsXG5cbiAgLyoqIEBkZXByZWNhdGVkIFNvdW5kIGhhcyBiZWVuIGRlcHJlY2F0YWVkICovXG4gIFNPVU5EID0gNjcsXG4gIFRFWFRVUkUgPSA2OCxcblxuICBWSURFT19DTElQID0gNzAsXG4gIFZJREVPX1RFWFRVUkUgPSA3MSxcblxuICBBVkFUQVJfVEVYVFVSRSA9IDcyLFxuXG4gIEFVRElPX0NMSVAgPSAyMDAsXG4gIEFVRElPX1NPVVJDRSA9IDIwMSxcbiAgQVVESU9fU1RSRUFNID0gMjAyLFxuICBHSVpNT1MgPSAyMDMsXG4gIFNNQVJUX0lURU0gPSAyMDQsXG4gIEFWQVRBUl9NT0RJRklFUl9BUkVBID0gMjA1LFxuICBBVkFUQVJfQVRUQUNIID0gMjA2LFxuICBDQU1FUkFfTU9ERV9BUkVBID0gMjA3LFxuXG4gIC8vIEZvciBzdGF0ZSBzeW5jIG9ubHlcbiAgTkFNRSA9IDMwMCxcbiAgTE9DS0VEX09OX0VESVQgPSAzMDEsXG4gIFZJU0lCTEVfT05fRURJVCA9IDMwMlxufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGVudW0gQXZhdGFyTW9kaWZpZXJzIHtcbiAgSElERV9BVkFUQVJTID0gJ0hJREVfQVZBVEFSUycsXG4gIERJU0FCTEVfUEFTU1BPUlRTID0gJ0RJU0FCTEVfUEFTU1BPUlRTJ1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgQXJlYSA9IHsgYm94OiBWZWN0b3IzIH1cblxuLyoqXG4gKiBEZWZpbmUgYW4gYXJlYSB3aGVyZSBhdmF0YXJzIGNhbiBiZSBtb2RpZmllZCBpbiBzb21lIHdheVxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuYXZhdGFyTW9kaWZpZXJBcmVhJywgQ0xBU1NfSUQuQVZBVEFSX01PRElGSUVSX0FSRUEpXG5leHBvcnQgY2xhc3MgQXZhdGFyTW9kaWZpZXJBcmVhIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFyZWEhOiBBcmVhXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbW9kaWZpZXJzITogQXZhdGFyTW9kaWZpZXJzW11cblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBleGNsdWRlSWRzPzogc3RyaW5nW11cblxuICBjb25zdHJ1Y3RvcihhcmdzOiB7XG4gICAgYXJlYTogQXJlYVxuICAgIG1vZGlmaWVyczogQXZhdGFyTW9kaWZpZXJzW11cbiAgICBleGNsdWRlSWRzPzogc3RyaW5nW11cbiAgfSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmFyZWEgPSBhcmdzLmFyZWFcbiAgICB0aGlzLm1vZGlmaWVycyA9IGFyZ3MubW9kaWZpZXJzXG4gICAgdGhpcy5leGNsdWRlSWRzID0gYXJncy5leGNsdWRlSWRzXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS50cmFuc2Zvcm0nLCBDTEFTU19JRC5UUkFOU0ZPUk0pXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBvc2l0aW9uITogVmVjdG9yM1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHJvdGF0aW9uITogUXVhdGVybmlvblxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNjYWxlITogVmVjdG9yM1xuXG4gIGNvbnN0cnVjdG9yKGFyZ3M6IFRyYW5zZm9ybUNvbnN0cnVjdG9yQXJncyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMucG9zaXRpb24gPSBhcmdzLnBvc2l0aW9uIHx8IFZlY3RvcjMuWmVybygpXG4gICAgdGhpcy5yb3RhdGlvbiA9IGFyZ3Mucm90YXRpb24gfHwgUXVhdGVybmlvbi5JZGVudGl0eVxuICAgIHRoaXMuc2NhbGUgPSBhcmdzLnNjYWxlIHx8IG5ldyBWZWN0b3IzKDEsIDEsIDEpXG4gIH1cblxuICAvKipcbiAgICogQHB1YmxpY1xuICAgKiBUaGUgcm90YXRpb24gYXMgRXVsZXIgYW5nbGVzIGluIGRlZ3JlZXMuXG4gICAqL1xuICBnZXQgZXVsZXJBbmdsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRpb24uZXVsZXJBbmdsZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqL1xuICBsb29rQXQodGFyZ2V0OiBWZWN0b3IzLCB3b3JsZFVwOiBWZWN0b3IzID0gTWF0aFRtcC5zdGF0aWNVcCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBNYXRyaXgoKVxuICAgIE1hdHJpeC5Mb29rQXRMSFRvUmVmKHRoaXMucG9zaXRpb24sIHRhcmdldCwgd29ybGRVcCwgcmVzdWx0KVxuICAgIHJlc3VsdC5pbnZlcnQoKVxuICAgIFF1YXRlcm5pb24uRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocmVzdWx0LCB0aGlzLnJvdGF0aW9uKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQHB1YmxpY1xuICAgKiBBcHBsaWVzIGEgcm90YXRpb24gb2YgZXVsZXIgYW5nbGVzIGFyb3VuZCB0aGUgeCwgeSBhbmQgeiBheGlzLlxuICAgKi9cbiAgcm90YXRlKGF4aXM6IFZlY3RvcjMsIGFuZ2xlOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvdGF0aW9uLm11bHRpcGx5SW5QbGFjZSh0aGlzLnJvdGF0aW9uLmFuZ2xlQXhpcyhhbmdsZSwgYXhpcykpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHVibGljXG4gICAqIE1vdmVzIHRoZSB0cmFuc2Zvcm0gaW4gdGhlIGRpcmVjdGlvbiBhbmQgZGlzdGFuY2Ugb2YgdHJhbnNsYXRpb24uXG4gICAqL1xuICB0cmFuc2xhdGUodmVjOiBWZWN0b3IzKSB7XG4gICAgdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHZlYylcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZW51bSBBdHRhY2hUb0F2YXRhckFuY2hvclBvaW50SWQge1xuICBQb3NpdGlvbiA9IDAsXG4gIE5hbWVUYWcgPSAxLFxuICAvKiogQGludGVybmFsICovXG4gIExlZnRIYW5kID0gMixcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBSaWdodEhhbmQgPSAzXG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBBdHRhY2hUb0F2YXRhckNvbnN0cnVjdG9yQXJncyA9IHtcbiAgYXZhdGFySWQ/OiBzdHJpbmdcbiAgYW5jaG9yUG9pbnRJZD86IEF0dGFjaFRvQXZhdGFyQW5jaG9yUG9pbnRJZFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLnRyYW5zZm9ybScsIENMQVNTX0lELkFWQVRBUl9BVFRBQ0gpXG5leHBvcnQgY2xhc3MgQXR0YWNoVG9BdmF0YXIgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXZhdGFySWQhOiBzdHJpbmdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhbmNob3JQb2ludElkITogQXR0YWNoVG9BdmF0YXJBbmNob3JQb2ludElkXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXZhdGFyU2NlbmVJZCE6ICdkY2wtZ3MtYXZhdGFycydcblxuICBjb25zdHJ1Y3RvcihhcmdzOiBBdHRhY2hUb0F2YXRhckNvbnN0cnVjdG9yQXJncyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuYXZhdGFySWQgPSBhcmdzLmF2YXRhcklkIHx8ICcnXG4gICAgdGhpcy5hbmNob3JQb2ludElkID1cbiAgICAgIGFyZ3MuYW5jaG9yUG9pbnRJZCB8fCBBdHRhY2hUb0F2YXRhckFuY2hvclBvaW50SWQuUG9zaXRpb25cbiAgfVxufVxuXG4vKipcbiAqIEJpbGxib2FyZCBkZWZpbmVzIGEgYmVoYXZpb3IgdGhhdCBtYWtlcyB0aGUgZW50aXR5IGZhY2UgdGhlIGNhbWVyYSBpbiBhbnkgbW9tZW50LlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuYmlsbGJvYXJkJywgQ0xBU1NfSUQuQklMTEJPQVJEKVxuZXhwb3J0IGNsYXNzIEJpbGxib2FyZCBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB4OiBib29sZWFuID0gdHJ1ZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHk6IGJvb2xlYW4gPSB0cnVlXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgejogYm9vbGVhbiA9IHRydWVcblxuICBjb25zdHJ1Y3Rvcih4OiBib29sZWFuID0gdHJ1ZSwgeTogYm9vbGVhbiA9IHRydWUsIHo6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG4gICAgdGhpcy56ID0gelxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU2hhcGUgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIHR1cm4gb24gdGhlIGNvbGxpZGVyIGZvciB0aGUgZW50aXR5LlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgd2l0aENvbGxpc2lvbnM6IGJvb2xlYW4gPSB0cnVlXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIHR1cm4gb24gdGhlIFBvaW50ZXJFdmVudHMgYmxvY2tpbmcgZm9yIHRoZSBlbnRpdHkuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuID0gdHJ1ZVxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGlmIHRoZSBlbnRpdHkgYW5kIGl0cyBjaGlsZHJlbiBzaG91bGQgYmUgcmVuZGVyZWRcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuQk9YX1NIQVBFKVxuZXhwb3J0IGNsYXNzIEJveFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAvKipcbiAgICogU2V0cyB0aGUgVVYgY29vcmRpbmF0ZXMgZm9yIHRoZSBib3guXG4gICAqIFVzZWQgdG8gbWFwIHNwZWNpZmljIHBpZWNlcyBvZiBhIE1hdGVyaWFsJ3MgdGV4dHVyZSBpbnRvIHRoZSBib3gncyBnZW9tZXRyeS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHV2cz86IG51bWJlcltdXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuU1BIRVJFX1NIQVBFKVxuZXhwb3J0IGNsYXNzIFNwaGVyZVNoYXBlIGV4dGVuZHMgU2hhcGUge31cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5DSVJDTEVfU0hBUEUpXG5leHBvcnQgY2xhc3MgQ2lyY2xlU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNlZ21lbnRzPzogbnVtYmVyXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXJjPzogbnVtYmVyXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuUExBTkVfU0hBUEUpXG5leHBvcnQgY2xhc3MgUGxhbmVTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGhvcml6b250YWwgbGVuZ3RoIG9mIHRoZSBwbGFuZS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHdpZHRoOiBudW1iZXIgPSAxXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZlcnRpY2FsIGxlbmd0aCBvZiB0aGUgcGxhbmUuIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBoZWlnaHQ6IG51bWJlciA9IDFcblxuICAvKipcbiAgICogU2V0cyB0aGUgVVYgY29vcmRpbmF0ZXMgZm9yIHRoZSBwbGFuZS5cbiAgICogVXNlZCB0byBtYXAgc3BlY2lmaWMgcGllY2VzIG9mIGEgTWF0ZXJpYWwncyB0ZXh0dXJlIGludG8gdGhlIHBsYW5lJ3MgZ2VvbWV0cnkuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB1dnM/OiBudW1iZXJbXVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS5zaGFwZScsIENMQVNTX0lELkNPTkVfU0hBUEUpXG5leHBvcnQgY2xhc3MgQ29uZVNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgdG9wIG9mIGEgdHJ1bmNhdGVkIGNvbmUuIERlZmF1bHRzIHRvIDAuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXNUb3A6IG51bWJlciA9IDBcblxuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgYmFzZSBvZiB0aGUgY29uZS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHJhZGl1c0JvdHRvbTogbnVtYmVyID0gMVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcmluZ3MgYWxvbmcgdGhlIGNvbmUgaGVpZ2h0IChwb3NpdGl2ZSBpbnRlZ2VyKS4gRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNlZ21lbnRzSGVpZ2h0OiBudW1iZXIgPSAxXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBjb25lIHNpZGVzIChwb3NpdGl2ZSBpbnRlZ2VyKS4gRGVmYXVsdHMgdG8gMzYuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzZWdtZW50c1JhZGlhbDogbnVtYmVyID0gMzZcblxuICAvKipcbiAgICogQWRkcyB0d28gZXh0cmEgZmFjZXMgcGVyIHN1YmRpdmlzaW9uIHRvIGVuY2xvc2UgdGhlIGNvbmUgYXJvdW5kIGl0cyBoZWlnaHQgYXhpcy5cbiAgICogRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBvcGVuRW5kZWQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByYWRpdXMgb2YgdGhlIHRvcCBhbmQgYm90dG9tIGNhcHMgYXQgb25jZS5cbiAgICpcbiAgICogUHJvcGVydGllcyBgcmFkaXVzVG9wYCBhbmQgYHJhZGl1c0JvdHRvbWAgYXJlIHByaW9yaXRpemVkIG92ZXIgdGhpcyBvbmUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXM6IG51bWJlciB8IG51bGwgPSBudWxsXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHJhdGlvIChtYXggMSkgdG8gYXBwbHkgdG8gdGhlIGNpcmN1bWZlcmVuY2UgdG8gc2xpY2UgdGhlIGNvbmUuIERlZmF1bHRzIHRvIDM2MC5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFyYzogbnVtYmVyID0gMzYwXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuQ1lMSU5ERVJfU0hBUEUpXG5leHBvcnQgY2xhc3MgQ3lsaW5kZXJTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgLyoqXG4gICAqIFRoZSByYWRpdXMgb2YgdGhlIHRvcCBvZiB0aGUgY3lsaW5kZXIuIERlZmF1bHRzIHRvIDAuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXNUb3A6IG51bWJlciA9IDFcblxuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgYmFzZSBvZiB0aGUgY3lsaW5kZXIuIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByYWRpdXNCb3R0b206IG51bWJlciA9IDFcblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHJpbmdzIGFsb25nIHRoZSBjeWxpbmRlciBoZWlnaHQgKHBvc2l0aXZlIGludGVnZXIpLiBEZWZhdWx0cyB0byAxLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2VnbWVudHNIZWlnaHQ6IG51bWJlciA9IDFcblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIGN5bGluZGVyIHNpZGVzIChwb3NpdGl2ZSBpbnRlZ2VyKS4gRGVmYXVsdHMgdG8gMzYuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzZWdtZW50c1JhZGlhbDogbnVtYmVyID0gMzZcblxuICAvKipcbiAgICogQWRkcyB0d28gZXh0cmEgZmFjZXMgcGVyIHN1YmRpdmlzaW9uIHRvIGVuY2xvc2UgdGhlIGN5bGluZGVyIGFyb3VuZCBpdHMgaGVpZ2h0IGF4aXMuXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3BlbkVuZGVkOiBib29sZWFuID0gZmFsc2VcblxuICAvKipcbiAgICogU2V0cyB0aGUgcmFkaXVzIG9mIHRoZSB0b3AgYW5kIGJvdHRvbSBjYXBzIGF0IG9uY2UuXG4gICAqXG4gICAqIFByb3BlcnRpZXMgYHJhZGl1c1RvcGAgYW5kIGByYWRpdXNCb3R0b21gIGFyZSBwcmlvcml0aXplZCBvdmVyIHRoaXMgb25lLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcmFkaXVzOiBudW1iZXIgfCBudWxsID0gbnVsbFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByYXRpbyAobWF4IDEpIHRvIGFwcGx5IHRvIHRoZSBjaXJjdW1mZXJlbmNlIHRvIHNsaWNlIHRoZSBjeWxpbmRlci4gRGVmYXVsdHMgdG8gMzYwLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXJjOiBudW1iZXIgPSAzNjBcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5HTFRGX1NIQVBFKVxuZXhwb3J0IGNsYXNzIEdMVEZTaGFwZSBleHRlbmRzIFNoYXBlIHtcbiAgQFNoYXBlLnJlYWRvbmx5XG4gIHJlYWRvbmx5IHNyYyE6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuc3JjID0gc3JjXG4gIH1cbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBlbnVtIFBpY3R1cmVGcmFtZVN0eWxlIHtcbiAgQ2xhc3NpYyA9IDAsXG4gIEJhcm9xdWVfT3JuYW1lbnQgPSAxLFxuICBEaWFtb25kX09ybmFtZW50ID0gMixcbiAgTWluaW1hbF9XaWRlID0gMyxcbiAgTWluaW1hbF9HcmV5ID0gNCxcbiAgQmxvY2t5ID0gNSxcbiAgR29sZF9FZGdlcyA9IDYsXG4gIEdvbGRfQ2FydmVkID0gNyxcbiAgR29sZF9XaWRlID0gOCxcbiAgR29sZF9Sb3VuZGVkID0gOSxcbiAgTWV0YWxfTWVkaXVtID0gMTAsXG4gIE1ldGFsX1dpZGUgPSAxMSxcbiAgTWV0YWxfU2xpbSA9IDEyLFxuICBNZXRhbF9Sb3VuZGVkID0gMTMsXG4gIFBpbnMgPSAxNCxcbiAgTWluaW1hbF9CbGFjayA9IDE1LFxuICBNaW5pbWFsX1doaXRlID0gMTYsXG4gIFRhcGUgPSAxNyxcbiAgV29vZF9TbGltID0gMTgsXG4gIFdvb2RfV2lkZSA9IDE5LFxuICBXb29kX1R3aWdzID0gMjAsXG4gIENhbnZhcyA9IDIxLFxuICBOb25lID0gMjJcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIE5GVFNoYXBlQ29uc3RydWN0b3JBcmdzID0ge1xuICBjb2xvcj86IENvbG9yM1xuICBzdHlsZT86IFBpY3R1cmVGcmFtZVN0eWxlXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnNoYXBlJywgQ0xBU1NfSUQuTkZUX1NIQVBFKVxuZXhwb3J0IGNsYXNzIE5GVFNoYXBlIGV4dGVuZHMgU2hhcGUge1xuICBAU2hhcGUucmVhZG9ubHlcbiAgcmVhZG9ubHkgc3JjITogc3RyaW5nXG5cbiAgQFNoYXBlLnJlYWRvbmx5XG4gIHJlYWRvbmx5IHN0eWxlITogUGljdHVyZUZyYW1lU3R5bGVcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjb2xvcjogQ29sb3IzXG5cbiAgY29uc3RydWN0b3Ioc3JjOiBzdHJpbmcpXG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nLCBjb2xvcjogQ29sb3IzKSAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgY29uc3RydWN0b3Ioc3JjOiBzdHJpbmcsIGFyZ3M6IE5GVFNoYXBlQ29uc3RydWN0b3JBcmdzKVxuICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZywgYXJnczogYW55ID0ge30pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5zcmMgPSBzcmNcblxuICAgIGxldCBjb2xvciA9IG5ldyBDb2xvcjMoMC42NDA0OTE4LCAwLjYxMTQ3MiwgMC44NTg0OTA2KVxuICAgIGxldCBzdHlsZSA9IFBpY3R1cmVGcmFtZVN0eWxlLkNsYXNzaWNcblxuICAgIC8vIGNoZWNrIGlmIGFyZ3MgaXMgY29sb3IgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuICAgIGlmICgncicgaW4gYXJncykge1xuICAgICAgY29sb3IgPSBhcmdzXG4gICAgfSBlbHNlIGlmIChhcmdzICE9PSBudWxsKSB7XG4gICAgICBpZiAoYXJncy5jb2xvcikgY29sb3IgPSBhcmdzLmNvbG9yXG4gICAgICBpZiAoYXJncy5zdHlsZSkgc3R5bGUgPSBhcmdzLnN0eWxlXG4gICAgfVxuXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yXG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUudGV4dHVyZScsIENMQVNTX0lELlRFWFRVUkUpXG5leHBvcnQgY2xhc3MgVGV4dHVyZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBzcmMhOiBzdHJpbmdcblxuICAvKipcbiAgICogRW5hYmxlcyBjcmlzcGVyIGltYWdlcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgc2FtcGxpbmcgbW9kZS5cbiAgICogfCBWYWx1ZSB8IFR5cGUgICAgICB8XG4gICAqIHwtLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgKiB8ICAgICAwIHwgTkVBUkVTVCAgIHxcbiAgICogfCAgICAgMSB8IEJJTElORUFSICB8XG4gICAqIHwgICAgIDIgfCBUUklMSU5FQVIgfFxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgc2FtcGxpbmdNb2RlITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGV4dHVyZSB3cmFwcGluZyBmb3IgdGhpcyBtYXRlcmlhbC5cbiAgICogfCBWYWx1ZSB8IFR5cGUgICAgICB8XG4gICAqIHwtLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgKiB8ICAgICAwIHwgQ0xBTVAgICAgIHxcbiAgICogfCAgICAgMSB8IFdSQVAgICAgICB8XG4gICAqIHwgICAgIDIgfCBNSVJST1IgICAgfFxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgd3JhcCE6IG51bWJlclxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGlmIHRoaXMgdGV4dHVyZSBoYXMgYW4gYWxwaGEgY2hhbm5lbFxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgaGFzQWxwaGEhOiBib29sZWFuXG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3JjOiBzdHJpbmcsXG4gICAgb3B0cz86IFBhcnRpYWw8UGljazxUZXh0dXJlLCAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJyB8ICdoYXNBbHBoYSc+PlxuICApIHtcbiAgICBzdXBlcigpXG5cbiAgICBjb25zdCBiYXNlNjRUZXN0ID0gbmV3IFJlZ0V4cCgnZGF0YTpbYS16LV0rL1thLXotXSs7YmFzZTY0JylcbiAgICBpZiAoc3JjLmxlbmd0aCA+IDIwNDggfHwgYmFzZTY0VGVzdC50ZXN0KHNyYykpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgJ+KaoO+4j/CfmqggQmFzZTY0IHRleHR1cmVzIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB2ZXJzaW9uIDcgb2YgZGVjZW50cmFsYW5kLWVjcydcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLnNyYyA9IHNyY1xuXG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzIGFzIGFueVxuICAgICAgICB0aGF0W2kgYXMgJ3NhbXBsaW5nTW9kZScgfCAnd3JhcCcgfCAnaGFzQWxwaGEnXSA9IChvcHRzIGFzIGFueSlbaV1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5hbmltYXRvcicsIENMQVNTX0lELkFOSU1BVElPTilcbmV4cG9ydCBjbGFzcyBBbmltYXRvciBleHRlbmRzIFNoYXBlIHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcHJpdmF0ZSBzdGF0ZXM6IEFuaW1hdGlvblN0YXRlW10gPSBbXVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIEFuaW1hdGlvblN0YXRlIHRvIHRoZSBhbmltYXRpb24gbGlzdHMuXG4gICAqL1xuICBhZGRDbGlwKGNsaXA6IEFuaW1hdGlvblN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZXMucHVzaChjbGlwKVxuICAgIGNsaXAub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWVcbiAgICB9KVxuXG4gICAgY2xpcC5vd25lciA9IHRoaXNcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGFuaW1hdGlvbiBjbGlwIGluc3RhbmNlIGZvciB0aGUgc3BlY2lmaWVkIGNsaXAgbmFtZS5cbiAgICogSWYgdGhlIGNsaXAgZG9lc24ndCBleGlzdCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgZ2V0Q2xpcChjbGlwTmFtZTogc3RyaW5nKTogQW5pbWF0aW9uU3RhdGUge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNsaXAgPSB0aGlzLnN0YXRlc1tpXVxuICAgICAgaWYgKGNsaXAuY2xpcCA9PT0gY2xpcE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGNsaXBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZXdDbGlwID0gbmV3IEFuaW1hdGlvblN0YXRlKGNsaXBOYW1lKVxuICAgIHRoaXMuYWRkQ2xpcChuZXdDbGlwKVxuICAgIHJldHVybiBuZXdDbGlwXG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIGFuZCBwYXVzZXMgdGhlIGFuaW1hdGlvbiBzdGF0ZSwgaWYgdGhlIGNsaXAgaXMgbnVsbCBpdCB3aWxsIHN0b3AgYWxsIGFuaW1hdGlvbnMgb24gdGhpcyBhbmltYXRvclxuICAgKi9cbiAgc3RvcChjbGlwPzogQW5pbWF0aW9uU3RhdGUpIHtcbiAgICBpZiAoY2xpcCkge1xuICAgICAgY2xpcC5wbGF5aW5nID0gZmFsc2VcbiAgICAgIGNsaXAuc2hvdWxkUmVzZXQgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uU3RhdGUgPSB0aGlzLnN0YXRlc1tpXVxuICAgICAgICB0aGlzLnN0b3AoYW5pbWF0aW9uU3RhdGUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYW5pbWF0aW9uXG4gICAqL1xuICBwbGF5KGNsaXA6IEFuaW1hdGlvblN0YXRlLCByZXNldDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYW5pbWF0aW9uU3RhdGUgPSB0aGlzLnN0YXRlc1tpXVxuICAgICAgaWYgKGFuaW1hdGlvblN0YXRlLmxheWVyID09PSBjbGlwLmxheWVyICYmIGNsaXAgIT09IGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucGF1c2UoYW5pbWF0aW9uU3RhdGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlc2V0KSBjbGlwLnNob3VsZFJlc2V0ID0gdHJ1ZVxuICAgIGNsaXAucGxheWluZyA9IHRydWVcbiAgICBjbGlwLmRpcnR5ID0gdHJ1ZVxuICAgIGNsaXAuZGF0YS5ub25jZSA9IE1hdGgucmFuZG9tKClcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXVzZXMgdGhlIGFuaW1hdGlvbiBzdGF0ZSwgaWYgdGhlIGNsaXAgaXMgbnVsbCBpdCB3aWxsIHBhdXNlIGFsbCBhbmltYXRpb25zIG9uIHRoaXMgYW5pbWF0b3JcbiAgICovXG4gIHBhdXNlKGNsaXA/OiBBbmltYXRpb25TdGF0ZSkge1xuICAgIGlmIChjbGlwKSB7XG4gICAgICBjbGlwLnBsYXlpbmcgPSBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvblN0YXRlID0gdGhpcy5zdGF0ZXNbaV1cbiAgICAgICAgdGhpcy5wYXVzZShhbmltYXRpb25TdGF0ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuc2hhcGUnLCBDTEFTU19JRC5PQkpfU0hBUEUpXG5leHBvcnQgY2xhc3MgT0JKU2hhcGUgZXh0ZW5kcyBTaGFwZSB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHNyYyE6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuc3JjID0gc3JjXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUuZm9udCcsIENMQVNTX0lELkZPTlQpXG5leHBvcnQgY2xhc3MgRm9udCBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBzcmMhOiBzdHJpbmdcblxuICBwdWJsaWMgY29uc3RydWN0b3Ioc3JjOiBzdHJpbmcgPSAnJykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnNyYyA9IHNyY1xuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZW51bSBGb250cyB7XG4gIC8qKiBAZGVwcmVjYXRlZCBTYW5GcmFuY2lzY28gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFNhbnNTZXJpZiBpbnN0ZWFkLiovXG4gIFNhbkZyYW5jaXNjbyA9ICdidWlsdGluOlNGLVVJLVRleHQtUmVndWxhciBTREYnLFxuICAvKiogQGRlcHJlY2F0ZWQgU2FuRnJhbmNpc2NvX0hlYXZ5IGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBTYW5zU2VyaWZfSGVhdnkgaW5zdGVhZC4qL1xuICBTYW5GcmFuY2lzY29fSGVhdnkgPSAnYnVpbHRpbjpTRi1VSS1UZXh0LUhlYXZ5IFNERicsXG4gIC8qKiBAZGVwcmVjYXRlZCBTYW5GcmFuY2lzY29fU2VtaWJvbGQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFNhbnNTZXJpZl9TZW1pQm9sZCBpbnN0ZWFkLiovXG4gIFNhbkZyYW5jaXNjb19TZW1pYm9sZCA9ICdidWlsdGluOlNGLVVJLVRleHQtU2VtaWJvbGQgU0RGJyxcbiAgTGliZXJhdGlvblNhbnMgPSAnYnVpbHRpbjpMaWJlcmF0aW9uU2FucyBTREYnLFxuICBTYW5zU2VyaWYgPSAnU2Fuc1NlcmlmJyxcbiAgU2Fuc1NlcmlmX0hlYXZ5ID0gJ1NhbnNTZXJpZl9IZWF2eScsXG4gIFNhbnNTZXJpZl9Cb2xkID0gJ1NhbnNTZXJpZl9Cb2xkJyxcbiAgU2Fuc1NlcmlmX1NlbWlCb2xkID0gJ1NhbnNTZXJpZl9TZW1pQm9sZCdcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS50ZXh0JywgQ0xBU1NfSUQuVEVYVF9TSEFQRSlcbmV4cG9ydCBjbGFzcyBUZXh0U2hhcGUgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3V0bGluZVdpZHRoOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgb3V0bGluZUNvbG9yOiBDb2xvcjMgPSBuZXcgQ29sb3IzKDEsIDEsIDEpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgY29sb3I6IENvbG9yMyA9IG5ldyBDb2xvcjMoMSwgMSwgMSlcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBmb250U2l6ZTogbnVtYmVyID0gMTBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5jb21wb25lbnRcbiAgZm9udD86IEZvbnRcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBvcGFjaXR5OiBudW1iZXIgPSAxLjBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB2YWx1ZTogc3RyaW5nID0gJydcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsaW5lU3BhY2luZzogc3RyaW5nID0gJzBweCdcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsaW5lQ291bnQ6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB0ZXh0V3JhcHBpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd0JsdXI6IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzaGFkb3dPZmZzZXRYOiBudW1iZXIgPSAwXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2hhZG93T2Zmc2V0WTogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNoYWRvd0NvbG9yOiBDb2xvcjMgPSBuZXcgQ29sb3IzKDEsIDEsIDEpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgaFRleHRBbGlnbjogc3RyaW5nID0gJ2NlbnRlcidcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB2VGV4dEFsaWduOiBzdHJpbmcgPSAnY2VudGVyJ1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHdpZHRoOiBudW1iZXIgPSAxXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgaGVpZ2h0OiBudW1iZXIgPSAxXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgcGFkZGluZ1RvcDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdSaWdodDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBhZGRpbmdCb3R0b206IG51bWJlciA9IDBcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwYWRkaW5nTGVmdDogbnVtYmVyID0gMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGJpbGxib2FyZDogYm9vbGVhbiA9IGZhbHNlXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgdmlzaWJsZTogYm9vbGVhbiA9IHRydWVcblxuICBjb25zdHJ1Y3Rvcih2YWx1ZT86IHN0cmluZykge1xuICAgIHN1cGVyKClcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZW51bSBUcmFuc3BhcmVuY3lNb2RlIHtcbiAgT1BBUVVFID0gMCxcbiAgQUxQSEFfVEVTVCA9IDEsXG4gIEFMUEhBX0JMRU5EID0gMixcbiAgQUxQSEFfVEVTVF9BTkRfQkxFTkQgPSAzLFxuICBBVVRPID0gNFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS5tYXRlcmlhbCcsIENMQVNTX0lELlBCUl9NQVRFUklBTClcbmV4cG9ydCBjbGFzcyBNYXRlcmlhbCBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICAvKipcbiAgICogQ3V0b2ZmIGxldmVsIGZvciBBTFBIQVRFU1QgbW9kZS4gUmFuZ2UgaXMgYmV0d2VlbiAwIGFuZCAxLlxuICAgKiBEZWZhdWx0cyB0byAwLjVcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFscGhhVGVzdD86IG51bWJlciA9IDAuNVxuXG4gIC8qKlxuICAgKiBBS0EgRGlmZnVzZSBDb2xvciBpbiBvdGhlciBub21lbmNsYXR1cmUuXG4gICAqIERlZmF1bHRzIHRvICNDQ0NDQ0MuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBhbGJlZG9Db2xvcj86IENvbG9yNCB8IENvbG9yM1xuXG4gIC8qKlxuICAgKiBUaGUgY29sb3IgZW1pdHRlZCBmcm9tIHRoZSBtYXRlcmlhbC5cbiAgICogRGVmYXVsdHMgdG8gYmxhY2suXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBlbWlzc2l2ZUNvbG9yPzogQ29sb3IzXG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgbWV0YWxsaWMgc2NhbGFyIG9mIHRoZSBtZXRhbGxpYy9yb3VnaG5lc3Mgd29ya2Zsb3cuXG4gICAqIENhbiBhbHNvIGJlIHVzZWQgdG8gc2NhbGUgdGhlIG1ldGFsbmVzcyB2YWx1ZXMgb2YgdGhlIG1ldGFsbGljIHRleHR1cmUuXG4gICAqIERlZmF1bHRzIHRvICAwLjUuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBtZXRhbGxpYz86IG51bWJlclxuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIHJvdWdobmVzcyBzY2FsYXIgb2YgdGhlIG1ldGFsbGljL3JvdWdobmVzcyB3b3JrZmxvdy5cbiAgICogQ2FuIGFsc28gYmUgdXNlZCB0byBzY2FsZSB0aGUgcm91Z2huZXNzIHZhbHVlcyBvZiB0aGUgbWV0YWxsaWMgdGV4dHVyZS5cbiAgICogRGVmYXVsdHMgdG8gIDAuNS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHJvdWdobmVzcz86IG51bWJlclxuXG4gIC8qKlxuICAgKiBBS0EgU3BlY3VsYXIgQ29sb3IgaW4gb3RoZXIgbm9tZW5jbGF0dXJlLlxuICAgKiBEZWZhdWx0cyB0byB3aGl0ZS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHJlZmxlY3Rpdml0eUNvbG9yPzogQ29sb3IzXG5cbiAgLyoqXG4gICAqIEludGVuc2l0eSBvZiB0aGUgZGlyZWN0IGxpZ2h0cyBlLmcuIHRoZSBmb3VyIGxpZ2h0cyBhdmFpbGFibGUgaW4gc2NlbmUuXG4gICAqIFRoaXMgaW1wYWN0cyBib3RoIHRoZSBkaXJlY3QgZGlmZnVzZSBhbmQgc3BlY3VsYXIgaGlnaGxpZ2h0cy5cbiAgICogRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGRpcmVjdEludGVuc2l0eT86IG51bWJlclxuXG4gIC8qKlxuICAgKiBBS0EgR2xvc3NpbmVzcyBpbiBvdGhlciBub21lbmNsYXR1cmUuXG4gICAqIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBtaWNyb1N1cmZhY2U/OiBudW1iZXJcblxuICAvKipcbiAgICogSW50ZW5zaXR5IG9mIHRoZSBlbWlzc2l2ZSBwYXJ0IG9mIHRoZSBtYXRlcmlhbC5cbiAgICogVGhpcyBoZWxwcyBjb250cm9sbGluZyB0aGUgZW1pc3NpdmUgZWZmZWN0IHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBlbWlzc2l2ZSBjb2xvci5cbiAgICogRGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGVtaXNzaXZlSW50ZW5zaXR5PzogbnVtYmVyXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBzcGVjaWFsIGNvbnRyb2wgYWxsb3dpbmcgdGhlIHJlZHVjdGlvbiBvZiB0aGUgc3BlY3VsYXIgaGlnaGxpZ2h0cyBjb21pbmcgZnJvbSB0aGVcbiAgICogZm91ciBsaWdodHMgb2YgdGhlIHNjZW5lLiBUaG9zZSBoaWdobGlnaHRzIG1heSBub3QgYmUgbmVlZGVkIGluIGZ1bGwgZW52aXJvbm1lbnQgbGlnaHRpbmcuXG4gICAqIERlZmF1bHRzIHRvIDEuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzcGVjdWxhckludGVuc2l0eT86IG51bWJlclxuXG4gIC8qKlxuICAgKiBUZXh0dXJlIGFwcGxpZWQgYXMgbWF0ZXJpYWwuXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5jb21wb25lbnRcbiAgYWxiZWRvVGV4dHVyZT86IFRleHR1cmUgfCBWaWRlb1RleHR1cmUgfCBBdmF0YXJUZXh0dXJlXG5cbiAgLyoqXG4gICAqIFRleHR1cmUgYXBwbGllZCBhcyBvcGFjaXR5LiBEZWZhdWx0OiB0aGUgc2FtZSB0ZXh0dXJlIHVzZWQgaW4gYWxiZWRvVGV4dHVyZS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmNvbXBvbmVudFxuICBhbHBoYVRleHR1cmU/OiBUZXh0dXJlIHwgVmlkZW9UZXh0dXJlIHwgQXZhdGFyVGV4dHVyZVxuXG4gIC8qKlxuICAgKiBFbWlzc2l2ZSB0ZXh0dXJlLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuY29tcG9uZW50XG4gIGVtaXNzaXZlVGV4dHVyZT86IFRleHR1cmUgfCBWaWRlb1RleHR1cmUgfCBBdmF0YXJUZXh0dXJlXG5cbiAgLyoqXG4gICAqIFN0b3JlcyBzdXJmYWNlIG5vcm1hbCBkYXRhIHVzZWQgdG8gZGlzcGxhY2UgYSBtZXNoIGluIGEgdGV4dHVyZS5cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmNvbXBvbmVudFxuICBidW1wVGV4dHVyZT86IFRleHR1cmUgfCBBdmF0YXJUZXh0dXJlXG5cbiAgLyoqXG4gICAqIEFsbG93IHRoZSBtYXRlcmlhbCB0byBjYXN0IHNoYWRvd3Mgb3ZlciBvdGhlciBvYmplY3RzXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjYXN0U2hhZG93cz86IGJvb2xlYW4gPSB0cnVlXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRyYW5zcGFyZW5jeSBtb2RlIG9mIHRoZSBtYXRlcmlhbC5cbiAgICogRGVmYXVsdHMgdG8gLTEuXG4gICAqXG4gICAqIHwgVmFsdWUgfCBUeXBlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogfCAtLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICAgKiB8IDAgICAgIHwgT1BBUVVFICAoZGVmYXVsdCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIHwgMSAgICAgfCBBTFBIQVRFU1QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogfCAyICAgICB8IEFMUEhBQkxFTkQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiB8IDMgICAgIHwgQUxQSEFURVNUQU5EQkxFTkQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIHwgNCAgICAgfCBBVVRPIChBTFBIQUJMRU5EIGlmIGFscGhhIE9QQVFVRSBvdGhlcndpc2UgICAgIHxcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHRyYW5zcGFyZW5jeU1vZGU6IFRyYW5zcGFyZW5jeU1vZGUgPSBUcmFuc3BhcmVuY3lNb2RlLkFVVE9cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBEaXNwb3NhYmxlQ29tcG9uZW50KCdlbmdpbmUubWF0ZXJpYWwnLCBDTEFTU19JRC5CQVNJQ19NQVRFUklBTClcbmV4cG9ydCBjbGFzcyBCYXNpY01hdGVyaWFsIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBUaGUgc291cmNlIG9mIHRoZSB0ZXh0dXJlIGltYWdlLlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuY29tcG9uZW50XG4gIHRleHR1cmU/OiBUZXh0dXJlIHwgVmlkZW9UZXh0dXJlIHwgQXZhdGFyVGV4dHVyZVxuXG4gIC8qKlxuICAgKiBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAqIEFueSBwaXhlbCB3aXRoIGFuIGFscGhhIGxvd2VyIHRoYW4gdGhpcyB2YWx1ZSB3aWxsIGJlIHNob3duIGFzIHRyYW5zcGFyZW50LlxuICAgKi9cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYWxwaGFUZXN0OiBudW1iZXIgPSAwLjVcblxuICAvKipcbiAgICogQWxsb3cgdGhlIG1hdGVyaWFsIHRvIGNhc3Qgc2hhZG93cyBvdmVyIG90aGVyIG9iamVjdHNcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGNhc3RTaGFkb3dzPzogYm9vbGVhbiA9IHRydWVcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPblVVSURFdmVudDxUIGV4dGVuZHMga2V5b2YgSUV2ZW50cz4gZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgLy8gQGludGVybmFsXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIC8vIEBpbnRlcm5hbFxuICByZWFkb25seSB1dWlkOiBzdHJpbmcgPSBuZXdJZCgnVVVJRCcpXG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgY2FsbGJhY2shOiAoZXZlbnQ6IGFueSkgPT4gdm9pZFxuXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAoZXZlbnQ6IElFdmVudHNbVF0pID0+IHZvaWQpIHtcbiAgICBzdXBlcigpXG5cbiAgICBpZiAoIWNhbGxiYWNrIHx8ICEoJ2FwcGx5JyBpbiBjYWxsYmFjaykgfHwgISgnY2FsbCcgaW4gY2FsbGJhY2spKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJylcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIHN0YXRpYyB1dWlkRXZlbnQodGFyZ2V0OiBPYnNlcnZhYmxlQ29tcG9uZW50LCBwcm9wZXJ0eUtleTogc3RyaW5nKSB7XG4gICAgaWYgKGRlbGV0ZSAodGFyZ2V0IGFzIGFueSlbcHJvcGVydHlLZXldKSB7XG4gICAgICBjb25zdCBjb21wb25lbnRTeW1ib2wgPSBwcm9wZXJ0eUtleSArICdfJyArIE1hdGgucmFuZG9tKClcbiAgICAgIDsodGFyZ2V0IGFzIGFueSlbY29tcG9uZW50U3ltYm9sXSA9IHVuZGVmaW5lZFxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb21wb25lbnRTeW1ib2wsIHtcbiAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbXBvbmVudFN5bWJvbCksXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleS50b1N0cmluZygpLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzW2NvbXBvbmVudFN5bWJvbF1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbY29tcG9uZW50U3ltYm9sXVxuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPblVVSURFdmVudCkge1xuICAgICAgICAgICAgICB0aGlzLmRhdGFbcHJvcGVydHlLZXldID0gdmFsdWUudXVpZFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBpcyBub3QgYW4gT25VVUlERXZlbnQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcHJvcGVydHlLZXldID0gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXNbY29tcG9uZW50U3ltYm9sXSA9IHZhbHVlXG5cbiAgICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNbaV0ocHJvcGVydHlLZXksIHZhbHVlLCBvbGRWYWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7IHV1aWQ6IHRoaXMudXVpZCwgdHlwZTogdGhpcy50eXBlIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9uUG9pbnRlclVVSURFdmVudDxcbiAgVCBleHRlbmRzIGtleW9mIElFdmVudHNcbj4gZXh0ZW5kcyBPblVVSURFdmVudDxUPiB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGJ1dHRvbjogQWN0aW9uQnV0dG9uID0gQWN0aW9uQnV0dG9uLkFOWVxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhvdmVyVGV4dDogc3RyaW5nID0gJ0ludGVyYWN0J1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGRpc3RhbmNlOiBudW1iZXIgPSAxMFxuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNob3dGZWVkYmFjazogYm9vbGVhbiA9IHRydWVcblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHV1aWQ6IHRoaXMudXVpZCxcbiAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgIGJ1dHRvbjogdGhpcy5idXR0b24sXG4gICAgICBob3ZlclRleHQ6IHRoaXMuaG92ZXJUZXh0LFxuICAgICAgZGlzdGFuY2U6IHRoaXMuZGlzdGFuY2UsXG4gICAgICBzaG93RmVlZGJhY2s6IHRoaXMuc2hvd0ZlZWRiYWNrXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5vblBvaW50ZXJMb2NrJywgQ0xBU1NfSUQuVVVJRF9DQUxMQkFDSylcbmV4cG9ydCBjbGFzcyBPblBvaW50ZXJMb2NrIGV4dGVuZHMgT25VVUlERXZlbnQ8J29uUG9pbnRlckxvY2snPiB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyA9ICdvblBvaW50ZXJMb2NrJ1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZW5naW5lLm9uQW5pbWF0aW9uRW5kJywgQ0xBU1NfSUQuVVVJRF9DQUxMQkFDSylcbmV4cG9ydCBjbGFzcyBPbkFuaW1hdGlvbkVuZCBleHRlbmRzIE9uVVVJREV2ZW50PCdvbkFuaW1hdGlvbkVuZCc+IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQucmVhZG9ubHlcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ29uQW5pbWF0aW9uRW5kJ1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5AQ29tcG9uZW50KCdlbmdpbmUuc21hcnRJdGVtJywgQ0xBU1NfSUQuU01BUlRfSVRFTSlcbmV4cG9ydCBjbGFzcyBTbWFydEl0ZW0gZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHt9XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLlZpZGVvQ2xpcCcsIENMQVNTX0lELlZJREVPX0NMSVApXG5leHBvcnQgY2xhc3MgVmlkZW9DbGlwIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHVybDogc3RyaW5nXG5cbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy51cmwgPSB1cmxcbiAgfVxufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGVudW0gVmlkZW9TdGF0dXMge1xuICBOT05FID0gMCxcbiAgRVJST1IgPSAxLFxuICBMT0FESU5HID0gMixcbiAgUkVBRFkgPSAzLFxuICBQTEFZSU5HID0gNCxcbiAgQlVGRkVSSU5HID0gNVxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuQERpc3Bvc2FibGVDb21wb25lbnQoJ2VuZ2luZS5WaWRlb1RleHR1cmUnLCBDTEFTU19JRC5WSURFT19URVhUVVJFKVxuZXhwb3J0IGNsYXNzIFZpZGVvVGV4dHVyZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB2aWRlb0NsaXBJZDogc3RyaW5nXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgY3Jpc3BlciBpbWFnZXMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHNhbXBsaW5nIG1vZGUuXG4gICAqIHwgVmFsdWUgfCBUeXBlICAgICAgfFxuICAgKiB8LS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICogfCAgICAgMSB8IE5FQVJFU1QgICB8XG4gICAqIHwgICAgIDIgfCBCSUxJTkVBUiAgfFxuICAgKiB8ICAgICAzIHwgVFJJTElORUFSIHxcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHNhbXBsaW5nTW9kZSE6IG51bWJlclxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRleHR1cmUgd3JhcHBpbmcgZm9yIHRoaXMgbWF0ZXJpYWwuXG4gICAqIHwgVmFsdWUgfCBUeXBlICAgICAgfFxuICAgKiB8LS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICogfCAgICAgMSB8IENMQU1QICAgICB8XG4gICAqIHwgICAgIDIgfCBXUkFQICAgICAgfFxuICAgKiB8ICAgICAzIHwgTUlSUk9SICAgIHxcbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHdyYXAhOiBudW1iZXJcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICB2b2x1bWU6IG51bWJlciA9IDFcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwbGF5YmFja1JhdGU6IG51bWJlciA9IDFcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsb29wOiBib29sZWFuID0gZmFsc2VcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBzZWVrOiBudW1iZXIgPSAtMVxuXG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBudW1iZXIgPSAtMVxuICBwcml2YXRlIF92aWRlb0xlbmd0aDogbnVtYmVyID0gLTFcbiAgcHJpdmF0ZSBfc3RhdHVzOiBWaWRlb1N0YXR1cyA9IFZpZGVvU3RhdHVzLk5PTkVcblxuICAvKipcbiAgICogSXMgdGhpcyBWaWRlb1RleHR1cmUgcGxheWluZz9cbiAgICovXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZpZGVvQ2xpcDogVmlkZW9DbGlwLFxuICAgIG9wdHM/OiBQYXJ0aWFsPFBpY2s8VmlkZW9UZXh0dXJlLCAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJz4+XG4gICkge1xuICAgIHN1cGVyKClcblxuICAgIGlmICghKHZpZGVvQ2xpcCBpbnN0YW5jZW9mIFZpZGVvQ2xpcCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRyeWluZyB0byBjcmVhdGUgVmlkZW9UZXh0dXJlKFZpZGVvQ2xpcCkgd2l0aCBhbiBpbnZhbGlkIFZpZGVvQ2xpcGBcbiAgICAgIClcbiAgICB9XG4gICAgdGhpcy52aWRlb0NsaXBJZCA9IGdldENvbXBvbmVudElkKHZpZGVvQ2xpcCBhcyBhbnkpXG5cbiAgICBpZiAob3B0cykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdHMpIHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXMgYXMgYW55XG4gICAgICAgIHRoYXRbaSBhcyAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJ10gPSAob3B0cyBhcyBhbnkpW2ldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGxheSgpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSB0cnVlXG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zZWVrVGltZSgwKVxuICAgIHRoaXMucGF1c2UoKVxuICB9XG5cbiAgc2Vla1RpbWUoc2Vjb25kczogbnVtYmVyKSB7XG4gICAgdGhpcy5zZWVrID0gc2Vjb25kc1xuICAgIHRoaXMuZGlydHkgPSB0cnVlXG4gICAgdGhpcy5kYXRhLm5vbmNlID0gTWF0aC5yYW5kb20oKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIGlmICh0aGlzLnNlZWsgPj0gMCkge1xuICAgICAgLy8gdGhlIHNlZWsgdmFsdWUgd2FzIGNoYW5nZWQvdXNlZFxuICAgICAgY29uc3QgcmV0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdXBlci50b0pTT04oKSkpXG4gICAgICB0aGlzLnNlZWsgPSAtMVxuICAgICAgcmV0dXJuIHJldFxuICAgIH1cblxuICAgIHJldHVybiBzdXBlci50b0pTT04oKVxuICB9XG5cbiAgdXBkYXRlKHZpZGVvRXZlbnQ6IElFdmVudHNbJ3ZpZGVvRXZlbnQnXSkge1xuICAgIGlmICh2aWRlb0V2ZW50LnZpZGVvQ2xpcElkID09PSB0aGlzLnZpZGVvQ2xpcElkKSB7XG4gICAgICB0aGlzLl9zdGF0dXMgPSAodmlkZW9FdmVudC52aWRlb1N0YXR1cyBhcyBWaWRlb1N0YXR1cykgfHwgVmlkZW9TdGF0dXMuTk9ORVxuICAgICAgdGhpcy5fdmlkZW9MZW5ndGggPSB2aWRlb0V2ZW50LnRvdGFsVmlkZW9MZW5ndGhcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmlkZW9FdmVudC5jdXJyZW50T2Zmc2V0XG4gICAgfVxuICB9XG5cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvblxuICB9XG5cbiAgZ2V0IHZpZGVvTGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl92aWRlb0xlbmd0aFxuICB9XG5cbiAgZ2V0IHN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdHVzXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2VuZ2luZS5jYW1lcmFNb2RlQXJlYScsIENMQVNTX0lELkNBTUVSQV9NT0RFX0FSRUEpXG5leHBvcnQgY2xhc3MgQ2FtZXJhTW9kZUFyZWEgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYXJlYSE6IEFyZWFcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjYW1lcmFNb2RlITogQ2FtZXJhTW9kZVxuXG4gIGNvbnN0cnVjdG9yKGFyZ3M6IHsgYXJlYTogQXJlYTsgY2FtZXJhTW9kZTogQ2FtZXJhTW9kZSB9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuYXJlYSA9IGFyZ3MuYXJlYVxuICAgIHRoaXMuY2FtZXJhTW9kZSA9IGFyZ3MuY2FtZXJhTW9kZVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5ARGlzcG9zYWJsZUNvbXBvbmVudCgnZW5naW5lLnRleHR1cmUnLCBDTEFTU19JRC5BVkFUQVJfVEVYVFVSRSlcbmV4cG9ydCBjbGFzcyBBdmF0YXJUZXh0dXJlIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LnJlYWRvbmx5XG4gIHJlYWRvbmx5IHVzZXJJZCE6IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIGNyaXNwZXIgaW1hZ2VzIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBzYW1wbGluZyBtb2RlLlxuICAgKiB8IFZhbHVlIHwgVHlwZSAgICAgIHxcbiAgICogfC0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAqIHwgICAgIDAgfCBORUFSRVNUICAgfFxuICAgKiB8ICAgICAxIHwgQklMSU5FQVIgIHxcbiAgICogfCAgICAgMiB8IFRSSUxJTkVBUiB8XG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBzYW1wbGluZ01vZGUhOiBudW1iZXJcblxuICAvKipcbiAgICogRW5hYmxlcyB0ZXh0dXJlIHdyYXBwaW5nIGZvciB0aGlzIG1hdGVyaWFsLlxuICAgKiB8IFZhbHVlIHwgVHlwZSAgICAgIHxcbiAgICogfC0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAqIHwgICAgIDAgfCBDTEFNUCAgICAgfFxuICAgKiB8ICAgICAxIHwgV1JBUCAgICAgIHxcbiAgICogfCAgICAgMiB8IE1JUlJPUiAgICB8XG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSB3cmFwITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIERlZmluZXMgaWYgdGhpcyB0ZXh0dXJlIGhhcyBhbiBhbHBoYSBjaGFubmVsXG4gICAqL1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5yZWFkb25seVxuICByZWFkb25seSBoYXNBbHBoYSE6IGJvb2xlYW5cblxuICBjb25zdHJ1Y3RvcihcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBvcHRzPzogUGFydGlhbDxQaWNrPEF2YXRhclRleHR1cmUsICdzYW1wbGluZ01vZGUnIHwgJ3dyYXAnIHwgJ2hhc0FscGhhJz4+XG4gICkge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMudXNlcklkID0gdXNlcklkXG5cbiAgICBpZiAob3B0cykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdHMpIHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXMgYXMgYW55XG4gICAgICAgIHRoYXRbaSBhcyAnc2FtcGxpbmdNb2RlJyB8ICd3cmFwJyB8ICdoYXNBbHBoYSddID0gKG9wdHMgYXMgYW55KVtpXVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19