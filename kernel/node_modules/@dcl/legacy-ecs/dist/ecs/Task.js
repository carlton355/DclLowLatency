import { error } from './helpers';
var _defer = Promise.resolve().then.bind(Promise.resolve());
/**
 * Executes an asynchronous task
 * @param task - the task to execute
 * @public
 */
export function executeTask(task) {
    var result = _defer(task);
    result.isComplete = false;
    result
        .then(function ($) {
        result.isComplete = true;
        result.result = $;
        result.didFail = false;
    })
        .catch(function ($) {
        result.isComplete = true;
        result.error = $;
        result.didFail = true;
        error('executeTask: FAILED ' + $.toString(), $);
    });
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFzay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lY3MvVGFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBWWpDLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFBO0FBRTdEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsV0FBVyxDQUFJLElBQXNCO0lBQ25ELElBQU0sTUFBTSxHQUFrQixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7SUFFMUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUE7SUFFekIsTUFBTTtTQUNILElBQUksQ0FBQyxVQUFDLENBQUM7UUFDTixNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQTtRQUN4QixNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtRQUNqQixNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtJQUN4QixDQUFDLENBQUM7U0FDRCxLQUFLLENBQUMsVUFBQyxDQUFDO1FBQ1AsTUFBTSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUE7UUFDeEIsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUE7UUFDaEIsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7UUFDckIsS0FBSyxDQUFDLHNCQUFzQixHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQTtJQUNqRCxDQUFDLENBQUMsQ0FBQTtJQUVKLE9BQU8sTUFBTSxDQUFBO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVycm9yIH0gZnJvbSAnLi9oZWxwZXJzJ1xuXG5kZWNsYXJlIGxldCBQcm9taXNlOiBhbnlcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFRhc2tSZXN1bHQ8VD4gPSBQcm9taXNlPFQ+ICYge1xuICBpc0NvbXBsZXRlOiBib29sZWFuXG4gIGRpZEZhaWw/OiBib29sZWFuXG4gIGVycm9yPzogRXJyb3JcbiAgcmVzdWx0PzogVFxufVxuXG5jb25zdCBfZGVmZXIgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpXG5cbi8qKlxuICogRXhlY3V0ZXMgYW4gYXN5bmNocm9ub3VzIHRhc2tcbiAqIEBwYXJhbSB0YXNrIC0gdGhlIHRhc2sgdG8gZXhlY3V0ZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVRhc2s8VD4odGFzazogKCkgPT4gUHJvbWlzZTxUPik6IFRhc2tSZXN1bHQ8VD4ge1xuICBjb25zdCByZXN1bHQ6IFRhc2tSZXN1bHQ8VD4gPSBfZGVmZXIodGFzaylcblxuICByZXN1bHQuaXNDb21wbGV0ZSA9IGZhbHNlXG5cbiAgcmVzdWx0XG4gICAgLnRoZW4oKCQpID0+IHtcbiAgICAgIHJlc3VsdC5pc0NvbXBsZXRlID0gdHJ1ZVxuICAgICAgcmVzdWx0LnJlc3VsdCA9ICRcbiAgICAgIHJlc3VsdC5kaWRGYWlsID0gZmFsc2VcbiAgICB9KVxuICAgIC5jYXRjaCgoJCkgPT4ge1xuICAgICAgcmVzdWx0LmlzQ29tcGxldGUgPSB0cnVlXG4gICAgICByZXN1bHQuZXJyb3IgPSAkXG4gICAgICByZXN1bHQuZGlkRmFpbCA9IHRydWVcbiAgICAgIGVycm9yKCdleGVjdXRlVGFzazogRkFJTEVEICcgKyAkLnRvU3RyaW5nKCksICQpXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG4iXX0=