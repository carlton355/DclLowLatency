(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __markAsModule = (target) => __defProp(target, "__esModule", {value: true});
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[Object.keys(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[Object.keys(cb)[0]])((mod = {exports: {}}).exports, mod), mod.exports;
  };
  var __reExport = (target, module2, desc) => {
    if (module2 && typeof module2 === "object" || typeof module2 === "function") {
      for (let key of __getOwnPropNames(module2))
        if (!__hasOwnProp.call(target, key) && key !== "default")
          __defProp(target, key, {get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable});
    }
    return target;
  };
  var __toModule = (module2) => {
    return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? {get: () => module2.default, enumerable: true} : {value: module2, enumerable: true})), module2);
  };

  // src/worker/web-worker-inject.js
  var init_web_worker_inject = __esm({
    "src/worker/web-worker-inject.js"() {
      globalThis.WebAssembly.Instance = function() {
        throw new Error("Wasm is not allowed in scene runtimes");
      };
      globalThis.WebAssembly.Module = function() {
        throw new Error("Wasm is not allowed in scene runtimes");
      };
    }
  });

  // node_modules/@dcl/rpc/dist/types.js
  var require_types = __commonJS({
    "node_modules/@dcl/rpc/dist/types.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
    }
  });

  // node_modules/mitt/dist/mitt.js
  var require_mitt = __commonJS({
    "node_modules/mitt/dist/mitt.js"(exports2, module2) {
      init_web_worker_inject();
      module2.exports = function(n) {
        return {all: n = n || new Map(), on: function(e, t) {
          var i = n.get(e);
          i ? i.push(t) : n.set(e, [t]);
        }, off: function(e, t) {
          var i = n.get(e);
          i && (t ? i.splice(i.indexOf(t) >>> 0, 1) : n.set(e, []));
        }, emit: function(e, t) {
          var i = n.get(e);
          i && i.slice().map(function(n2) {
            n2(t);
          }), (i = n.get("*")) && i.slice().map(function(n2) {
            n2(e, t);
          });
        }};
      };
    }
  });

  // node_modules/@protobufjs/aspromise/index.js
  var require_aspromise = __commonJS({
    "node_modules/@protobufjs/aspromise/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = asPromise;
      function asPromise(fn, ctx) {
        var params = new Array(arguments.length - 1), offset = 0, index = 2, pending = true;
        while (index < arguments.length)
          params[offset++] = arguments[index++];
        return new Promise(function executor(resolve, reject) {
          params[offset] = function callback(err) {
            if (pending) {
              pending = false;
              if (err)
                reject(err);
              else {
                var params2 = new Array(arguments.length - 1), offset2 = 0;
                while (offset2 < params2.length)
                  params2[offset2++] = arguments[offset2];
                resolve.apply(null, params2);
              }
            }
          };
          try {
            fn.apply(ctx || null, params);
          } catch (err) {
            if (pending) {
              pending = false;
              reject(err);
            }
          }
        });
      }
    }
  });

  // node_modules/@protobufjs/base64/index.js
  var require_base64 = __commonJS({
    "node_modules/@protobufjs/base64/index.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var base64 = exports2;
      base64.length = function length(string) {
        var p = string.length;
        if (!p)
          return 0;
        var n = 0;
        while (--p % 4 > 1 && string.charAt(p) === "=")
          ++n;
        return Math.ceil(string.length * 3) / 4 - n;
      };
      var b64 = new Array(64);
      var s64 = new Array(123);
      for (var i = 0; i < 64; )
        s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;
      base64.encode = function encode(buffer, start, end) {
        var parts = null, chunk = [];
        var i2 = 0, j = 0, t;
        while (start < end) {
          var b = buffer[start++];
          switch (j) {
            case 0:
              chunk[i2++] = b64[b >> 2];
              t = (b & 3) << 4;
              j = 1;
              break;
            case 1:
              chunk[i2++] = b64[t | b >> 4];
              t = (b & 15) << 2;
              j = 2;
              break;
            case 2:
              chunk[i2++] = b64[t | b >> 6];
              chunk[i2++] = b64[b & 63];
              j = 0;
              break;
          }
          if (i2 > 8191) {
            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
            i2 = 0;
          }
        }
        if (j) {
          chunk[i2++] = b64[t];
          chunk[i2++] = 61;
          if (j === 1)
            chunk[i2++] = 61;
        }
        if (parts) {
          if (i2)
            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i2)));
          return parts.join("");
        }
        return String.fromCharCode.apply(String, chunk.slice(0, i2));
      };
      var invalidEncoding = "invalid encoding";
      base64.decode = function decode(string, buffer, offset) {
        var start = offset;
        var j = 0, t;
        for (var i2 = 0; i2 < string.length; ) {
          var c = string.charCodeAt(i2++);
          if (c === 61 && j > 1)
            break;
          if ((c = s64[c]) === void 0)
            throw Error(invalidEncoding);
          switch (j) {
            case 0:
              t = c;
              j = 1;
              break;
            case 1:
              buffer[offset++] = t << 2 | (c & 48) >> 4;
              t = c;
              j = 2;
              break;
            case 2:
              buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;
              t = c;
              j = 3;
              break;
            case 3:
              buffer[offset++] = (t & 3) << 6 | c;
              j = 0;
              break;
          }
        }
        if (j === 1)
          throw Error(invalidEncoding);
        return offset - start;
      };
      base64.test = function test(string) {
        return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
      };
    }
  });

  // node_modules/@protobufjs/eventemitter/index.js
  var require_eventemitter = __commonJS({
    "node_modules/@protobufjs/eventemitter/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = EventEmitter;
      function EventEmitter() {
        this._listeners = {};
      }
      EventEmitter.prototype.on = function on(evt, fn, ctx) {
        (this._listeners[evt] || (this._listeners[evt] = [])).push({
          fn,
          ctx: ctx || this
        });
        return this;
      };
      EventEmitter.prototype.off = function off(evt, fn) {
        if (evt === void 0)
          this._listeners = {};
        else {
          if (fn === void 0)
            this._listeners[evt] = [];
          else {
            var listeners = this._listeners[evt];
            for (var i = 0; i < listeners.length; )
              if (listeners[i].fn === fn)
                listeners.splice(i, 1);
              else
                ++i;
          }
        }
        return this;
      };
      EventEmitter.prototype.emit = function emit(evt) {
        var listeners = this._listeners[evt];
        if (listeners) {
          var args = [], i = 1;
          for (; i < arguments.length; )
            args.push(arguments[i++]);
          for (i = 0; i < listeners.length; )
            listeners[i].fn.apply(listeners[i++].ctx, args);
        }
        return this;
      };
    }
  });

  // node_modules/@protobufjs/float/index.js
  var require_float = __commonJS({
    "node_modules/@protobufjs/float/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = factory(factory);
      function factory(exports3) {
        if (typeof Float32Array !== "undefined")
          (function() {
            var f32 = new Float32Array([-0]), f8b = new Uint8Array(f32.buffer), le = f8b[3] === 128;
            function writeFloat_f32_cpy(val, buf, pos) {
              f32[0] = val;
              buf[pos] = f8b[0];
              buf[pos + 1] = f8b[1];
              buf[pos + 2] = f8b[2];
              buf[pos + 3] = f8b[3];
            }
            function writeFloat_f32_rev(val, buf, pos) {
              f32[0] = val;
              buf[pos] = f8b[3];
              buf[pos + 1] = f8b[2];
              buf[pos + 2] = f8b[1];
              buf[pos + 3] = f8b[0];
            }
            exports3.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
            exports3.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;
            function readFloat_f32_cpy(buf, pos) {
              f8b[0] = buf[pos];
              f8b[1] = buf[pos + 1];
              f8b[2] = buf[pos + 2];
              f8b[3] = buf[pos + 3];
              return f32[0];
            }
            function readFloat_f32_rev(buf, pos) {
              f8b[3] = buf[pos];
              f8b[2] = buf[pos + 1];
              f8b[1] = buf[pos + 2];
              f8b[0] = buf[pos + 3];
              return f32[0];
            }
            exports3.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
            exports3.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;
          })();
        else
          (function() {
            function writeFloat_ieee754(writeUint, val, buf, pos) {
              var sign = val < 0 ? 1 : 0;
              if (sign)
                val = -val;
              if (val === 0)
                writeUint(1 / val > 0 ? 0 : 2147483648, buf, pos);
              else if (isNaN(val))
                writeUint(2143289344, buf, pos);
              else if (val > 34028234663852886e22)
                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);
              else if (val < 11754943508222875e-54)
                writeUint((sign << 31 | Math.round(val / 1401298464324817e-60)) >>> 0, buf, pos);
              else {
                var exponent = Math.floor(Math.log(val) / Math.LN2), mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);
              }
            }
            exports3.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
            exports3.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);
            function readFloat_ieee754(readUint, buf, pos) {
              var uint = readUint(buf, pos), sign = (uint >> 31) * 2 + 1, exponent = uint >>> 23 & 255, mantissa = uint & 8388607;
              return exponent === 255 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 1401298464324817e-60 * mantissa : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
            }
            exports3.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
            exports3.readFloatBE = readFloat_ieee754.bind(null, readUintBE);
          })();
        if (typeof Float64Array !== "undefined")
          (function() {
            var f64 = new Float64Array([-0]), f8b = new Uint8Array(f64.buffer), le = f8b[7] === 128;
            function writeDouble_f64_cpy(val, buf, pos) {
              f64[0] = val;
              buf[pos] = f8b[0];
              buf[pos + 1] = f8b[1];
              buf[pos + 2] = f8b[2];
              buf[pos + 3] = f8b[3];
              buf[pos + 4] = f8b[4];
              buf[pos + 5] = f8b[5];
              buf[pos + 6] = f8b[6];
              buf[pos + 7] = f8b[7];
            }
            function writeDouble_f64_rev(val, buf, pos) {
              f64[0] = val;
              buf[pos] = f8b[7];
              buf[pos + 1] = f8b[6];
              buf[pos + 2] = f8b[5];
              buf[pos + 3] = f8b[4];
              buf[pos + 4] = f8b[3];
              buf[pos + 5] = f8b[2];
              buf[pos + 6] = f8b[1];
              buf[pos + 7] = f8b[0];
            }
            exports3.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
            exports3.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;
            function readDouble_f64_cpy(buf, pos) {
              f8b[0] = buf[pos];
              f8b[1] = buf[pos + 1];
              f8b[2] = buf[pos + 2];
              f8b[3] = buf[pos + 3];
              f8b[4] = buf[pos + 4];
              f8b[5] = buf[pos + 5];
              f8b[6] = buf[pos + 6];
              f8b[7] = buf[pos + 7];
              return f64[0];
            }
            function readDouble_f64_rev(buf, pos) {
              f8b[7] = buf[pos];
              f8b[6] = buf[pos + 1];
              f8b[5] = buf[pos + 2];
              f8b[4] = buf[pos + 3];
              f8b[3] = buf[pos + 4];
              f8b[2] = buf[pos + 5];
              f8b[1] = buf[pos + 6];
              f8b[0] = buf[pos + 7];
              return f64[0];
            }
            exports3.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
            exports3.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;
          })();
        else
          (function() {
            function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
              var sign = val < 0 ? 1 : 0;
              if (sign)
                val = -val;
              if (val === 0) {
                writeUint(0, buf, pos + off0);
                writeUint(1 / val > 0 ? 0 : 2147483648, buf, pos + off1);
              } else if (isNaN(val)) {
                writeUint(0, buf, pos + off0);
                writeUint(2146959360, buf, pos + off1);
              } else if (val > 17976931348623157e292) {
                writeUint(0, buf, pos + off0);
                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);
              } else {
                var mantissa;
                if (val < 22250738585072014e-324) {
                  mantissa = val / 5e-324;
                  writeUint(mantissa >>> 0, buf, pos + off0);
                  writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);
                } else {
                  var exponent = Math.floor(Math.log(val) / Math.LN2);
                  if (exponent === 1024)
                    exponent = 1023;
                  mantissa = val * Math.pow(2, -exponent);
                  writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);
                  writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);
                }
              }
            }
            exports3.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
            exports3.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);
            function readDouble_ieee754(readUint, off0, off1, buf, pos) {
              var lo = readUint(buf, pos + off0), hi = readUint(buf, pos + off1);
              var sign = (hi >> 31) * 2 + 1, exponent = hi >>> 20 & 2047, mantissa = 4294967296 * (hi & 1048575) + lo;
              return exponent === 2047 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 5e-324 * mantissa : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
            }
            exports3.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
            exports3.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);
          })();
        return exports3;
      }
      function writeUintLE(val, buf, pos) {
        buf[pos] = val & 255;
        buf[pos + 1] = val >>> 8 & 255;
        buf[pos + 2] = val >>> 16 & 255;
        buf[pos + 3] = val >>> 24;
      }
      function writeUintBE(val, buf, pos) {
        buf[pos] = val >>> 24;
        buf[pos + 1] = val >>> 16 & 255;
        buf[pos + 2] = val >>> 8 & 255;
        buf[pos + 3] = val & 255;
      }
      function readUintLE(buf, pos) {
        return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16 | buf[pos + 3] << 24) >>> 0;
      }
      function readUintBE(buf, pos) {
        return (buf[pos] << 24 | buf[pos + 1] << 16 | buf[pos + 2] << 8 | buf[pos + 3]) >>> 0;
      }
    }
  });

  // node_modules/@protobufjs/inquire/index.js
  var require_inquire = __commonJS({
    "node_modules/@protobufjs/inquire/index.js"(exports, module) {
      init_web_worker_inject();
      "use strict";
      module.exports = inquire;
      function inquire(moduleName) {
        try {
          var mod = eval("quire".replace(/^/, "re"))(moduleName);
          if (mod && (mod.length || Object.keys(mod).length))
            return mod;
        } catch (e) {
        }
        return null;
      }
    }
  });

  // node_modules/@protobufjs/utf8/index.js
  var require_utf8 = __commonJS({
    "node_modules/@protobufjs/utf8/index.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var utf8 = exports2;
      utf8.length = function utf8_length(string) {
        var len = 0, c = 0;
        for (var i = 0; i < string.length; ++i) {
          c = string.charCodeAt(i);
          if (c < 128)
            len += 1;
          else if (c < 2048)
            len += 2;
          else if ((c & 64512) === 55296 && (string.charCodeAt(i + 1) & 64512) === 56320) {
            ++i;
            len += 4;
          } else
            len += 3;
        }
        return len;
      };
      utf8.read = function utf8_read(buffer, start, end) {
        var len = end - start;
        if (len < 1)
          return "";
        var parts = null, chunk = [], i = 0, t;
        while (start < end) {
          t = buffer[start++];
          if (t < 128)
            chunk[i++] = t;
          else if (t > 191 && t < 224)
            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;
          else if (t > 239 && t < 365) {
            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 65536;
            chunk[i++] = 55296 + (t >> 10);
            chunk[i++] = 56320 + (t & 1023);
          } else
            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;
          if (i > 8191) {
            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
            i = 0;
          }
        }
        if (parts) {
          if (i)
            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
          return parts.join("");
        }
        return String.fromCharCode.apply(String, chunk.slice(0, i));
      };
      utf8.write = function utf8_write(string, buffer, offset) {
        var start = offset, c1, c2;
        for (var i = 0; i < string.length; ++i) {
          c1 = string.charCodeAt(i);
          if (c1 < 128) {
            buffer[offset++] = c1;
          } else if (c1 < 2048) {
            buffer[offset++] = c1 >> 6 | 192;
            buffer[offset++] = c1 & 63 | 128;
          } else if ((c1 & 64512) === 55296 && ((c2 = string.charCodeAt(i + 1)) & 64512) === 56320) {
            c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);
            ++i;
            buffer[offset++] = c1 >> 18 | 240;
            buffer[offset++] = c1 >> 12 & 63 | 128;
            buffer[offset++] = c1 >> 6 & 63 | 128;
            buffer[offset++] = c1 & 63 | 128;
          } else {
            buffer[offset++] = c1 >> 12 | 224;
            buffer[offset++] = c1 >> 6 & 63 | 128;
            buffer[offset++] = c1 & 63 | 128;
          }
        }
        return offset - start;
      };
    }
  });

  // node_modules/@protobufjs/pool/index.js
  var require_pool = __commonJS({
    "node_modules/@protobufjs/pool/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = pool;
      function pool(alloc, slice, size) {
        var SIZE = size || 8192;
        var MAX = SIZE >>> 1;
        var slab = null;
        var offset = SIZE;
        return function pool_alloc(size2) {
          if (size2 < 1 || size2 > MAX)
            return alloc(size2);
          if (offset + size2 > SIZE) {
            slab = alloc(SIZE);
            offset = 0;
          }
          var buf = slice.call(slab, offset, offset += size2);
          if (offset & 7)
            offset = (offset | 7) + 1;
          return buf;
        };
      }
    }
  });

  // node_modules/protobufjs/src/util/longbits.js
  var require_longbits = __commonJS({
    "node_modules/protobufjs/src/util/longbits.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = LongBits;
      var util = require_minimal();
      function LongBits(lo, hi) {
        this.lo = lo >>> 0;
        this.hi = hi >>> 0;
      }
      var zero = LongBits.zero = new LongBits(0, 0);
      zero.toNumber = function() {
        return 0;
      };
      zero.zzEncode = zero.zzDecode = function() {
        return this;
      };
      zero.length = function() {
        return 1;
      };
      var zeroHash = LongBits.zeroHash = "\0\0\0\0\0\0\0\0";
      LongBits.fromNumber = function fromNumber(value) {
        if (value === 0)
          return zero;
        var sign = value < 0;
        if (sign)
          value = -value;
        var lo = value >>> 0, hi = (value - lo) / 4294967296 >>> 0;
        if (sign) {
          hi = ~hi >>> 0;
          lo = ~lo >>> 0;
          if (++lo > 4294967295) {
            lo = 0;
            if (++hi > 4294967295)
              hi = 0;
          }
        }
        return new LongBits(lo, hi);
      };
      LongBits.from = function from(value) {
        if (typeof value === "number")
          return LongBits.fromNumber(value);
        if (util.isString(value)) {
          if (util.Long)
            value = util.Long.fromString(value);
          else
            return LongBits.fromNumber(parseInt(value, 10));
        }
        return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;
      };
      LongBits.prototype.toNumber = function toNumber(unsigned) {
        if (!unsigned && this.hi >>> 31) {
          var lo = ~this.lo + 1 >>> 0, hi = ~this.hi >>> 0;
          if (!lo)
            hi = hi + 1 >>> 0;
          return -(lo + hi * 4294967296);
        }
        return this.lo + this.hi * 4294967296;
      };
      LongBits.prototype.toLong = function toLong(unsigned) {
        return util.Long ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned)) : {low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned)};
      };
      var charCodeAt = String.prototype.charCodeAt;
      LongBits.fromHash = function fromHash(hash) {
        if (hash === zeroHash)
          return zero;
        return new LongBits((charCodeAt.call(hash, 0) | charCodeAt.call(hash, 1) << 8 | charCodeAt.call(hash, 2) << 16 | charCodeAt.call(hash, 3) << 24) >>> 0, (charCodeAt.call(hash, 4) | charCodeAt.call(hash, 5) << 8 | charCodeAt.call(hash, 6) << 16 | charCodeAt.call(hash, 7) << 24) >>> 0);
      };
      LongBits.prototype.toHash = function toHash() {
        return String.fromCharCode(this.lo & 255, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, this.hi & 255, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24);
      };
      LongBits.prototype.zzEncode = function zzEncode() {
        var mask = this.hi >> 31;
        this.hi = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;
        this.lo = (this.lo << 1 ^ mask) >>> 0;
        return this;
      };
      LongBits.prototype.zzDecode = function zzDecode() {
        var mask = -(this.lo & 1);
        this.lo = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;
        this.hi = (this.hi >>> 1 ^ mask) >>> 0;
        return this;
      };
      LongBits.prototype.length = function length() {
        var part0 = this.lo, part1 = (this.lo >>> 28 | this.hi << 4) >>> 0, part2 = this.hi >>> 24;
        return part2 === 0 ? part1 === 0 ? part0 < 16384 ? part0 < 128 ? 1 : 2 : part0 < 2097152 ? 3 : 4 : part1 < 16384 ? part1 < 128 ? 5 : 6 : part1 < 2097152 ? 7 : 8 : part2 < 128 ? 9 : 10;
      };
    }
  });

  // node_modules/protobufjs/src/util/minimal.js
  var require_minimal = __commonJS({
    "node_modules/protobufjs/src/util/minimal.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var util = exports2;
      util.asPromise = require_aspromise();
      util.base64 = require_base64();
      util.EventEmitter = require_eventemitter();
      util.float = require_float();
      util.inquire = require_inquire();
      util.utf8 = require_utf8();
      util.pool = require_pool();
      util.LongBits = require_longbits();
      util.isNode = Boolean(typeof global !== "undefined" && global && global.process && global.process.versions && global.process.versions.node);
      util.global = util.isNode && global || typeof window !== "undefined" && window || typeof self !== "undefined" && self || exports2;
      util.emptyArray = Object.freeze ? Object.freeze([]) : [];
      util.emptyObject = Object.freeze ? Object.freeze({}) : {};
      util.isInteger = Number.isInteger || function isInteger(value) {
        return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
      };
      util.isString = function isString(value) {
        return typeof value === "string" || value instanceof String;
      };
      util.isObject = function isObject4(value) {
        return value && typeof value === "object";
      };
      util.isset = util.isSet = function isSet19(obj, prop) {
        var value = obj[prop];
        if (value != null && obj.hasOwnProperty(prop))
          return typeof value !== "object" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;
        return false;
      };
      util.Buffer = function() {
        try {
          var Buffer2 = util.inquire("buffer").Buffer;
          return Buffer2.prototype.utf8Write ? Buffer2 : null;
        } catch (e) {
          return null;
        }
      }();
      util._Buffer_from = null;
      util._Buffer_allocUnsafe = null;
      util.newBuffer = function newBuffer(sizeOrArray) {
        return typeof sizeOrArray === "number" ? util.Buffer ? util._Buffer_allocUnsafe(sizeOrArray) : new util.Array(sizeOrArray) : util.Buffer ? util._Buffer_from(sizeOrArray) : typeof Uint8Array === "undefined" ? sizeOrArray : new Uint8Array(sizeOrArray);
      };
      util.Array = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
      util.Long = util.global.dcodeIO && util.global.dcodeIO.Long || util.global.Long || util.inquire("long");
      util.key2Re = /^true|false|0|1$/;
      util.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
      util.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
      util.longToHash = function longToHash(value) {
        return value ? util.LongBits.from(value).toHash() : util.LongBits.zeroHash;
      };
      util.longFromHash = function longFromHash(hash, unsigned) {
        var bits = util.LongBits.fromHash(hash);
        if (util.Long)
          return util.Long.fromBits(bits.lo, bits.hi, unsigned);
        return bits.toNumber(Boolean(unsigned));
      };
      function merge(dst, src, ifNotSet) {
        for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
          if (dst[keys[i]] === void 0 || !ifNotSet)
            dst[keys[i]] = src[keys[i]];
        return dst;
      }
      util.merge = merge;
      util.lcFirst = function lcFirst(str) {
        return str.charAt(0).toLowerCase() + str.substring(1);
      };
      function newError(name) {
        function CustomError(message, properties) {
          if (!(this instanceof CustomError))
            return new CustomError(message, properties);
          Object.defineProperty(this, "message", {get: function() {
            return message;
          }});
          if (Error.captureStackTrace)
            Error.captureStackTrace(this, CustomError);
          else
            Object.defineProperty(this, "stack", {value: new Error().stack || ""});
          if (properties)
            merge(this, properties);
        }
        (CustomError.prototype = Object.create(Error.prototype)).constructor = CustomError;
        Object.defineProperty(CustomError.prototype, "name", {get: function() {
          return name;
        }});
        CustomError.prototype.toString = function toString() {
          return this.name + ": " + this.message;
        };
        return CustomError;
      }
      util.newError = newError;
      util.ProtocolError = newError("ProtocolError");
      util.oneOfGetter = function getOneOf(fieldNames) {
        var fieldMap = {};
        for (var i = 0; i < fieldNames.length; ++i)
          fieldMap[fieldNames[i]] = 1;
        return function() {
          for (var keys = Object.keys(this), i2 = keys.length - 1; i2 > -1; --i2)
            if (fieldMap[keys[i2]] === 1 && this[keys[i2]] !== void 0 && this[keys[i2]] !== null)
              return keys[i2];
        };
      };
      util.oneOfSetter = function setOneOf(fieldNames) {
        return function(name) {
          for (var i = 0; i < fieldNames.length; ++i)
            if (fieldNames[i] !== name)
              delete this[fieldNames[i]];
        };
      };
      util.toJSONOptions = {
        longs: String,
        enums: String,
        bytes: String,
        json: true
      };
      util._configure = function() {
        var Buffer2 = util.Buffer;
        if (!Buffer2) {
          util._Buffer_from = util._Buffer_allocUnsafe = null;
          return;
        }
        util._Buffer_from = Buffer2.from !== Uint8Array.from && Buffer2.from || function Buffer_from(value, encoding) {
          return new Buffer2(value, encoding);
        };
        util._Buffer_allocUnsafe = Buffer2.allocUnsafe || function Buffer_allocUnsafe(size) {
          return new Buffer2(size);
        };
      };
    }
  });

  // node_modules/protobufjs/src/writer.js
  var require_writer = __commonJS({
    "node_modules/protobufjs/src/writer.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = Writer;
      var util = require_minimal();
      var BufferWriter;
      var LongBits = util.LongBits;
      var base64 = util.base64;
      var utf8 = util.utf8;
      function Op(fn, len, val) {
        this.fn = fn;
        this.len = len;
        this.next = void 0;
        this.val = val;
      }
      function noop() {
      }
      function State(writer) {
        this.head = writer.head;
        this.tail = writer.tail;
        this.len = writer.len;
        this.next = writer.states;
      }
      function Writer() {
        this.len = 0;
        this.head = new Op(noop, 0, 0);
        this.tail = this.head;
        this.states = null;
      }
      var create = function create2() {
        return util.Buffer ? function create_buffer_setup() {
          return (Writer.create = function create_buffer() {
            return new BufferWriter();
          })();
        } : function create_array() {
          return new Writer();
        };
      };
      Writer.create = create();
      Writer.alloc = function alloc(size) {
        return new util.Array(size);
      };
      if (util.Array !== Array)
        Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);
      Writer.prototype._push = function push(fn, len, val) {
        this.tail = this.tail.next = new Op(fn, len, val);
        this.len += len;
        return this;
      };
      function writeByte(val, buf, pos) {
        buf[pos] = val & 255;
      }
      function writeVarint32(val, buf, pos) {
        while (val > 127) {
          buf[pos++] = val & 127 | 128;
          val >>>= 7;
        }
        buf[pos] = val;
      }
      function VarintOp(len, val) {
        this.len = len;
        this.next = void 0;
        this.val = val;
      }
      VarintOp.prototype = Object.create(Op.prototype);
      VarintOp.prototype.fn = writeVarint32;
      Writer.prototype.uint32 = function write_uint32(value) {
        this.len += (this.tail = this.tail.next = new VarintOp((value = value >>> 0) < 128 ? 1 : value < 16384 ? 2 : value < 2097152 ? 3 : value < 268435456 ? 4 : 5, value)).len;
        return this;
      };
      Writer.prototype.int32 = function write_int32(value) {
        return value < 0 ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) : this.uint32(value);
      };
      Writer.prototype.sint32 = function write_sint32(value) {
        return this.uint32((value << 1 ^ value >> 31) >>> 0);
      };
      function writeVarint64(val, buf, pos) {
        while (val.hi) {
          buf[pos++] = val.lo & 127 | 128;
          val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;
          val.hi >>>= 7;
        }
        while (val.lo > 127) {
          buf[pos++] = val.lo & 127 | 128;
          val.lo = val.lo >>> 7;
        }
        buf[pos++] = val.lo;
      }
      Writer.prototype.uint64 = function write_uint64(value) {
        var bits = LongBits.from(value);
        return this._push(writeVarint64, bits.length(), bits);
      };
      Writer.prototype.int64 = Writer.prototype.uint64;
      Writer.prototype.sint64 = function write_sint64(value) {
        var bits = LongBits.from(value).zzEncode();
        return this._push(writeVarint64, bits.length(), bits);
      };
      Writer.prototype.bool = function write_bool(value) {
        return this._push(writeByte, 1, value ? 1 : 0);
      };
      function writeFixed32(val, buf, pos) {
        buf[pos] = val & 255;
        buf[pos + 1] = val >>> 8 & 255;
        buf[pos + 2] = val >>> 16 & 255;
        buf[pos + 3] = val >>> 24;
      }
      Writer.prototype.fixed32 = function write_fixed32(value) {
        return this._push(writeFixed32, 4, value >>> 0);
      };
      Writer.prototype.sfixed32 = Writer.prototype.fixed32;
      Writer.prototype.fixed64 = function write_fixed64(value) {
        var bits = LongBits.from(value);
        return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
      };
      Writer.prototype.sfixed64 = Writer.prototype.fixed64;
      Writer.prototype.float = function write_float(value) {
        return this._push(util.float.writeFloatLE, 4, value);
      };
      Writer.prototype.double = function write_double(value) {
        return this._push(util.float.writeDoubleLE, 8, value);
      };
      var writeBytes = util.Array.prototype.set ? function writeBytes_set(val, buf, pos) {
        buf.set(val, pos);
      } : function writeBytes_for(val, buf, pos) {
        for (var i = 0; i < val.length; ++i)
          buf[pos + i] = val[i];
      };
      Writer.prototype.bytes = function write_bytes(value) {
        var len = value.length >>> 0;
        if (!len)
          return this._push(writeByte, 1, 0);
        if (util.isString(value)) {
          var buf = Writer.alloc(len = base64.length(value));
          base64.decode(value, buf, 0);
          value = buf;
        }
        return this.uint32(len)._push(writeBytes, len, value);
      };
      Writer.prototype.string = function write_string(value) {
        var len = utf8.length(value);
        return len ? this.uint32(len)._push(utf8.write, len, value) : this._push(writeByte, 1, 0);
      };
      Writer.prototype.fork = function fork() {
        this.states = new State(this);
        this.head = this.tail = new Op(noop, 0, 0);
        this.len = 0;
        return this;
      };
      Writer.prototype.reset = function reset() {
        if (this.states) {
          this.head = this.states.head;
          this.tail = this.states.tail;
          this.len = this.states.len;
          this.states = this.states.next;
        } else {
          this.head = this.tail = new Op(noop, 0, 0);
          this.len = 0;
        }
        return this;
      };
      Writer.prototype.ldelim = function ldelim() {
        var head = this.head, tail = this.tail, len = this.len;
        this.reset().uint32(len);
        if (len) {
          this.tail.next = head.next;
          this.tail = tail;
          this.len += len;
        }
        return this;
      };
      Writer.prototype.finish = function finish() {
        var head = this.head.next, buf = this.constructor.alloc(this.len), pos = 0;
        while (head) {
          head.fn(head.val, buf, pos);
          pos += head.len;
          head = head.next;
        }
        return buf;
      };
      Writer._configure = function(BufferWriter_) {
        BufferWriter = BufferWriter_;
        Writer.create = create();
        BufferWriter._configure();
      };
    }
  });

  // node_modules/protobufjs/src/writer_buffer.js
  var require_writer_buffer = __commonJS({
    "node_modules/protobufjs/src/writer_buffer.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = BufferWriter;
      var Writer = require_writer();
      (BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
      var util = require_minimal();
      function BufferWriter() {
        Writer.call(this);
      }
      BufferWriter._configure = function() {
        BufferWriter.alloc = util._Buffer_allocUnsafe;
        BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === "set" ? function writeBytesBuffer_set(val, buf, pos) {
          buf.set(val, pos);
        } : function writeBytesBuffer_copy(val, buf, pos) {
          if (val.copy)
            val.copy(buf, pos, 0, val.length);
          else
            for (var i = 0; i < val.length; )
              buf[pos++] = val[i++];
        };
      };
      BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
        if (util.isString(value))
          value = util._Buffer_from(value, "base64");
        var len = value.length >>> 0;
        this.uint32(len);
        if (len)
          this._push(BufferWriter.writeBytesBuffer, len, value);
        return this;
      };
      function writeStringBuffer(val, buf, pos) {
        if (val.length < 40)
          util.utf8.write(val, buf, pos);
        else if (buf.utf8Write)
          buf.utf8Write(val, pos);
        else
          buf.write(val, pos);
      }
      BufferWriter.prototype.string = function write_string_buffer(value) {
        var len = util.Buffer.byteLength(value);
        this.uint32(len);
        if (len)
          this._push(writeStringBuffer, len, value);
        return this;
      };
      BufferWriter._configure();
    }
  });

  // node_modules/protobufjs/src/reader.js
  var require_reader = __commonJS({
    "node_modules/protobufjs/src/reader.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = Reader;
      var util = require_minimal();
      var BufferReader;
      var LongBits = util.LongBits;
      var utf8 = util.utf8;
      function indexOutOfRange(reader, writeLength) {
        return RangeError("index out of range: " + reader.pos + " + " + (writeLength || 1) + " > " + reader.len);
      }
      function Reader(buffer) {
        this.buf = buffer;
        this.pos = 0;
        this.len = buffer.length;
      }
      var create_array = typeof Uint8Array !== "undefined" ? function create_typed_array(buffer) {
        if (buffer instanceof Uint8Array || Array.isArray(buffer))
          return new Reader(buffer);
        throw Error("illegal buffer");
      } : function create_array2(buffer) {
        if (Array.isArray(buffer))
          return new Reader(buffer);
        throw Error("illegal buffer");
      };
      var create = function create2() {
        return util.Buffer ? function create_buffer_setup(buffer) {
          return (Reader.create = function create_buffer(buffer2) {
            return util.Buffer.isBuffer(buffer2) ? new BufferReader(buffer2) : create_array(buffer2);
          })(buffer);
        } : create_array;
      };
      Reader.create = create();
      Reader.prototype._slice = util.Array.prototype.subarray || util.Array.prototype.slice;
      Reader.prototype.uint32 = function read_uint32_setup() {
        var value = 4294967295;
        return function read_uint32() {
          value = (this.buf[this.pos] & 127) >>> 0;
          if (this.buf[this.pos++] < 128)
            return value;
          value = (value | (this.buf[this.pos] & 127) << 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return value;
          value = (value | (this.buf[this.pos] & 127) << 14) >>> 0;
          if (this.buf[this.pos++] < 128)
            return value;
          value = (value | (this.buf[this.pos] & 127) << 21) >>> 0;
          if (this.buf[this.pos++] < 128)
            return value;
          value = (value | (this.buf[this.pos] & 15) << 28) >>> 0;
          if (this.buf[this.pos++] < 128)
            return value;
          if ((this.pos += 5) > this.len) {
            this.pos = this.len;
            throw indexOutOfRange(this, 10);
          }
          return value;
        };
      }();
      Reader.prototype.int32 = function read_int32() {
        return this.uint32() | 0;
      };
      Reader.prototype.sint32 = function read_sint32() {
        var value = this.uint32();
        return value >>> 1 ^ -(value & 1) | 0;
      };
      function readLongVarint() {
        var bits = new LongBits(0, 0);
        var i = 0;
        if (this.len - this.pos > 4) {
          for (; i < 4; ++i) {
            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
            if (this.buf[this.pos++] < 128)
              return bits;
          }
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) >> 4) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
          i = 0;
        } else {
          for (; i < 3; ++i) {
            if (this.pos >= this.len)
              throw indexOutOfRange(this);
            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
            if (this.buf[this.pos++] < 128)
              return bits;
          }
          bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;
          return bits;
        }
        if (this.len - this.pos > 4) {
          for (; i < 5; ++i) {
            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
            if (this.buf[this.pos++] < 128)
              return bits;
          }
        } else {
          for (; i < 5; ++i) {
            if (this.pos >= this.len)
              throw indexOutOfRange(this);
            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
            if (this.buf[this.pos++] < 128)
              return bits;
          }
        }
        throw Error("invalid varint encoding");
      }
      Reader.prototype.bool = function read_bool() {
        return this.uint32() !== 0;
      };
      function readFixed32_end(buf, end) {
        return (buf[end - 4] | buf[end - 3] << 8 | buf[end - 2] << 16 | buf[end - 1] << 24) >>> 0;
      }
      Reader.prototype.fixed32 = function read_fixed32() {
        if (this.pos + 4 > this.len)
          throw indexOutOfRange(this, 4);
        return readFixed32_end(this.buf, this.pos += 4);
      };
      Reader.prototype.sfixed32 = function read_sfixed32() {
        if (this.pos + 4 > this.len)
          throw indexOutOfRange(this, 4);
        return readFixed32_end(this.buf, this.pos += 4) | 0;
      };
      function readFixed64() {
        if (this.pos + 8 > this.len)
          throw indexOutOfRange(this, 8);
        return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));
      }
      Reader.prototype.float = function read_float() {
        if (this.pos + 4 > this.len)
          throw indexOutOfRange(this, 4);
        var value = util.float.readFloatLE(this.buf, this.pos);
        this.pos += 4;
        return value;
      };
      Reader.prototype.double = function read_double() {
        if (this.pos + 8 > this.len)
          throw indexOutOfRange(this, 4);
        var value = util.float.readDoubleLE(this.buf, this.pos);
        this.pos += 8;
        return value;
      };
      Reader.prototype.bytes = function read_bytes() {
        var length = this.uint32(), start = this.pos, end = this.pos + length;
        if (end > this.len)
          throw indexOutOfRange(this, length);
        this.pos += length;
        if (Array.isArray(this.buf))
          return this.buf.slice(start, end);
        return start === end ? new this.buf.constructor(0) : this._slice.call(this.buf, start, end);
      };
      Reader.prototype.string = function read_string() {
        var bytes = this.bytes();
        return utf8.read(bytes, 0, bytes.length);
      };
      Reader.prototype.skip = function skip(length) {
        if (typeof length === "number") {
          if (this.pos + length > this.len)
            throw indexOutOfRange(this, length);
          this.pos += length;
        } else {
          do {
            if (this.pos >= this.len)
              throw indexOutOfRange(this);
          } while (this.buf[this.pos++] & 128);
        }
        return this;
      };
      Reader.prototype.skipType = function(wireType) {
        switch (wireType) {
          case 0:
            this.skip();
            break;
          case 1:
            this.skip(8);
            break;
          case 2:
            this.skip(this.uint32());
            break;
          case 3:
            while ((wireType = this.uint32() & 7) !== 4) {
              this.skipType(wireType);
            }
            break;
          case 5:
            this.skip(4);
            break;
          default:
            throw Error("invalid wire type " + wireType + " at offset " + this.pos);
        }
        return this;
      };
      Reader._configure = function(BufferReader_) {
        BufferReader = BufferReader_;
        Reader.create = create();
        BufferReader._configure();
        var fn = util.Long ? "toLong" : "toNumber";
        util.merge(Reader.prototype, {
          int64: function read_int64() {
            return readLongVarint.call(this)[fn](false);
          },
          uint64: function read_uint64() {
            return readLongVarint.call(this)[fn](true);
          },
          sint64: function read_sint64() {
            return readLongVarint.call(this).zzDecode()[fn](false);
          },
          fixed64: function read_fixed64() {
            return readFixed64.call(this)[fn](true);
          },
          sfixed64: function read_sfixed64() {
            return readFixed64.call(this)[fn](false);
          }
        });
      };
    }
  });

  // node_modules/protobufjs/src/reader_buffer.js
  var require_reader_buffer = __commonJS({
    "node_modules/protobufjs/src/reader_buffer.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = BufferReader;
      var Reader = require_reader();
      (BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
      var util = require_minimal();
      function BufferReader(buffer) {
        Reader.call(this, buffer);
      }
      BufferReader._configure = function() {
        if (util.Buffer)
          BufferReader.prototype._slice = util.Buffer.prototype.slice;
      };
      BufferReader.prototype.string = function read_string_buffer() {
        var len = this.uint32();
        return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + len, this.len));
      };
      BufferReader._configure();
    }
  });

  // node_modules/protobufjs/src/rpc/service.js
  var require_service = __commonJS({
    "node_modules/protobufjs/src/rpc/service.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = Service;
      var util = require_minimal();
      (Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;
      function Service(rpcImpl, requestDelimited, responseDelimited) {
        if (typeof rpcImpl !== "function")
          throw TypeError("rpcImpl must be a function");
        util.EventEmitter.call(this);
        this.rpcImpl = rpcImpl;
        this.requestDelimited = Boolean(requestDelimited);
        this.responseDelimited = Boolean(responseDelimited);
      }
      Service.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {
        if (!request)
          throw TypeError("request must be specified");
        var self2 = this;
        if (!callback)
          return util.asPromise(rpcCall, self2, method, requestCtor, responseCtor, request);
        if (!self2.rpcImpl) {
          setTimeout(function() {
            callback(Error("already ended"));
          }, 0);
          return void 0;
        }
        try {
          return self2.rpcImpl(method, requestCtor[self2.requestDelimited ? "encodeDelimited" : "encode"](request).finish(), function rpcCallback(err, response) {
            if (err) {
              self2.emit("error", err, method);
              return callback(err);
            }
            if (response === null) {
              self2.end(true);
              return void 0;
            }
            if (!(response instanceof responseCtor)) {
              try {
                response = responseCtor[self2.responseDelimited ? "decodeDelimited" : "decode"](response);
              } catch (err2) {
                self2.emit("error", err2, method);
                return callback(err2);
              }
            }
            self2.emit("data", response, method);
            return callback(null, response);
          });
        } catch (err) {
          self2.emit("error", err, method);
          setTimeout(function() {
            callback(err);
          }, 0);
          return void 0;
        }
      };
      Service.prototype.end = function end(endedByRPC) {
        if (this.rpcImpl) {
          if (!endedByRPC)
            this.rpcImpl(null, null, null);
          this.rpcImpl = null;
          this.emit("end").off();
        }
        return this;
      };
    }
  });

  // node_modules/protobufjs/src/rpc.js
  var require_rpc = __commonJS({
    "node_modules/protobufjs/src/rpc.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var rpc = exports2;
      rpc.Service = require_service();
    }
  });

  // node_modules/protobufjs/src/roots.js
  var require_roots = __commonJS({
    "node_modules/protobufjs/src/roots.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = {};
    }
  });

  // node_modules/protobufjs/src/index-minimal.js
  var require_index_minimal = __commonJS({
    "node_modules/protobufjs/src/index-minimal.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var protobuf = exports2;
      protobuf.build = "minimal";
      protobuf.Writer = require_writer();
      protobuf.BufferWriter = require_writer_buffer();
      protobuf.Reader = require_reader();
      protobuf.BufferReader = require_reader_buffer();
      protobuf.util = require_minimal();
      protobuf.rpc = require_rpc();
      protobuf.roots = require_roots();
      protobuf.configure = configure;
      function configure() {
        protobuf.util._configure();
        protobuf.Writer._configure(protobuf.BufferWriter);
        protobuf.Reader._configure(protobuf.BufferReader);
      }
      configure();
    }
  });

  // node_modules/protobufjs/minimal.js
  var require_minimal2 = __commonJS({
    "node_modules/protobufjs/minimal.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = require_index_minimal();
    }
  });

  // node_modules/@dcl/rpc/dist/protocol/index.js
  var require_protocol = __commonJS({
    "node_modules/@dcl/rpc/dist/protocol/index.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var __importDefault = exports2 && exports2.__importDefault || function(mod) {
        return mod && mod.__esModule ? mod : {"default": mod};
      };
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.StreamMessage = exports2.Response = exports2.RemoteError = exports2.Request = exports2.ModuleProcedure = exports2.DestroyPort = exports2.RequestModuleResponse = exports2.RequestModule = exports2.CreatePortResponse = exports2.CreatePort = exports2.RpcMessageHeader = exports2.rpcMessageTypesToJSON = exports2.rpcMessageTypesFromJSON = exports2.RpcMessageTypes = exports2.protobufPackage = void 0;
      var minimal_1 = __importDefault(require_minimal2());
      exports2.protobufPackage = "";
      var RpcMessageTypes;
      (function(RpcMessageTypes2) {
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_EMPTY"] = 0] = "RpcMessageTypes_EMPTY";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_REQUEST"] = 1] = "RpcMessageTypes_REQUEST";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_RESPONSE"] = 2] = "RpcMessageTypes_RESPONSE";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_STREAM_MESSAGE"] = 3] = "RpcMessageTypes_STREAM_MESSAGE";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_STREAM_ACK"] = 4] = "RpcMessageTypes_STREAM_ACK";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_CREATE_PORT"] = 5] = "RpcMessageTypes_CREATE_PORT";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_CREATE_PORT_RESPONSE"] = 6] = "RpcMessageTypes_CREATE_PORT_RESPONSE";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_REQUEST_MODULE"] = 7] = "RpcMessageTypes_REQUEST_MODULE";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_REQUEST_MODULE_RESPONSE"] = 8] = "RpcMessageTypes_REQUEST_MODULE_RESPONSE";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_REMOTE_ERROR_RESPONSE"] = 9] = "RpcMessageTypes_REMOTE_ERROR_RESPONSE";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_DESTROY_PORT"] = 10] = "RpcMessageTypes_DESTROY_PORT";
        RpcMessageTypes2[RpcMessageTypes2["RpcMessageTypes_SERVER_READY"] = 11] = "RpcMessageTypes_SERVER_READY";
        RpcMessageTypes2[RpcMessageTypes2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
      })(RpcMessageTypes = exports2.RpcMessageTypes || (exports2.RpcMessageTypes = {}));
      function rpcMessageTypesFromJSON(object) {
        switch (object) {
          case 0:
          case "RpcMessageTypes_EMPTY":
            return RpcMessageTypes.RpcMessageTypes_EMPTY;
          case 1:
          case "RpcMessageTypes_REQUEST":
            return RpcMessageTypes.RpcMessageTypes_REQUEST;
          case 2:
          case "RpcMessageTypes_RESPONSE":
            return RpcMessageTypes.RpcMessageTypes_RESPONSE;
          case 3:
          case "RpcMessageTypes_STREAM_MESSAGE":
            return RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE;
          case 4:
          case "RpcMessageTypes_STREAM_ACK":
            return RpcMessageTypes.RpcMessageTypes_STREAM_ACK;
          case 5:
          case "RpcMessageTypes_CREATE_PORT":
            return RpcMessageTypes.RpcMessageTypes_CREATE_PORT;
          case 6:
          case "RpcMessageTypes_CREATE_PORT_RESPONSE":
            return RpcMessageTypes.RpcMessageTypes_CREATE_PORT_RESPONSE;
          case 7:
          case "RpcMessageTypes_REQUEST_MODULE":
            return RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE;
          case 8:
          case "RpcMessageTypes_REQUEST_MODULE_RESPONSE":
            return RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE_RESPONSE;
          case 9:
          case "RpcMessageTypes_REMOTE_ERROR_RESPONSE":
            return RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE;
          case 10:
          case "RpcMessageTypes_DESTROY_PORT":
            return RpcMessageTypes.RpcMessageTypes_DESTROY_PORT;
          case 11:
          case "RpcMessageTypes_SERVER_READY":
            return RpcMessageTypes.RpcMessageTypes_SERVER_READY;
          case -1:
          case "UNRECOGNIZED":
          default:
            return RpcMessageTypes.UNRECOGNIZED;
        }
      }
      exports2.rpcMessageTypesFromJSON = rpcMessageTypesFromJSON;
      function rpcMessageTypesToJSON(object) {
        switch (object) {
          case RpcMessageTypes.RpcMessageTypes_EMPTY:
            return "RpcMessageTypes_EMPTY";
          case RpcMessageTypes.RpcMessageTypes_REQUEST:
            return "RpcMessageTypes_REQUEST";
          case RpcMessageTypes.RpcMessageTypes_RESPONSE:
            return "RpcMessageTypes_RESPONSE";
          case RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE:
            return "RpcMessageTypes_STREAM_MESSAGE";
          case RpcMessageTypes.RpcMessageTypes_STREAM_ACK:
            return "RpcMessageTypes_STREAM_ACK";
          case RpcMessageTypes.RpcMessageTypes_CREATE_PORT:
            return "RpcMessageTypes_CREATE_PORT";
          case RpcMessageTypes.RpcMessageTypes_CREATE_PORT_RESPONSE:
            return "RpcMessageTypes_CREATE_PORT_RESPONSE";
          case RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE:
            return "RpcMessageTypes_REQUEST_MODULE";
          case RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE_RESPONSE:
            return "RpcMessageTypes_REQUEST_MODULE_RESPONSE";
          case RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE:
            return "RpcMessageTypes_REMOTE_ERROR_RESPONSE";
          case RpcMessageTypes.RpcMessageTypes_DESTROY_PORT:
            return "RpcMessageTypes_DESTROY_PORT";
          case RpcMessageTypes.RpcMessageTypes_SERVER_READY:
            return "RpcMessageTypes_SERVER_READY";
          case RpcMessageTypes.UNRECOGNIZED:
          default:
            return "UNRECOGNIZED";
        }
      }
      exports2.rpcMessageTypesToJSON = rpcMessageTypesToJSON;
      function createBaseRpcMessageHeader() {
        return {messageIdentifier: 0};
      }
      exports2.RpcMessageHeader = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseRpcMessageHeader();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0};
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          return obj;
        },
        fromPartial(object) {
          var _a;
          const message = createBaseRpcMessageHeader();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          return message;
        }
      };
      function createBaseCreatePort() {
        return {messageIdentifier: 0, portName: ""};
      }
      exports2.CreatePort = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portName !== "") {
            writer.uint32(34).string(message.portName);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseCreatePort();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 4:
                message.portName = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portName: isSet19(object.portName) ? String(object.portName) : ""
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portName !== void 0 && (obj.portName = message.portName);
          return obj;
        },
        fromPartial(object) {
          var _a, _b;
          const message = createBaseCreatePort();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portName = (_b = object.portName) !== null && _b !== void 0 ? _b : "";
          return message;
        }
      };
      function createBaseCreatePortResponse() {
        return {messageIdentifier: 0, portId: 0};
      }
      exports2.CreatePortResponse = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portId !== 0) {
            writer.uint32(21).fixed32(message.portId);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseCreatePortResponse();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.portId = reader.fixed32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portId: isSet19(object.portId) ? Number(object.portId) : 0
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portId !== void 0 && (obj.portId = Math.round(message.portId));
          return obj;
        },
        fromPartial(object) {
          var _a, _b;
          const message = createBaseCreatePortResponse();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portId = (_b = object.portId) !== null && _b !== void 0 ? _b : 0;
          return message;
        }
      };
      function createBaseRequestModule() {
        return {messageIdentifier: 0, portId: 0, moduleName: ""};
      }
      exports2.RequestModule = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portId !== 0) {
            writer.uint32(21).fixed32(message.portId);
          }
          if (message.moduleName !== "") {
            writer.uint32(34).string(message.moduleName);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseRequestModule();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.portId = reader.fixed32();
                break;
              case 4:
                message.moduleName = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portId: isSet19(object.portId) ? Number(object.portId) : 0,
            moduleName: isSet19(object.moduleName) ? String(object.moduleName) : ""
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portId !== void 0 && (obj.portId = Math.round(message.portId));
          message.moduleName !== void 0 && (obj.moduleName = message.moduleName);
          return obj;
        },
        fromPartial(object) {
          var _a, _b, _c;
          const message = createBaseRequestModule();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portId = (_b = object.portId) !== null && _b !== void 0 ? _b : 0;
          message.moduleName = (_c = object.moduleName) !== null && _c !== void 0 ? _c : "";
          return message;
        }
      };
      function createBaseRequestModuleResponse() {
        return {messageIdentifier: 0, portId: 0, procedures: []};
      }
      exports2.RequestModuleResponse = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portId !== 0) {
            writer.uint32(21).fixed32(message.portId);
          }
          for (const v of message.procedures) {
            exports2.ModuleProcedure.encode(v, writer.uint32(42).fork()).ldelim();
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseRequestModuleResponse();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.portId = reader.fixed32();
                break;
              case 5:
                message.procedures.push(exports2.ModuleProcedure.decode(reader, reader.uint32()));
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portId: isSet19(object.portId) ? Number(object.portId) : 0,
            procedures: Array.isArray(object === null || object === void 0 ? void 0 : object.procedures) ? object.procedures.map((e) => exports2.ModuleProcedure.fromJSON(e)) : []
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portId !== void 0 && (obj.portId = Math.round(message.portId));
          if (message.procedures) {
            obj.procedures = message.procedures.map((e) => e ? exports2.ModuleProcedure.toJSON(e) : void 0);
          } else {
            obj.procedures = [];
          }
          return obj;
        },
        fromPartial(object) {
          var _a, _b, _c;
          const message = createBaseRequestModuleResponse();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portId = (_b = object.portId) !== null && _b !== void 0 ? _b : 0;
          message.procedures = ((_c = object.procedures) === null || _c === void 0 ? void 0 : _c.map((e) => exports2.ModuleProcedure.fromPartial(e))) || [];
          return message;
        }
      };
      function createBaseDestroyPort() {
        return {messageIdentifier: 0, portId: 0};
      }
      exports2.DestroyPort = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portId !== 0) {
            writer.uint32(21).fixed32(message.portId);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseDestroyPort();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.portId = reader.fixed32();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portId: isSet19(object.portId) ? Number(object.portId) : 0
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portId !== void 0 && (obj.portId = Math.round(message.portId));
          return obj;
        },
        fromPartial(object) {
          var _a, _b;
          const message = createBaseDestroyPort();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portId = (_b = object.portId) !== null && _b !== void 0 ? _b : 0;
          return message;
        }
      };
      function createBaseModuleProcedure() {
        return {procedureId: 0, procedureName: ""};
      }
      exports2.ModuleProcedure = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.procedureId !== 0) {
            writer.uint32(13).fixed32(message.procedureId);
          }
          if (message.procedureName !== "") {
            writer.uint32(18).string(message.procedureName);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseModuleProcedure();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.procedureId = reader.fixed32();
                break;
              case 2:
                message.procedureName = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            procedureId: isSet19(object.procedureId) ? Number(object.procedureId) : 0,
            procedureName: isSet19(object.procedureName) ? String(object.procedureName) : ""
          };
        },
        toJSON(message) {
          const obj = {};
          message.procedureId !== void 0 && (obj.procedureId = Math.round(message.procedureId));
          message.procedureName !== void 0 && (obj.procedureName = message.procedureName);
          return obj;
        },
        fromPartial(object) {
          var _a, _b;
          const message = createBaseModuleProcedure();
          message.procedureId = (_a = object.procedureId) !== null && _a !== void 0 ? _a : 0;
          message.procedureName = (_b = object.procedureName) !== null && _b !== void 0 ? _b : "";
          return message;
        }
      };
      function createBaseRequest() {
        return {messageIdentifier: 0, portId: 0, procedureId: 0, clientStream: 0, payload: new Uint8Array()};
      }
      exports2.Request = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portId !== 0) {
            writer.uint32(21).fixed32(message.portId);
          }
          if (message.procedureId !== 0) {
            writer.uint32(37).fixed32(message.procedureId);
          }
          if (message.clientStream !== 0) {
            writer.uint32(45).fixed32(message.clientStream);
          }
          if (message.payload.length !== 0) {
            writer.uint32(50).bytes(message.payload);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseRequest();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.portId = reader.fixed32();
                break;
              case 4:
                message.procedureId = reader.fixed32();
                break;
              case 5:
                message.clientStream = reader.fixed32();
                break;
              case 6:
                message.payload = reader.bytes();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portId: isSet19(object.portId) ? Number(object.portId) : 0,
            procedureId: isSet19(object.procedureId) ? Number(object.procedureId) : 0,
            clientStream: isSet19(object.clientStream) ? Number(object.clientStream) : 0,
            payload: isSet19(object.payload) ? bytesFromBase642(object.payload) : new Uint8Array()
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portId !== void 0 && (obj.portId = Math.round(message.portId));
          message.procedureId !== void 0 && (obj.procedureId = Math.round(message.procedureId));
          message.clientStream !== void 0 && (obj.clientStream = Math.round(message.clientStream));
          message.payload !== void 0 && (obj.payload = base64FromBytes2(message.payload !== void 0 ? message.payload : new Uint8Array()));
          return obj;
        },
        fromPartial(object) {
          var _a, _b, _c, _d, _e;
          const message = createBaseRequest();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portId = (_b = object.portId) !== null && _b !== void 0 ? _b : 0;
          message.procedureId = (_c = object.procedureId) !== null && _c !== void 0 ? _c : 0;
          message.clientStream = (_d = object.clientStream) !== null && _d !== void 0 ? _d : 0;
          message.payload = (_e = object.payload) !== null && _e !== void 0 ? _e : new Uint8Array();
          return message;
        }
      };
      function createBaseRemoteError() {
        return {messageIdentifier: 0, errorCode: 0, errorMessage: ""};
      }
      exports2.RemoteError = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.errorCode !== 0) {
            writer.uint32(21).fixed32(message.errorCode);
          }
          if (message.errorMessage !== "") {
            writer.uint32(26).string(message.errorMessage);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseRemoteError();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.errorCode = reader.fixed32();
                break;
              case 3:
                message.errorMessage = reader.string();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            errorCode: isSet19(object.errorCode) ? Number(object.errorCode) : 0,
            errorMessage: isSet19(object.errorMessage) ? String(object.errorMessage) : ""
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.errorCode !== void 0 && (obj.errorCode = Math.round(message.errorCode));
          message.errorMessage !== void 0 && (obj.errorMessage = message.errorMessage);
          return obj;
        },
        fromPartial(object) {
          var _a, _b, _c;
          const message = createBaseRemoteError();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.errorCode = (_b = object.errorCode) !== null && _b !== void 0 ? _b : 0;
          message.errorMessage = (_c = object.errorMessage) !== null && _c !== void 0 ? _c : "";
          return message;
        }
      };
      function createBaseResponse() {
        return {messageIdentifier: 0, payload: new Uint8Array()};
      }
      exports2.Response = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.payload.length !== 0) {
            writer.uint32(50).bytes(message.payload);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseResponse();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 6:
                message.payload = reader.bytes();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            payload: isSet19(object.payload) ? bytesFromBase642(object.payload) : new Uint8Array()
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.payload !== void 0 && (obj.payload = base64FromBytes2(message.payload !== void 0 ? message.payload : new Uint8Array()));
          return obj;
        },
        fromPartial(object) {
          var _a, _b;
          const message = createBaseResponse();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.payload = (_b = object.payload) !== null && _b !== void 0 ? _b : new Uint8Array();
          return message;
        }
      };
      function createBaseStreamMessage() {
        return {messageIdentifier: 0, portId: 0, sequenceId: 0, payload: new Uint8Array(), closed: false, ack: false};
      }
      exports2.StreamMessage = {
        encode(message, writer = minimal_1.default.Writer.create()) {
          if (message.messageIdentifier !== 0) {
            writer.uint32(13).fixed32(message.messageIdentifier);
          }
          if (message.portId !== 0) {
            writer.uint32(21).fixed32(message.portId);
          }
          if (message.sequenceId !== 0) {
            writer.uint32(37).fixed32(message.sequenceId);
          }
          if (message.payload.length !== 0) {
            writer.uint32(50).bytes(message.payload);
          }
          if (message.closed === true) {
            writer.uint32(56).bool(message.closed);
          }
          if (message.ack === true) {
            writer.uint32(64).bool(message.ack);
          }
          return writer;
        },
        decode(input, length) {
          const reader = input instanceof minimal_1.default.Reader ? input : new minimal_1.default.Reader(input);
          let end = length === void 0 ? reader.len : reader.pos + length;
          const message = createBaseStreamMessage();
          while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
              case 1:
                message.messageIdentifier = reader.fixed32();
                break;
              case 2:
                message.portId = reader.fixed32();
                break;
              case 4:
                message.sequenceId = reader.fixed32();
                break;
              case 6:
                message.payload = reader.bytes();
                break;
              case 7:
                message.closed = reader.bool();
                break;
              case 8:
                message.ack = reader.bool();
                break;
              default:
                reader.skipType(tag & 7);
                break;
            }
          }
          return message;
        },
        fromJSON(object) {
          return {
            messageIdentifier: isSet19(object.messageIdentifier) ? Number(object.messageIdentifier) : 0,
            portId: isSet19(object.portId) ? Number(object.portId) : 0,
            sequenceId: isSet19(object.sequenceId) ? Number(object.sequenceId) : 0,
            payload: isSet19(object.payload) ? bytesFromBase642(object.payload) : new Uint8Array(),
            closed: isSet19(object.closed) ? Boolean(object.closed) : false,
            ack: isSet19(object.ack) ? Boolean(object.ack) : false
          };
        },
        toJSON(message) {
          const obj = {};
          message.messageIdentifier !== void 0 && (obj.messageIdentifier = Math.round(message.messageIdentifier));
          message.portId !== void 0 && (obj.portId = Math.round(message.portId));
          message.sequenceId !== void 0 && (obj.sequenceId = Math.round(message.sequenceId));
          message.payload !== void 0 && (obj.payload = base64FromBytes2(message.payload !== void 0 ? message.payload : new Uint8Array()));
          message.closed !== void 0 && (obj.closed = message.closed);
          message.ack !== void 0 && (obj.ack = message.ack);
          return obj;
        },
        fromPartial(object) {
          var _a, _b, _c, _d, _e, _f;
          const message = createBaseStreamMessage();
          message.messageIdentifier = (_a = object.messageIdentifier) !== null && _a !== void 0 ? _a : 0;
          message.portId = (_b = object.portId) !== null && _b !== void 0 ? _b : 0;
          message.sequenceId = (_c = object.sequenceId) !== null && _c !== void 0 ? _c : 0;
          message.payload = (_d = object.payload) !== null && _d !== void 0 ? _d : new Uint8Array();
          message.closed = (_e = object.closed) !== null && _e !== void 0 ? _e : false;
          message.ack = (_f = object.ack) !== null && _f !== void 0 ? _f : false;
          return message;
        }
      };
      var globalThis4 = (() => {
        if (typeof globalThis4 !== "undefined") {
          return globalThis4;
        }
        if (typeof self !== "undefined") {
          return self;
        }
        if (typeof window !== "undefined") {
          return window;
        }
        if (typeof global !== "undefined") {
          return global;
        }
        throw "Unable to locate global object";
      })();
      function bytesFromBase642(b64) {
        if (globalThis4.Buffer) {
          return Uint8Array.from(globalThis4.Buffer.from(b64, "base64"));
        } else {
          const bin = globalThis4.atob(b64);
          const arr = new Uint8Array(bin.length);
          for (let i = 0; i < bin.length; ++i) {
            arr[i] = bin.charCodeAt(i);
          }
          return arr;
        }
      }
      function base64FromBytes2(arr) {
        if (globalThis4.Buffer) {
          return globalThis4.Buffer.from(arr).toString("base64");
        } else {
          const bin = [];
          arr.forEach((byte) => {
            bin.push(String.fromCharCode(byte));
          });
          return globalThis4.btoa(bin.join(""));
        }
      }
      function isSet19(value) {
        return value !== null && value !== void 0;
      }
    }
  });

  // node_modules/@dcl/rpc/dist/protocol/helpers.js
  var require_helpers = __commonJS({
    "node_modules/@dcl/rpc/dist/protocol/helpers.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.parseProtocolMessage = exports2.calculateMessageIdentifier = exports2.parseMessageIdentifier = exports2.streamAckMessage = exports2.streamMessage = exports2.closeStreamMessage = void 0;
      var minimal_1 = require_minimal2();
      var index_1 = require_protocol();
      var bb = new minimal_1.Writer();
      var EMPTY_U8A = Uint8Array.of();
      function closeStreamMessage(messageNumber, sequenceId, portId) {
        bb.reset();
        index_1.StreamMessage.encode({
          messageIdentifier: calculateMessageIdentifier(index_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE, messageNumber),
          sequenceId,
          portId,
          ack: false,
          closed: true,
          payload: EMPTY_U8A
        }, bb);
        return bb.finish();
      }
      exports2.closeStreamMessage = closeStreamMessage;
      function streamMessage(messageNumber, sequenceId, portId, payload) {
        bb.reset();
        index_1.StreamMessage.encode({
          messageIdentifier: calculateMessageIdentifier(index_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE, messageNumber),
          sequenceId,
          portId,
          ack: false,
          closed: false,
          payload
        }, bb);
        return bb.finish();
      }
      exports2.streamMessage = streamMessage;
      function streamAckMessage(messageNumber, sequenceId, portId) {
        bb.reset();
        index_1.StreamMessage.encode({
          messageIdentifier: calculateMessageIdentifier(index_1.RpcMessageTypes.RpcMessageTypes_STREAM_ACK, messageNumber),
          sequenceId,
          portId,
          ack: true,
          closed: false,
          payload: EMPTY_U8A
        }, bb);
        return bb.finish();
      }
      exports2.streamAckMessage = streamAckMessage;
      function parseMessageIdentifier(value) {
        return [value >> 27 & 15, value & 134217727];
      }
      exports2.parseMessageIdentifier = parseMessageIdentifier;
      function calculateMessageIdentifier(messageType, messageNumber) {
        return (messageType & 15) << 27 | messageNumber & 134217727;
      }
      exports2.calculateMessageIdentifier = calculateMessageIdentifier;
      function parseProtocolMessage(reader) {
        const originalPos = reader.pos;
        const [messageType, messageNumber] = parseMessageIdentifier(index_1.RpcMessageHeader.decode(reader).messageIdentifier);
        reader.pos = originalPos;
        switch (messageType) {
          case index_1.RpcMessageTypes.RpcMessageTypes_CREATE_PORT_RESPONSE:
            return [messageType, index_1.CreatePortResponse.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_RESPONSE:
            return [messageType, index_1.Response.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE_RESPONSE:
            return [messageType, index_1.RequestModuleResponse.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE:
            return [messageType, index_1.StreamMessage.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_SERVER_READY:
            return [messageType, null, messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE:
            return [messageType, index_1.RemoteError.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_REQUEST:
            return [messageType, index_1.Request.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_CREATE_PORT:
            return [messageType, index_1.CreatePort.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_STREAM_ACK:
            return [messageType, index_1.StreamMessage.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE:
            return [messageType, index_1.RequestModule.decode(reader), messageNumber];
          case index_1.RpcMessageTypes.RpcMessageTypes_DESTROY_PORT:
            return [messageType, index_1.DestroyPort.decode(reader), messageNumber];
        }
        return null;
      }
      exports2.parseProtocolMessage = parseProtocolMessage;
    }
  });

  // node_modules/@dcl/rpc/dist/message-dispatcher.js
  var require_message_dispatcher = __commonJS({
    "node_modules/@dcl/rpc/dist/message-dispatcher.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.messageDispatcher = void 0;
      var minimal_1 = require_minimal2();
      var helpers_1 = require_helpers();
      var protocol_1 = require_protocol();
      function messageDispatcher(transport) {
        const oneTimeCallbacks = new Map();
        const listeners = new Map();
        let globalHandlerFunction;
        transport.on("message", (message) => {
          try {
            const reader = minimal_1.Reader.create(message);
            const parsedMessage = (0, helpers_1.parseProtocolMessage)(reader);
            if (parsedMessage) {
              const [messageType, message2, messageNumber] = parsedMessage;
              if (globalHandlerFunction)
                globalHandlerFunction(messageType, message2, messageNumber);
              if (messageNumber > 0) {
                const fut = oneTimeCallbacks.get(messageNumber);
                try {
                  if (fut) {
                    const [resolve] = fut;
                    reader.pos = 0;
                    resolve({reader, messageType, messageNumber, message: message2});
                    oneTimeCallbacks.delete(messageNumber);
                  }
                  const handler = listeners.get(messageNumber);
                  if (handler) {
                    reader.pos = 0;
                    handler(reader, messageType, messageNumber, message2);
                  }
                  if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_ACK || messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE) {
                    receiveAck(message2, messageNumber);
                  }
                } catch (err) {
                  transport.emit("error", err);
                }
              }
            } else {
              transport.emit("error", new Error(`Transport received unknown message: ${message}`));
            }
          } catch (err) {
            transport.emit("error", err);
          }
        });
        const ackCallbacks = new Map();
        const bb = new minimal_1.Writer();
        function closeAll() {
          ackCallbacks.forEach(([resolve]) => resolve({closed: true, ack: false}));
          oneTimeCallbacks.forEach(([, reject]) => reject(new Error("RPC Transport closed")));
          ackCallbacks.clear();
        }
        transport.on("close", closeAll);
        transport.on("error", (err) => {
          ackCallbacks.forEach(([, reject]) => reject(err));
          oneTimeCallbacks.forEach(([, reject]) => reject(err));
          ackCallbacks.clear();
        });
        function receiveAck(data, messageNumber) {
          const key = `${messageNumber},${data.sequenceId}`;
          const fut = ackCallbacks.get(key);
          if (fut) {
            ackCallbacks.delete(key);
            fut[0](data);
          }
        }
        return {
          transport,
          setGlobalHandler(handler) {
            globalHandlerFunction = handler;
          },
          addOneTimeListener(messageId) {
            return new Promise((res, rej) => {
              oneTimeCallbacks.set(messageId, [res, rej]);
            });
          },
          addListener(messageId, handler) {
            if (listeners.has(messageId))
              throw new Error("There is already a handler for messageId " + messageId);
            listeners.set(messageId, handler);
          },
          removeListener(messageId) {
            if (!listeners.has(messageId))
              throw new Error("A handler is missing for messageId " + messageId);
            listeners.delete(messageId);
          },
          async sendStreamMessage(data) {
            const [_, messageNumber] = (0, helpers_1.parseMessageIdentifier)(data.messageIdentifier);
            const key = `${messageNumber},${data.sequenceId}`;
            const ret = new Promise(function ackPromise(ret2, rej) {
              ackCallbacks.set(key, [ret2, rej]);
            });
            bb.reset();
            protocol_1.StreamMessage.encode(data, bb);
            transport.sendMessage(bb.finish());
            return ret;
          }
        };
      }
      exports2.messageDispatcher = messageDispatcher;
    }
  });

  // node_modules/@dcl/rpc/dist/push-channel.js
  var require_push_channel = __commonJS({
    "node_modules/@dcl/rpc/dist/push-channel.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.AsyncQueue = exports2.pushableChannel = exports2.linkedList = void 0;
      var Node = class {
        constructor(value, prev) {
          this.value = value;
          this.prev = prev;
          this.next = void 0;
        }
      };
      function linkedList() {
        let head = void 0;
        let tail = void 0;
        function enqueue(value) {
          const node = new Node(value, tail);
          if (tail) {
            tail.next = node;
          }
          if (!head) {
            head = node;
          }
          tail = node;
        }
        function remove(node) {
          if (!node.next) {
            tail = node.prev;
          } else {
            const nextNode = node.next;
            nextNode.prev = node.prev;
          }
          if (!node.prev) {
            head = node.next;
          } else {
            const prevNode = node.prev;
            prevNode.next = node.next;
          }
        }
        function dequeue() {
          const ret = head;
          if (ret) {
            remove(ret);
            delete ret.next;
            delete ret.prev;
            const value = ret.value;
            delete ret.value;
            return value;
          }
          return void 0;
        }
        function isEmpty() {
          return !head;
        }
        return {enqueue, dequeue, isEmpty};
      }
      exports2.linkedList = linkedList;
      function pushableChannel(onIteratorClose) {
        let returnLock = null;
        const queue = linkedList();
        let closed = false;
        let error = null;
        function closeAllPending() {
          if (!queue.isEmpty()) {
            const err = error || new Error("Channel was closed before deliverying the message");
            while (!queue.isEmpty()) {
              const {resolve} = queue.dequeue();
              if (resolve)
                resolve(err);
            }
          }
        }
        function releaseLockIfNeeded() {
          if (returnLock) {
            const originalReturnLock = returnLock;
            returnLock = null;
            originalReturnLock();
          }
        }
        function push(value, resolve) {
          if (closed) {
            resolve(new Error("Channel is closed"));
            return;
          }
          if (error) {
            resolve(error);
            return;
          }
          queue.enqueue({value, resolve});
          releaseLockIfNeeded();
        }
        function failAndClose(errorToThrow) {
          error = errorToThrow;
          close();
          closeAllPending();
        }
        function yieldNextResult() {
          if (error && queue.isEmpty()) {
            throw error;
          }
          if (closed && queue.isEmpty()) {
            return {done: true, value: void 0};
          }
          if (!queue.isEmpty()) {
            const node = queue.dequeue();
            if (node.resolve)
              node.resolve(error || void 0);
            return {
              done: false,
              value: node.value
            };
          }
        }
        function close() {
          if (!closed) {
            closed = true;
            releaseLockIfNeeded();
            onIteratorClose();
          }
        }
        const iterable = {
          async next() {
            while (true) {
              try {
                const result = yieldNextResult();
                if (result) {
                  return result;
                } else {
                  await new Promise((res) => returnLock = res);
                }
              } catch (err) {
                failAndClose(err);
                throw err;
              }
            }
          },
          async return(value) {
            close();
            closeAllPending();
            return {done: true, value};
          },
          async throw(e) {
            if (error) {
              throw error;
            }
            failAndClose(e);
            return {done: true, value: void 0};
          },
          [Symbol.asyncIterator]() {
            return iterable;
          }
        };
        function isClosed() {
          return closed;
        }
        return {iterable, push, close, failAndClose, isClosed, [Symbol.asyncIterator]: () => iterable};
      }
      exports2.pushableChannel = pushableChannel;
      var AsyncQueue = class {
        constructor(requestingNext) {
          this.requestingNext = requestingNext;
          this.values = linkedList();
          this.settlers = linkedList();
          this.closed = false;
          this.error = void 0;
        }
        [Symbol.asyncIterator]() {
          return this;
        }
        enqueue(value) {
          if (this.closed) {
            throw new Error("Channel is closed");
          }
          if (!this.settlers.isEmpty()) {
            if (!this.values.isEmpty()) {
              throw new Error("Illegal internal state");
            }
            const settler = this.settlers.dequeue();
            if (value instanceof Error) {
              settler.reject(value);
            } else {
              settler.resolve({value});
            }
          } else {
            this.values.enqueue({value});
          }
        }
        async next() {
          if (!this.values.isEmpty()) {
            const value = this.values.dequeue();
            return value;
          }
          if (this.error) {
            throw this.error;
          }
          if (this.closed) {
            if (!this.settlers.isEmpty()) {
              throw new Error("Illegal internal state");
            }
            return {done: true, value: void 0};
          }
          return new Promise((resolve, reject) => {
            this.requestingNext(this, "next");
            this.settlers.enqueue({resolve, reject});
          });
        }
        async return(value) {
          this.close(value);
          return {done: true, value};
        }
        async throw(error) {
          this.close(error);
          return {done: true, value: void 0};
        }
        close(error) {
          if (error)
            while (!this.settlers.isEmpty()) {
              this.settlers.dequeue().reject(error);
            }
          else
            while (!this.settlers.isEmpty()) {
              this.settlers.dequeue().resolve({done: true, value: void 0});
            }
          if (error)
            this.error = error;
          if (!this.closed) {
            this.closed = true;
            this.requestingNext(this, "close");
          }
        }
      };
      exports2.AsyncQueue = AsyncQueue;
    }
  });

  // node_modules/@dcl/rpc/dist/stream-protocol.js
  var require_stream_protocol = __commonJS({
    "node_modules/@dcl/rpc/dist/stream-protocol.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.streamFromDispatcher = exports2.sendStreamThroughTransport = void 0;
      var protocol_1 = require_protocol();
      var helpers_1 = require_helpers();
      var push_channel_1 = require_push_channel();
      async function sendStreamThroughTransport(dispatcher, transport, stream, portId, messageNumber) {
        const reusedStreamMessage = protocol_1.StreamMessage.fromJSON({
          closed: false,
          ack: false,
          sequenceId: 0,
          messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE, messageNumber),
          payload: Uint8Array.of(),
          portId
        });
        let sequenceNumber = 0;
        for await (const elem of stream) {
          sequenceNumber++;
          reusedStreamMessage.sequenceId = sequenceNumber;
          reusedStreamMessage.payload = elem;
          const ret = await dispatcher.sendStreamMessage(reusedStreamMessage);
          if (ret.ack) {
            continue;
          } else if (ret.closed) {
            return;
          }
        }
        transport.sendMessage((0, helpers_1.closeStreamMessage)(messageNumber, sequenceNumber, portId));
      }
      exports2.sendStreamThroughTransport = sendStreamThroughTransport;
      function streamFromDispatcher(dispatcher, portId, messageNumber) {
        let lastReceivedSequenceId = 0;
        let isRemoteClosed = false;
        let wasOpen = false;
        const channel = new push_channel_1.AsyncQueue(sendServerSignals);
        dispatcher.transport.on("close", () => {
          channel.close(new Error("RPC Transport closed"));
        });
        dispatcher.transport.on("error", () => {
          channel.close(new Error("RPC Transport failed"));
        });
        function sendServerSignals(_channel, action) {
          if (action == "close") {
            dispatcher.removeListener(messageNumber);
          }
          if (!isRemoteClosed) {
            if (action == "close") {
              dispatcher.transport.sendMessage((0, helpers_1.closeStreamMessage)(messageNumber, lastReceivedSequenceId, portId));
            } else if (action == "next") {
              wasOpen = true;
              dispatcher.transport.sendMessage((0, helpers_1.streamAckMessage)(messageNumber, lastReceivedSequenceId, portId));
            }
          }
        }
        function processMessage(message) {
          lastReceivedSequenceId = message.sequenceId;
          if (message.closed) {
            isRemoteClosed = true;
            channel.close();
          } else {
            channel.enqueue(message.payload);
          }
        }
        dispatcher.addListener(messageNumber, (reader, messageType, messageNumber2, message) => {
          if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE) {
            processMessage(message);
          } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE) {
            isRemoteClosed = true;
            channel.close(new Error("RemoteError: " + (message.errorMessage || "Unknown remote error")));
          } else {
            channel.close(new Error("RemoteError: Protocol error, unkown message"));
          }
        });
        return {
          generator: channel,
          closeIfNotOpened() {
            if (!wasOpen) {
              channel.close(new Error("ClientStream lost"));
            }
          }
        };
      }
      exports2.streamFromDispatcher = streamFromDispatcher;
    }
  });

  // node_modules/@dcl/rpc/dist/server.js
  var require_server = __commonJS({
    "node_modules/@dcl/rpc/dist/server.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var __importDefault = exports2 && exports2.__importDefault || function(mod) {
        return mod && mod.__esModule ? mod : {"default": mod};
      };
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.createRpcServer = exports2.handleRequest = exports2.sendServerStream = exports2.handleDestroyPort = exports2.handleRequestModule = exports2.handleCreatePort = exports2.createServerPort = void 0;
      var mitt_1 = __importDefault(require_mitt());
      var minimal_1 = require_minimal2();
      var helpers_1 = require_helpers();
      var protocol_1 = require_protocol();
      var message_dispatcher_1 = require_message_dispatcher();
      var stream_protocol_1 = require_stream_protocol();
      var lastPortId = 0;
      var EMPTY_U8A = Uint8Array.from([]);
      var unsafeSyncWriter = new minimal_1.Writer();
      function getServerReadyMessage() {
        unsafeSyncWriter.reset();
        protocol_1.RpcMessageHeader.encode({
          messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_SERVER_READY, 0)
        }, unsafeSyncWriter);
        return unsafeSyncWriter.finish();
      }
      var transportStartMessageSerialized = getServerReadyMessage();
      function moduleProcedures(module3) {
        return Array.from(Object.entries(module3)).filter(([name, value]) => typeof value == "function");
      }
      function createServerPort(portId, portName, context) {
        const events = (0, mitt_1.default)();
        const loadedModules = new Map();
        const procedures = new Map();
        const registeredModules = new Map();
        const port = {
          get portId() {
            return portId;
          },
          get portName() {
            return portName;
          },
          ...events,
          registerModule,
          loadModule,
          close,
          callProcedure
        };
        async function close() {
          loadedModules.clear();
          procedures.clear();
          registeredModules.clear();
          events.emit("close", {});
        }
        async function registerModule(moduleName, generator) {
          if (registeredModules.has(moduleName)) {
            throw new Error(`module ${moduleName} is already registered for port ${portName} (${portId}))`);
          }
          registeredModules.set(moduleName, generator);
        }
        async function loadModuleFromGenerator(moduleFuture) {
          const module3 = await moduleFuture;
          const ret = {
            procedures: []
          };
          for (const [procedureName, callable] of moduleProcedures(module3)) {
            const procedureId = procedures.size + 1;
            procedures.set(procedureId, callable);
            ret.procedures.push({
              procedureName,
              callable,
              procedureId
            });
          }
          return ret;
        }
        function loadModule(moduleName) {
          if (loadedModules.has(moduleName)) {
            return loadedModules.get(moduleName);
          }
          const moduleGenerator = registeredModules.get(moduleName);
          if (!moduleGenerator) {
            throw new Error(`Module ${moduleName} is not available for port ${portName} (${portId}))`);
          }
          const moduleFuture = loadModuleFromGenerator(moduleGenerator(port, context));
          loadedModules.set(moduleName, moduleFuture);
          return moduleFuture;
        }
        function callProcedure(procedureId, payload, context2) {
          const procedure = procedures.get(procedureId);
          if (!procedure) {
            throw new Error(`procedureId ${procedureId} is missing in ${portName} (${portId}))`);
          }
          return procedure(payload, context2);
        }
        return port;
      }
      exports2.createServerPort = createServerPort;
      function getPortFromState(portId, transport, state) {
        var _a;
        return (_a = state.portsByTransport.get(transport)) === null || _a === void 0 ? void 0 : _a.get(portId);
      }
      async function handleCreatePort(transport, createPortMessage, messageNumber, options, handler, state, context) {
        lastPortId++;
        const port = createServerPort(lastPortId, createPortMessage.portName, context);
        const byTransport = state.portsByTransport.get(transport) || new Map();
        byTransport.set(port.portId, port);
        state.ports.set(port.portId, port);
        state.portsByTransport.set(transport, byTransport);
        await handler(port, transport, context);
        unsafeSyncWriter.reset();
        protocol_1.CreatePortResponse.encode({
          messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_CREATE_PORT_RESPONSE, messageNumber),
          portId: port.portId
        }, unsafeSyncWriter);
        transport.sendMessage(unsafeSyncWriter.finish());
        return port;
      }
      exports2.handleCreatePort = handleCreatePort;
      async function handleRequestModule(transport, requestModule, messageNumber, state) {
        const port = getPortFromState(requestModule.portId, transport, state);
        if (!port) {
          throw new Error(`Cannot find port ${requestModule.portId}`);
        }
        const loadedModule = await port.loadModule(requestModule.moduleName);
        unsafeSyncWriter.reset();
        protocol_1.RequestModuleResponse.encode({
          procedures: loadedModule.procedures,
          messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE_RESPONSE, messageNumber),
          portId: port.portId
        }, unsafeSyncWriter);
        transport.sendMessage(unsafeSyncWriter.finish());
      }
      exports2.handleRequestModule = handleRequestModule;
      async function handleDestroyPort(transport, request, _messageNumber, state) {
        const port = getPortFromState(request.portId, transport, state);
        if (port) {
          port.emit("close", {});
        }
      }
      exports2.handleDestroyPort = handleDestroyPort;
      async function sendServerStream(dispatcher, transport, stream, portId, messageNumber) {
        const reusedStreamMessage = protocol_1.StreamMessage.fromJSON({
          closed: false,
          ack: false,
          sequenceId: 0,
          messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE, messageNumber),
          payload: EMPTY_U8A,
          portId
        });
        const ret = await dispatcher.sendStreamMessage(reusedStreamMessage);
        if (ret.closed)
          return;
        if (!ret.ack)
          throw new Error("Error in logic, ACK must be true");
        await (0, stream_protocol_1.sendStreamThroughTransport)(dispatcher, transport, stream, portId, messageNumber);
      }
      exports2.sendServerStream = sendServerStream;
      async function handleRequest(request, messageNumber, state, transport, context, dispatcher) {
        const port = getPortFromState(request.portId, transport, state);
        if (!port) {
          unsafeSyncWriter.reset();
          protocol_1.RemoteError.encode({
            messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE, messageNumber),
            errorCode: 0,
            errorMessage: "invalid portId"
          }, unsafeSyncWriter);
          transport.sendMessage(unsafeSyncWriter.finish());
          return;
        }
        const {clientStream} = request;
        const stream = clientStream ? (0, stream_protocol_1.streamFromDispatcher)(dispatcher, request.portId, request.clientStream) : null;
        const result = request.clientStream ? await port.callProcedure(request.procedureId, stream.generator, context) : await port.callProcedure(request.procedureId, request.payload, context);
        const response = protocol_1.Response.fromJSON({
          messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_RESPONSE, messageNumber),
          payload: EMPTY_U8A
        });
        if (result instanceof Uint8Array) {
          response.payload = result;
          unsafeSyncWriter.reset();
          protocol_1.Response.encode(response, unsafeSyncWriter);
          transport.sendMessage(unsafeSyncWriter.finish());
        } else if (result && Symbol.asyncIterator in result) {
          await sendServerStream(dispatcher, transport, result, port.portId, messageNumber);
        } else {
          unsafeSyncWriter.reset();
          protocol_1.Response.encode(response, unsafeSyncWriter);
          transport.sendMessage(unsafeSyncWriter.finish());
        }
        stream === null || stream === void 0 ? void 0 : stream.closeIfNotOpened();
      }
      exports2.handleRequest = handleRequest;
      function createRpcServer(options) {
        const events = (0, mitt_1.default)();
        const state = {
          ports: new Map(),
          portsByTransport: new Map(),
          transports: new Set()
        };
        function removeTransport(transport) {
          const transportPorts = state.portsByTransport.get(transport);
          state.portsByTransport.delete(transport);
          if (transportPorts && transportPorts.size) {
            transportPorts.forEach(($) => $.close());
          }
          if (state.transports.delete(transport)) {
            events.emit("transportClosed", {transport});
          }
        }
        events.on("portClosed", (evt) => {
          const {port, transport} = evt;
          state.ports.delete(port.portId);
          const portsByTransport = state.portsByTransport.get(transport);
          if (portsByTransport) {
            portsByTransport.delete(port.portId);
          }
        });
        function handleTransportError(transport, error) {
          events.emit("transportError", {transport, error});
          transport.close();
          removeTransport(transport);
        }
        let handler;
        async function handleMessage(messageType, parsedMessage, messageNumber, transport, context, dispatcher) {
          if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REQUEST) {
            await handleRequest(parsedMessage, messageNumber, state, transport, context, dispatcher);
          } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE) {
            await handleRequestModule(transport, parsedMessage, messageNumber, state);
          } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_CREATE_PORT) {
            const port = await handleCreatePort(transport, parsedMessage, messageNumber, options, handler, state, context);
            port.on("close", () => events.emit("portClosed", {port, transport}));
          } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_DESTROY_PORT) {
            await handleDestroyPort(transport, parsedMessage, messageNumber, state);
          } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_ACK || messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE) {
          } else {
            transport.emit("error", new Error(`Unknown message from client ${JSON.stringify([messageType, parsedMessage, messageNumber])}`));
          }
        }
        return {
          ...events,
          setHandler(_handler) {
            handler = _handler;
          },
          attachTransport(newTransport, context) {
            if (!handler) {
              throw new Error("A handler was not set for this RpcServer");
            }
            state.transports.add(newTransport);
            const dispatcher = (0, message_dispatcher_1.messageDispatcher)(newTransport);
            dispatcher.setGlobalHandler((messageType, message, messageNumber) => {
              handleMessage(messageType, message, messageNumber, newTransport, context, dispatcher).catch((err) => {
                var _a;
                (_a = options.logger) === null || _a === void 0 ? void 0 : _a.error("Error handling remote request", {
                  message: err.message,
                  name: err.name,
                  stack: err.stack
                });
                unsafeSyncWriter.reset();
                protocol_1.RemoteError.encode({
                  messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE, messageNumber),
                  errorMessage: err.message || "Error processing the request",
                  errorCode: 0
                }, unsafeSyncWriter);
                newTransport.sendMessage(unsafeSyncWriter.finish());
              });
            });
            newTransport.on("close", () => {
              removeTransport(newTransport);
            });
            newTransport.on("error", (error) => {
              var _a;
              (_a = options.logger) === null || _a === void 0 ? void 0 : _a.error("Error in transport", {
                message: error.message,
                name: error.name,
                stack: error.stack
              });
              handleTransportError(newTransport, error);
            });
            newTransport.sendMessage(transportStartMessageSerialized);
          }
        };
      }
      exports2.createRpcServer = createRpcServer;
    }
  });

  // node_modules/@dcl/rpc/dist/client-request-dispatcher.js
  var require_client_request_dispatcher = __commonJS({
    "node_modules/@dcl/rpc/dist/client-request-dispatcher.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.createClientRequestDispatcher = void 0;
      var minimal_1 = require_minimal2();
      var globalMessageNumber = 0;
      function createClientRequestDispatcher(dispatcher) {
        function nextMessageNumber() {
          const messageNumber = ++globalMessageNumber;
          if (globalMessageNumber > 16777216)
            globalMessageNumber = 0;
          return messageNumber;
        }
        return {
          dispatcher,
          async request(cb) {
            const messageNumber = nextMessageNumber();
            const bb = new minimal_1.Writer();
            cb(bb, messageNumber);
            dispatcher.transport.sendMessage(bb.finish());
            const {reader} = await dispatcher.addOneTimeListener(messageNumber);
            return reader;
          },
          nextMessageNumber
        };
      }
      exports2.createClientRequestDispatcher = createClientRequestDispatcher;
    }
  });

  // node_modules/@dcl/rpc/dist/client.js
  var require_client = __commonJS({
    "node_modules/@dcl/rpc/dist/client.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var __importDefault = exports2 && exports2.__importDefault || function(mod) {
        return mod && mod.__esModule ? mod : {"default": mod};
      };
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.createRpcClient = exports2.createPort = void 0;
      var mitt_1 = __importDefault(require_mitt());
      var minimal_1 = require_minimal2();
      var protocol_1 = require_protocol();
      var message_dispatcher_1 = require_message_dispatcher();
      var helpers_1 = require_helpers();
      var client_request_dispatcher_1 = require_client_request_dispatcher();
      var stream_protocol_1 = require_stream_protocol();
      var EMPTY_U8 = new Uint8Array(0);
      function createPort(portId, portName, requestDispatcher) {
        const events = (0, mitt_1.default)();
        let state = "open";
        events.on("close", () => {
          state = "closed";
        });
        return {
          ...events,
          portName,
          portId,
          get state() {
            return state;
          },
          close() {
            const bb = new minimal_1.Writer();
            protocol_1.DestroyPort.encode({
              messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_DESTROY_PORT, 0),
              portId
            }, bb);
            requestDispatcher.dispatcher.transport.sendMessage(bb.finish());
            events.emit("close", {});
          },
          async loadModule(moduleName) {
            const ret = await requestDispatcher.request((bb, messageNumber) => {
              protocol_1.RequestModule.encode({
                messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE, messageNumber),
                moduleName,
                portId
              }, bb);
            });
            const parsedMessage = (0, helpers_1.parseProtocolMessage)(ret);
            if (parsedMessage) {
              const [messageType, message] = parsedMessage;
              if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REQUEST_MODULE_RESPONSE) {
                const ret2 = {};
                for (let procedure of message.procedures) {
                  ret2[procedure.procedureName] = createProcedure(portId, procedure.procedureId, requestDispatcher);
                }
                return ret2;
              } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE) {
                throwIfRemoteError(message);
              }
            }
            throw new Error("Unknown response received from server.");
          }
        };
      }
      exports2.createPort = createPort;
      function throwIfRemoteError(parsedMessage) {
        throw new Error("RemoteError: " + parsedMessage.errorMessage);
      }
      function createProcedure(portId, procedureId, requestDispatcher) {
        const callProcedurePacket = {
          portId,
          messageIdentifier: 0,
          payload: EMPTY_U8,
          procedureId,
          clientStream: 0
        };
        return async function(data) {
          if (data) {
            if (Symbol.asyncIterator in data) {
              const messageNumber = requestDispatcher.nextMessageNumber();
              callProcedurePacket.clientStream = messageNumber;
              callProcedurePacket.payload = EMPTY_U8;
              requestDispatcher.dispatcher.addOneTimeListener(messageNumber).then(($) => {
                const message = $.message;
                if (message.closed)
                  return;
                if (!message.ack)
                  throw new Error("Error in logic, ACK must be true");
                (0, stream_protocol_1.sendStreamThroughTransport)(requestDispatcher.dispatcher, requestDispatcher.dispatcher.transport, data, portId, messageNumber);
              }).catch((error) => {
                requestDispatcher.dispatcher.transport.emit("error", error);
              });
            } else {
              callProcedurePacket.payload = data;
            }
          } else {
            callProcedurePacket.payload = EMPTY_U8;
          }
          const ret = (0, helpers_1.parseProtocolMessage)(await requestDispatcher.request((bb, messageNumber) => {
            callProcedurePacket.messageIdentifier = (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_REQUEST, messageNumber);
            protocol_1.Request.encode(callProcedurePacket, bb);
          }));
          if (ret) {
            const [messageType, message, messageNumber] = ret;
            if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_RESPONSE) {
              const u8 = message.payload;
              if (u8.length) {
                return u8;
              } else {
                return void 0;
              }
            } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_STREAM_MESSAGE) {
              const openStreamMessage = message;
              const {generator} = (0, stream_protocol_1.streamFromDispatcher)(requestDispatcher.dispatcher, openStreamMessage.portId, messageNumber);
              return generator;
            } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE) {
              throwIfRemoteError(message);
            }
          }
        };
      }
      async function createRpcClient2(transport) {
        const clientPortByName = new Map();
        const dispatcher = (0, message_dispatcher_1.messageDispatcher)(transport);
        const requestDispatcher = (0, client_request_dispatcher_1.createClientRequestDispatcher)(dispatcher);
        async function internalCreatePort(portName) {
          const ret = await requestDispatcher.request((bb, messageNumber) => {
            protocol_1.CreatePort.encode({
              messageIdentifier: (0, helpers_1.calculateMessageIdentifier)(protocol_1.RpcMessageTypes.RpcMessageTypes_CREATE_PORT, messageNumber),
              portName
            }, bb);
          });
          const parsedMessage = (0, helpers_1.parseProtocolMessage)(ret);
          if (parsedMessage) {
            const [messageType, message] = parsedMessage;
            if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_CREATE_PORT_RESPONSE) {
              const portId = message.portId;
              return createPort(portId, portName, requestDispatcher);
            } else if (messageType == protocol_1.RpcMessageTypes.RpcMessageTypes_REMOTE_ERROR_RESPONSE) {
              throwIfRemoteError(message);
            }
          }
          throw new Error("Unknown response received from server.");
        }
        await new Promise((resolve, reject) => {
          transport.on("connect", resolve);
          transport.on("error", reject);
        });
        return {
          async createPort(portName) {
            if (clientPortByName.has(portName)) {
              return clientPortByName.get(portName);
            }
            const portFuture = internalCreatePort(portName);
            clientPortByName.set(portName, portFuture);
            const port = await portFuture;
            transport.on("close", () => {
              port.close();
            });
            port.on("close", () => {
              if (clientPortByName.get(portName) === portFuture) {
                clientPortByName.delete(portName);
              }
            });
            return port;
          }
        };
      }
      exports2.createRpcClient = createRpcClient2;
    }
  });

  // node_modules/@dcl/rpc/dist/index.js
  var require_dist = __commonJS({
    "node_modules/@dcl/rpc/dist/index.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var __createBinding = exports2 && exports2.__createBinding || (Object.create ? function(o, m, k, k2) {
        if (k2 === void 0)
          k2 = k;
        var desc = Object.getOwnPropertyDescriptor(m, k);
        if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
          desc = {enumerable: true, get: function() {
            return m[k];
          }};
        }
        Object.defineProperty(o, k2, desc);
      } : function(o, m, k, k2) {
        if (k2 === void 0)
          k2 = k;
        o[k2] = m[k];
      });
      var __exportStar = exports2 && exports2.__exportStar || function(m, exports3) {
        for (var p in m)
          if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports3, p))
            __createBinding(exports3, m, p);
      };
      Object.defineProperty(exports2, "__esModule", {value: true});
      __exportStar(require_types(), exports2);
      __exportStar(require_server(), exports2);
      __exportStar(require_client(), exports2);
    }
  });

  // node_modules/@dcl/rpc/dist/transports/WebWorker.js
  var require_WebWorker = __commonJS({
    "node_modules/@dcl/rpc/dist/transports/WebWorker.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var __importDefault = exports2 && exports2.__importDefault || function(mod) {
        return mod && mod.__esModule ? mod : {"default": mod};
      };
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.WebWorkerTransport = void 0;
      var mitt_1 = __importDefault(require_mitt());
      function WebWorkerTransport2(worker) {
        const events = (0, mitt_1.default)();
        worker.addEventListener("message", () => events.emit("connect", {}), {once: true});
        worker.addEventListener("error", (err) => {
          if (err.error) {
            events.emit("error", err.error);
          } else if (err.message) {
            events.emit("error", Object.assign(new Error(err.message), {
              colno: err.colno,
              error: err.error,
              filename: err.filename,
              lineno: err.lineno,
              message: err.message
            }));
          }
        });
        worker.addEventListener("message", (message) => {
          if (message.data instanceof ArrayBuffer || message.data instanceof Uint8Array) {
            events.emit("message", message.data);
          } else {
            throw new Error(`WebWorkerTransport: Received unknown type of message, expecting Uint8Array`);
          }
        });
        const api = {
          ...events,
          sendMessage(message) {
            if (message instanceof ArrayBuffer || message instanceof Uint8Array) {
              worker.postMessage(message);
            } else {
              throw new Error(`WebWorkerTransport: Received unknown type of message, expecting Uint8Array`);
            }
          },
          close() {
            if ("terminate" in worker) {
              ;
              worker.terminate();
            } else if ("close" in worker) {
              ;
              worker.close();
            }
            events.emit("close", {});
          }
        };
        return api;
      }
      exports2.WebWorkerTransport = WebWorkerTransport2;
    }
  });

  // node_modules/@dcl/rpc/dist/codegen.js
  var require_codegen = __commonJS({
    "node_modules/@dcl/rpc/dist/codegen.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.registerService = exports2.loadService = exports2.serverProcedureBidirectionalStream = exports2.serverProcedureServerStream = exports2.serverProcedureClientStream = exports2.serverProcedureUnary = exports2.clientProcedureBidirectionalStream = exports2.clientProcedureServerStream = exports2.clientProcedureClientStream = exports2.clientProcedureUnary = void 0;
      var EMPTY_U8ARRAY = new Uint8Array();
      function clientProcedureUnary(port, method) {
        const fn = async (arg) => {
          const remoteModule = await port;
          if (!(method.name in remoteModule))
            throw new Error("Method " + method.name + " not implemented in server port");
          const result = await remoteModule[method.name](method.requestType.encode(arg).finish());
          return method.responseType.decode(result !== null && result !== void 0 ? result : EMPTY_U8ARRAY);
        };
        return fn;
      }
      exports2.clientProcedureUnary = clientProcedureUnary;
      async function* requestToBinaryGenerator(requests, method) {
        for await (const request of requests) {
          const arg = method.requestType.encode(request);
          yield arg.finish();
        }
      }
      function clientProcedureClientStream(port, method) {
        const fn = async (arg) => {
          const remoteModule = await port;
          if (!(method.name in remoteModule))
            throw new Error("Method " + method.name + " not implemented in server port");
          const result = await remoteModule[method.name](requestToBinaryGenerator(arg, method));
          return method.responseType.decode(result !== null && result !== void 0 ? result : EMPTY_U8ARRAY);
        };
        return fn;
      }
      exports2.clientProcedureClientStream = clientProcedureClientStream;
      function clientProcedureServerStream(port, method) {
        const fn = function(arg) {
          let _generator = void 0;
          async function lazyGenerator() {
            const remoteModule = await port;
            if (!(method.name in remoteModule))
              throw new Error("Method " + method.name + " not implemented in server port");
            return (await remoteModule[method.name](method.requestType.encode(arg).finish()))[Symbol.asyncIterator]();
          }
          function getGenerator() {
            if (!_generator) {
              _generator = lazyGenerator();
            }
            return _generator;
          }
          const ret = {
            [Symbol.asyncIterator]: () => ret,
            async next() {
              var _a;
              const iter = await (await getGenerator()).next();
              return {value: method.responseType.decode((_a = iter.value) !== null && _a !== void 0 ? _a : EMPTY_U8ARRAY), done: iter.done};
            },
            async return(value) {
              const iter = await (await getGenerator()).return(value);
              return {value: iter.value ? method.responseType.decode(iter.value) : iter.value, done: iter.done};
            },
            async throw(value) {
              const iter = await (await getGenerator()).throw(value);
              return {value: iter.value ? method.responseType.decode(iter.value) : iter.value, done: iter.done};
            }
          };
          return ret;
        };
        return fn;
      }
      exports2.clientProcedureServerStream = clientProcedureServerStream;
      function clientProcedureBidirectionalStream(port, method) {
        const fn = function(arg) {
          let _generator = void 0;
          async function lazyGenerator() {
            const remoteModule = await port;
            if (!(method.name in remoteModule))
              throw new Error("Method " + method.name + " not implemented in server port");
            return (await remoteModule[method.name](requestToBinaryGenerator(arg, method)))[Symbol.asyncIterator]();
          }
          function getGenerator() {
            if (!_generator) {
              _generator = lazyGenerator();
            }
            return _generator;
          }
          const ret = {
            [Symbol.asyncIterator]: () => ret,
            async next() {
              var _a;
              const iter = await (await getGenerator()).next();
              return {value: method.responseType.decode((_a = iter.value) !== null && _a !== void 0 ? _a : EMPTY_U8ARRAY), done: iter.done};
            },
            async return(value) {
              const iter = await (await getGenerator()).return(value);
              return {value: iter.value ? method.responseType.decode(iter.value) : iter.value, done: iter.done};
            },
            async throw(value) {
              const iter = await (await getGenerator()).throw(value);
              return {value: iter.value ? method.responseType.decode(iter.value) : iter.value, done: iter.done};
            }
          };
          return ret;
        };
        return fn;
      }
      exports2.clientProcedureBidirectionalStream = clientProcedureBidirectionalStream;
      function serverProcedureUnary(fn, method) {
        return async function(argBinary, context) {
          const arg = method.requestType.decode(argBinary);
          const result = await fn(arg, context);
          if (!result)
            throw new Error("Empty or null responses are not allowed. Procedure: " + method.name);
          return method.responseType.encode(result).finish();
        };
      }
      exports2.serverProcedureUnary = serverProcedureUnary;
      async function* binaryToRequestGenerator(argBinaryGenerator, method) {
        for await (const argBinary of argBinaryGenerator) {
          const arg = method.requestType.decode(argBinary);
          yield arg;
        }
      }
      function serverProcedureClientStream(fn, method) {
        return async function(argBinaryGenerator, context) {
          const result = await fn(binaryToRequestGenerator(argBinaryGenerator, method), context);
          if (!result)
            throw new Error("Empty or null responses are not allowed. Procedure: " + method.name);
          return method.responseType.encode(result).finish();
        };
      }
      exports2.serverProcedureClientStream = serverProcedureClientStream;
      function serverProcedureServerStream(fn, method) {
        return function(argBinary, context) {
          let _generator = void 0;
          const arg = method.requestType.decode(argBinary);
          async function lazyGenerator() {
            const result = await fn(arg, context);
            if (!result)
              throw new Error("Empty or null responses are not allowed. Procedure: " + method.name);
            return result[Symbol.asyncIterator]();
          }
          function getGenerator() {
            if (!_generator) {
              _generator = lazyGenerator();
            }
            return _generator;
          }
          const ret = {
            [Symbol.asyncIterator]: () => ret,
            async next() {
              const iter = await (await getGenerator()).next();
              return {value: iter.value ? method.responseType.encode(iter.value).finish() : iter.value, done: iter.done};
            },
            async return(value) {
              const iter = await (await getGenerator()).return(value);
              return {value: iter.value ? method.responseType.encode(iter.value).finish() : iter.value, done: iter.done};
            },
            async throw(value) {
              const iter = await (await getGenerator()).throw(value);
              return {value: iter.value ? method.responseType.encode(iter.value).finish() : iter.value, done: iter.done};
            }
          };
          return ret;
        };
      }
      exports2.serverProcedureServerStream = serverProcedureServerStream;
      function serverProcedureBidirectionalStream(fn, method) {
        return function(argBinaryGenerator, context) {
          let _generator = void 0;
          async function lazyGenerator() {
            const result = await fn(binaryToRequestGenerator(argBinaryGenerator, method), context);
            if (!result)
              throw new Error("Empty or null responses are not allowed. Procedure: " + method.name);
            return result[Symbol.asyncIterator]();
          }
          function getGenerator() {
            if (!_generator) {
              _generator = lazyGenerator();
            }
            return _generator;
          }
          const ret = {
            [Symbol.asyncIterator]: () => ret,
            async next() {
              const iter = await (await getGenerator()).next();
              return {value: iter.value ? method.responseType.encode(iter.value).finish() : iter.value, done: iter.done};
            },
            async return(value) {
              const iter = await (await getGenerator()).return(value);
              return {value: iter.value ? method.responseType.encode(iter.value).finish() : iter.value, done: iter.done};
            },
            async throw(value) {
              const iter = await (await getGenerator()).throw(value);
              return {value: iter.value ? method.responseType.encode(iter.value).finish() : iter.value, done: iter.done};
            }
          };
          return ret;
        };
      }
      exports2.serverProcedureBidirectionalStream = serverProcedureBidirectionalStream;
      function loadService17(port, service) {
        const portFuture = port.loadModule(service.name);
        const ret = {};
        for (const [key, def] of Object.entries(service.methods)) {
          if (def.responseStream && def.requestStream) {
            ret[key] = clientProcedureBidirectionalStream(portFuture, def);
          } else if (def.responseStream) {
            ret[key] = clientProcedureServerStream(portFuture, def);
          } else if (def.requestStream) {
            ret[key] = clientProcedureClientStream(portFuture, def);
          } else {
            ret[key] = clientProcedureUnary(portFuture, def);
          }
        }
        return ret;
      }
      exports2.loadService = loadService17;
      function registerService(port, service, moduleInitializator) {
        port.registerModule(service.name, async (port2, context) => {
          const mod = await moduleInitializator(port2, context);
          const ret = {};
          for (const [key, def] of Object.entries(service.methods)) {
            if (def.responseStream && def.requestStream) {
              ret[def.name] = serverProcedureBidirectionalStream(mod[key].bind(mod), def);
            } else if (def.responseStream) {
              ret[def.name] = serverProcedureServerStream(mod[key].bind(mod), def);
            } else if (def.requestStream) {
              ret[def.name] = serverProcedureClientStream(mod[key].bind(mod), def);
            } else {
              ret[def.name] = serverProcedureUnary(mod[key].bind(mod), def);
            }
          }
          return ret;
        });
      }
      exports2.registerService = registerService;
    }
  });

  // node_modules/@dcl/ecs-math/dist/types.js
  var require_types2 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/types.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.RAD2DEG = exports2.DEG2RAD = exports2.Epsilon = exports2.ToLinearSpace = exports2.ToGammaSpace = exports2.Space = exports2.Orientation = void 0;
      var Orientation;
      (function(Orientation2) {
        Orientation2[Orientation2["CW"] = 0] = "CW";
        Orientation2[Orientation2["CCW"] = 1] = "CCW";
      })(Orientation = exports2.Orientation || (exports2.Orientation = {}));
      var Space;
      (function(Space2) {
        Space2[Space2["LOCAL"] = 0] = "LOCAL";
        Space2[Space2["WORLD"] = 1] = "WORLD";
        Space2[Space2["BONE"] = 2] = "BONE";
      })(Space = exports2.Space || (exports2.Space = {}));
      exports2.ToGammaSpace = 1 / 2.2;
      exports2.ToLinearSpace = 2.2;
      exports2.Epsilon = 1e-6;
      exports2.DEG2RAD = Math.PI / 180;
      exports2.RAD2DEG = 360 / (Math.PI * 2);
    }
  });

  // node_modules/@dcl/ecs-math/dist/utils.js
  var require_utils = __commonJS({
    "node_modules/@dcl/ecs-math/dist/utils.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.buildArray = void 0;
      function buildArray(size, itemBuilder) {
        const a = [];
        for (let i = 0; i < size; ++i) {
          a.push(itemBuilder());
        }
        return a;
      }
      exports2.buildArray = buildArray;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Scalar.js
  var require_Scalar = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Scalar.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Scalar = void 0;
      var Scalar = class {
        static WithinEpsilon(a, b, epsilon = 1401298e-51) {
          const num = a - b;
          return -epsilon <= num && num <= epsilon;
        }
        static ToHex(i) {
          const str = i.toString(16);
          if (i <= 15) {
            return ("0" + str).toUpperCase();
          }
          return str.toUpperCase();
        }
        static Sign(value) {
          const _value = +value;
          if (_value === 0 || isNaN(_value)) {
            return _value;
          }
          return _value > 0 ? 1 : -1;
        }
        static Clamp(value, min = 0, max = 1) {
          return Math.min(max, Math.max(min, value));
        }
        static Log2(value) {
          return Math.log(value) * Math.LOG2E;
        }
        static Repeat(value, length) {
          return value - Math.floor(value / length) * length;
        }
        static Normalize(value, min, max) {
          return (value - min) / (max - min);
        }
        static Denormalize(normalized, min, max) {
          return normalized * (max - min) + min;
        }
        static DeltaAngle(current, target) {
          let num = Scalar.Repeat(target - current, 360);
          if (num > 180) {
            num -= 360;
          }
          return num;
        }
        static PingPong(tx, length) {
          const t = Scalar.Repeat(tx, length * 2);
          return length - Math.abs(t - length);
        }
        static SmoothStep(from, to, tx) {
          let t = Scalar.Clamp(tx);
          t = -2 * t * t * t + 3 * t * t;
          return to * t + from * (1 - t);
        }
        static MoveTowards(current, target, maxDelta) {
          let result = 0;
          if (Math.abs(target - current) <= maxDelta) {
            result = target;
          } else {
            result = current + Scalar.Sign(target - current) * maxDelta;
          }
          return result;
        }
        static MoveTowardsAngle(current, target, maxDelta) {
          const num = Scalar.DeltaAngle(current, target);
          let result = 0;
          if (-maxDelta < num && num < maxDelta) {
            result = target;
          } else {
            result = Scalar.MoveTowards(current, current + num, maxDelta);
          }
          return result;
        }
        static Lerp(start, end, amount) {
          return start + (end - start) * amount;
        }
        static LerpAngle(start, end, amount) {
          let num = Scalar.Repeat(end - start, 360);
          if (num > 180) {
            num -= 360;
          }
          return start + num * Scalar.Clamp(amount);
        }
        static InverseLerp(a, b, value) {
          let result = 0;
          if (a !== b) {
            result = Scalar.Clamp((value - a) / (b - a));
          } else {
            result = 0;
          }
          return result;
        }
        static Hermite(value1, tangent1, value2, tangent2, amount) {
          const squared = amount * amount;
          const cubed = amount * squared;
          const part1 = 2 * cubed - 3 * squared + 1;
          const part2 = -2 * cubed + 3 * squared;
          const part3 = cubed - 2 * squared + amount;
          const part4 = cubed - squared;
          return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;
        }
        static RandomRange(min, max) {
          if (min === max) {
            return min;
          }
          return Math.random() * (max - min) + min;
        }
        static RangeToPercent(num, min, max) {
          return (num - min) / (max - min);
        }
        static PercentToRange(percent, min, max) {
          return (max - min) * percent + min;
        }
        static NormalizeRadians(angle) {
          return angle - Scalar.TwoPi * Math.floor((angle + Math.PI) / Scalar.TwoPi);
        }
      };
      exports2.Scalar = Scalar;
      Scalar.TwoPi = Math.PI * 2;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Vector4.js
  var require_Vector4 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Vector4.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Vector4 = void 0;
      var types_1 = require_types2();
      var Scalar_1 = require_Scalar();
      var Vector3_1 = require_Vector3();
      var Vector4 = class {
        constructor(x, y, z, w) {
          this.x = x;
          this.y = y;
          this.z = z;
          this.w = w;
        }
        static Add(vector1, vector2) {
          return new Vector4(vector1.x, vector1.y, vector1.z, vector1.w).addInPlace(vector2);
        }
        static FromArray(array, offset = 0) {
          return new Vector4(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
        }
        static FromArrayToRef(array, offset, result) {
          result.x = array[offset];
          result.y = array[offset + 1];
          result.z = array[offset + 2];
          result.w = array[offset + 3];
        }
        static FromFloatArrayToRef(array, offset, result) {
          Vector4.FromArrayToRef(array, offset, result);
        }
        static FromFloatsToRef(x, y, z, w, result) {
          result.x = x;
          result.y = y;
          result.z = z;
          result.w = w;
        }
        static Zero() {
          return new Vector4(0, 0, 0, 0);
        }
        static One() {
          return new Vector4(1, 1, 1, 1);
        }
        static Normalize(vector) {
          const result = Vector4.Zero();
          Vector4.NormalizeToRef(vector, result);
          return result;
        }
        static NormalizeToRef(vector, result) {
          result.copyFrom(vector);
          result.normalize();
        }
        static Minimize(left, right) {
          const min = new Vector4(left.x, left.y, left.z, left.w);
          min.minimizeInPlace(right);
          return min;
        }
        static Maximize(left, right) {
          const max = new Vector4(left.x, left.y, left.z, left.w);
          max.maximizeInPlace(right);
          return max;
        }
        static Distance(value1, value2) {
          return Math.sqrt(Vector4.DistanceSquared(value1, value2));
        }
        static DistanceSquared(value1, value2) {
          const x = value1.x - value2.x;
          const y = value1.y - value2.y;
          const z = value1.z - value2.z;
          const w = value1.w - value2.w;
          return x * x + y * y + z * z + w * w;
        }
        static Center(value1, value2) {
          const center = Vector4.Add(value1, value2);
          center.scaleInPlace(0.5);
          return center;
        }
        static TransformNormal(vector, transformation) {
          const result = Vector4.Zero();
          Vector4.TransformNormalToRef(vector, transformation, result);
          return result;
        }
        static TransformNormalToRef(vector, transformation, result) {
          const m = transformation.m;
          const x = vector.x * m[0] + vector.y * m[4] + vector.z * m[8];
          const y = vector.x * m[1] + vector.y * m[5] + vector.z * m[9];
          const z = vector.x * m[2] + vector.y * m[6] + vector.z * m[10];
          result.x = x;
          result.y = y;
          result.z = z;
          result.w = vector.w;
        }
        static TransformNormalFromFloatsToRef(x, y, z, w, transformation, result) {
          const m = transformation.m;
          result.x = x * m[0] + y * m[4] + z * m[8];
          result.y = x * m[1] + y * m[5] + z * m[9];
          result.z = x * m[2] + y * m[6] + z * m[10];
          result.w = w;
        }
        toString() {
          return "{X: " + this.x + " Y:" + this.y + " Z:" + this.z + " W:" + this.w + "}";
        }
        getClassName() {
          return "Vector4";
        }
        getHashCode() {
          let hash = this.x || 0;
          hash = hash * 397 ^ (this.y || 0);
          hash = hash * 397 ^ (this.z || 0);
          hash = hash * 397 ^ (this.w || 0);
          return hash;
        }
        asArray() {
          const result = new Array();
          this.toArray(result, 0);
          return result;
        }
        toArray(array, index = 0) {
          array[index] = this.x;
          array[index + 1] = this.y;
          array[index + 2] = this.z;
          array[index + 3] = this.w;
          return this;
        }
        addInPlace(otherVector) {
          this.x += otherVector.x;
          this.y += otherVector.y;
          this.z += otherVector.z;
          this.w += otherVector.w;
          return this;
        }
        add(otherVector) {
          return new Vector4(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z, this.w + otherVector.w);
        }
        addToRef(otherVector, result) {
          result.x = this.x + otherVector.x;
          result.y = this.y + otherVector.y;
          result.z = this.z + otherVector.z;
          result.w = this.w + otherVector.w;
          return this;
        }
        subtractInPlace(otherVector) {
          this.x -= otherVector.x;
          this.y -= otherVector.y;
          this.z -= otherVector.z;
          this.w -= otherVector.w;
          return this;
        }
        subtract(otherVector) {
          return new Vector4(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z, this.w - otherVector.w);
        }
        subtractToRef(otherVector, result) {
          result.x = this.x - otherVector.x;
          result.y = this.y - otherVector.y;
          result.z = this.z - otherVector.z;
          result.w = this.w - otherVector.w;
          return this;
        }
        subtractFromFloats(x, y, z, w) {
          return new Vector4(this.x - x, this.y - y, this.z - z, this.w - w);
        }
        subtractFromFloatsToRef(x, y, z, w, result) {
          result.x = this.x - x;
          result.y = this.y - y;
          result.z = this.z - z;
          result.w = this.w - w;
          return this;
        }
        negate() {
          return new Vector4(-this.x, -this.y, -this.z, -this.w);
        }
        scaleInPlace(scale) {
          this.x *= scale;
          this.y *= scale;
          this.z *= scale;
          this.w *= scale;
          return this;
        }
        scale(scale) {
          return new Vector4(this.x * scale, this.y * scale, this.z * scale, this.w * scale);
        }
        scaleToRef(scale, result) {
          result.x = this.x * scale;
          result.y = this.y * scale;
          result.z = this.z * scale;
          result.w = this.w * scale;
          return this;
        }
        scaleAndAddToRef(scale, result) {
          result.x += this.x * scale;
          result.y += this.y * scale;
          result.z += this.z * scale;
          result.w += this.w * scale;
          return this;
        }
        equals(otherVector) {
          return otherVector && this.x === otherVector.x && this.y === otherVector.y && this.z === otherVector.z && this.w === otherVector.w;
        }
        equalsWithEpsilon(otherVector, epsilon = types_1.Epsilon) {
          return otherVector && Scalar_1.Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) && Scalar_1.Scalar.WithinEpsilon(this.y, otherVector.y, epsilon) && Scalar_1.Scalar.WithinEpsilon(this.z, otherVector.z, epsilon) && Scalar_1.Scalar.WithinEpsilon(this.w, otherVector.w, epsilon);
        }
        equalsToFloats(x, y, z, w) {
          return this.x === x && this.y === y && this.z === z && this.w === w;
        }
        multiplyInPlace(otherVector) {
          this.x *= otherVector.x;
          this.y *= otherVector.y;
          this.z *= otherVector.z;
          this.w *= otherVector.w;
          return this;
        }
        multiply(otherVector) {
          return new Vector4(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z, this.w * otherVector.w);
        }
        multiplyToRef(otherVector, result) {
          result.x = this.x * otherVector.x;
          result.y = this.y * otherVector.y;
          result.z = this.z * otherVector.z;
          result.w = this.w * otherVector.w;
          return this;
        }
        multiplyByFloats(x, y, z, w) {
          return new Vector4(this.x * x, this.y * y, this.z * z, this.w * w);
        }
        divide(otherVector) {
          return new Vector4(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z, this.w / otherVector.w);
        }
        divideToRef(otherVector, result) {
          result.x = this.x / otherVector.x;
          result.y = this.y / otherVector.y;
          result.z = this.z / otherVector.z;
          result.w = this.w / otherVector.w;
          return this;
        }
        divideInPlace(otherVector) {
          return this.divideToRef(otherVector, this);
        }
        minimizeInPlace(other) {
          if (other.x < this.x) {
            this.x = other.x;
          }
          if (other.y < this.y) {
            this.y = other.y;
          }
          if (other.z < this.z) {
            this.z = other.z;
          }
          if (other.w < this.w) {
            this.w = other.w;
          }
          return this;
        }
        maximizeInPlace(other) {
          if (other.x > this.x) {
            this.x = other.x;
          }
          if (other.y > this.y) {
            this.y = other.y;
          }
          if (other.z > this.z) {
            this.z = other.z;
          }
          if (other.w > this.w) {
            this.w = other.w;
          }
          return this;
        }
        floor() {
          return new Vector4(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z), Math.floor(this.w));
        }
        fract() {
          return new Vector4(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z), this.w - Math.floor(this.w));
        }
        length() {
          return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
        }
        lengthSquared() {
          return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
        }
        normalize() {
          const len = this.length();
          if (len === 0) {
            return this;
          }
          return this.scaleInPlace(1 / len);
        }
        toVector3() {
          return new Vector3_1.Vector3(this.x, this.y, this.z);
        }
        clone() {
          return new Vector4(this.x, this.y, this.z, this.w);
        }
        copyFrom(source) {
          this.x = source.x;
          this.y = source.y;
          this.z = source.z;
          this.w = source.w;
          return this;
        }
        copyFromFloats(x, y, z, w) {
          this.x = x;
          this.y = y;
          this.z = z;
          this.w = w;
          return this;
        }
        set(x, y, z, w) {
          return this.copyFromFloats(x, y, z, w);
        }
        setAll(v) {
          this.x = this.y = this.z = this.w = v;
          return this;
        }
      };
      exports2.Vector4 = Vector4;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Matrix.js
  var require_Matrix = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Matrix.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Matrix = void 0;
      var Vector3_1 = require_Vector3();
      var Quaternion_1 = require_Quaternion();
      var preallocatedVariables_1 = require_preallocatedVariables();
      var Vector4_1 = require_Vector4();
      var Matrix = class {
        constructor() {
          this._isIdentity = false;
          this._isIdentityDirty = true;
          this._isIdentity3x2 = true;
          this._isIdentity3x2Dirty = true;
          this._m = [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
          ];
          this._updateIdentityStatus(false);
        }
        get m() {
          return this._m;
        }
        static get IdentityReadOnly() {
          return Matrix._identityReadOnly;
        }
        static FromArray(array, offset = 0) {
          const result = new Matrix();
          Matrix.FromArrayToRef(array, offset, result);
          return result;
        }
        static FromArrayToRef(array, offset, result) {
          for (let index = 0; index < 16; index++) {
            result._m[index] = array[index + offset];
          }
          result._markAsUpdated();
        }
        static FromFloatArrayToRefScaled(array, offset, scale, result) {
          for (let index = 0; index < 16; index++) {
            result._m[index] = array[index + offset] * scale;
          }
          result._markAsUpdated();
        }
        static FromValuesToRef(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {
          const m = result._m;
          m[0] = initialM11;
          m[1] = initialM12;
          m[2] = initialM13;
          m[3] = initialM14;
          m[4] = initialM21;
          m[5] = initialM22;
          m[6] = initialM23;
          m[7] = initialM24;
          m[8] = initialM31;
          m[9] = initialM32;
          m[10] = initialM33;
          m[11] = initialM34;
          m[12] = initialM41;
          m[13] = initialM42;
          m[14] = initialM43;
          m[15] = initialM44;
          result._markAsUpdated();
        }
        static FromValues(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {
          const result = new Matrix();
          const m = result._m;
          m[0] = initialM11;
          m[1] = initialM12;
          m[2] = initialM13;
          m[3] = initialM14;
          m[4] = initialM21;
          m[5] = initialM22;
          m[6] = initialM23;
          m[7] = initialM24;
          m[8] = initialM31;
          m[9] = initialM32;
          m[10] = initialM33;
          m[11] = initialM34;
          m[12] = initialM41;
          m[13] = initialM42;
          m[14] = initialM43;
          m[15] = initialM44;
          result._markAsUpdated();
          return result;
        }
        static Compose(scale, rotation, translation) {
          const result = new Matrix();
          Matrix.ComposeToRef(scale, rotation, translation, result);
          return result;
        }
        static ComposeToRef(scale, rotation, translation, result) {
          Matrix.ScalingToRef(scale.x, scale.y, scale.z, preallocatedVariables_1.MathTmp.Matrix[1]);
          rotation.toRotationMatrix(preallocatedVariables_1.MathTmp.Matrix[0]);
          preallocatedVariables_1.MathTmp.Matrix[1].multiplyToRef(preallocatedVariables_1.MathTmp.Matrix[0], result);
          result.setTranslation(translation);
        }
        static Identity() {
          const identity = Matrix.FromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
          identity._updateIdentityStatus(true);
          return identity;
        }
        static IdentityToRef(result) {
          Matrix.FromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
          result._updateIdentityStatus(true);
        }
        static Zero() {
          const zero = Matrix.FromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
          zero._updateIdentityStatus(false);
          return zero;
        }
        static RotationX(angle) {
          const result = new Matrix();
          Matrix.RotationXToRef(angle, result);
          return result;
        }
        static Invert(source) {
          const result = new Matrix();
          source.invertToRef(result);
          return result;
        }
        static RotationXToRef(angle, result) {
          const s = Math.sin(angle);
          const c = Math.cos(angle);
          Matrix.FromValuesToRef(1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, result);
          result._updateIdentityStatus(c === 1 && s === 0);
        }
        static RotationY(angle) {
          const result = new Matrix();
          Matrix.RotationYToRef(angle, result);
          return result;
        }
        static RotationYToRef(angle, result) {
          const s = Math.sin(angle);
          const c = Math.cos(angle);
          Matrix.FromValuesToRef(c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1, result);
          result._updateIdentityStatus(c === 1 && s === 0);
        }
        static RotationZ(angle) {
          const result = new Matrix();
          Matrix.RotationZToRef(angle, result);
          return result;
        }
        static RotationZToRef(angle, result) {
          const s = Math.sin(angle);
          const c = Math.cos(angle);
          Matrix.FromValuesToRef(c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
          result._updateIdentityStatus(c === 1 && s === 0);
        }
        static RotationAxis(axis, angle) {
          const result = new Matrix();
          Matrix.RotationAxisToRef(axis, angle, result);
          return result;
        }
        static RotationAxisToRef(axis, angle, result) {
          const s = Math.sin(-angle);
          const c = Math.cos(-angle);
          const c1 = 1 - c;
          axis.normalize();
          const m = result._m;
          m[0] = axis.x * axis.x * c1 + c;
          m[1] = axis.x * axis.y * c1 - axis.z * s;
          m[2] = axis.x * axis.z * c1 + axis.y * s;
          m[3] = 0;
          m[4] = axis.y * axis.x * c1 + axis.z * s;
          m[5] = axis.y * axis.y * c1 + c;
          m[6] = axis.y * axis.z * c1 - axis.x * s;
          m[7] = 0;
          m[8] = axis.z * axis.x * c1 - axis.y * s;
          m[9] = axis.z * axis.y * c1 + axis.x * s;
          m[10] = axis.z * axis.z * c1 + c;
          m[11] = 0;
          m[12] = 0;
          m[13] = 0;
          m[14] = 0;
          m[15] = 1;
          result._markAsUpdated();
        }
        static RotationYawPitchRoll(yaw, pitch, roll) {
          const result = new Matrix();
          Matrix.RotationYawPitchRollToRef(yaw, pitch, roll, result);
          return result;
        }
        static RotationYawPitchRollToRef(yaw, pitch, roll, result) {
          Quaternion_1.Quaternion.RotationYawPitchRollToRef(yaw, pitch, roll, preallocatedVariables_1.MathTmp.Quaternion[0]);
          preallocatedVariables_1.MathTmp.Quaternion[0].toRotationMatrix(result);
        }
        static Scaling(x, y, z) {
          const result = new Matrix();
          Matrix.ScalingToRef(x, y, z, result);
          return result;
        }
        static ScalingToRef(x, y, z, result) {
          Matrix.FromValuesToRef(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1, result);
          result._updateIdentityStatus(x === 1 && y === 1 && z === 1);
        }
        static Translation(x, y, z) {
          const result = new Matrix();
          Matrix.TranslationToRef(x, y, z, result);
          return result;
        }
        static TranslationToRef(x, y, z, result) {
          Matrix.FromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1, result);
          result._updateIdentityStatus(x === 0 && y === 0 && z === 0);
        }
        static Lerp(startValue, endValue, gradient) {
          const result = new Matrix();
          Matrix.LerpToRef(startValue, endValue, gradient, result);
          return result;
        }
        static LerpToRef(startValue, endValue, gradient, result) {
          for (let index = 0; index < 16; index++) {
            result._m[index] = startValue._m[index] * (1 - gradient) + endValue._m[index] * gradient;
          }
          result._markAsUpdated();
        }
        static DecomposeLerp(startValue, endValue, gradient) {
          const result = new Matrix();
          Matrix.DecomposeLerpToRef(startValue, endValue, gradient, result);
          return result;
        }
        static DecomposeLerpToRef(startValue, endValue, gradient, result) {
          const startScale = preallocatedVariables_1.MathTmp.Vector3[0];
          const startRotation = preallocatedVariables_1.MathTmp.Quaternion[0];
          const startTranslation = preallocatedVariables_1.MathTmp.Vector3[1];
          startValue.decompose(startScale, startRotation, startTranslation);
          const endScale = preallocatedVariables_1.MathTmp.Vector3[2];
          const endRotation = preallocatedVariables_1.MathTmp.Quaternion[1];
          const endTranslation = preallocatedVariables_1.MathTmp.Vector3[3];
          endValue.decompose(endScale, endRotation, endTranslation);
          const resultScale = preallocatedVariables_1.MathTmp.Vector3[4];
          Vector3_1.Vector3.LerpToRef(startScale, endScale, gradient, resultScale);
          const resultRotation = preallocatedVariables_1.MathTmp.Quaternion[2];
          Quaternion_1.Quaternion.SlerpToRef(startRotation, endRotation, gradient, resultRotation);
          const resultTranslation = preallocatedVariables_1.MathTmp.Vector3[5];
          Vector3_1.Vector3.LerpToRef(startTranslation, endTranslation, gradient, resultTranslation);
          Matrix.ComposeToRef(resultScale, resultRotation, resultTranslation, result);
        }
        static LookAtLH(eye, target, up) {
          const result = new Matrix();
          Matrix.LookAtLHToRef(eye, target, up, result);
          return result;
        }
        static LookAtLHToRef(eye, target, up, result) {
          const xAxis = preallocatedVariables_1.MathTmp.Vector3[0];
          const yAxis = preallocatedVariables_1.MathTmp.Vector3[1];
          const zAxis = preallocatedVariables_1.MathTmp.Vector3[2];
          target.subtractToRef(eye, zAxis);
          zAxis.normalize();
          Vector3_1.Vector3.CrossToRef(up, zAxis, xAxis);
          const xSquareLength = xAxis.lengthSquared();
          if (xSquareLength === 0) {
            xAxis.x = 1;
          } else {
            xAxis.normalizeFromLength(Math.sqrt(xSquareLength));
          }
          Vector3_1.Vector3.CrossToRef(zAxis, xAxis, yAxis);
          yAxis.normalize();
          const ex = -Vector3_1.Vector3.Dot(xAxis, eye);
          const ey = -Vector3_1.Vector3.Dot(yAxis, eye);
          const ez = -Vector3_1.Vector3.Dot(zAxis, eye);
          Matrix.FromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
        }
        static LookAtRH(eye, target, up) {
          const result = new Matrix();
          Matrix.LookAtRHToRef(eye, target, up, result);
          return result;
        }
        static LookAtRHToRef(eye, target, up, result) {
          const xAxis = preallocatedVariables_1.MathTmp.Vector3[0];
          const yAxis = preallocatedVariables_1.MathTmp.Vector3[1];
          const zAxis = preallocatedVariables_1.MathTmp.Vector3[2];
          eye.subtractToRef(target, zAxis);
          zAxis.normalize();
          Vector3_1.Vector3.CrossToRef(up, zAxis, xAxis);
          const xSquareLength = xAxis.lengthSquared();
          if (xSquareLength === 0) {
            xAxis.x = 1;
          } else {
            xAxis.normalizeFromLength(Math.sqrt(xSquareLength));
          }
          Vector3_1.Vector3.CrossToRef(zAxis, xAxis, yAxis);
          yAxis.normalize();
          const ex = -Vector3_1.Vector3.Dot(xAxis, eye);
          const ey = -Vector3_1.Vector3.Dot(yAxis, eye);
          const ez = -Vector3_1.Vector3.Dot(zAxis, eye);
          Matrix.FromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
        }
        static OrthoLH(width, height, znear, zfar) {
          const matrix = new Matrix();
          Matrix.OrthoLHToRef(width, height, znear, zfar, matrix);
          return matrix;
        }
        static OrthoLHToRef(width, height, znear, zfar, result) {
          const n = znear;
          const f = zfar;
          const a = 2 / width;
          const b = 2 / height;
          const c = 2 / (f - n);
          const d = -(f + n) / (f - n);
          Matrix.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, d, 1, result);
          result._updateIdentityStatus(a === 1 && b === 1 && c === 1 && d === 0);
        }
        static OrthoOffCenterLH(left, right, bottom, top, znear, zfar) {
          const matrix = new Matrix();
          Matrix.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);
          return matrix;
        }
        static OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result) {
          const n = znear;
          const f = zfar;
          const a = 2 / (right - left);
          const b = 2 / (top - bottom);
          const c = 2 / (f - n);
          const d = -(f + n) / (f - n);
          const i0 = (left + right) / (left - right);
          const i1 = (top + bottom) / (bottom - top);
          Matrix.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, i0, i1, d, 1, result);
          result._markAsUpdated();
        }
        static OrthoOffCenterRH(left, right, bottom, top, znear, zfar) {
          const matrix = new Matrix();
          Matrix.OrthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);
          return matrix;
        }
        static OrthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, result) {
          Matrix.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);
          result._m[10] *= -1;
        }
        static PerspectiveLH(width, height, znear, zfar) {
          const matrix = new Matrix();
          const n = znear;
          const f = zfar;
          const a = 2 * n / width;
          const b = 2 * n / height;
          const c = (f + n) / (f - n);
          const d = -2 * f * n / (f - n);
          Matrix.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, matrix);
          matrix._updateIdentityStatus(false);
          return matrix;
        }
        static PerspectiveFovLH(fov, aspect, znear, zfar) {
          const matrix = new Matrix();
          Matrix.PerspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);
          return matrix;
        }
        static PerspectiveFovLHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
          const n = znear;
          const f = zfar;
          const t = 1 / Math.tan(fov * 0.5);
          const a = isVerticalFovFixed ? t / aspect : t;
          const b = isVerticalFovFixed ? t : t * aspect;
          const c = (f + n) / (f - n);
          const d = -2 * f * n / (f - n);
          Matrix.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, result);
          result._updateIdentityStatus(false);
        }
        static PerspectiveFovRH(fov, aspect, znear, zfar) {
          const matrix = new Matrix();
          Matrix.PerspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);
          return matrix;
        }
        static PerspectiveFovRHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
          const n = znear;
          const f = zfar;
          const t = 1 / Math.tan(fov * 0.5);
          const a = isVerticalFovFixed ? t / aspect : t;
          const b = isVerticalFovFixed ? t : t * aspect;
          const c = -(f + n) / (f - n);
          const d = -2 * f * n / (f - n);
          Matrix.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, -1, 0, 0, d, 0, result);
          result._updateIdentityStatus(false);
        }
        static PerspectiveFovWebVRToRef(fov, znear, zfar, result, rightHanded = false) {
          const rightHandedFactor = rightHanded ? -1 : 1;
          const upTan = Math.tan(fov.upDegrees * Math.PI / 180);
          const downTan = Math.tan(fov.downDegrees * Math.PI / 180);
          const leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
          const rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
          const xScale = 2 / (leftTan + rightTan);
          const yScale = 2 / (upTan + downTan);
          const m = result._m;
          m[0] = xScale;
          m[1] = m[2] = m[3] = m[4] = 0;
          m[5] = yScale;
          m[6] = m[7] = 0;
          m[8] = (leftTan - rightTan) * xScale * 0.5;
          m[9] = -((upTan - downTan) * yScale * 0.5);
          m[10] = -zfar / (znear - zfar);
          m[11] = 1 * rightHandedFactor;
          m[12] = m[13] = m[15] = 0;
          m[14] = -(2 * zfar * znear) / (zfar - znear);
          result._markAsUpdated();
        }
        static GetAsMatrix2x2(matrix) {
          return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];
        }
        static GetAsMatrix3x3(matrix) {
          return [
            matrix._m[0],
            matrix._m[1],
            matrix._m[2],
            matrix._m[4],
            matrix._m[5],
            matrix._m[6],
            matrix._m[8],
            matrix._m[9],
            matrix._m[10]
          ];
        }
        static Transpose(matrix) {
          const result = new Matrix();
          Matrix.TransposeToRef(matrix, result);
          return result;
        }
        static TransposeToRef(matrix, result) {
          const rm = result._m;
          const mm = matrix._m;
          rm[0] = mm[0];
          rm[1] = mm[4];
          rm[2] = mm[8];
          rm[3] = mm[12];
          rm[4] = mm[1];
          rm[5] = mm[5];
          rm[6] = mm[9];
          rm[7] = mm[13];
          rm[8] = mm[2];
          rm[9] = mm[6];
          rm[10] = mm[10];
          rm[11] = mm[14];
          rm[12] = mm[3];
          rm[13] = mm[7];
          rm[14] = mm[11];
          rm[15] = mm[15];
          result._updateIdentityStatus(matrix._isIdentity, matrix._isIdentityDirty);
        }
        static Reflection(plane) {
          const matrix = new Matrix();
          Matrix.ReflectionToRef(plane, matrix);
          return matrix;
        }
        static ReflectionToRef(plane, result) {
          plane.normalize();
          const x = plane.normal.x;
          const y = plane.normal.y;
          const z = plane.normal.z;
          const temp = -2 * x;
          const temp2 = -2 * y;
          const temp3 = -2 * z;
          Matrix.FromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0, temp * y, temp2 * y + 1, temp3 * y, 0, temp * z, temp2 * z, temp3 * z + 1, 0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1, result);
        }
        static FromXYZAxesToRef(xaxis, yaxis, zaxis, result) {
          Matrix.FromValuesToRef(xaxis.x, xaxis.y, xaxis.z, 0, yaxis.x, yaxis.y, yaxis.z, 0, zaxis.x, zaxis.y, zaxis.z, 0, 0, 0, 0, 1, result);
        }
        static FromQuaternionToRef(quat, result) {
          const xx = quat.x * quat.x;
          const yy = quat.y * quat.y;
          const zz = quat.z * quat.z;
          const xy = quat.x * quat.y;
          const zw = quat.z * quat.w;
          const zx = quat.z * quat.x;
          const yw = quat.y * quat.w;
          const yz = quat.y * quat.z;
          const xw = quat.x * quat.w;
          result._m[0] = 1 - 2 * (yy + zz);
          result._m[1] = 2 * (xy + zw);
          result._m[2] = 2 * (zx - yw);
          result._m[3] = 0;
          result._m[4] = 2 * (xy - zw);
          result._m[5] = 1 - 2 * (zz + xx);
          result._m[6] = 2 * (yz + xw);
          result._m[7] = 0;
          result._m[8] = 2 * (zx + yw);
          result._m[9] = 2 * (yz - xw);
          result._m[10] = 1 - 2 * (yy + xx);
          result._m[11] = 0;
          result._m[12] = 0;
          result._m[13] = 0;
          result._m[14] = 0;
          result._m[15] = 1;
          result._markAsUpdated();
        }
        _markAsUpdated() {
          this.updateFlag = Matrix._updateFlagSeed++;
          this._isIdentity = false;
          this._isIdentity3x2 = false;
          this._isIdentityDirty = true;
          this._isIdentity3x2Dirty = true;
        }
        isIdentity() {
          if (this._isIdentityDirty) {
            this._isIdentityDirty = false;
            const m = this._m;
            this._isIdentity = m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 0 && m[4] === 0 && m[5] === 1 && m[6] === 0 && m[7] === 0 && m[8] === 0 && m[9] === 0 && m[10] === 1 && m[11] === 0 && m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1;
          }
          return this._isIdentity;
        }
        isIdentityAs3x2() {
          if (this._isIdentity3x2Dirty) {
            this._isIdentity3x2Dirty = false;
            if (this._m[0] !== 1 || this._m[5] !== 1 || this._m[15] !== 1) {
              this._isIdentity3x2 = false;
            } else if (this._m[1] !== 0 || this._m[2] !== 0 || this._m[3] !== 0 || this._m[4] !== 0 || this._m[6] !== 0 || this._m[7] !== 0 || this._m[8] !== 0 || this._m[9] !== 0 || this._m[10] !== 0 || this._m[11] !== 0 || this._m[12] !== 0 || this._m[13] !== 0 || this._m[14] !== 0) {
              this._isIdentity3x2 = false;
            } else {
              this._isIdentity3x2 = true;
            }
          }
          return this._isIdentity3x2;
        }
        determinant() {
          if (this._isIdentity === true) {
            return 1;
          }
          const m = this._m;
          const m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];
          const m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];
          const m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];
          const m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];
          const det_22_33 = m22 * m33 - m32 * m23;
          const det_21_33 = m21 * m33 - m31 * m23;
          const det_21_32 = m21 * m32 - m31 * m22;
          const det_20_33 = m20 * m33 - m30 * m23;
          const det_20_32 = m20 * m32 - m22 * m30;
          const det_20_31 = m20 * m31 - m30 * m21;
          const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
          const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
          const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
          const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
          return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
        }
        toArray() {
          return this._m;
        }
        asArray() {
          return this._m;
        }
        invert() {
          this.invertToRef(this);
          return this;
        }
        reset() {
          Matrix.FromValuesToRef(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, this);
          this._updateIdentityStatus(false);
          return this;
        }
        add(other) {
          const result = new Matrix();
          this.addToRef(other, result);
          return result;
        }
        addToRef(other, result) {
          for (let index = 0; index < 16; index++) {
            result._m[index] = this._m[index] + other._m[index];
          }
          result._markAsUpdated();
          return this;
        }
        addToSelf(other) {
          for (let index = 0; index < 16; index++) {
            this._m[index] += other._m[index];
          }
          this._markAsUpdated();
          return this;
        }
        invertToRef(other) {
          if (this._isIdentity === true) {
            Matrix.IdentityToRef(other);
            return this;
          }
          const m = this._m;
          const m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];
          const m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];
          const m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];
          const m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];
          const det_22_33 = m22 * m33 - m32 * m23;
          const det_21_33 = m21 * m33 - m31 * m23;
          const det_21_32 = m21 * m32 - m31 * m22;
          const det_20_33 = m20 * m33 - m30 * m23;
          const det_20_32 = m20 * m32 - m22 * m30;
          const det_20_31 = m20 * m31 - m30 * m21;
          const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
          const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
          const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
          const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
          const det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
          if (det === 0) {
            other.copyFrom(this);
            return this;
          }
          const detInv = 1 / det;
          const det_12_33 = m12 * m33 - m32 * m13;
          const det_11_33 = m11 * m33 - m31 * m13;
          const det_11_32 = m11 * m32 - m31 * m12;
          const det_10_33 = m10 * m33 - m30 * m13;
          const det_10_32 = m10 * m32 - m30 * m12;
          const det_10_31 = m10 * m31 - m30 * m11;
          const det_12_23 = m12 * m23 - m22 * m13;
          const det_11_23 = m11 * m23 - m21 * m13;
          const det_11_22 = m11 * m22 - m21 * m12;
          const det_10_23 = m10 * m23 - m20 * m13;
          const det_10_22 = m10 * m22 - m20 * m12;
          const det_10_21 = m10 * m21 - m20 * m11;
          const cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);
          const cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);
          const cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);
          const cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);
          const cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);
          const cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);
          const cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);
          const cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);
          const cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);
          const cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);
          const cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);
          const cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);
          Matrix.FromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, other);
          return this;
        }
        addAtIndex(index, value) {
          this._m[index] += value;
          this._markAsUpdated();
          return this;
        }
        multiplyAtIndex(index, value) {
          this._m[index] *= value;
          this._markAsUpdated();
          return this;
        }
        setTranslationFromFloats(x, y, z) {
          this._m[12] = x;
          this._m[13] = y;
          this._m[14] = z;
          this._markAsUpdated();
          return this;
        }
        setTranslation(vector3) {
          return this.setTranslationFromFloats(vector3.x, vector3.y, vector3.z);
        }
        getTranslation() {
          return new Vector3_1.Vector3(this._m[12], this._m[13], this._m[14]);
        }
        getTranslationToRef(result) {
          result.x = this._m[12];
          result.y = this._m[13];
          result.z = this._m[14];
          return this;
        }
        removeRotationAndScaling() {
          const m = this.m;
          Matrix.FromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, m[12], m[13], m[14], m[15], this);
          this._updateIdentityStatus(m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1);
          return this;
        }
        multiply(other) {
          const result = new Matrix();
          this.multiplyToRef(other, result);
          return result;
        }
        copyFrom(other) {
          other.copyToArray(this._m);
          const o = other;
          this._updateIdentityStatus(o._isIdentity, o._isIdentityDirty, o._isIdentity3x2, o._isIdentity3x2Dirty);
          return this;
        }
        copyToArray(array, offset = 0) {
          for (let index = 0; index < 16; index++) {
            array[offset + index] = this._m[index];
          }
          return this;
        }
        multiplyToRef(other, result) {
          if (this._isIdentity) {
            result.copyFrom(other);
            return this;
          }
          if (other._isIdentity) {
            result.copyFrom(this);
            return this;
          }
          this.multiplyToArray(other, result._m, 0);
          result._markAsUpdated();
          return this;
        }
        multiplyToArray(other, result, offset) {
          const m = this._m;
          const otherM = other.m;
          const tm0 = m[0], tm1 = m[1], tm2 = m[2], tm3 = m[3];
          const tm4 = m[4], tm5 = m[5], tm6 = m[6], tm7 = m[7];
          const tm8 = m[8], tm9 = m[9], tm10 = m[10], tm11 = m[11];
          const tm12 = m[12], tm13 = m[13], tm14 = m[14], tm15 = m[15];
          const om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];
          const om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];
          const om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];
          const om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];
          result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;
          result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;
          result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;
          result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;
          result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;
          result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;
          result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;
          result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;
          result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;
          result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;
          result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;
          result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;
          result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;
          result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;
          result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;
          result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;
          return this;
        }
        equals(value) {
          const other = value;
          if (!other) {
            return false;
          }
          if (this._isIdentity || other._isIdentity) {
            if (!this._isIdentityDirty && !other._isIdentityDirty) {
              return this._isIdentity && other._isIdentity;
            }
          }
          const m = this.m;
          const om = other.m;
          return m[0] === om[0] && m[1] === om[1] && m[2] === om[2] && m[3] === om[3] && m[4] === om[4] && m[5] === om[5] && m[6] === om[6] && m[7] === om[7] && m[8] === om[8] && m[9] === om[9] && m[10] === om[10] && m[11] === om[11] && m[12] === om[12] && m[13] === om[13] && m[14] === om[14] && m[15] === om[15];
        }
        clone() {
          const matrix = new Matrix();
          matrix.copyFrom(this);
          return matrix;
        }
        getClassName() {
          return "Matrix";
        }
        getHashCode() {
          let hash = this._m[0] || 0;
          for (let i = 1; i < 16; i++) {
            hash = hash * 397 ^ (this._m[i] || 0);
          }
          return hash;
        }
        decompose(scale, rotation, translation) {
          if (this._isIdentity) {
            if (translation) {
              translation.setAll(0);
            }
            if (scale) {
              scale.setAll(1);
            }
            if (rotation) {
              rotation.copyFromFloats(0, 0, 0, 1);
            }
            return true;
          }
          const m = this._m;
          if (translation) {
            translation.copyFromFloats(m[12], m[13], m[14]);
          }
          const usedScale = scale || preallocatedVariables_1.MathTmp.Vector3[0];
          usedScale.x = Math.sqrt(m[0] * m[0] + m[1] * m[1] + m[2] * m[2]);
          usedScale.y = Math.sqrt(m[4] * m[4] + m[5] * m[5] + m[6] * m[6]);
          usedScale.z = Math.sqrt(m[8] * m[8] + m[9] * m[9] + m[10] * m[10]);
          if (this.determinant() <= 0) {
            usedScale.y *= -1;
          }
          if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {
            if (rotation) {
              rotation.copyFromFloats(0, 0, 0, 1);
            }
            return false;
          }
          if (rotation) {
            const sx = 1 / usedScale.x, sy = 1 / usedScale.y, sz = 1 / usedScale.z;
            Matrix.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0, m[4] * sy, m[5] * sy, m[6] * sy, 0, m[8] * sz, m[9] * sz, m[10] * sz, 0, 0, 0, 0, 1, preallocatedVariables_1.MathTmp.Matrix[0]);
            Quaternion_1.Quaternion.FromRotationMatrixToRef(preallocatedVariables_1.MathTmp.Matrix[0], rotation);
          }
          return true;
        }
        getRow(index) {
          if (index < 0 || index > 3) {
            return null;
          }
          const i = index * 4;
          return new Vector4_1.Vector4(this._m[i + 0], this._m[i + 1], this._m[i + 2], this._m[i + 3]);
        }
        setRow(index, row) {
          return this.setRowFromFloats(index, row.x, row.y, row.z, row.w);
        }
        transpose() {
          return Matrix.Transpose(this);
        }
        transposeToRef(result) {
          Matrix.TransposeToRef(this, result);
          return this;
        }
        setRowFromFloats(index, x, y, z, w) {
          if (index < 0 || index > 3) {
            return this;
          }
          const i = index * 4;
          this._m[i + 0] = x;
          this._m[i + 1] = y;
          this._m[i + 2] = z;
          this._m[i + 3] = w;
          this._markAsUpdated();
          return this;
        }
        scale(scale) {
          const result = new Matrix();
          this.scaleToRef(scale, result);
          return result;
        }
        scaleToRef(scale, result) {
          for (let index = 0; index < 16; index++) {
            result._m[index] = this._m[index] * scale;
          }
          result._markAsUpdated();
          return this;
        }
        scaleAndAddToRef(scale, result) {
          for (let index = 0; index < 16; index++) {
            result._m[index] += this._m[index] * scale;
          }
          result._markAsUpdated();
          return this;
        }
        toNormalMatrix(ref) {
          const tmp = preallocatedVariables_1.MathTmp.Matrix[0];
          this.invertToRef(tmp);
          tmp.transposeToRef(ref);
          const m = ref._m;
          Matrix.FromValuesToRef(m[0], m[1], m[2], 0, m[4], m[5], m[6], 0, m[8], m[9], m[10], 0, 0, 0, 0, 1, ref);
        }
        getRotationMatrix() {
          const result = new Matrix();
          this.getRotationMatrixToRef(result);
          return result;
        }
        getRotationMatrixToRef(result) {
          const scale = preallocatedVariables_1.MathTmp.Vector3[0];
          if (!this.decompose(scale)) {
            Matrix.IdentityToRef(result);
            return this;
          }
          const m = this._m;
          const sx = 1 / scale.x, sy = 1 / scale.y, sz = 1 / scale.z;
          Matrix.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0, m[4] * sy, m[5] * sy, m[6] * sy, 0, m[8] * sz, m[9] * sz, m[10] * sz, 0, 0, 0, 0, 1, result);
          return this;
        }
        toggleModelMatrixHandInPlace() {
          const m = this._m;
          m[2] *= -1;
          m[6] *= -1;
          m[8] *= -1;
          m[9] *= -1;
          m[14] *= -1;
          this._markAsUpdated();
        }
        toggleProjectionMatrixHandInPlace() {
          const m = this._m;
          m[8] *= -1;
          m[9] *= -1;
          m[10] *= -1;
          m[11] *= -1;
          this._markAsUpdated();
        }
        _updateIdentityStatus(isIdentity, isIdentityDirty = false, isIdentity3x2 = false, isIdentity3x2Dirty = true) {
          this.updateFlag = Matrix._updateFlagSeed++;
          this._isIdentity = isIdentity;
          this._isIdentity3x2 = isIdentity || isIdentity3x2;
          this._isIdentityDirty = this._isIdentity ? false : isIdentityDirty;
          this._isIdentity3x2Dirty = this._isIdentity3x2 ? false : isIdentity3x2Dirty;
        }
      };
      exports2.Matrix = Matrix;
      Matrix._updateFlagSeed = 0;
      Matrix._identityReadOnly = Matrix.Identity();
    }
  });

  // node_modules/@dcl/ecs-math/dist/Quaternion.js
  var require_Quaternion = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Quaternion.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Quaternion = void 0;
      var Matrix_1 = require_Matrix();
      var Vector3_1 = require_Vector3();
      var preallocatedVariables_1 = require_preallocatedVariables();
      var types_1 = require_types2();
      var Scalar_1 = require_Scalar();
      var Quaternion2 = class {
        constructor(x = 0, y = 0, z = 0, w = 1) {
          this.x = x;
          this.y = y;
          this.z = z;
          this.w = w;
        }
        static FromRotationMatrix(matrix) {
          const result = new Quaternion2();
          Quaternion2.FromRotationMatrixToRef(matrix, result);
          return result;
        }
        static FromRotationMatrixToRef(matrix, result) {
          const data = matrix.m;
          const m11 = data[0], m12 = data[4], m13 = data[8];
          const m21 = data[1], m22 = data[5], m23 = data[9];
          const m31 = data[2], m32 = data[6], m33 = data[10];
          const trace = m11 + m22 + m33;
          let s;
          if (trace > 0) {
            s = 0.5 / Math.sqrt(trace + 1);
            result.w = 0.25 / s;
            result.x = (m32 - m23) * s;
            result.y = (m13 - m31) * s;
            result.z = (m21 - m12) * s;
          } else if (m11 > m22 && m11 > m33) {
            s = 2 * Math.sqrt(1 + m11 - m22 - m33);
            result.w = (m32 - m23) / s;
            result.x = 0.25 * s;
            result.y = (m12 + m21) / s;
            result.z = (m13 + m31) / s;
          } else if (m22 > m33) {
            s = 2 * Math.sqrt(1 + m22 - m11 - m33);
            result.w = (m13 - m31) / s;
            result.x = (m12 + m21) / s;
            result.y = 0.25 * s;
            result.z = (m23 + m32) / s;
          } else {
            s = 2 * Math.sqrt(1 + m33 - m11 - m22);
            result.w = (m21 - m12) / s;
            result.x = (m13 + m31) / s;
            result.y = (m23 + m32) / s;
            result.z = 0.25 * s;
          }
        }
        static Dot(left, right) {
          return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
        }
        static AreClose(quat0, quat1) {
          const dot = Quaternion2.Dot(quat0, quat1);
          return dot >= 0;
        }
        static Zero() {
          return new Quaternion2(0, 0, 0, 0);
        }
        static Inverse(q) {
          return new Quaternion2(-q.x, -q.y, -q.z, q.w);
        }
        static IsIdentity(quaternion) {
          return quaternion && quaternion.x === 0 && quaternion.y === 0 && quaternion.z === 0 && quaternion.w === 1;
        }
        static RotationAxis(axis, angle) {
          const angleRad = angle * types_1.DEG2RAD;
          return Quaternion2.RotationAxisToRef(axis, angleRad, new Quaternion2());
        }
        static RotationAxisToRef(axis, angle, result) {
          const angleRad = angle * types_1.DEG2RAD;
          const sin = Math.sin(angleRad / 2);
          axis.normalize();
          result.w = Math.cos(angleRad / 2);
          result.x = axis.x * sin;
          result.y = axis.y * sin;
          result.z = axis.z * sin;
          return result;
        }
        static FromArray(array, offset = 0) {
          return new Quaternion2(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
        }
        static FromEulerAnglesRef(x, y, z, result) {
          return Quaternion2.RotationYawPitchRollToRef(y * types_1.DEG2RAD, x * types_1.DEG2RAD, z * types_1.DEG2RAD, result);
        }
        static RotationYawPitchRoll(yaw, pitch, roll) {
          const q = new Quaternion2();
          Quaternion2.RotationYawPitchRollToRef(yaw, pitch, roll, q);
          return q;
        }
        static RotationYawPitchRollToRef(yaw, pitch, roll, result) {
          const halfPitch = pitch * 0.5;
          const halfYaw = yaw * 0.5;
          const halfRoll = roll * 0.5;
          const c1 = Math.cos(halfPitch);
          const c2 = Math.cos(halfYaw);
          const c3 = Math.cos(halfRoll);
          const s1 = Math.sin(halfPitch);
          const s2 = Math.sin(halfYaw);
          const s3 = Math.sin(halfRoll);
          result.x = c2 * s1 * c3 + s2 * c1 * s3;
          result.y = s2 * c1 * c3 - c2 * s1 * s3;
          result.z = c2 * c1 * s3 - s2 * s1 * c3;
          result.w = c2 * c1 * c3 + s2 * s1 * s3;
        }
        static RotationAlphaBetaGamma(alpha, beta, gamma) {
          const result = new Quaternion2();
          Quaternion2.RotationAlphaBetaGammaToRef(alpha, beta, gamma, result);
          return result;
        }
        static RotationAlphaBetaGammaToRef(alpha, beta, gamma, result) {
          const halfGammaPlusAlpha = (gamma + alpha) * 0.5;
          const halfGammaMinusAlpha = (gamma - alpha) * 0.5;
          const halfBeta = beta * 0.5;
          result.x = Math.cos(halfGammaMinusAlpha) * Math.sin(halfBeta);
          result.y = Math.sin(halfGammaMinusAlpha) * Math.sin(halfBeta);
          result.z = Math.sin(halfGammaPlusAlpha) * Math.cos(halfBeta);
          result.w = Math.cos(halfGammaPlusAlpha) * Math.cos(halfBeta);
        }
        static RotationQuaternionFromAxis(axis1, axis2, axis3) {
          const quat = new Quaternion2(0, 0, 0, 0);
          Quaternion2.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);
          return quat;
        }
        static RotationQuaternionFromAxisToRef(axis1, axis2, axis3, ref) {
          const rotMat = preallocatedVariables_1.MathTmp.Matrix[0];
          Matrix_1.Matrix.FromXYZAxesToRef(axis1.normalize(), axis2.normalize(), axis3.normalize(), rotMat);
          Quaternion2.FromRotationMatrixToRef(rotMat, ref);
        }
        static Slerp(left, right, amount) {
          const result = Quaternion2.Identity;
          Quaternion2.SlerpToRef(left, right, amount, result);
          return result;
        }
        static SlerpToRef(left, right, amount, result) {
          let num2;
          let num3;
          let num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
          let flag = false;
          if (num4 < 0) {
            flag = true;
            num4 = -num4;
          }
          if (num4 > 0.999999) {
            num3 = 1 - amount;
            num2 = flag ? -amount : amount;
          } else {
            const num5 = Math.acos(num4);
            const num6 = 1 / Math.sin(num5);
            num3 = Math.sin((1 - amount) * num5) * num6;
            num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;
          }
          result.x = num3 * left.x + num2 * right.x;
          result.y = num3 * left.y + num2 * right.y;
          result.z = num3 * left.z + num2 * right.z;
          result.w = num3 * left.w + num2 * right.w;
        }
        static Hermite(value1, tangent1, value2, tangent2, amount) {
          const squared = amount * amount;
          const cubed = amount * squared;
          const part1 = 2 * cubed - 3 * squared + 1;
          const part2 = -2 * cubed + 3 * squared;
          const part3 = cubed - 2 * squared + amount;
          const part4 = cubed - squared;
          const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
          const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
          const z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;
          const w = value1.w * part1 + value2.w * part2 + tangent1.w * part3 + tangent2.w * part4;
          return new Quaternion2(x, y, z, w);
        }
        static get Identity() {
          return new Quaternion2(0, 0, 0, 1);
        }
        static Angle(quat1, quat2) {
          const dot = Quaternion2.Dot(quat1, quat2);
          return Math.acos(Math.min(Math.abs(dot), 1)) * 2 * types_1.RAD2DEG;
        }
        static Euler(x, y, z) {
          return Quaternion2.RotationYawPitchRoll(y * types_1.DEG2RAD, x * types_1.DEG2RAD, z * types_1.DEG2RAD);
        }
        static LookRotation(forward, up = preallocatedVariables_1.MathTmp.staticUp) {
          const forwardNew = Vector3_1.Vector3.Normalize(forward);
          const right = Vector3_1.Vector3.Normalize(Vector3_1.Vector3.Cross(up, forwardNew));
          const upNew = Vector3_1.Vector3.Cross(forwardNew, right);
          const m00 = right.x;
          const m01 = right.y;
          const m02 = right.z;
          const m10 = upNew.x;
          const m11 = upNew.y;
          const m12 = upNew.z;
          const m20 = forwardNew.x;
          const m21 = forwardNew.y;
          const m22 = forwardNew.z;
          const num8 = m00 + m11 + m22;
          const quaternion = new Quaternion2();
          if (num8 > 0) {
            let num = Math.sqrt(num8 + 1);
            quaternion.w = num * 0.5;
            num = 0.5 / num;
            quaternion.x = (m12 - m21) * num;
            quaternion.y = (m20 - m02) * num;
            quaternion.z = (m01 - m10) * num;
            return quaternion;
          }
          if (m00 >= m11 && m00 >= m22) {
            const num7 = Math.sqrt(1 + m00 - m11 - m22);
            const num4 = 0.5 / num7;
            quaternion.x = 0.5 * num7;
            quaternion.y = (m01 + m10) * num4;
            quaternion.z = (m02 + m20) * num4;
            quaternion.w = (m12 - m21) * num4;
            return quaternion;
          }
          if (m11 > m22) {
            const num6 = Math.sqrt(1 + m11 - m00 - m22);
            const num3 = 0.5 / num6;
            quaternion.x = (m10 + m01) * num3;
            quaternion.y = 0.5 * num6;
            quaternion.z = (m21 + m12) * num3;
            quaternion.w = (m20 - m02) * num3;
            return quaternion;
          }
          const num5 = Math.sqrt(1 + m22 - m00 - m11);
          const num2 = 0.5 / num5;
          quaternion.x = (m20 + m02) * num2;
          quaternion.y = (m21 + m12) * num2;
          quaternion.z = 0.5 * num5;
          quaternion.w = (m01 - m10) * num2;
          return quaternion;
        }
        static RotateTowards(from, to, maxDegreesDelta) {
          const num = Quaternion2.Angle(from, to);
          if (num === 0) {
            return to;
          }
          const t = Math.min(1, maxDegreesDelta / num);
          return Quaternion2.Slerp(from, to, t);
        }
        static FromToRotation(from, to, up = preallocatedVariables_1.MathTmp.staticUp) {
          const v0 = from.normalize();
          const v1 = to.normalize();
          const a = Vector3_1.Vector3.Cross(v0, v1);
          const w = Math.sqrt(v0.lengthSquared() * v1.lengthSquared()) + Vector3_1.Vector3.Dot(v0, v1);
          if (a.lengthSquared() < 1e-4) {
            return Math.abs(w) < 1e-4 ? new Quaternion2(up.x, up.y, up.z, 0).normalized : Quaternion2.Identity;
          } else {
            return new Quaternion2(a.x, a.y, a.z, w).normalized;
          }
        }
        get normalized() {
          return this.normalize();
        }
        setFromToRotation(from, to, up = preallocatedVariables_1.MathTmp.staticUp) {
          const result = Quaternion2.FromToRotation(from, to, up);
          this.x = result.x;
          this.y = result.y;
          this.z = result.z;
          this.w = result.w;
        }
        set eulerAngles(euler) {
          this.setEuler(euler.x, euler.y, euler.z);
        }
        get eulerAngles() {
          const out = new Vector3_1.Vector3();
          const unit = this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
          const test = this.x * this.w - this.y * this.z;
          if (test > 0.4995 * unit) {
            out.x = Math.PI / 2;
            out.y = 2 * Math.atan2(this.y, this.x);
            out.z = 0;
          } else if (test < -0.4995 * unit) {
            out.x = -Math.PI / 2;
            out.y = -2 * Math.atan2(this.y, this.x);
            out.z = 0;
          } else {
            out.x = Math.asin(2 * (this.w * this.x - this.y * this.z));
            out.y = Math.atan2(2 * this.w * this.y + 2 * this.z * this.x, 1 - 2 * (this.x * this.x + this.y * this.y));
            out.z = Math.atan2(2 * this.w * this.z + 2 * this.x * this.y, 1 - 2 * (this.z * this.z + this.x * this.x));
          }
          out.x *= types_1.RAD2DEG;
          out.y *= types_1.RAD2DEG;
          out.z *= types_1.RAD2DEG;
          out.x = Scalar_1.Scalar.Repeat(out.x, 360);
          out.y = Scalar_1.Scalar.Repeat(out.y, 360);
          out.z = Scalar_1.Scalar.Repeat(out.z, 360);
          return out;
        }
        toString() {
          return `(${this.x}, ${this.y}, ${this.z}, ${this.w})`;
        }
        get length() {
          return Math.sqrt(this.lengthSquared);
        }
        get lengthSquared() {
          return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
        }
        getClassName() {
          return "Quaternion";
        }
        getHashCode() {
          let hash = this.x || 0;
          hash = hash * 397 ^ (this.y || 0);
          hash = hash * 397 ^ (this.z || 0);
          hash = hash * 397 ^ (this.w || 0);
          return hash;
        }
        asArray() {
          return [this.x, this.y, this.z, this.w];
        }
        equals(otherQuaternion) {
          return otherQuaternion && this.x === otherQuaternion.x && this.y === otherQuaternion.y && this.z === otherQuaternion.z && this.w === otherQuaternion.w;
        }
        clone() {
          return new Quaternion2(this.x, this.y, this.z, this.w);
        }
        copyFrom(other) {
          this.x = other.x;
          this.y = other.y;
          this.z = other.z;
          this.w = other.w;
          return this;
        }
        copyFromFloats(x, y, z, w) {
          this.x = x;
          this.y = y;
          this.z = z;
          this.w = w;
          return this;
        }
        set(x, y, z, w) {
          return this.copyFromFloats(x, y, z, w);
        }
        setEuler(x, y, z) {
          Quaternion2.RotationYawPitchRollToRef(y * types_1.DEG2RAD, x * types_1.DEG2RAD, z * types_1.DEG2RAD, this);
          return this;
        }
        add(other) {
          return new Quaternion2(this.x + other.x, this.y + other.y, this.z + other.z, this.w + other.w);
        }
        addInPlace(other) {
          this.x += other.x;
          this.y += other.y;
          this.z += other.z;
          this.w += other.w;
          return this;
        }
        subtract(other) {
          return new Quaternion2(this.x - other.x, this.y - other.y, this.z - other.z, this.w - other.w);
        }
        scale(value) {
          return new Quaternion2(this.x * value, this.y * value, this.z * value, this.w * value);
        }
        scaleToRef(scale, result) {
          result.x = this.x * scale;
          result.y = this.y * scale;
          result.z = this.z * scale;
          result.w = this.w * scale;
          return this;
        }
        scaleInPlace(value) {
          this.x *= value;
          this.y *= value;
          this.z *= value;
          this.w *= value;
          return this;
        }
        scaleAndAddToRef(scale, result) {
          result.x += this.x * scale;
          result.y += this.y * scale;
          result.z += this.z * scale;
          result.w += this.w * scale;
          return this;
        }
        multiply(q1) {
          const result = new Quaternion2(0, 0, 0, 1);
          this.multiplyToRef(q1, result);
          return result;
        }
        multiplyToRef(q1, result) {
          const x = this.x * q1.w + this.y * q1.z - this.z * q1.y + this.w * q1.x;
          const y = -this.x * q1.z + this.y * q1.w + this.z * q1.x + this.w * q1.y;
          const z = this.x * q1.y - this.y * q1.x + this.z * q1.w + this.w * q1.z;
          const w = -this.x * q1.x - this.y * q1.y - this.z * q1.z + this.w * q1.w;
          result.copyFromFloats(x, y, z, w);
          return this;
        }
        multiplyInPlace(q1) {
          this.multiplyToRef(q1, this);
          return this;
        }
        conjugateToRef(ref) {
          ref.copyFromFloats(-this.x, -this.y, -this.z, this.w);
          return this;
        }
        conjugateInPlace() {
          this.x *= -1;
          this.y *= -1;
          this.z *= -1;
          return this;
        }
        conjugate() {
          const result = new Quaternion2(-this.x, -this.y, -this.z, this.w);
          return result;
        }
        normalize() {
          const length = 1 / this.length;
          this.x *= length;
          this.y *= length;
          this.z *= length;
          this.w *= length;
          return this;
        }
        angleAxis(degress, axis) {
          if (axis.lengthSquared() === 0) {
            return Quaternion2.Identity;
          }
          const result = Quaternion2.Identity;
          let radians = degress * types_1.DEG2RAD;
          radians *= 0.5;
          let a2 = axis.normalize();
          a2 = axis.scaleInPlace(Math.sin(radians));
          result.x = a2.x;
          result.y = a2.y;
          result.z = a2.z;
          result.w = Math.cos(radians);
          return result.normalize();
        }
        toRotationMatrix(result) {
          Matrix_1.Matrix.FromQuaternionToRef(this, result);
          return this;
        }
        fromRotationMatrix(matrix) {
          Quaternion2.FromRotationMatrixToRef(matrix, this);
          return this;
        }
      };
      exports2.Quaternion = Quaternion2;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Vector3.js
  var require_Vector3 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Vector3.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Vector3 = void 0;
      var preallocatedVariables_1 = require_preallocatedVariables();
      var types_1 = require_types2();
      var Quaternion_1 = require_Quaternion();
      var Scalar_1 = require_Scalar();
      var Vector33 = class {
        constructor(x = 0, y = 0, z = 0) {
          this.x = x;
          this.y = y;
          this.z = z;
        }
        get isNonUniform() {
          const absX = Math.abs(this.x);
          const absY = Math.abs(this.y);
          if (absX !== absY) {
            return true;
          }
          const absZ = Math.abs(this.z);
          if (absX !== absZ) {
            return true;
          }
          if (absY !== absZ) {
            return true;
          }
          return false;
        }
        static Add(vector1, vector2) {
          return new Vector33(vector1.x, vector1.y, vector1.z).addInPlace(vector2);
        }
        static GetClipFactor(vector0, vector1, axis, size) {
          const d0 = Vector33.Dot(vector0, axis) - size;
          const d1 = Vector33.Dot(vector1, axis) - size;
          const s = d0 / (d0 - d1);
          return s;
        }
        static GetAngleBetweenVectors(vector0, vector1, normal) {
          const v0 = vector0.normalizeToRef(preallocatedVariables_1.MathTmp.Vector3[1]);
          const v1 = vector1.normalizeToRef(preallocatedVariables_1.MathTmp.Vector3[2]);
          const dot = Vector33.Dot(v0, v1);
          const n = preallocatedVariables_1.MathTmp.Vector3[3];
          Vector33.CrossToRef(v0, v1, n);
          if (Vector33.Dot(n, normal) > 0) {
            return Math.acos(dot);
          }
          return -Math.acos(dot);
        }
        static FromArray(array, offset = 0) {
          return new Vector33(array[offset], array[offset + 1], array[offset + 2]);
        }
        static FromFloatArray(array, offset) {
          return Vector33.FromArray(array, offset);
        }
        static FromArrayToRef(array, offset, result) {
          result.x = array[offset];
          result.y = array[offset + 1];
          result.z = array[offset + 2];
        }
        static FromFloatArrayToRef(array, offset, result) {
          return Vector33.FromArrayToRef(array, offset, result);
        }
        static FromFloatsToRef(x, y, z, result) {
          result.copyFromFloats(x, y, z);
        }
        static Zero() {
          return new Vector33(0, 0, 0);
        }
        static One() {
          return new Vector33(1, 1, 1);
        }
        static Up() {
          return new Vector33(0, 1, 0);
        }
        static Down() {
          return new Vector33(0, -1, 0);
        }
        static Forward() {
          return new Vector33(0, 0, 1);
        }
        static Backward() {
          return new Vector33(0, 0, -1);
        }
        static Right() {
          return new Vector33(1, 0, 0);
        }
        static Left() {
          return new Vector33(-1, 0, 0);
        }
        static TransformCoordinates(vector, transformation) {
          const result = Vector33.Zero();
          Vector33.TransformCoordinatesToRef(vector, transformation, result);
          return result;
        }
        static TransformCoordinatesToRef(vector, transformation, result) {
          return Vector33.TransformCoordinatesFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
        }
        static TransformCoordinatesFromFloatsToRef(x, y, z, transformation, result) {
          const m = transformation.m;
          const rx = x * m[0] + y * m[4] + z * m[8] + m[12];
          const ry = x * m[1] + y * m[5] + z * m[9] + m[13];
          const rz = x * m[2] + y * m[6] + z * m[10] + m[14];
          const rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);
          result.x = rx * rw;
          result.y = ry * rw;
          result.z = rz * rw;
        }
        static TransformNormal(vector, transformation) {
          const result = Vector33.Zero();
          Vector33.TransformNormalToRef(vector, transformation, result);
          return result;
        }
        static TransformNormalToRef(vector, transformation, result) {
          this.TransformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
        }
        static TransformNormalFromFloatsToRef(x, y, z, transformation, result) {
          const m = transformation.m;
          result.x = x * m[0] + y * m[4] + z * m[8];
          result.y = x * m[1] + y * m[5] + z * m[9];
          result.z = x * m[2] + y * m[6] + z * m[10];
        }
        static CatmullRom(value1, value2, value3, value4, amount) {
          const squared = amount * amount;
          const cubed = amount * squared;
          const x = 0.5 * (2 * value2.x + (-value1.x + value3.x) * amount + (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared + (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);
          const y = 0.5 * (2 * value2.y + (-value1.y + value3.y) * amount + (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared + (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);
          const z = 0.5 * (2 * value2.z + (-value1.z + value3.z) * amount + (2 * value1.z - 5 * value2.z + 4 * value3.z - value4.z) * squared + (-value1.z + 3 * value2.z - 3 * value3.z + value4.z) * cubed);
          return new Vector33(x, y, z);
        }
        static Clamp(value, min, max) {
          const v = new Vector33();
          Vector33.ClampToRef(value, min, max, v);
          return v;
        }
        static ClampToRef(value, min, max, result) {
          let x = value.x;
          x = x > max.x ? max.x : x;
          x = x < min.x ? min.x : x;
          let y = value.y;
          y = y > max.y ? max.y : y;
          y = y < min.y ? min.y : y;
          let z = value.z;
          z = z > max.z ? max.z : z;
          z = z < min.z ? min.z : z;
          result.copyFromFloats(x, y, z);
        }
        static Hermite(value1, tangent1, value2, tangent2, amount) {
          const squared = amount * amount;
          const cubed = amount * squared;
          const part1 = 2 * cubed - 3 * squared + 1;
          const part2 = -2 * cubed + 3 * squared;
          const part3 = cubed - 2 * squared + amount;
          const part4 = cubed - squared;
          const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
          const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
          const z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;
          return new Vector33(x, y, z);
        }
        static Lerp(start, end, amount) {
          const result = new Vector33(0, 0, 0);
          Vector33.LerpToRef(start, end, amount, result);
          return result;
        }
        static LerpToRef(start, end, amount, result) {
          result.x = start.x + (end.x - start.x) * amount;
          result.y = start.y + (end.y - start.y) * amount;
          result.z = start.z + (end.z - start.z) * amount;
        }
        static Dot(left, right) {
          return left.x * right.x + left.y * right.y + left.z * right.z;
        }
        static Cross(left, right) {
          const result = Vector33.Zero();
          Vector33.CrossToRef(left, right, result);
          return result;
        }
        static CrossToRef(left, right, result) {
          const x = left.y * right.z - left.z * right.y;
          const y = left.z * right.x - left.x * right.z;
          const z = left.x * right.y - left.y * right.x;
          result.copyFromFloats(x, y, z);
        }
        static Normalize(vector) {
          const result = Vector33.Zero();
          Vector33.NormalizeToRef(vector, result);
          return result;
        }
        static NormalizeToRef(vector, result) {
          vector.normalizeToRef(result);
        }
        static Minimize(left, right) {
          const min = new Vector33(left.x, left.y, left.z);
          min.minimizeInPlace(right);
          return min;
        }
        static Maximize(left, right) {
          const max = new Vector33(left.x, left.y, left.z);
          max.maximizeInPlace(right);
          return max;
        }
        static Distance(value1, value2) {
          return Math.sqrt(Vector33.DistanceSquared(value1, value2));
        }
        static DistanceSquared(value1, value2) {
          const x = value1.x - value2.x;
          const y = value1.y - value2.y;
          const z = value1.z - value2.z;
          return x * x + y * y + z * z;
        }
        static Center(value1, value2) {
          const center = Vector33.Add(value1, value2);
          center.scaleInPlace(0.5);
          return center;
        }
        static RotationFromAxis(axis1, axis2, axis3) {
          const rotation = Vector33.Zero();
          Vector33.RotationFromAxisToRef(axis1, axis2, axis3, rotation);
          return rotation;
        }
        static RotationFromAxisToRef(axis1, axis2, axis3, ref) {
          const quat = preallocatedVariables_1.MathTmp.Quaternion[0];
          Quaternion_1.Quaternion.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);
          ref.copyFrom(quat.eulerAngles);
        }
        toString() {
          return `(${this.x}, ${this.y}, ${this.z})`;
        }
        getClassName() {
          return "Vector3";
        }
        getHashCode() {
          let hash = this.x || 0;
          hash = hash * 397 ^ (this.y || 0);
          hash = hash * 397 ^ (this.z || 0);
          return hash;
        }
        asArray() {
          const result = [];
          this.toArray(result, 0);
          return result;
        }
        toArray(array, index = 0) {
          array[index] = this.x;
          array[index + 1] = this.y;
          array[index + 2] = this.z;
          return this;
        }
        toQuaternion() {
          return Quaternion_1.Quaternion.Identity.setEuler(this.y, this.x, this.z);
        }
        addInPlace(otherVector) {
          return this.addInPlaceFromFloats(otherVector.x, otherVector.y, otherVector.z);
        }
        addInPlaceFromFloats(x, y, z) {
          this.x += x;
          this.y += y;
          this.z += z;
          return this;
        }
        add(otherVector) {
          return new Vector33(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z);
        }
        addToRef(otherVector, result) {
          return result.copyFromFloats(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z);
        }
        subtractInPlace(otherVector) {
          this.x -= otherVector.x;
          this.y -= otherVector.y;
          this.z -= otherVector.z;
          return this;
        }
        subtract(otherVector) {
          return new Vector33(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z);
        }
        subtractToRef(otherVector, result) {
          return this.subtractFromFloatsToRef(otherVector.x, otherVector.y, otherVector.z, result);
        }
        subtractFromFloats(x, y, z) {
          return new Vector33(this.x - x, this.y - y, this.z - z);
        }
        subtractFromFloatsToRef(x, y, z, result) {
          return result.copyFromFloats(this.x - x, this.y - y, this.z - z);
        }
        applyMatrix4(matrix) {
          this.applyMatrix4ToRef(matrix, this);
        }
        applyMatrix4ToRef(matrix, result) {
          const {x, y, z} = this;
          const {m} = matrix;
          const w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);
          result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;
          result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;
          result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;
          return result;
        }
        rotate(q) {
          return this.rotateToRef(q, this);
        }
        rotateToRef(q, result) {
          const {x, y, z} = this;
          const {x: qx, y: qy, z: qz, w: qw} = q;
          const ix = qw * x + qy * z - qz * y;
          const iy = qw * y + qz * x - qx * z;
          const iz = qw * z + qx * y - qy * x;
          const iw = -qx * x - qy * y - qz * z;
          result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
          result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
          result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
          return result;
        }
        negate() {
          return new Vector33(-this.x, -this.y, -this.z);
        }
        scaleInPlace(scale) {
          this.x *= scale;
          this.y *= scale;
          this.z *= scale;
          return this;
        }
        scale(scale) {
          return new Vector33(this.x * scale, this.y * scale, this.z * scale);
        }
        scaleToRef(scale, result) {
          return result.copyFromFloats(this.x * scale, this.y * scale, this.z * scale);
        }
        scaleAndAddToRef(scale, result) {
          return result.addInPlaceFromFloats(this.x * scale, this.y * scale, this.z * scale);
        }
        equals(otherVector) {
          return otherVector && this.x === otherVector.x && this.y === otherVector.y && this.z === otherVector.z;
        }
        equalsWithEpsilon(otherVector, epsilon = types_1.Epsilon) {
          return otherVector && Scalar_1.Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) && Scalar_1.Scalar.WithinEpsilon(this.y, otherVector.y, epsilon) && Scalar_1.Scalar.WithinEpsilon(this.z, otherVector.z, epsilon);
        }
        equalsToFloats(x, y, z) {
          return this.x === x && this.y === y && this.z === z;
        }
        multiplyInPlace(otherVector) {
          this.x *= otherVector.x;
          this.y *= otherVector.y;
          this.z *= otherVector.z;
          return this;
        }
        multiply(otherVector) {
          return this.multiplyByFloats(otherVector.x, otherVector.y, otherVector.z);
        }
        multiplyToRef(otherVector, result) {
          return result.copyFromFloats(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z);
        }
        multiplyByFloats(x, y, z) {
          return new Vector33(this.x * x, this.y * y, this.z * z);
        }
        divide(otherVector) {
          return new Vector33(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z);
        }
        divideToRef(otherVector, result) {
          return result.copyFromFloats(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z);
        }
        divideInPlace(otherVector) {
          return this.divideToRef(otherVector, this);
        }
        minimizeInPlace(other) {
          return this.minimizeInPlaceFromFloats(other.x, other.y, other.z);
        }
        maximizeInPlace(other) {
          return this.maximizeInPlaceFromFloats(other.x, other.y, other.z);
        }
        minimizeInPlaceFromFloats(x, y, z) {
          if (x < this.x) {
            this.x = x;
          }
          if (y < this.y) {
            this.y = y;
          }
          if (z < this.z) {
            this.z = z;
          }
          return this;
        }
        maximizeInPlaceFromFloats(x, y, z) {
          if (x > this.x) {
            this.x = x;
          }
          if (y > this.y) {
            this.y = y;
          }
          if (z > this.z) {
            this.z = z;
          }
          return this;
        }
        floor() {
          return new Vector33(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));
        }
        fract() {
          return new Vector33(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z));
        }
        length() {
          return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
        }
        lengthSquared() {
          return this.x * this.x + this.y * this.y + this.z * this.z;
        }
        normalize() {
          return this.normalizeFromLength(this.length());
        }
        normalizeFromLength(len) {
          if (len === 0 || len === 1) {
            return this;
          }
          return this.scaleInPlace(1 / len);
        }
        normalizeToNew() {
          const normalized = new Vector33(0, 0, 0);
          this.normalizeToRef(normalized);
          return normalized;
        }
        normalizeToRef(reference) {
          const len = this.length();
          if (len === 0 || len === 1) {
            return reference.copyFromFloats(this.x, this.y, this.z);
          }
          return this.scaleToRef(1 / len, reference);
        }
        clone() {
          return new Vector33(this.x, this.y, this.z);
        }
        copyFrom(source) {
          return this.copyFromFloats(source.x, source.y, source.z);
        }
        copyFromFloats(x, y, z) {
          this.x = x;
          this.y = y;
          this.z = z;
          return this;
        }
        set(x, y, z) {
          return this.copyFromFloats(x, y, z);
        }
        setAll(v) {
          this.x = this.y = this.z = v;
          return this;
        }
      };
      exports2.Vector3 = Vector33;
    }
  });

  // node_modules/@dcl/ecs-math/dist/preallocatedVariables.js
  var require_preallocatedVariables = __commonJS({
    "node_modules/@dcl/ecs-math/dist/preallocatedVariables.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.MathTmp = void 0;
      var utils_1 = require_utils();
      var Vector3_1 = require_Vector3();
      var Quaternion_1 = require_Quaternion();
      var Matrix_1 = require_Matrix();
      exports2.MathTmp = {
        Vector3: (0, utils_1.buildArray)(6, Vector3_1.Vector3.Zero),
        Matrix: (0, utils_1.buildArray)(2, Matrix_1.Matrix.Identity),
        Quaternion: (0, utils_1.buildArray)(3, Quaternion_1.Quaternion.Zero),
        staticUp: Vector3_1.Vector3.Up(),
        tmpMatrix: Matrix_1.Matrix.Zero()
      };
    }
  });

  // node_modules/@dcl/ecs-math/dist/Angle.js
  var require_Angle = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Angle.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Angle = void 0;
      var Angle = class {
        constructor(radians) {
          this._radians = radians;
          if (this._radians < 0) {
            this._radians += 2 * Math.PI;
          }
        }
        static BetweenTwoPoints(a, b) {
          const delta = b.subtract(a);
          const theta = Math.atan2(delta.y, delta.x);
          return new Angle(theta);
        }
        static FromRadians(radians) {
          return new Angle(radians);
        }
        static FromDegrees(degrees) {
          return new Angle(degrees * Math.PI / 180);
        }
        degrees() {
          return this._radians * 180 / Math.PI;
        }
        radians() {
          return this._radians;
        }
      };
      exports2.Angle = Angle;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Vector2.js
  var require_Vector2 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Vector2.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Vector2 = void 0;
      var types_1 = require_types2();
      var Scalar_1 = require_Scalar();
      var Vector22 = class {
        constructor(x = 0, y = 0) {
          this.x = x;
          this.y = y;
        }
        static Zero() {
          return new Vector22(0, 0);
        }
        static One() {
          return new Vector22(1, 1);
        }
        static Add(vector1, vector2) {
          return new Vector22(vector1.x, vector1.y).addInPlace(vector2);
        }
        static FromArray(array, offset = 0) {
          return new Vector22(array[offset], array[offset + 1]);
        }
        static FromArrayToRef(array, offset, result) {
          result.x = array[offset];
          result.y = array[offset + 1];
        }
        static CatmullRom(value1, value2, value3, value4, amount) {
          const squared = amount * amount;
          const cubed = amount * squared;
          const x = 0.5 * (2 * value2.x + (-value1.x + value3.x) * amount + (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared + (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);
          const y = 0.5 * (2 * value2.y + (-value1.y + value3.y) * amount + (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared + (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);
          return new Vector22(x, y);
        }
        static Clamp(value, min, max) {
          let x = value.x;
          x = x > max.x ? max.x : x;
          x = x < min.x ? min.x : x;
          let y = value.y;
          y = y > max.y ? max.y : y;
          y = y < min.y ? min.y : y;
          return new Vector22(x, y);
        }
        static Hermite(value1, tangent1, value2, tangent2, amount) {
          const squared = amount * amount;
          const cubed = amount * squared;
          const part1 = 2 * cubed - 3 * squared + 1;
          const part2 = -2 * cubed + 3 * squared;
          const part3 = cubed - 2 * squared + amount;
          const part4 = cubed - squared;
          const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
          const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
          return new Vector22(x, y);
        }
        static Lerp(start, end, amount) {
          const x = start.x + (end.x - start.x) * amount;
          const y = start.y + (end.y - start.y) * amount;
          return new Vector22(x, y);
        }
        static Dot(left, right) {
          return left.x * right.x + left.y * right.y;
        }
        static Normalize(vector) {
          const newVector = new Vector22(vector.x, vector.y);
          newVector.normalize();
          return newVector;
        }
        static Minimize(left, right) {
          const x = left.x < right.x ? left.x : right.x;
          const y = left.y < right.y ? left.y : right.y;
          return new Vector22(x, y);
        }
        static Maximize(left, right) {
          const x = left.x > right.x ? left.x : right.x;
          const y = left.y > right.y ? left.y : right.y;
          return new Vector22(x, y);
        }
        static Transform(vector, transformation) {
          const r = Vector22.Zero();
          Vector22.TransformToRef(vector, transformation, r);
          return r;
        }
        static TransformToRef(vector, transformation, result) {
          const m = transformation.m;
          const x = vector.x * m[0] + vector.y * m[4] + m[12];
          const y = vector.x * m[1] + vector.y * m[5] + m[13];
          result.x = x;
          result.y = y;
        }
        static PointInTriangle(p, p0, p1, p2) {
          const a = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);
          const sign = a < 0 ? -1 : 1;
          const s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;
          const t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;
          return s > 0 && t > 0 && s + t < 2 * a * sign;
        }
        static Distance(value1, value2) {
          return Math.sqrt(Vector22.DistanceSquared(value1, value2));
        }
        static DistanceSquared(value1, value2) {
          const x = value1.x - value2.x;
          const y = value1.y - value2.y;
          return x * x + y * y;
        }
        static Center(value1, value2) {
          const center = Vector22.Add(value1, value2);
          center.scaleInPlace(0.5);
          return center;
        }
        static DistanceOfPointFromSegment(p, segA, segB) {
          const l2 = Vector22.DistanceSquared(segA, segB);
          if (l2 === 0) {
            return Vector22.Distance(p, segA);
          }
          const v = segB.subtract(segA);
          const t = Math.max(0, Math.min(1, Vector22.Dot(p.subtract(segA), v) / l2));
          const proj = segA.add(v.multiplyByFloats(t, t));
          return Vector22.Distance(p, proj);
        }
        toString() {
          return "{X: " + this.x + " Y:" + this.y + "}";
        }
        getClassName() {
          return "Vector2";
        }
        getHashCode() {
          let hash = this.x || 0;
          hash = hash * 397 ^ (this.y || 0);
          return hash;
        }
        toArray(array, index = 0) {
          array[index] = this.x;
          array[index + 1] = this.y;
          return this;
        }
        asArray() {
          const result = new Array();
          this.toArray(result, 0);
          return result;
        }
        copyFrom(source) {
          this.x = source.x;
          this.y = source.y;
          return this;
        }
        copyFromFloats(x, y) {
          this.x = x;
          this.y = y;
          return this;
        }
        set(x, y) {
          return this.copyFromFloats(x, y);
        }
        add(otherVector) {
          return new Vector22(this.x + otherVector.x, this.y + otherVector.y);
        }
        addToRef(otherVector, result) {
          result.x = this.x + otherVector.x;
          result.y = this.y + otherVector.y;
          return this;
        }
        addInPlace(otherVector) {
          this.x += otherVector.x;
          this.y += otherVector.y;
          return this;
        }
        addVector3(otherVector) {
          return new Vector22(this.x + otherVector.x, this.y + otherVector.y);
        }
        subtract(otherVector) {
          return new Vector22(this.x - otherVector.x, this.y - otherVector.y);
        }
        subtractToRef(otherVector, result) {
          result.x = this.x - otherVector.x;
          result.y = this.y - otherVector.y;
          return this;
        }
        subtractInPlace(otherVector) {
          this.x -= otherVector.x;
          this.y -= otherVector.y;
          return this;
        }
        multiplyInPlace(otherVector) {
          this.x *= otherVector.x;
          this.y *= otherVector.y;
          return this;
        }
        multiply(otherVector) {
          return new Vector22(this.x * otherVector.x, this.y * otherVector.y);
        }
        multiplyToRef(otherVector, result) {
          result.x = this.x * otherVector.x;
          result.y = this.y * otherVector.y;
          return this;
        }
        multiplyByFloats(x, y) {
          return new Vector22(this.x * x, this.y * y);
        }
        divide(otherVector) {
          return new Vector22(this.x / otherVector.x, this.y / otherVector.y);
        }
        divideToRef(otherVector, result) {
          result.x = this.x / otherVector.x;
          result.y = this.y / otherVector.y;
          return this;
        }
        divideInPlace(otherVector) {
          return this.divideToRef(otherVector, this);
        }
        negate() {
          return new Vector22(-this.x, -this.y);
        }
        scaleInPlace(scale) {
          this.x *= scale;
          this.y *= scale;
          return this;
        }
        scale(scale) {
          const result = new Vector22(0, 0);
          this.scaleToRef(scale, result);
          return result;
        }
        scaleToRef(scale, result) {
          result.x = this.x * scale;
          result.y = this.y * scale;
          return this;
        }
        scaleAndAddToRef(scale, result) {
          result.x += this.x * scale;
          result.y += this.y * scale;
          return this;
        }
        equals(otherVector) {
          return otherVector && this.x === otherVector.x && this.y === otherVector.y;
        }
        equalsWithEpsilon(otherVector, epsilon = types_1.Epsilon) {
          return otherVector && Scalar_1.Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) && Scalar_1.Scalar.WithinEpsilon(this.y, otherVector.y, epsilon);
        }
        floor() {
          return new Vector22(Math.floor(this.x), Math.floor(this.y));
        }
        fract() {
          return new Vector22(this.x - Math.floor(this.x), this.y - Math.floor(this.y));
        }
        length() {
          return Math.sqrt(this.x * this.x + this.y * this.y);
        }
        lengthSquared() {
          return this.x * this.x + this.y * this.y;
        }
        normalize() {
          const len = this.length();
          if (len === 0) {
            return this;
          }
          const num = 1 / len;
          this.x *= num;
          this.y *= num;
          return this;
        }
        clone() {
          return new Vector22(this.x, this.y);
        }
      };
      exports2.Vector2 = Vector22;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Arc2.js
  var require_Arc2 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Arc2.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Arc2 = void 0;
      var Angle_1 = require_Angle();
      var Vector2_1 = require_Vector2();
      var types_1 = require_types2();
      var Arc2 = class {
        constructor(startPoint, midPoint, endPoint) {
          this.startPoint = startPoint;
          this.midPoint = midPoint;
          this.endPoint = endPoint;
          const temp = Math.pow(midPoint.x, 2) + Math.pow(midPoint.y, 2);
          const startToMid = (Math.pow(startPoint.x, 2) + Math.pow(startPoint.y, 2) - temp) / 2;
          const midToEnd = (temp - Math.pow(endPoint.x, 2) - Math.pow(endPoint.y, 2)) / 2;
          const det = (startPoint.x - midPoint.x) * (midPoint.y - endPoint.y) - (midPoint.x - endPoint.x) * (startPoint.y - midPoint.y);
          this.centerPoint = new Vector2_1.Vector2((startToMid * (midPoint.y - endPoint.y) - midToEnd * (startPoint.y - midPoint.y)) / det, ((startPoint.x - midPoint.x) * midToEnd - (midPoint.x - endPoint.x) * startToMid) / det);
          this.radius = this.centerPoint.subtract(this.startPoint).length();
          this.startAngle = Angle_1.Angle.BetweenTwoPoints(this.centerPoint, this.startPoint);
          const a1 = this.startAngle.degrees();
          let a2 = Angle_1.Angle.BetweenTwoPoints(this.centerPoint, this.midPoint).degrees();
          let a3 = Angle_1.Angle.BetweenTwoPoints(this.centerPoint, this.endPoint).degrees();
          if (a2 - a1 > 180) {
            a2 -= 360;
          }
          if (a2 - a1 < -180) {
            a2 += 360;
          }
          if (a3 - a2 > 180) {
            a3 -= 360;
          }
          if (a3 - a2 < -180) {
            a3 += 360;
          }
          this.orientation = a2 - a1 < 0 ? types_1.Orientation.CW : types_1.Orientation.CCW;
          this.angle = Angle_1.Angle.FromDegrees(this.orientation === types_1.Orientation.CW ? a1 - a3 : a3 - a1);
        }
      };
      exports2.Arc2 = Arc2;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Axis.js
  var require_Axis = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Axis.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Axis = void 0;
      var Vector3_1 = require_Vector3();
      var Axis = class {
      };
      exports2.Axis = Axis;
      Axis.X = new Vector3_1.Vector3(1, 0, 0);
      Axis.Y = new Vector3_1.Vector3(0, 1, 0);
      Axis.Z = new Vector3_1.Vector3(0, 0, 1);
    }
  });

  // node_modules/@dcl/ecs-math/dist/BezierCurve.js
  var require_BezierCurve = __commonJS({
    "node_modules/@dcl/ecs-math/dist/BezierCurve.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.BezierCurve = void 0;
      var BezierCurve = class {
        static Interpolate(t, x1, y1, x2, y2) {
          const f0 = 1 - 3 * x2 + 3 * x1;
          const f1 = 3 * x2 - 6 * x1;
          const f2 = 3 * x1;
          let refinedT = t;
          for (let i = 0; i < 5; i++) {
            const refinedT2 = refinedT * refinedT;
            const refinedT3 = refinedT2 * refinedT;
            const x = f0 * refinedT3 + f1 * refinedT2 + f2 * refinedT;
            const slope = 1 / (3 * f0 * refinedT2 + 2 * f1 * refinedT + f2);
            refinedT -= (x - t) * slope;
            refinedT = Math.min(1, Math.max(0, refinedT));
          }
          return 3 * Math.pow(1 - refinedT, 2) * refinedT * y1 + 3 * (1 - refinedT) * Math.pow(refinedT, 2) * y2 + Math.pow(refinedT, 3);
        }
      };
      exports2.BezierCurve = BezierCurve;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Color4.js
  var require_Color4 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Color4.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Color4 = void 0;
      var Scalar_1 = require_Scalar();
      var types_1 = require_types2();
      var Color4 = class {
        constructor(r = 0, g = 0, b = 0, a = 1) {
          this.r = r;
          this.g = g;
          this.b = b;
          this.a = a;
        }
        static FromHexString(hex) {
          if (hex.substring(0, 1) !== "#" || hex.length !== 9) {
            return new Color4(0, 0, 0, 0);
          }
          const r = parseInt(hex.substring(1, 3), 16);
          const g = parseInt(hex.substring(3, 5), 16);
          const b = parseInt(hex.substring(5, 7), 16);
          const a = parseInt(hex.substring(7, 9), 16);
          return Color4.FromInts(r, g, b, a);
        }
        static Lerp(left, right, amount) {
          const result = new Color4(0, 0, 0, 0);
          Color4.LerpToRef(left, right, amount, result);
          return result;
        }
        static LerpToRef(left, right, amount, result) {
          result.r = left.r + (right.r - left.r) * amount;
          result.g = left.g + (right.g - left.g) * amount;
          result.b = left.b + (right.b - left.b) * amount;
          result.a = left.a + (right.a - left.a) * amount;
        }
        static Red() {
          return new Color4(1, 0, 0, 1);
        }
        static Green() {
          return new Color4(0, 1, 0, 1);
        }
        static Blue() {
          return new Color4(0, 0, 1, 1);
        }
        static Black() {
          return new Color4(0, 0, 0, 1);
        }
        static White() {
          return new Color4(1, 1, 1, 1);
        }
        static Purple() {
          return new Color4(0.5, 0, 0.5, 1);
        }
        static Magenta() {
          return new Color4(1, 0, 1, 1);
        }
        static Yellow() {
          return new Color4(1, 1, 0, 1);
        }
        static Gray() {
          return new Color4(0.5, 0.5, 0.5, 1);
        }
        static Teal() {
          return new Color4(0, 1, 1, 1);
        }
        static Clear() {
          return new Color4(0, 0, 0, 0);
        }
        static FromColor3(color3, alpha = 1) {
          return new Color4(color3.r, color3.g, color3.b, alpha);
        }
        static FromArray(array, offset = 0) {
          return new Color4(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
        }
        static FromInts(r, g, b, a) {
          return new Color4(r / 255, g / 255, b / 255, a / 255);
        }
        static CheckColors4(colors, count) {
          if (colors.length === count * 3) {
            const colors4 = [];
            for (let index = 0; index < colors.length; index += 3) {
              const newIndex = index / 3 * 4;
              colors4[newIndex] = colors[index];
              colors4[newIndex + 1] = colors[index + 1];
              colors4[newIndex + 2] = colors[index + 2];
              colors4[newIndex + 3] = 1;
            }
            return colors4;
          }
          return colors;
        }
        addInPlace(right) {
          this.r += right.r;
          this.g += right.g;
          this.b += right.b;
          this.a += right.a;
          return this;
        }
        asArray() {
          const result = new Array();
          this.toArray(result, 0);
          return result;
        }
        toArray(array, index = 0) {
          array[index] = this.r;
          array[index + 1] = this.g;
          array[index + 2] = this.b;
          array[index + 3] = this.a;
          return this;
        }
        add(right) {
          return new Color4(this.r + right.r, this.g + right.g, this.b + right.b, this.a + right.a);
        }
        subtract(right) {
          return new Color4(this.r - right.r, this.g - right.g, this.b - right.b, this.a - right.a);
        }
        subtractToRef(right, result) {
          result.r = this.r - right.r;
          result.g = this.g - right.g;
          result.b = this.b - right.b;
          result.a = this.a - right.a;
          return this;
        }
        scale(scale) {
          return new Color4(this.r * scale, this.g * scale, this.b * scale, this.a * scale);
        }
        scaleToRef(scale, result) {
          result.r = this.r * scale;
          result.g = this.g * scale;
          result.b = this.b * scale;
          result.a = this.a * scale;
          return this;
        }
        scaleAndAddToRef(scale, result) {
          result.r += this.r * scale;
          result.g += this.g * scale;
          result.b += this.b * scale;
          result.a += this.a * scale;
          return this;
        }
        clampToRef(min = 0, max = 1, result) {
          result.r = Scalar_1.Scalar.Clamp(this.r, min, max);
          result.g = Scalar_1.Scalar.Clamp(this.g, min, max);
          result.b = Scalar_1.Scalar.Clamp(this.b, min, max);
          result.a = Scalar_1.Scalar.Clamp(this.a, min, max);
          return this;
        }
        multiply(color) {
          return new Color4(this.r * color.r, this.g * color.g, this.b * color.b, this.a * color.a);
        }
        multiplyToRef(color, result) {
          result.r = this.r * color.r;
          result.g = this.g * color.g;
          result.b = this.b * color.b;
          result.a = this.a * color.a;
          return result;
        }
        toString() {
          return "{R: " + this.r + " G:" + this.g + " B:" + this.b + " A:" + this.a + "}";
        }
        getClassName() {
          return "Color4";
        }
        getHashCode() {
          let hash = this.r || 0;
          hash = hash * 397 ^ (this.g || 0);
          hash = hash * 397 ^ (this.b || 0);
          hash = hash * 397 ^ (this.a || 0);
          return hash;
        }
        clone() {
          return new Color4(this.r, this.g, this.b, this.a);
        }
        copyFrom(source) {
          this.r = source.r;
          this.g = source.g;
          this.b = source.b;
          this.a = source.a;
          return this;
        }
        copyFromFloats(r, g, b, a) {
          this.r = r;
          this.g = g;
          this.b = b;
          this.a = a;
          return this;
        }
        set(r, g, b, a) {
          return this.copyFromFloats(r, g, b, a);
        }
        toHexString() {
          const intR = this.r * 255 | 0;
          const intG = this.g * 255 | 0;
          const intB = this.b * 255 | 0;
          const intA = this.a * 255 | 0;
          return "#" + Scalar_1.Scalar.ToHex(intR) + Scalar_1.Scalar.ToHex(intG) + Scalar_1.Scalar.ToHex(intB) + Scalar_1.Scalar.ToHex(intA);
        }
        toLinearSpace() {
          const convertedColor = new Color4();
          this.toLinearSpaceToRef(convertedColor);
          return convertedColor;
        }
        toLinearSpaceToRef(convertedColor) {
          convertedColor.r = Math.pow(this.r, types_1.ToLinearSpace);
          convertedColor.g = Math.pow(this.g, types_1.ToLinearSpace);
          convertedColor.b = Math.pow(this.b, types_1.ToLinearSpace);
          convertedColor.a = this.a;
          return this;
        }
        toGammaSpace() {
          const convertedColor = new Color4();
          this.toGammaSpaceToRef(convertedColor);
          return convertedColor;
        }
        toGammaSpaceToRef(convertedColor) {
          convertedColor.r = Math.pow(this.r, types_1.ToGammaSpace);
          convertedColor.g = Math.pow(this.g, types_1.ToGammaSpace);
          convertedColor.b = Math.pow(this.b, types_1.ToGammaSpace);
          convertedColor.a = this.a;
          return this;
        }
      };
      exports2.Color4 = Color4;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Color3.js
  var require_Color3 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Color3.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Color3 = void 0;
      var types_1 = require_types2();
      var Color4_1 = require_Color4();
      var Scalar_1 = require_Scalar();
      var Color3 = class {
        constructor(r = 0, g = 0, b = 0) {
          this.r = r;
          this.g = g;
          this.b = b;
        }
        static FromHexString(hex) {
          if (hex.substring(0, 1) !== "#" || hex.length !== 7) {
            return new Color3(0, 0, 0);
          }
          const r = parseInt(hex.substring(1, 3), 16);
          const g = parseInt(hex.substring(3, 5), 16);
          const b = parseInt(hex.substring(5, 7), 16);
          return Color3.FromInts(r, g, b);
        }
        static FromArray(array, offset = 0) {
          return new Color3(array[offset], array[offset + 1], array[offset + 2]);
        }
        static FromInts(r, g, b) {
          return new Color3(r / 255, g / 255, b / 255);
        }
        static Lerp(start, end, amount) {
          const result = new Color3(0, 0, 0);
          Color3.LerpToRef(start, end, amount, result);
          return result;
        }
        static LerpToRef(left, right, amount, result) {
          result.r = left.r + (right.r - left.r) * amount;
          result.g = left.g + (right.g - left.g) * amount;
          result.b = left.b + (right.b - left.b) * amount;
        }
        static Red() {
          return new Color3(1, 0, 0);
        }
        static Green() {
          return new Color3(0, 1, 0);
        }
        static Blue() {
          return new Color3(0, 0, 1);
        }
        static Black() {
          return new Color3(0, 0, 0);
        }
        static White() {
          return new Color3(1, 1, 1);
        }
        static Purple() {
          return new Color3(0.5, 0, 0.5);
        }
        static Magenta() {
          return new Color3(1, 0, 1);
        }
        static Yellow() {
          return new Color3(1, 1, 0);
        }
        static Gray() {
          return new Color3(0.5, 0.5, 0.5);
        }
        static Teal() {
          return new Color3(0, 1, 1);
        }
        static Random() {
          return new Color3(Math.random(), Math.random(), Math.random());
        }
        toString() {
          return "{R: " + this.r + " G:" + this.g + " B:" + this.b + "}";
        }
        getClassName() {
          return "Color3";
        }
        getHashCode() {
          let hash = this.r || 0;
          hash = hash * 397 ^ (this.g || 0);
          hash = hash * 397 ^ (this.b || 0);
          return hash;
        }
        toArray(array, index = 0) {
          array[index] = this.r;
          array[index + 1] = this.g;
          array[index + 2] = this.b;
          return this;
        }
        toColor4(alpha = 1) {
          return new Color4_1.Color4(this.r, this.g, this.b, alpha);
        }
        asArray() {
          const result = new Array();
          this.toArray(result, 0);
          return result;
        }
        toLuminance() {
          return this.r * 0.3 + this.g * 0.59 + this.b * 0.11;
        }
        multiply(otherColor) {
          return new Color3(this.r * otherColor.r, this.g * otherColor.g, this.b * otherColor.b);
        }
        multiplyToRef(otherColor, result) {
          result.r = this.r * otherColor.r;
          result.g = this.g * otherColor.g;
          result.b = this.b * otherColor.b;
          return this;
        }
        equals(otherColor) {
          return otherColor && this.r === otherColor.r && this.g === otherColor.g && this.b === otherColor.b;
        }
        equalsFloats(r, g, b) {
          return this.r === r && this.g === g && this.b === b;
        }
        scale(scale) {
          return new Color3(this.r * scale, this.g * scale, this.b * scale);
        }
        scaleToRef(scale, result) {
          result.r = this.r * scale;
          result.g = this.g * scale;
          result.b = this.b * scale;
          return this;
        }
        scaleAndAddToRef(scale, result) {
          result.r += this.r * scale;
          result.g += this.g * scale;
          result.b += this.b * scale;
          return this;
        }
        clampToRef(min = 0, max = 1, result) {
          result.r = Scalar_1.Scalar.Clamp(this.r, min, max);
          result.g = Scalar_1.Scalar.Clamp(this.g, min, max);
          result.b = Scalar_1.Scalar.Clamp(this.b, min, max);
          return this;
        }
        add(otherColor) {
          return new Color3(this.r + otherColor.r, this.g + otherColor.g, this.b + otherColor.b);
        }
        addToRef(otherColor, result) {
          result.r = this.r + otherColor.r;
          result.g = this.g + otherColor.g;
          result.b = this.b + otherColor.b;
          return this;
        }
        subtract(otherColor) {
          return new Color3(this.r - otherColor.r, this.g - otherColor.g, this.b - otherColor.b);
        }
        subtractToRef(otherColor, result) {
          result.r = this.r - otherColor.r;
          result.g = this.g - otherColor.g;
          result.b = this.b - otherColor.b;
          return this;
        }
        clone() {
          return new Color3(this.r, this.g, this.b);
        }
        copyFrom(source) {
          this.r = source.r;
          this.g = source.g;
          this.b = source.b;
          return this;
        }
        copyFromFloats(r, g, b) {
          this.r = r;
          this.g = g;
          this.b = b;
          return this;
        }
        set(r, g, b) {
          return this.copyFromFloats(r, g, b);
        }
        toHexString() {
          const intR = this.r * 255 | 0;
          const intG = this.g * 255 | 0;
          const intB = this.b * 255 | 0;
          return "#" + Scalar_1.Scalar.ToHex(intR) + Scalar_1.Scalar.ToHex(intG) + Scalar_1.Scalar.ToHex(intB);
        }
        toLinearSpace() {
          const convertedColor = new Color3();
          this.toLinearSpaceToRef(convertedColor);
          return convertedColor;
        }
        toLinearSpaceToRef(convertedColor) {
          convertedColor.r = Math.pow(this.r, types_1.ToLinearSpace);
          convertedColor.g = Math.pow(this.g, types_1.ToLinearSpace);
          convertedColor.b = Math.pow(this.b, types_1.ToLinearSpace);
          return this;
        }
        toGammaSpace() {
          const convertedColor = new Color3();
          this.toGammaSpaceToRef(convertedColor);
          return convertedColor;
        }
        toGammaSpaceToRef(convertedColor) {
          convertedColor.r = Math.pow(this.r, types_1.ToGammaSpace);
          convertedColor.g = Math.pow(this.g, types_1.ToGammaSpace);
          convertedColor.b = Math.pow(this.b, types_1.ToGammaSpace);
          return this;
        }
        toJSON() {
          return {
            r: this.r,
            g: this.g,
            b: this.b
          };
        }
      };
      exports2.Color3 = Color3;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Curve3d.js
  var require_Curve3d = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Curve3d.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Curve3 = void 0;
      var Vector3_1 = require_Vector3();
      var Curve3 = class {
        constructor(points) {
          this._length = 0;
          this._points = points;
          this._length = this._computeLength(points);
        }
        static CreateQuadraticBezier(v0, v1, v2, nbPoints) {
          nbPoints = nbPoints > 2 ? nbPoints : 3;
          const bez = new Array();
          const equation = (t, val0, val1, val2) => {
            const res = (1 - t) * (1 - t) * val0 + 2 * t * (1 - t) * val1 + t * t * val2;
            return res;
          };
          for (let i = 0; i <= nbPoints; i++) {
            bez.push(new Vector3_1.Vector3(equation(i / nbPoints, v0.x, v1.x, v2.x), equation(i / nbPoints, v0.y, v1.y, v2.y), equation(i / nbPoints, v0.z, v1.z, v2.z)));
          }
          return new Curve3(bez);
        }
        static CreateCubicBezier(v0, v1, v2, v3, nbPoints) {
          nbPoints = nbPoints > 3 ? nbPoints : 4;
          const bez = new Array();
          const equation = (t, val0, val1, val2, val3) => {
            const res = (1 - t) * (1 - t) * (1 - t) * val0 + 3 * t * (1 - t) * (1 - t) * val1 + 3 * t * t * (1 - t) * val2 + t * t * t * val3;
            return res;
          };
          for (let i = 0; i <= nbPoints; i++) {
            bez.push(new Vector3_1.Vector3(equation(i / nbPoints, v0.x, v1.x, v2.x, v3.x), equation(i / nbPoints, v0.y, v1.y, v2.y, v3.y), equation(i / nbPoints, v0.z, v1.z, v2.z, v3.z)));
          }
          return new Curve3(bez);
        }
        static CreateHermiteSpline(p1, t1, p2, t2, nbPoints) {
          const hermite = new Array();
          const step = 1 / nbPoints;
          for (let i = 0; i <= nbPoints; i++) {
            hermite.push(Vector3_1.Vector3.Hermite(p1, t1, p2, t2, i * step));
          }
          return new Curve3(hermite);
        }
        static CreateCatmullRomSpline(points, nbPoints, closed) {
          const catmullRom = new Array();
          const step = 1 / nbPoints;
          let amount = 0;
          if (closed) {
            const pointsCount = points.length;
            for (let i = 0; i < pointsCount; i++) {
              amount = 0;
              for (let c = 0; c < nbPoints; c++) {
                catmullRom.push(Vector3_1.Vector3.CatmullRom(points[i % pointsCount], points[(i + 1) % pointsCount], points[(i + 2) % pointsCount], points[(i + 3) % pointsCount], amount));
                amount += step;
              }
            }
            catmullRom.push(catmullRom[0]);
          } else {
            const totalPoints = new Array();
            totalPoints.push(points[0].clone());
            Array.prototype.push.apply(totalPoints, points);
            totalPoints.push(points[points.length - 1].clone());
            let i = 0;
            for (i = 0; i < totalPoints.length - 3; i++) {
              amount = 0;
              for (let c = 0; c < nbPoints; c++) {
                catmullRom.push(Vector3_1.Vector3.CatmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));
                amount += step;
              }
            }
            i--;
            catmullRom.push(Vector3_1.Vector3.CatmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));
          }
          return new Curve3(catmullRom);
        }
        getPoints() {
          return this._points;
        }
        length() {
          return this._length;
        }
        continue(curve) {
          const lastPoint = this._points[this._points.length - 1];
          const continuedPoints = this._points.slice();
          const curvePoints = curve.getPoints();
          for (let i = 1; i < curvePoints.length; i++) {
            continuedPoints.push(curvePoints[i].subtract(curvePoints[0]).add(lastPoint));
          }
          const continuedCurve = new Curve3(continuedPoints);
          return continuedCurve;
        }
        _computeLength(path) {
          let l = 0;
          for (let i = 1; i < path.length; i++) {
            l += path[i].subtract(path[i - 1]).length();
          }
          return l;
        }
      };
      exports2.Curve3 = Curve3;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Plane.js
  var require_Plane = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Plane.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Plane = void 0;
      var Vector3_1 = require_Vector3();
      var Matrix_1 = require_Matrix();
      var preallocatedVariables_1 = require_preallocatedVariables();
      var Plane = class {
        constructor(a, b, c, d) {
          this.normal = new Vector3_1.Vector3(a, b, c);
          this.d = d;
        }
        static FromArray(array) {
          return new Plane(array[0], array[1], array[2], array[3]);
        }
        static FromPoints(point1, point2, point3) {
          const result = new Plane(0, 0, 0, 0);
          result.copyFromPoints(point1, point2, point3);
          return result;
        }
        static FromPositionAndNormal(origin, normal) {
          const result = new Plane(0, 0, 0, 0);
          normal.normalize();
          result.normal = normal;
          result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
          return result;
        }
        static SignedDistanceToPlaneFromPositionAndNormal(origin, normal, point) {
          const d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
          return Vector3_1.Vector3.Dot(point, normal) + d;
        }
        asArray() {
          return [this.normal.x, this.normal.y, this.normal.z, this.d];
        }
        clone() {
          return new Plane(this.normal.x, this.normal.y, this.normal.z, this.d);
        }
        getClassName() {
          return "Plane";
        }
        getHashCode() {
          let hash = this.normal.getHashCode();
          hash = hash * 397 ^ (this.d || 0);
          return hash;
        }
        normalize() {
          const norm = Math.sqrt(this.normal.x * this.normal.x + this.normal.y * this.normal.y + this.normal.z * this.normal.z);
          let magnitude = 0;
          if (norm !== 0) {
            magnitude = 1 / norm;
          }
          this.normal.x *= magnitude;
          this.normal.y *= magnitude;
          this.normal.z *= magnitude;
          this.d *= magnitude;
          return this;
        }
        transform(transformation) {
          const transposedMatrix = preallocatedVariables_1.MathTmp.Matrix[0];
          Matrix_1.Matrix.TransposeToRef(transformation, transposedMatrix);
          const m = transposedMatrix.m;
          const x = this.normal.x;
          const y = this.normal.y;
          const z = this.normal.z;
          const d = this.d;
          const normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];
          const normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];
          const normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];
          const finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];
          return new Plane(normalX, normalY, normalZ, finalD);
        }
        dotCoordinate(point) {
          return this.normal.x * point.x + this.normal.y * point.y + this.normal.z * point.z + this.d;
        }
        copyFromPoints(point1, point2, point3) {
          const x1 = point2.x - point1.x;
          const y1 = point2.y - point1.y;
          const z1 = point2.z - point1.z;
          const x2 = point3.x - point1.x;
          const y2 = point3.y - point1.y;
          const z2 = point3.z - point1.z;
          const yz = y1 * z2 - z1 * y2;
          const xz = z1 * x2 - x1 * z2;
          const xy = x1 * y2 - y1 * x2;
          const pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);
          let invPyth;
          if (pyth !== 0) {
            invPyth = 1 / pyth;
          } else {
            invPyth = 0;
          }
          this.normal.x = yz * invPyth;
          this.normal.y = xz * invPyth;
          this.normal.z = xy * invPyth;
          this.d = -(this.normal.x * point1.x + this.normal.y * point1.y + this.normal.z * point1.z);
          return this;
        }
        isFrontFacingTo(direction, epsilon) {
          const dot = Vector3_1.Vector3.Dot(this.normal, direction);
          return dot <= epsilon;
        }
        signedDistanceTo(point) {
          return Vector3_1.Vector3.Dot(point, this.normal) + this.d;
        }
      };
      exports2.Plane = Plane;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Furstum.js
  var require_Furstum = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Furstum.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Frustum = void 0;
      var Plane_1 = require_Plane();
      var Frustum = class {
        static GetPlanes(transform) {
          const frustumPlanes = [];
          for (let index = 0; index < 6; index++) {
            frustumPlanes.push(new Plane_1.Plane(0, 0, 0, 0));
          }
          Frustum.GetPlanesToRef(transform, frustumPlanes);
          return frustumPlanes;
        }
        static GetNearPlaneToRef(transform, frustumPlane) {
          const m = transform.m;
          frustumPlane.normal.x = m[3] + m[2];
          frustumPlane.normal.y = m[7] + m[6];
          frustumPlane.normal.z = m[11] + m[10];
          frustumPlane.d = m[15] + m[14];
          frustumPlane.normalize();
        }
        static GetFarPlaneToRef(transform, frustumPlane) {
          const m = transform.m;
          frustumPlane.normal.x = m[3] - m[2];
          frustumPlane.normal.y = m[7] - m[6];
          frustumPlane.normal.z = m[11] - m[10];
          frustumPlane.d = m[15] - m[14];
          frustumPlane.normalize();
        }
        static GetLeftPlaneToRef(transform, frustumPlane) {
          const m = transform.m;
          frustumPlane.normal.x = m[3] + m[0];
          frustumPlane.normal.y = m[7] + m[4];
          frustumPlane.normal.z = m[11] + m[8];
          frustumPlane.d = m[15] + m[12];
          frustumPlane.normalize();
        }
        static GetRightPlaneToRef(transform, frustumPlane) {
          const m = transform.m;
          frustumPlane.normal.x = m[3] - m[0];
          frustumPlane.normal.y = m[7] - m[4];
          frustumPlane.normal.z = m[11] - m[8];
          frustumPlane.d = m[15] - m[12];
          frustumPlane.normalize();
        }
        static GetTopPlaneToRef(transform, frustumPlane) {
          const m = transform.m;
          frustumPlane.normal.x = m[3] - m[1];
          frustumPlane.normal.y = m[7] - m[5];
          frustumPlane.normal.z = m[11] - m[9];
          frustumPlane.d = m[15] - m[13];
          frustumPlane.normalize();
        }
        static GetBottomPlaneToRef(transform, frustumPlane) {
          const m = transform.m;
          frustumPlane.normal.x = m[3] + m[1];
          frustumPlane.normal.y = m[7] + m[5];
          frustumPlane.normal.z = m[11] + m[9];
          frustumPlane.d = m[15] + m[13];
          frustumPlane.normalize();
        }
        static GetPlanesToRef(transform, frustumPlanes) {
          Frustum.GetNearPlaneToRef(transform, frustumPlanes[0]);
          Frustum.GetFarPlaneToRef(transform, frustumPlanes[1]);
          Frustum.GetLeftPlaneToRef(transform, frustumPlanes[2]);
          Frustum.GetRightPlaneToRef(transform, frustumPlanes[3]);
          Frustum.GetTopPlaneToRef(transform, frustumPlanes[4]);
          Frustum.GetBottomPlaneToRef(transform, frustumPlanes[5]);
        }
      };
      exports2.Frustum = Frustum;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Path2d.js
  var require_Path2d = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Path2d.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Path2 = void 0;
      var Vector2_1 = require_Vector2();
      var Arc2_1 = require_Arc2();
      var types_1 = require_types2();
      var Path2 = class {
        constructor(x, y) {
          this.closed = false;
          this._points = new Array();
          this._length = 0;
          this._points.push(new Vector2_1.Vector2(x, y));
        }
        static StartingAt(x, y) {
          return new Path2(x, y);
        }
        addLineTo(x, y) {
          if (this.closed) {
            return this;
          }
          const newPoint = new Vector2_1.Vector2(x, y);
          const previousPoint = this._points[this._points.length - 1];
          this._points.push(newPoint);
          this._length += newPoint.subtract(previousPoint).length();
          return this;
        }
        addArcTo(midX, midY, endX, endY, numberOfSegments = 36) {
          if (this.closed) {
            return this;
          }
          const startPoint = this._points[this._points.length - 1];
          const midPoint = new Vector2_1.Vector2(midX, midY);
          const endPoint = new Vector2_1.Vector2(endX, endY);
          const arc = new Arc2_1.Arc2(startPoint, midPoint, endPoint);
          let increment = arc.angle.radians() / numberOfSegments;
          if (arc.orientation === types_1.Orientation.CW) {
            increment *= -1;
          }
          let currentAngle = arc.startAngle.radians() + increment;
          for (let i = 0; i < numberOfSegments; i++) {
            const x = Math.cos(currentAngle) * arc.radius + arc.centerPoint.x;
            const y = Math.sin(currentAngle) * arc.radius + arc.centerPoint.y;
            this.addLineTo(x, y);
            currentAngle += increment;
          }
          return this;
        }
        close() {
          this.closed = true;
          return this;
        }
        length() {
          let result = this._length;
          if (!this.closed) {
            const lastPoint = this._points[this._points.length - 1];
            const firstPoint = this._points[0];
            result += firstPoint.subtract(lastPoint).length();
          }
          return result;
        }
        getPoints() {
          return this._points;
        }
        getPointAtLengthPosition(normalizedLengthPosition) {
          if (normalizedLengthPosition < 0 || normalizedLengthPosition > 1) {
            return Vector2_1.Vector2.Zero();
          }
          const lengthPosition = normalizedLengthPosition * this.length();
          let previousOffset = 0;
          for (let i = 0; i < this._points.length; i++) {
            const j = (i + 1) % this._points.length;
            const a = this._points[i];
            const b = this._points[j];
            const bToA = b.subtract(a);
            const nextOffset = bToA.length() + previousOffset;
            if (lengthPosition >= previousOffset && lengthPosition <= nextOffset) {
              const dir = bToA.normalize();
              const localOffset = lengthPosition - previousOffset;
              return new Vector2_1.Vector2(a.x + dir.x * localOffset, a.y + dir.y * localOffset);
            }
            previousOffset = nextOffset;
          }
          return Vector2_1.Vector2.Zero();
        }
      };
      exports2.Path2 = Path2;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Path3d.js
  var require_Path3d = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Path3d.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Path3D = void 0;
      var Vector3_1 = require_Vector3();
      var types_1 = require_types2();
      var Scalar_1 = require_Scalar();
      var Path3D = class {
        constructor(path, firstNormal = null, raw) {
          this.path = path;
          this._curve = new Array();
          this._distances = new Array();
          this._tangents = new Array();
          this._normals = new Array();
          this._binormals = new Array();
          for (let p = 0; p < path.length; p++) {
            this._curve[p] = path[p].clone();
          }
          this._raw = raw || false;
          this._compute(firstNormal);
        }
        getCurve() {
          return this._curve;
        }
        getTangents() {
          return this._tangents;
        }
        getNormals() {
          return this._normals;
        }
        getBinormals() {
          return this._binormals;
        }
        getDistances() {
          return this._distances;
        }
        update(path, firstNormal = null) {
          for (let p = 0; p < path.length; p++) {
            this._curve[p].x = path[p].x;
            this._curve[p].y = path[p].y;
            this._curve[p].z = path[p].z;
          }
          this._compute(firstNormal);
          return this;
        }
        _compute(firstNormal) {
          const l = this._curve.length;
          this._tangents[0] = this._getFirstNonNullVector(0);
          if (!this._raw) {
            this._tangents[0].normalize();
          }
          this._tangents[l - 1] = this._curve[l - 1].subtract(this._curve[l - 2]);
          if (!this._raw) {
            this._tangents[l - 1].normalize();
          }
          const tg0 = this._tangents[0];
          const pp0 = this._normalVector(this._curve[0], tg0, firstNormal);
          this._normals[0] = pp0;
          if (!this._raw) {
            this._normals[0].normalize();
          }
          this._binormals[0] = Vector3_1.Vector3.Cross(tg0, this._normals[0]);
          if (!this._raw) {
            this._binormals[0].normalize();
          }
          this._distances[0] = 0;
          let prev;
          let cur;
          let curTang;
          let prevBinor;
          for (let i = 1; i < l; i++) {
            prev = this._getLastNonNullVector(i);
            if (i < l - 1) {
              cur = this._getFirstNonNullVector(i);
              this._tangents[i] = prev.add(cur);
              this._tangents[i].normalize();
            }
            this._distances[i] = this._distances[i - 1] + prev.length();
            curTang = this._tangents[i];
            prevBinor = this._binormals[i - 1];
            this._normals[i] = Vector3_1.Vector3.Cross(prevBinor, curTang);
            if (!this._raw) {
              this._normals[i].normalize();
            }
            this._binormals[i] = Vector3_1.Vector3.Cross(curTang, this._normals[i]);
            if (!this._raw) {
              this._binormals[i].normalize();
            }
          }
        }
        _getFirstNonNullVector(index) {
          let i = 1;
          let nNVector = this._curve[index + i].subtract(this._curve[index]);
          while (nNVector.length() === 0 && index + i + 1 < this._curve.length) {
            i++;
            nNVector = this._curve[index + i].subtract(this._curve[index]);
          }
          return nNVector;
        }
        _getLastNonNullVector(index) {
          let i = 1;
          let nLVector = this._curve[index].subtract(this._curve[index - i]);
          while (nLVector.length() === 0 && index > i + 1) {
            i++;
            nLVector = this._curve[index].subtract(this._curve[index - i]);
          }
          return nLVector;
        }
        _normalVector(v0, vt, va) {
          let normal0;
          let tgl = vt.length();
          if (tgl === 0) {
            tgl = 1;
          }
          if (va === void 0 || va === null) {
            let point;
            if (!Scalar_1.Scalar.WithinEpsilon(Math.abs(vt.y) / tgl, 1, types_1.Epsilon)) {
              point = new Vector3_1.Vector3(0, -1, 0);
            } else if (!Scalar_1.Scalar.WithinEpsilon(Math.abs(vt.x) / tgl, 1, types_1.Epsilon)) {
              point = new Vector3_1.Vector3(1, 0, 0);
            } else if (!Scalar_1.Scalar.WithinEpsilon(Math.abs(vt.z) / tgl, 1, types_1.Epsilon)) {
              point = new Vector3_1.Vector3(0, 0, 1);
            } else {
              point = Vector3_1.Vector3.Zero();
            }
            normal0 = Vector3_1.Vector3.Cross(vt, point);
          } else {
            normal0 = Vector3_1.Vector3.Cross(vt, va);
            Vector3_1.Vector3.CrossToRef(normal0, vt, normal0);
          }
          normal0.normalize();
          return normal0;
        }
      };
      exports2.Path3D = Path3D;
    }
  });

  // node_modules/@dcl/ecs-math/dist/Size.js
  var require_Size = __commonJS({
    "node_modules/@dcl/ecs-math/dist/Size.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      exports2.Size = void 0;
      var Size = class {
        constructor(width, height) {
          this.width = width;
          this.height = height;
        }
        get surface() {
          return this.width * this.height;
        }
        static Zero() {
          return new Size(0, 0);
        }
        static Lerp(start, end, amount) {
          const w = start.width + (end.width - start.width) * amount;
          const h = start.height + (end.height - start.height) * amount;
          return new Size(w, h);
        }
        toString() {
          return `{W: ${this.width}, H: ${this.height}}`;
        }
        getClassName() {
          return "Size";
        }
        getHashCode() {
          let hash = this.width || 0;
          hash = hash * 397 ^ (this.height || 0);
          return hash;
        }
        copyFrom(src) {
          this.width = src.width;
          this.height = src.height;
        }
        copyFromFloats(width, height) {
          this.width = width;
          this.height = height;
          return this;
        }
        set(width, height) {
          return this.copyFromFloats(width, height);
        }
        multiplyByFloats(w, h) {
          return new Size(this.width * w, this.height * h);
        }
        clone() {
          return new Size(this.width, this.height);
        }
        equals(other) {
          if (!other) {
            return false;
          }
          return this.width === other.width && this.height === other.height;
        }
        add(otherSize) {
          const r = new Size(this.width + otherSize.width, this.height + otherSize.height);
          return r;
        }
        subtract(otherSize) {
          const r = new Size(this.width - otherSize.width, this.height - otherSize.height);
          return r;
        }
      };
      exports2.Size = Size;
    }
  });

  // node_modules/@dcl/ecs-math/dist/index.js
  var require_dist2 = __commonJS({
    "node_modules/@dcl/ecs-math/dist/index.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      var __createBinding = exports2 && exports2.__createBinding || (Object.create ? function(o, m, k, k2) {
        if (k2 === void 0)
          k2 = k;
        Object.defineProperty(o, k2, {enumerable: true, get: function() {
          return m[k];
        }});
      } : function(o, m, k, k2) {
        if (k2 === void 0)
          k2 = k;
        o[k2] = m[k];
      });
      var __exportStar = exports2 && exports2.__exportStar || function(m, exports3) {
        for (var p in m)
          if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports3, p))
            __createBinding(exports3, m, p);
      };
      Object.defineProperty(exports2, "__esModule", {value: true});
      __exportStar(require_types2(), exports2);
      __exportStar(require_preallocatedVariables(), exports2);
      __exportStar(require_Angle(), exports2);
      __exportStar(require_Arc2(), exports2);
      __exportStar(require_Axis(), exports2);
      __exportStar(require_BezierCurve(), exports2);
      __exportStar(require_Color3(), exports2);
      __exportStar(require_Color4(), exports2);
      __exportStar(require_Curve3d(), exports2);
      __exportStar(require_Furstum(), exports2);
      __exportStar(require_Matrix(), exports2);
      __exportStar(require_Path2d(), exports2);
      __exportStar(require_Path3d(), exports2);
      __exportStar(require_Plane(), exports2);
      __exportStar(require_Quaternion(), exports2);
      __exportStar(require_Scalar(), exports2);
      __exportStar(require_Size(), exports2);
      __exportStar(require_Vector2(), exports2);
      __exportStar(require_Vector3(), exports2);
      __exportStar(require_Vector4(), exports2);
      __exportStar(require_dist2(), exports2);
    }
  });

  // node_modules/long/src/long.js
  var require_long = __commonJS({
    "node_modules/long/src/long.js"(exports2, module2) {
      init_web_worker_inject();
      module2.exports = Long2;
      var wasm = null;
      try {
        wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([
          0,
          97,
          115,
          109,
          1,
          0,
          0,
          0,
          1,
          13,
          2,
          96,
          0,
          1,
          127,
          96,
          4,
          127,
          127,
          127,
          127,
          1,
          127,
          3,
          7,
          6,
          0,
          1,
          1,
          1,
          1,
          1,
          6,
          6,
          1,
          127,
          1,
          65,
          0,
          11,
          7,
          50,
          6,
          3,
          109,
          117,
          108,
          0,
          1,
          5,
          100,
          105,
          118,
          95,
          115,
          0,
          2,
          5,
          100,
          105,
          118,
          95,
          117,
          0,
          3,
          5,
          114,
          101,
          109,
          95,
          115,
          0,
          4,
          5,
          114,
          101,
          109,
          95,
          117,
          0,
          5,
          8,
          103,
          101,
          116,
          95,
          104,
          105,
          103,
          104,
          0,
          0,
          10,
          191,
          1,
          6,
          4,
          0,
          35,
          0,
          11,
          36,
          1,
          1,
          126,
          32,
          0,
          173,
          32,
          1,
          173,
          66,
          32,
          134,
          132,
          32,
          2,
          173,
          32,
          3,
          173,
          66,
          32,
          134,
          132,
          126,
          34,
          4,
          66,
          32,
          135,
          167,
          36,
          0,
          32,
          4,
          167,
          11,
          36,
          1,
          1,
          126,
          32,
          0,
          173,
          32,
          1,
          173,
          66,
          32,
          134,
          132,
          32,
          2,
          173,
          32,
          3,
          173,
          66,
          32,
          134,
          132,
          127,
          34,
          4,
          66,
          32,
          135,
          167,
          36,
          0,
          32,
          4,
          167,
          11,
          36,
          1,
          1,
          126,
          32,
          0,
          173,
          32,
          1,
          173,
          66,
          32,
          134,
          132,
          32,
          2,
          173,
          32,
          3,
          173,
          66,
          32,
          134,
          132,
          128,
          34,
          4,
          66,
          32,
          135,
          167,
          36,
          0,
          32,
          4,
          167,
          11,
          36,
          1,
          1,
          126,
          32,
          0,
          173,
          32,
          1,
          173,
          66,
          32,
          134,
          132,
          32,
          2,
          173,
          32,
          3,
          173,
          66,
          32,
          134,
          132,
          129,
          34,
          4,
          66,
          32,
          135,
          167,
          36,
          0,
          32,
          4,
          167,
          11,
          36,
          1,
          1,
          126,
          32,
          0,
          173,
          32,
          1,
          173,
          66,
          32,
          134,
          132,
          32,
          2,
          173,
          32,
          3,
          173,
          66,
          32,
          134,
          132,
          130,
          34,
          4,
          66,
          32,
          135,
          167,
          36,
          0,
          32,
          4,
          167,
          11
        ])), {}).exports;
      } catch (e) {
      }
      function Long2(low, high, unsigned) {
        this.low = low | 0;
        this.high = high | 0;
        this.unsigned = !!unsigned;
      }
      Long2.prototype.__isLong__;
      Object.defineProperty(Long2.prototype, "__isLong__", {value: true});
      function isLong(obj) {
        return (obj && obj["__isLong__"]) === true;
      }
      Long2.isLong = isLong;
      var INT_CACHE = {};
      var UINT_CACHE = {};
      function fromInt(value, unsigned) {
        var obj, cachedObj, cache;
        if (unsigned) {
          value >>>= 0;
          if (cache = 0 <= value && value < 256) {
            cachedObj = UINT_CACHE[value];
            if (cachedObj)
              return cachedObj;
          }
          obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);
          if (cache)
            UINT_CACHE[value] = obj;
          return obj;
        } else {
          value |= 0;
          if (cache = -128 <= value && value < 128) {
            cachedObj = INT_CACHE[value];
            if (cachedObj)
              return cachedObj;
          }
          obj = fromBits(value, value < 0 ? -1 : 0, false);
          if (cache)
            INT_CACHE[value] = obj;
          return obj;
        }
      }
      Long2.fromInt = fromInt;
      function fromNumber(value, unsigned) {
        if (isNaN(value))
          return unsigned ? UZERO : ZERO;
        if (unsigned) {
          if (value < 0)
            return UZERO;
          if (value >= TWO_PWR_64_DBL)
            return MAX_UNSIGNED_VALUE;
        } else {
          if (value <= -TWO_PWR_63_DBL)
            return MIN_VALUE;
          if (value + 1 >= TWO_PWR_63_DBL)
            return MAX_VALUE;
        }
        if (value < 0)
          return fromNumber(-value, unsigned).neg();
        return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);
      }
      Long2.fromNumber = fromNumber;
      function fromBits(lowBits, highBits, unsigned) {
        return new Long2(lowBits, highBits, unsigned);
      }
      Long2.fromBits = fromBits;
      var pow_dbl = Math.pow;
      function fromString(str, unsigned, radix) {
        if (str.length === 0)
          throw Error("empty string");
        if (str === "NaN" || str === "Infinity" || str === "+Infinity" || str === "-Infinity")
          return ZERO;
        if (typeof unsigned === "number") {
          radix = unsigned, unsigned = false;
        } else {
          unsigned = !!unsigned;
        }
        radix = radix || 10;
        if (radix < 2 || 36 < radix)
          throw RangeError("radix");
        var p;
        if ((p = str.indexOf("-")) > 0)
          throw Error("interior hyphen");
        else if (p === 0) {
          return fromString(str.substring(1), unsigned, radix).neg();
        }
        var radixToPower = fromNumber(pow_dbl(radix, 8));
        var result = ZERO;
        for (var i = 0; i < str.length; i += 8) {
          var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);
          if (size < 8) {
            var power = fromNumber(pow_dbl(radix, size));
            result = result.mul(power).add(fromNumber(value));
          } else {
            result = result.mul(radixToPower);
            result = result.add(fromNumber(value));
          }
        }
        result.unsigned = unsigned;
        return result;
      }
      Long2.fromString = fromString;
      function fromValue(val, unsigned) {
        if (typeof val === "number")
          return fromNumber(val, unsigned);
        if (typeof val === "string")
          return fromString(val, unsigned);
        return fromBits(val.low, val.high, typeof unsigned === "boolean" ? unsigned : val.unsigned);
      }
      Long2.fromValue = fromValue;
      var TWO_PWR_16_DBL = 1 << 16;
      var TWO_PWR_24_DBL = 1 << 24;
      var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;
      var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;
      var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;
      var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);
      var ZERO = fromInt(0);
      Long2.ZERO = ZERO;
      var UZERO = fromInt(0, true);
      Long2.UZERO = UZERO;
      var ONE = fromInt(1);
      Long2.ONE = ONE;
      var UONE = fromInt(1, true);
      Long2.UONE = UONE;
      var NEG_ONE = fromInt(-1);
      Long2.NEG_ONE = NEG_ONE;
      var MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);
      Long2.MAX_VALUE = MAX_VALUE;
      var MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);
      Long2.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;
      var MIN_VALUE = fromBits(0, 2147483648 | 0, false);
      Long2.MIN_VALUE = MIN_VALUE;
      var LongPrototype = Long2.prototype;
      LongPrototype.toInt = function toInt() {
        return this.unsigned ? this.low >>> 0 : this.low;
      };
      LongPrototype.toNumber = function toNumber() {
        if (this.unsigned)
          return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);
        return this.high * TWO_PWR_32_DBL + (this.low >>> 0);
      };
      LongPrototype.toString = function toString(radix) {
        radix = radix || 10;
        if (radix < 2 || 36 < radix)
          throw RangeError("radix");
        if (this.isZero())
          return "0";
        if (this.isNegative()) {
          if (this.eq(MIN_VALUE)) {
            var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);
            return div.toString(radix) + rem1.toInt().toString(radix);
          } else
            return "-" + this.neg().toString(radix);
        }
        var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;
        var result = "";
        while (true) {
          var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);
          rem = remDiv;
          if (rem.isZero())
            return digits + result;
          else {
            while (digits.length < 6)
              digits = "0" + digits;
            result = "" + digits + result;
          }
        }
      };
      LongPrototype.getHighBits = function getHighBits() {
        return this.high;
      };
      LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {
        return this.high >>> 0;
      };
      LongPrototype.getLowBits = function getLowBits() {
        return this.low;
      };
      LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {
        return this.low >>> 0;
      };
      LongPrototype.getNumBitsAbs = function getNumBitsAbs() {
        if (this.isNegative())
          return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
        var val = this.high != 0 ? this.high : this.low;
        for (var bit = 31; bit > 0; bit--)
          if ((val & 1 << bit) != 0)
            break;
        return this.high != 0 ? bit + 33 : bit + 1;
      };
      LongPrototype.isZero = function isZero() {
        return this.high === 0 && this.low === 0;
      };
      LongPrototype.eqz = LongPrototype.isZero;
      LongPrototype.isNegative = function isNegative() {
        return !this.unsigned && this.high < 0;
      };
      LongPrototype.isPositive = function isPositive() {
        return this.unsigned || this.high >= 0;
      };
      LongPrototype.isOdd = function isOdd() {
        return (this.low & 1) === 1;
      };
      LongPrototype.isEven = function isEven() {
        return (this.low & 1) === 0;
      };
      LongPrototype.equals = function equals(other) {
        if (!isLong(other))
          other = fromValue(other);
        if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)
          return false;
        return this.high === other.high && this.low === other.low;
      };
      LongPrototype.eq = LongPrototype.equals;
      LongPrototype.notEquals = function notEquals(other) {
        return !this.eq(other);
      };
      LongPrototype.neq = LongPrototype.notEquals;
      LongPrototype.ne = LongPrototype.notEquals;
      LongPrototype.lessThan = function lessThan(other) {
        return this.comp(other) < 0;
      };
      LongPrototype.lt = LongPrototype.lessThan;
      LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {
        return this.comp(other) <= 0;
      };
      LongPrototype.lte = LongPrototype.lessThanOrEqual;
      LongPrototype.le = LongPrototype.lessThanOrEqual;
      LongPrototype.greaterThan = function greaterThan(other) {
        return this.comp(other) > 0;
      };
      LongPrototype.gt = LongPrototype.greaterThan;
      LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {
        return this.comp(other) >= 0;
      };
      LongPrototype.gte = LongPrototype.greaterThanOrEqual;
      LongPrototype.ge = LongPrototype.greaterThanOrEqual;
      LongPrototype.compare = function compare(other) {
        if (!isLong(other))
          other = fromValue(other);
        if (this.eq(other))
          return 0;
        var thisNeg = this.isNegative(), otherNeg = other.isNegative();
        if (thisNeg && !otherNeg)
          return -1;
        if (!thisNeg && otherNeg)
          return 1;
        if (!this.unsigned)
          return this.sub(other).isNegative() ? -1 : 1;
        return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;
      };
      LongPrototype.comp = LongPrototype.compare;
      LongPrototype.negate = function negate() {
        if (!this.unsigned && this.eq(MIN_VALUE))
          return MIN_VALUE;
        return this.not().add(ONE);
      };
      LongPrototype.neg = LongPrototype.negate;
      LongPrototype.add = function add(addend) {
        if (!isLong(addend))
          addend = fromValue(addend);
        var a48 = this.high >>> 16;
        var a32 = this.high & 65535;
        var a16 = this.low >>> 16;
        var a00 = this.low & 65535;
        var b48 = addend.high >>> 16;
        var b32 = addend.high & 65535;
        var b16 = addend.low >>> 16;
        var b00 = addend.low & 65535;
        var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
        c00 += a00 + b00;
        c16 += c00 >>> 16;
        c00 &= 65535;
        c16 += a16 + b16;
        c32 += c16 >>> 16;
        c16 &= 65535;
        c32 += a32 + b32;
        c48 += c32 >>> 16;
        c32 &= 65535;
        c48 += a48 + b48;
        c48 &= 65535;
        return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
      };
      LongPrototype.subtract = function subtract(subtrahend) {
        if (!isLong(subtrahend))
          subtrahend = fromValue(subtrahend);
        return this.add(subtrahend.neg());
      };
      LongPrototype.sub = LongPrototype.subtract;
      LongPrototype.multiply = function multiply(multiplier) {
        if (this.isZero())
          return ZERO;
        if (!isLong(multiplier))
          multiplier = fromValue(multiplier);
        if (wasm) {
          var low = wasm.mul(this.low, this.high, multiplier.low, multiplier.high);
          return fromBits(low, wasm.get_high(), this.unsigned);
        }
        if (multiplier.isZero())
          return ZERO;
        if (this.eq(MIN_VALUE))
          return multiplier.isOdd() ? MIN_VALUE : ZERO;
        if (multiplier.eq(MIN_VALUE))
          return this.isOdd() ? MIN_VALUE : ZERO;
        if (this.isNegative()) {
          if (multiplier.isNegative())
            return this.neg().mul(multiplier.neg());
          else
            return this.neg().mul(multiplier).neg();
        } else if (multiplier.isNegative())
          return this.mul(multiplier.neg()).neg();
        if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))
          return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);
        var a48 = this.high >>> 16;
        var a32 = this.high & 65535;
        var a16 = this.low >>> 16;
        var a00 = this.low & 65535;
        var b48 = multiplier.high >>> 16;
        var b32 = multiplier.high & 65535;
        var b16 = multiplier.low >>> 16;
        var b00 = multiplier.low & 65535;
        var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
        c00 += a00 * b00;
        c16 += c00 >>> 16;
        c00 &= 65535;
        c16 += a16 * b00;
        c32 += c16 >>> 16;
        c16 &= 65535;
        c16 += a00 * b16;
        c32 += c16 >>> 16;
        c16 &= 65535;
        c32 += a32 * b00;
        c48 += c32 >>> 16;
        c32 &= 65535;
        c32 += a16 * b16;
        c48 += c32 >>> 16;
        c32 &= 65535;
        c32 += a00 * b32;
        c48 += c32 >>> 16;
        c32 &= 65535;
        c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
        c48 &= 65535;
        return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
      };
      LongPrototype.mul = LongPrototype.multiply;
      LongPrototype.divide = function divide(divisor) {
        if (!isLong(divisor))
          divisor = fromValue(divisor);
        if (divisor.isZero())
          throw Error("division by zero");
        if (wasm) {
          if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {
            return this;
          }
          var low = (this.unsigned ? wasm.div_u : wasm.div_s)(this.low, this.high, divisor.low, divisor.high);
          return fromBits(low, wasm.get_high(), this.unsigned);
        }
        if (this.isZero())
          return this.unsigned ? UZERO : ZERO;
        var approx, rem, res;
        if (!this.unsigned) {
          if (this.eq(MIN_VALUE)) {
            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))
              return MIN_VALUE;
            else if (divisor.eq(MIN_VALUE))
              return ONE;
            else {
              var halfThis = this.shr(1);
              approx = halfThis.div(divisor).shl(1);
              if (approx.eq(ZERO)) {
                return divisor.isNegative() ? ONE : NEG_ONE;
              } else {
                rem = this.sub(divisor.mul(approx));
                res = approx.add(rem.div(divisor));
                return res;
              }
            }
          } else if (divisor.eq(MIN_VALUE))
            return this.unsigned ? UZERO : ZERO;
          if (this.isNegative()) {
            if (divisor.isNegative())
              return this.neg().div(divisor.neg());
            return this.neg().div(divisor).neg();
          } else if (divisor.isNegative())
            return this.div(divisor.neg()).neg();
          res = ZERO;
        } else {
          if (!divisor.unsigned)
            divisor = divisor.toUnsigned();
          if (divisor.gt(this))
            return UZERO;
          if (divisor.gt(this.shru(1)))
            return UONE;
          res = UZERO;
        }
        rem = this;
        while (rem.gte(divisor)) {
          approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));
          var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);
          while (approxRem.isNegative() || approxRem.gt(rem)) {
            approx -= delta;
            approxRes = fromNumber(approx, this.unsigned);
            approxRem = approxRes.mul(divisor);
          }
          if (approxRes.isZero())
            approxRes = ONE;
          res = res.add(approxRes);
          rem = rem.sub(approxRem);
        }
        return res;
      };
      LongPrototype.div = LongPrototype.divide;
      LongPrototype.modulo = function modulo(divisor) {
        if (!isLong(divisor))
          divisor = fromValue(divisor);
        if (wasm) {
          var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(this.low, this.high, divisor.low, divisor.high);
          return fromBits(low, wasm.get_high(), this.unsigned);
        }
        return this.sub(this.div(divisor).mul(divisor));
      };
      LongPrototype.mod = LongPrototype.modulo;
      LongPrototype.rem = LongPrototype.modulo;
      LongPrototype.not = function not() {
        return fromBits(~this.low, ~this.high, this.unsigned);
      };
      LongPrototype.and = function and(other) {
        if (!isLong(other))
          other = fromValue(other);
        return fromBits(this.low & other.low, this.high & other.high, this.unsigned);
      };
      LongPrototype.or = function or(other) {
        if (!isLong(other))
          other = fromValue(other);
        return fromBits(this.low | other.low, this.high | other.high, this.unsigned);
      };
      LongPrototype.xor = function xor(other) {
        if (!isLong(other))
          other = fromValue(other);
        return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);
      };
      LongPrototype.shiftLeft = function shiftLeft(numBits) {
        if (isLong(numBits))
          numBits = numBits.toInt();
        if ((numBits &= 63) === 0)
          return this;
        else if (numBits < 32)
          return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);
        else
          return fromBits(0, this.low << numBits - 32, this.unsigned);
      };
      LongPrototype.shl = LongPrototype.shiftLeft;
      LongPrototype.shiftRight = function shiftRight(numBits) {
        if (isLong(numBits))
          numBits = numBits.toInt();
        if ((numBits &= 63) === 0)
          return this;
        else if (numBits < 32)
          return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);
        else
          return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);
      };
      LongPrototype.shr = LongPrototype.shiftRight;
      LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {
        if (isLong(numBits))
          numBits = numBits.toInt();
        numBits &= 63;
        if (numBits === 0)
          return this;
        else {
          var high = this.high;
          if (numBits < 32) {
            var low = this.low;
            return fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits, this.unsigned);
          } else if (numBits === 32)
            return fromBits(high, 0, this.unsigned);
          else
            return fromBits(high >>> numBits - 32, 0, this.unsigned);
        }
      };
      LongPrototype.shru = LongPrototype.shiftRightUnsigned;
      LongPrototype.shr_u = LongPrototype.shiftRightUnsigned;
      LongPrototype.toSigned = function toSigned() {
        if (!this.unsigned)
          return this;
        return fromBits(this.low, this.high, false);
      };
      LongPrototype.toUnsigned = function toUnsigned() {
        if (this.unsigned)
          return this;
        return fromBits(this.low, this.high, true);
      };
      LongPrototype.toBytes = function toBytes(le) {
        return le ? this.toBytesLE() : this.toBytesBE();
      };
      LongPrototype.toBytesLE = function toBytesLE() {
        var hi = this.high, lo = this.low;
        return [
          lo & 255,
          lo >>> 8 & 255,
          lo >>> 16 & 255,
          lo >>> 24,
          hi & 255,
          hi >>> 8 & 255,
          hi >>> 16 & 255,
          hi >>> 24
        ];
      };
      LongPrototype.toBytesBE = function toBytesBE() {
        var hi = this.high, lo = this.low;
        return [
          hi >>> 24,
          hi >>> 16 & 255,
          hi >>> 8 & 255,
          hi & 255,
          lo >>> 24,
          lo >>> 16 & 255,
          lo >>> 8 & 255,
          lo & 255
        ];
      };
      Long2.fromBytes = function fromBytes(bytes, unsigned, le) {
        return le ? Long2.fromBytesLE(bytes, unsigned) : Long2.fromBytesBE(bytes, unsigned);
      };
      Long2.fromBytesLE = function fromBytesLE(bytes, unsigned) {
        return new Long2(bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24, bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24, unsigned);
      };
      Long2.fromBytesBE = function fromBytesBE(bytes, unsigned) {
        return new Long2(bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7], bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], unsigned);
      };
    }
  });

  // node_modules/eventemitter3/index.js
  var require_eventemitter3 = __commonJS({
    "node_modules/eventemitter3/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      var has = Object.prototype.hasOwnProperty;
      var prefix = "~";
      function Events() {
      }
      if (Object.create) {
        Events.prototype = Object.create(null);
        if (!new Events().__proto__)
          prefix = false;
      }
      function EE(fn, context, once) {
        this.fn = fn;
        this.context = context;
        this.once = once || false;
      }
      function addListener(emitter, event, fn, context, once) {
        if (typeof fn !== "function") {
          throw new TypeError("The listener must be a function");
        }
        var listener = new EE(fn, context || emitter, once), evt = prefix ? prefix + event : event;
        if (!emitter._events[evt])
          emitter._events[evt] = listener, emitter._eventsCount++;
        else if (!emitter._events[evt].fn)
          emitter._events[evt].push(listener);
        else
          emitter._events[evt] = [emitter._events[evt], listener];
        return emitter;
      }
      function clearEvent(emitter, evt) {
        if (--emitter._eventsCount === 0)
          emitter._events = new Events();
        else
          delete emitter._events[evt];
      }
      function EventEmitter() {
        this._events = new Events();
        this._eventsCount = 0;
      }
      EventEmitter.prototype.eventNames = function eventNames() {
        var names = [], events, name;
        if (this._eventsCount === 0)
          return names;
        for (name in events = this._events) {
          if (has.call(events, name))
            names.push(prefix ? name.slice(1) : name);
        }
        if (Object.getOwnPropertySymbols) {
          return names.concat(Object.getOwnPropertySymbols(events));
        }
        return names;
      };
      EventEmitter.prototype.listeners = function listeners(event) {
        var evt = prefix ? prefix + event : event, handlers = this._events[evt];
        if (!handlers)
          return [];
        if (handlers.fn)
          return [handlers.fn];
        for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
          ee[i] = handlers[i].fn;
        }
        return ee;
      };
      EventEmitter.prototype.listenerCount = function listenerCount(event) {
        var evt = prefix ? prefix + event : event, listeners = this._events[evt];
        if (!listeners)
          return 0;
        if (listeners.fn)
          return 1;
        return listeners.length;
      };
      EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
        var evt = prefix ? prefix + event : event;
        if (!this._events[evt])
          return false;
        var listeners = this._events[evt], len = arguments.length, args, i;
        if (listeners.fn) {
          if (listeners.once)
            this.removeListener(event, listeners.fn, void 0, true);
          switch (len) {
            case 1:
              return listeners.fn.call(listeners.context), true;
            case 2:
              return listeners.fn.call(listeners.context, a1), true;
            case 3:
              return listeners.fn.call(listeners.context, a1, a2), true;
            case 4:
              return listeners.fn.call(listeners.context, a1, a2, a3), true;
            case 5:
              return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
            case 6:
              return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
          }
          for (i = 1, args = new Array(len - 1); i < len; i++) {
            args[i - 1] = arguments[i];
          }
          listeners.fn.apply(listeners.context, args);
        } else {
          var length = listeners.length, j;
          for (i = 0; i < length; i++) {
            if (listeners[i].once)
              this.removeListener(event, listeners[i].fn, void 0, true);
            switch (len) {
              case 1:
                listeners[i].fn.call(listeners[i].context);
                break;
              case 2:
                listeners[i].fn.call(listeners[i].context, a1);
                break;
              case 3:
                listeners[i].fn.call(listeners[i].context, a1, a2);
                break;
              case 4:
                listeners[i].fn.call(listeners[i].context, a1, a2, a3);
                break;
              default:
                if (!args)
                  for (j = 1, args = new Array(len - 1); j < len; j++) {
                    args[j - 1] = arguments[j];
                  }
                listeners[i].fn.apply(listeners[i].context, args);
            }
          }
        }
        return true;
      };
      EventEmitter.prototype.on = function on(event, fn, context) {
        return addListener(this, event, fn, context, false);
      };
      EventEmitter.prototype.once = function once(event, fn, context) {
        return addListener(this, event, fn, context, true);
      };
      EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
        var evt = prefix ? prefix + event : event;
        if (!this._events[evt])
          return this;
        if (!fn) {
          clearEvent(this, evt);
          return this;
        }
        var listeners = this._events[evt];
        if (listeners.fn) {
          if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
            clearEvent(this, evt);
          }
        } else {
          for (var i = 0, events = [], length = listeners.length; i < length; i++) {
            if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {
              events.push(listeners[i]);
            }
          }
          if (events.length)
            this._events[evt] = events.length === 1 ? events[0] : events;
          else
            clearEvent(this, evt);
        }
        return this;
      };
      EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
        var evt;
        if (event) {
          evt = prefix ? prefix + event : event;
          if (this._events[evt])
            clearEvent(this, evt);
        } else {
          this._events = new Events();
          this._eventsCount = 0;
        }
        return this;
      };
      EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
      EventEmitter.prototype.addListener = EventEmitter.prototype.on;
      EventEmitter.prefixed = prefix;
      EventEmitter.EventEmitter = EventEmitter;
      if (typeof module2 !== "undefined") {
        module2.exports = EventEmitter;
      }
    }
  });

  // node_modules/p-finally/index.js
  var require_p_finally = __commonJS({
    "node_modules/p-finally/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      module2.exports = (promise, onFinally) => {
        onFinally = onFinally || (() => {
        });
        return promise.then((val) => new Promise((resolve) => {
          resolve(onFinally());
        }).then(() => val), (err) => new Promise((resolve) => {
          resolve(onFinally());
        }).then(() => {
          throw err;
        }));
      };
    }
  });

  // node_modules/p-timeout/index.js
  var require_p_timeout = __commonJS({
    "node_modules/p-timeout/index.js"(exports2, module2) {
      init_web_worker_inject();
      "use strict";
      var pFinally = require_p_finally();
      var TimeoutError = class extends Error {
        constructor(message) {
          super(message);
          this.name = "TimeoutError";
        }
      };
      var pTimeout = (promise, milliseconds, fallback) => new Promise((resolve, reject) => {
        if (typeof milliseconds !== "number" || milliseconds < 0) {
          throw new TypeError("Expected `milliseconds` to be a positive number");
        }
        if (milliseconds === Infinity) {
          resolve(promise);
          return;
        }
        const timer = setTimeout(() => {
          if (typeof fallback === "function") {
            try {
              resolve(fallback());
            } catch (error) {
              reject(error);
            }
            return;
          }
          const message = typeof fallback === "string" ? fallback : `Promise timed out after ${milliseconds} milliseconds`;
          const timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);
          if (typeof promise.cancel === "function") {
            promise.cancel();
          }
          reject(timeoutError);
        }, milliseconds);
        pFinally(promise.then(resolve, reject), () => {
          clearTimeout(timer);
        });
      });
      module2.exports = pTimeout;
      module2.exports.default = pTimeout;
      module2.exports.TimeoutError = TimeoutError;
    }
  });

  // node_modules/p-queue/dist/lower-bound.js
  var require_lower_bound = __commonJS({
    "node_modules/p-queue/dist/lower-bound.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      function lowerBound(array, value, comparator) {
        let first = 0;
        let count = array.length;
        while (count > 0) {
          const step = count / 2 | 0;
          let it = first + step;
          if (comparator(array[it], value) <= 0) {
            first = ++it;
            count -= step + 1;
          } else {
            count = step;
          }
        }
        return first;
      }
      exports2.default = lowerBound;
    }
  });

  // node_modules/p-queue/dist/priority-queue.js
  var require_priority_queue = __commonJS({
    "node_modules/p-queue/dist/priority-queue.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      var lower_bound_1 = require_lower_bound();
      var PriorityQueue = class {
        constructor() {
          this._queue = [];
        }
        enqueue(run, options) {
          options = Object.assign({priority: 0}, options);
          const element = {
            priority: options.priority,
            run
          };
          if (this.size && this._queue[this.size - 1].priority >= options.priority) {
            this._queue.push(element);
            return;
          }
          const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);
          this._queue.splice(index, 0, element);
        }
        dequeue() {
          const item = this._queue.shift();
          return item === null || item === void 0 ? void 0 : item.run;
        }
        filter(options) {
          return this._queue.filter((element) => element.priority === options.priority).map((element) => element.run);
        }
        get size() {
          return this._queue.length;
        }
      };
      exports2.default = PriorityQueue;
    }
  });

  // node_modules/p-queue/dist/index.js
  var require_dist3 = __commonJS({
    "node_modules/p-queue/dist/index.js"(exports2) {
      init_web_worker_inject();
      "use strict";
      Object.defineProperty(exports2, "__esModule", {value: true});
      var EventEmitter = require_eventemitter3();
      var p_timeout_1 = require_p_timeout();
      var priority_queue_1 = require_priority_queue();
      var empty = () => {
      };
      var timeoutError = new p_timeout_1.TimeoutError();
      var PQueue2 = class extends EventEmitter {
        constructor(options) {
          var _a, _b, _c, _d;
          super();
          this._intervalCount = 0;
          this._intervalEnd = 0;
          this._pendingCount = 0;
          this._resolveEmpty = empty;
          this._resolveIdle = empty;
          options = Object.assign({carryoverConcurrencyCount: false, intervalCap: Infinity, interval: 0, concurrency: Infinity, autoStart: true, queueClass: priority_queue_1.default}, options);
          if (!(typeof options.intervalCap === "number" && options.intervalCap >= 1)) {
            throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(_b = (_a = options.intervalCap) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : ""}\` (${typeof options.intervalCap})`);
          }
          if (options.interval === void 0 || !(Number.isFinite(options.interval) && options.interval >= 0)) {
            throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(_d = (_c = options.interval) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : ""}\` (${typeof options.interval})`);
          }
          this._carryoverConcurrencyCount = options.carryoverConcurrencyCount;
          this._isIntervalIgnored = options.intervalCap === Infinity || options.interval === 0;
          this._intervalCap = options.intervalCap;
          this._interval = options.interval;
          this._queue = new options.queueClass();
          this._queueClass = options.queueClass;
          this.concurrency = options.concurrency;
          this._timeout = options.timeout;
          this._throwOnTimeout = options.throwOnTimeout === true;
          this._isPaused = options.autoStart === false;
        }
        get _doesIntervalAllowAnother() {
          return this._isIntervalIgnored || this._intervalCount < this._intervalCap;
        }
        get _doesConcurrentAllowAnother() {
          return this._pendingCount < this._concurrency;
        }
        _next() {
          this._pendingCount--;
          this._tryToStartAnother();
          this.emit("next");
        }
        _resolvePromises() {
          this._resolveEmpty();
          this._resolveEmpty = empty;
          if (this._pendingCount === 0) {
            this._resolveIdle();
            this._resolveIdle = empty;
            this.emit("idle");
          }
        }
        _onResumeInterval() {
          this._onInterval();
          this._initializeIntervalIfNeeded();
          this._timeoutId = void 0;
        }
        _isIntervalPaused() {
          const now = Date.now();
          if (this._intervalId === void 0) {
            const delay = this._intervalEnd - now;
            if (delay < 0) {
              this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;
            } else {
              if (this._timeoutId === void 0) {
                this._timeoutId = setTimeout(() => {
                  this._onResumeInterval();
                }, delay);
              }
              return true;
            }
          }
          return false;
        }
        _tryToStartAnother() {
          if (this._queue.size === 0) {
            if (this._intervalId) {
              clearInterval(this._intervalId);
            }
            this._intervalId = void 0;
            this._resolvePromises();
            return false;
          }
          if (!this._isPaused) {
            const canInitializeInterval = !this._isIntervalPaused();
            if (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother) {
              const job = this._queue.dequeue();
              if (!job) {
                return false;
              }
              this.emit("active");
              job();
              if (canInitializeInterval) {
                this._initializeIntervalIfNeeded();
              }
              return true;
            }
          }
          return false;
        }
        _initializeIntervalIfNeeded() {
          if (this._isIntervalIgnored || this._intervalId !== void 0) {
            return;
          }
          this._intervalId = setInterval(() => {
            this._onInterval();
          }, this._interval);
          this._intervalEnd = Date.now() + this._interval;
        }
        _onInterval() {
          if (this._intervalCount === 0 && this._pendingCount === 0 && this._intervalId) {
            clearInterval(this._intervalId);
            this._intervalId = void 0;
          }
          this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;
          this._processQueue();
        }
        _processQueue() {
          while (this._tryToStartAnother()) {
          }
        }
        get concurrency() {
          return this._concurrency;
        }
        set concurrency(newConcurrency) {
          if (!(typeof newConcurrency === "number" && newConcurrency >= 1)) {
            throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${newConcurrency}\` (${typeof newConcurrency})`);
          }
          this._concurrency = newConcurrency;
          this._processQueue();
        }
        async add(fn, options = {}) {
          return new Promise((resolve, reject) => {
            const run = async () => {
              this._pendingCount++;
              this._intervalCount++;
              try {
                const operation = this._timeout === void 0 && options.timeout === void 0 ? fn() : p_timeout_1.default(Promise.resolve(fn()), options.timeout === void 0 ? this._timeout : options.timeout, () => {
                  if (options.throwOnTimeout === void 0 ? this._throwOnTimeout : options.throwOnTimeout) {
                    reject(timeoutError);
                  }
                  return void 0;
                });
                resolve(await operation);
              } catch (error) {
                reject(error);
              }
              this._next();
            };
            this._queue.enqueue(run, options);
            this._tryToStartAnother();
            this.emit("add");
          });
        }
        async addAll(functions, options) {
          return Promise.all(functions.map(async (function_) => this.add(function_, options)));
        }
        start() {
          if (!this._isPaused) {
            return this;
          }
          this._isPaused = false;
          this._processQueue();
          return this;
        }
        pause() {
          this._isPaused = true;
        }
        clear() {
          this._queue = new this._queueClass();
        }
        async onEmpty() {
          if (this._queue.size === 0) {
            return;
          }
          return new Promise((resolve) => {
            const existingResolve = this._resolveEmpty;
            this._resolveEmpty = () => {
              existingResolve();
              resolve();
            };
          });
        }
        async onIdle() {
          if (this._pendingCount === 0 && this._queue.size === 0) {
            return;
          }
          return new Promise((resolve) => {
            const existingResolve = this._resolveIdle;
            this._resolveIdle = () => {
              existingResolve();
              resolve();
            };
          });
        }
        get size() {
          return this._queue.size;
        }
        sizeBy(options) {
          return this._queue.filter(options).length;
        }
        get pending() {
          return this._pendingCount;
        }
        get isPaused() {
          return this._isPaused;
        }
        get timeout() {
          return this._timeout;
        }
        set timeout(milliseconds) {
          this._timeout = milliseconds;
        }
      };
      exports2.default = PQueue2;
    }
  });

  // src/worker/index-webworker.ts
  init_web_worker_inject();
  var import_rpc = __toModule(require_dist());
  var import_WebWorker = __toModule(require_WebWorker());

  // src/worker/SceneRuntime.ts
  init_web_worker_inject();

  // src/worker/client/index.ts
  init_web_worker_inject();

  // src/worker/client/CommunicationsController.ts
  init_web_worker_inject();
  var codegen = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/communications_controller.gen.ts
  init_web_worker_inject();
  var import_minimal = __toModule(require_minimal2());
  function createBaseRealSendRequest() {
    return {message: ""};
  }
  var RealSendRequest = {
    encode(message, writer = import_minimal.default.Writer.create()) {
      if (message.message !== "") {
        writer.uint32(10).string(message.message);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal.default.Reader ? input : new import_minimal.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRealSendRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.message = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {message: isSet(object.message) ? String(object.message) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.message !== void 0 && (obj.message = message.message);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseRealSendRequest();
      message.message = object.message ?? "";
      return message;
    }
  };
  function createBaseRealSendResponse() {
    return {};
  }
  var RealSendResponse = {
    encode(_, writer = import_minimal.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal.default.Reader ? input : new import_minimal.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRealSendResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseRealSendResponse();
      return message;
    }
  };
  var CommunicationsControllerServiceDefinition = {
    name: "CommunicationsControllerService",
    fullName: "decentraland.kernel.apis.CommunicationsControllerService",
    methods: {
      send: {
        name: "Send",
        requestType: RealSendRequest,
        requestStream: false,
        responseType: RealSendResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/CommunicationsController.ts
  var CommunicationsControllerServiceClient;
  (function(CommunicationsControllerServiceClient2) {
    function create(clientPort) {
      return codegen.loadService(clientPort, CommunicationsControllerServiceDefinition);
    }
    CommunicationsControllerServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen.loadService(clientPort, CommunicationsControllerServiceDefinition);
      return {
        ...originalService,
        async send(message) {
          await originalService.send({message});
        }
      };
    }
    CommunicationsControllerServiceClient2.createLegacy = createLegacy;
  })(CommunicationsControllerServiceClient || (CommunicationsControllerServiceClient = {}));

  // src/worker/client/DevTools.ts
  init_web_worker_inject();
  var codegen2 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/dev_tools.gen.ts
  init_web_worker_inject();
  var import_minimal2 = __toModule(require_minimal2());
  function createBaseDevToolsBody() {
    return {type: "", jsonPayload: ""};
  }
  var DevToolsBody = {
    encode(message, writer = import_minimal2.default.Writer.create()) {
      if (message.type !== "") {
        writer.uint32(10).string(message.type);
      }
      if (message.jsonPayload !== "") {
        writer.uint32(18).string(message.jsonPayload);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal2.default.Reader ? input : new import_minimal2.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseDevToolsBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.type = reader.string();
            break;
          case 2:
            message.jsonPayload = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        type: isSet2(object.type) ? String(object.type) : "",
        jsonPayload: isSet2(object.jsonPayload) ? String(object.jsonPayload) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.type !== void 0 && (obj.type = message.type);
      message.jsonPayload !== void 0 && (obj.jsonPayload = message.jsonPayload);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseDevToolsBody();
      message.type = object.type ?? "";
      message.jsonPayload = object.jsonPayload ?? "";
      return message;
    }
  };
  function createBaseEventResponse() {
    return {};
  }
  var EventResponse = {
    encode(_, writer = import_minimal2.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal2.default.Reader ? input : new import_minimal2.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseEventResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseEventResponse();
      return message;
    }
  };
  var DevToolsServiceDefinition = {
    name: "DevToolsService",
    fullName: "decentraland.kernel.apis.DevToolsService",
    methods: {
      event: {
        name: "Event",
        requestType: DevToolsBody,
        requestStream: false,
        responseType: EventResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet2(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/DevTools.ts
  function createDevToolsServiceClient(clientPort) {
    const originalService = codegen2.loadService(clientPort, DevToolsServiceDefinition);
    return originalService;
  }

  // src/worker/client/EngineApi.ts
  init_web_worker_inject();
  var codegen3 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/engine_api.gen.ts
  init_web_worker_inject();
  var import_minimal3 = __toModule(require_minimal2());
  var QueryType;
  (function(QueryType2) {
    QueryType2[QueryType2["QT_INVALID_QUERY_TYPE"] = 0] = "QT_INVALID_QUERY_TYPE";
    QueryType2[QueryType2["QT_HIT_FIRST"] = 1] = "QT_HIT_FIRST";
    QueryType2[QueryType2["QT_HIT_ALL"] = 2] = "QT_HIT_ALL";
    QueryType2[QueryType2["QT_HIT_FIRST_AVATAR"] = 3] = "QT_HIT_FIRST_AVATAR";
    QueryType2[QueryType2["QT_HIT_ALL_AVATARS"] = 4] = "QT_HIT_ALL_AVATARS";
    QueryType2[QueryType2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
  })(QueryType || (QueryType = {}));
  function queryTypeFromJSON(object) {
    switch (object) {
      case 0:
      case "QT_INVALID_QUERY_TYPE":
        return 0;
      case 1:
      case "QT_HIT_FIRST":
        return 1;
      case 2:
      case "QT_HIT_ALL":
        return 2;
      case 3:
      case "QT_HIT_FIRST_AVATAR":
        return 3;
      case 4:
      case "QT_HIT_ALL_AVATARS":
        return 4;
      case -1:
      case "UNRECOGNIZED":
      default:
        return -1;
    }
  }
  function queryTypeToJSON(object) {
    switch (object) {
      case 0:
        return "QT_INVALID_QUERY_TYPE";
      case 1:
        return "QT_HIT_FIRST";
      case 2:
        return "QT_HIT_ALL";
      case 3:
        return "QT_HIT_FIRST_AVATAR";
      case 4:
        return "QT_HIT_ALL_AVATARS";
      case -1:
      default:
        return "UNRECOGNIZED";
    }
  }
  var EAType;
  (function(EAType2) {
    EAType2[EAType2["EAT_INVALID_EA_TYPE"] = 0] = "EAT_INVALID_EA_TYPE";
    EAType2[EAType2["EAT_OPEN_EXTERNAL_URL"] = 1] = "EAT_OPEN_EXTERNAL_URL";
    EAType2[EAType2["EAT_OPEN_NFT_DIALOG"] = 2] = "EAT_OPEN_NFT_DIALOG";
    EAType2[EAType2["EAT_CREATE_ENTITY"] = 3] = "EAT_CREATE_ENTITY";
    EAType2[EAType2["EAT_REMOVE_ENTITY"] = 4] = "EAT_REMOVE_ENTITY";
    EAType2[EAType2["EAT_UPDATE_ENTITY_COMPONENT"] = 5] = "EAT_UPDATE_ENTITY_COMPONENT";
    EAType2[EAType2["EAT_ATTACH_ENTITY_COMPONENT"] = 6] = "EAT_ATTACH_ENTITY_COMPONENT";
    EAType2[EAType2["EAT_COMPONENT_REMOVED"] = 7] = "EAT_COMPONENT_REMOVED";
    EAType2[EAType2["EAT_SET_ENTITY_PARENT"] = 8] = "EAT_SET_ENTITY_PARENT";
    EAType2[EAType2["EAT_QUERY"] = 9] = "EAT_QUERY";
    EAType2[EAType2["EAT_COMPONENT_CREATED"] = 10] = "EAT_COMPONENT_CREATED";
    EAType2[EAType2["EAT_COMPONENT_DISPOSED"] = 11] = "EAT_COMPONENT_DISPOSED";
    EAType2[EAType2["EAT_COMPONENT_UPDATED"] = 12] = "EAT_COMPONENT_UPDATED";
    EAType2[EAType2["EAT_INIT_MESSAGES_FINISHED"] = 13] = "EAT_INIT_MESSAGES_FINISHED";
    EAType2[EAType2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
  })(EAType || (EAType = {}));
  function eATypeFromJSON(object) {
    switch (object) {
      case 0:
      case "EAT_INVALID_EA_TYPE":
        return 0;
      case 1:
      case "EAT_OPEN_EXTERNAL_URL":
        return 1;
      case 2:
      case "EAT_OPEN_NFT_DIALOG":
        return 2;
      case 3:
      case "EAT_CREATE_ENTITY":
        return 3;
      case 4:
      case "EAT_REMOVE_ENTITY":
        return 4;
      case 5:
      case "EAT_UPDATE_ENTITY_COMPONENT":
        return 5;
      case 6:
      case "EAT_ATTACH_ENTITY_COMPONENT":
        return 6;
      case 7:
      case "EAT_COMPONENT_REMOVED":
        return 7;
      case 8:
      case "EAT_SET_ENTITY_PARENT":
        return 8;
      case 9:
      case "EAT_QUERY":
        return 9;
      case 10:
      case "EAT_COMPONENT_CREATED":
        return 10;
      case 11:
      case "EAT_COMPONENT_DISPOSED":
        return 11;
      case 12:
      case "EAT_COMPONENT_UPDATED":
        return 12;
      case 13:
      case "EAT_INIT_MESSAGES_FINISHED":
        return 13;
      case -1:
      case "UNRECOGNIZED":
      default:
        return -1;
    }
  }
  function eATypeToJSON(object) {
    switch (object) {
      case 0:
        return "EAT_INVALID_EA_TYPE";
      case 1:
        return "EAT_OPEN_EXTERNAL_URL";
      case 2:
        return "EAT_OPEN_NFT_DIALOG";
      case 3:
        return "EAT_CREATE_ENTITY";
      case 4:
        return "EAT_REMOVE_ENTITY";
      case 5:
        return "EAT_UPDATE_ENTITY_COMPONENT";
      case 6:
        return "EAT_ATTACH_ENTITY_COMPONENT";
      case 7:
        return "EAT_COMPONENT_REMOVED";
      case 8:
        return "EAT_SET_ENTITY_PARENT";
      case 9:
        return "EAT_QUERY";
      case 10:
        return "EAT_COMPONENT_CREATED";
      case 11:
        return "EAT_COMPONENT_DISPOSED";
      case 12:
        return "EAT_COMPONENT_UPDATED";
      case 13:
        return "EAT_INIT_MESSAGES_FINISHED";
      case -1:
      default:
        return "UNRECOGNIZED";
    }
  }
  var EventDataType;
  (function(EventDataType2) {
    EventDataType2[EventDataType2["EDT_GENERIC"] = 0] = "EDT_GENERIC";
    EventDataType2[EventDataType2["EDT_POSITION_CHANGED"] = 1] = "EDT_POSITION_CHANGED";
    EventDataType2[EventDataType2["EDT_ROTATION_CHANGED"] = 2] = "EDT_ROTATION_CHANGED";
    EventDataType2[EventDataType2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
  })(EventDataType || (EventDataType = {}));
  function eventDataTypeFromJSON(object) {
    switch (object) {
      case 0:
      case "EDT_GENERIC":
        return 0;
      case 1:
      case "EDT_POSITION_CHANGED":
        return 1;
      case 2:
      case "EDT_ROTATION_CHANGED":
        return 2;
      case -1:
      case "UNRECOGNIZED":
      default:
        return -1;
    }
  }
  function eventDataTypeToJSON(object) {
    switch (object) {
      case 0:
        return "EDT_GENERIC";
      case 1:
        return "EDT_POSITION_CHANGED";
      case 2:
        return "EDT_ROTATION_CHANGED";
      case -1:
      default:
        return "UNRECOGNIZED";
    }
  }
  function createBaseOpenExternalUrlBody() {
    return {url: ""};
  }
  var OpenExternalUrlBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.url !== "") {
        writer.uint32(10).string(message.url);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseOpenExternalUrlBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.url = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {url: isSet3(object.url) ? String(object.url) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.url !== void 0 && (obj.url = message.url);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseOpenExternalUrlBody();
      message.url = object.url ?? "";
      return message;
    }
  };
  function createBaseOpenNFTDialogBody() {
    return {assetContractAddress: "", tokenId: "", comment: void 0};
  }
  var OpenNFTDialogBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.assetContractAddress !== "") {
        writer.uint32(10).string(message.assetContractAddress);
      }
      if (message.tokenId !== "") {
        writer.uint32(18).string(message.tokenId);
      }
      if (message.comment !== void 0) {
        writer.uint32(26).string(message.comment);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseOpenNFTDialogBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.assetContractAddress = reader.string();
            break;
          case 2:
            message.tokenId = reader.string();
            break;
          case 3:
            message.comment = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        assetContractAddress: isSet3(object.assetContractAddress) ? String(object.assetContractAddress) : "",
        tokenId: isSet3(object.tokenId) ? String(object.tokenId) : "",
        comment: isSet3(object.comment) ? String(object.comment) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.assetContractAddress !== void 0 && (obj.assetContractAddress = message.assetContractAddress);
      message.tokenId !== void 0 && (obj.tokenId = message.tokenId);
      message.comment !== void 0 && (obj.comment = message.comment);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseOpenNFTDialogBody();
      message.assetContractAddress = object.assetContractAddress ?? "";
      message.tokenId = object.tokenId ?? "";
      message.comment = object.comment ?? void 0;
      return message;
    }
  };
  function createBaseCreateEntityBody() {
    return {id: ""};
  }
  var CreateEntityBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.id !== "") {
        writer.uint32(10).string(message.id);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseCreateEntityBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {id: isSet3(object.id) ? String(object.id) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = message.id);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseCreateEntityBody();
      message.id = object.id ?? "";
      return message;
    }
  };
  function createBaseRemoveEntityBody() {
    return {id: ""};
  }
  var RemoveEntityBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.id !== "") {
        writer.uint32(10).string(message.id);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRemoveEntityBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {id: isSet3(object.id) ? String(object.id) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = message.id);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseRemoveEntityBody();
      message.id = object.id ?? "";
      return message;
    }
  };
  function createBaseUpdateEntityComponentBody() {
    return {entityId: "", classId: 0, name: "", json: ""};
  }
  var UpdateEntityComponentBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.entityId !== "") {
        writer.uint32(10).string(message.entityId);
      }
      if (message.classId !== 0) {
        writer.uint32(16).int32(message.classId);
      }
      if (message.name !== "") {
        writer.uint32(26).string(message.name);
      }
      if (message.json !== "") {
        writer.uint32(34).string(message.json);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseUpdateEntityComponentBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.entityId = reader.string();
            break;
          case 2:
            message.classId = reader.int32();
            break;
          case 3:
            message.name = reader.string();
            break;
          case 4:
            message.json = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        entityId: isSet3(object.entityId) ? String(object.entityId) : "",
        classId: isSet3(object.classId) ? Number(object.classId) : 0,
        name: isSet3(object.name) ? String(object.name) : "",
        json: isSet3(object.json) ? String(object.json) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.entityId !== void 0 && (obj.entityId = message.entityId);
      message.classId !== void 0 && (obj.classId = Math.round(message.classId));
      message.name !== void 0 && (obj.name = message.name);
      message.json !== void 0 && (obj.json = message.json);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseUpdateEntityComponentBody();
      message.entityId = object.entityId ?? "";
      message.classId = object.classId ?? 0;
      message.name = object.name ?? "";
      message.json = object.json ?? "";
      return message;
    }
  };
  function createBaseAttachEntityComponentBody() {
    return {entityId: "", name: "", id: ""};
  }
  var AttachEntityComponentBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.entityId !== "") {
        writer.uint32(10).string(message.entityId);
      }
      if (message.name !== "") {
        writer.uint32(18).string(message.name);
      }
      if (message.id !== "") {
        writer.uint32(26).string(message.id);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseAttachEntityComponentBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.entityId = reader.string();
            break;
          case 2:
            message.name = reader.string();
            break;
          case 3:
            message.id = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        entityId: isSet3(object.entityId) ? String(object.entityId) : "",
        name: isSet3(object.name) ? String(object.name) : "",
        id: isSet3(object.id) ? String(object.id) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.entityId !== void 0 && (obj.entityId = message.entityId);
      message.name !== void 0 && (obj.name = message.name);
      message.id !== void 0 && (obj.id = message.id);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseAttachEntityComponentBody();
      message.entityId = object.entityId ?? "";
      message.name = object.name ?? "";
      message.id = object.id ?? "";
      return message;
    }
  };
  function createBaseComponentRemovedBody() {
    return {entityId: "", name: ""};
  }
  var ComponentRemovedBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.entityId !== "") {
        writer.uint32(10).string(message.entityId);
      }
      if (message.name !== "") {
        writer.uint32(18).string(message.name);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseComponentRemovedBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.entityId = reader.string();
            break;
          case 2:
            message.name = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        entityId: isSet3(object.entityId) ? String(object.entityId) : "",
        name: isSet3(object.name) ? String(object.name) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.entityId !== void 0 && (obj.entityId = message.entityId);
      message.name !== void 0 && (obj.name = message.name);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseComponentRemovedBody();
      message.entityId = object.entityId ?? "";
      message.name = object.name ?? "";
      return message;
    }
  };
  function createBaseSetEntityParentBody() {
    return {entityId: "", parentId: ""};
  }
  var SetEntityParentBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.entityId !== "") {
        writer.uint32(10).string(message.entityId);
      }
      if (message.parentId !== "") {
        writer.uint32(18).string(message.parentId);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSetEntityParentBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.entityId = reader.string();
            break;
          case 2:
            message.parentId = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        entityId: isSet3(object.entityId) ? String(object.entityId) : "",
        parentId: isSet3(object.parentId) ? String(object.parentId) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.entityId !== void 0 && (obj.entityId = message.entityId);
      message.parentId !== void 0 && (obj.parentId = message.parentId);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSetEntityParentBody();
      message.entityId = object.entityId ?? "";
      message.parentId = object.parentId ?? "";
      return message;
    }
  };
  function createBaseQueryBody() {
    return {queryId: 0, payload: ""};
  }
  var QueryBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.queryId !== 0) {
        writer.uint32(8).int32(message.queryId);
      }
      if (message.payload !== "") {
        writer.uint32(18).string(message.payload);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseQueryBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.queryId = reader.int32();
            break;
          case 2:
            message.payload = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        queryId: isSet3(object.queryId) ? queryTypeFromJSON(object.queryId) : 0,
        payload: isSet3(object.payload) ? String(object.payload) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.queryId !== void 0 && (obj.queryId = queryTypeToJSON(message.queryId));
      message.payload !== void 0 && (obj.payload = message.payload);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseQueryBody();
      message.queryId = object.queryId ?? 0;
      message.payload = object.payload ?? "";
      return message;
    }
  };
  function createBaseComponentCreatedBody() {
    return {id: "", classId: 0, name: ""};
  }
  var ComponentCreatedBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.id !== "") {
        writer.uint32(10).string(message.id);
      }
      if (message.classId !== 0) {
        writer.uint32(16).int32(message.classId);
      }
      if (message.name !== "") {
        writer.uint32(26).string(message.name);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseComponentCreatedBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.string();
            break;
          case 2:
            message.classId = reader.int32();
            break;
          case 3:
            message.name = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        id: isSet3(object.id) ? String(object.id) : "",
        classId: isSet3(object.classId) ? Number(object.classId) : 0,
        name: isSet3(object.name) ? String(object.name) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = message.id);
      message.classId !== void 0 && (obj.classId = Math.round(message.classId));
      message.name !== void 0 && (obj.name = message.name);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseComponentCreatedBody();
      message.id = object.id ?? "";
      message.classId = object.classId ?? 0;
      message.name = object.name ?? "";
      return message;
    }
  };
  function createBaseComponentDisposedBody() {
    return {id: ""};
  }
  var ComponentDisposedBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.id !== "") {
        writer.uint32(10).string(message.id);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseComponentDisposedBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {id: isSet3(object.id) ? String(object.id) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = message.id);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseComponentDisposedBody();
      message.id = object.id ?? "";
      return message;
    }
  };
  function createBaseComponentUpdatedBody() {
    return {id: "", json: ""};
  }
  var ComponentUpdatedBody = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.id !== "") {
        writer.uint32(10).string(message.id);
      }
      if (message.json !== "") {
        writer.uint32(18).string(message.json);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseComponentUpdatedBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.string();
            break;
          case 2:
            message.json = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {id: isSet3(object.id) ? String(object.id) : "", json: isSet3(object.json) ? String(object.json) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = message.id);
      message.json !== void 0 && (obj.json = message.json);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseComponentUpdatedBody();
      message.id = object.id ?? "";
      message.json = object.json ?? "";
      return message;
    }
  };
  function createBaseInitMessagesFinishedBody() {
    return {};
  }
  var InitMessagesFinishedBody = {
    encode(_, writer = import_minimal3.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseInitMessagesFinishedBody();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseInitMessagesFinishedBody();
      return message;
    }
  };
  function createBasePayload() {
    return {
      openExternalUrl: void 0,
      openNftDialog: void 0,
      createEntity: void 0,
      removeEntity: void 0,
      updateEntityComponent: void 0,
      attachEntityComponent: void 0,
      componentRemoved: void 0,
      setEntityParent: void 0,
      query: void 0,
      componentCreated: void 0,
      componentDisposed: void 0,
      componentUpdated: void 0,
      initMessagesFinished: void 0
    };
  }
  var Payload = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.openExternalUrl !== void 0) {
        OpenExternalUrlBody.encode(message.openExternalUrl, writer.uint32(10).fork()).ldelim();
      }
      if (message.openNftDialog !== void 0) {
        OpenNFTDialogBody.encode(message.openNftDialog, writer.uint32(18).fork()).ldelim();
      }
      if (message.createEntity !== void 0) {
        CreateEntityBody.encode(message.createEntity, writer.uint32(26).fork()).ldelim();
      }
      if (message.removeEntity !== void 0) {
        RemoveEntityBody.encode(message.removeEntity, writer.uint32(34).fork()).ldelim();
      }
      if (message.updateEntityComponent !== void 0) {
        UpdateEntityComponentBody.encode(message.updateEntityComponent, writer.uint32(42).fork()).ldelim();
      }
      if (message.attachEntityComponent !== void 0) {
        AttachEntityComponentBody.encode(message.attachEntityComponent, writer.uint32(50).fork()).ldelim();
      }
      if (message.componentRemoved !== void 0) {
        ComponentRemovedBody.encode(message.componentRemoved, writer.uint32(58).fork()).ldelim();
      }
      if (message.setEntityParent !== void 0) {
        SetEntityParentBody.encode(message.setEntityParent, writer.uint32(66).fork()).ldelim();
      }
      if (message.query !== void 0) {
        QueryBody.encode(message.query, writer.uint32(74).fork()).ldelim();
      }
      if (message.componentCreated !== void 0) {
        ComponentCreatedBody.encode(message.componentCreated, writer.uint32(82).fork()).ldelim();
      }
      if (message.componentDisposed !== void 0) {
        ComponentDisposedBody.encode(message.componentDisposed, writer.uint32(90).fork()).ldelim();
      }
      if (message.componentUpdated !== void 0) {
        ComponentUpdatedBody.encode(message.componentUpdated, writer.uint32(98).fork()).ldelim();
      }
      if (message.initMessagesFinished !== void 0) {
        InitMessagesFinishedBody.encode(message.initMessagesFinished, writer.uint32(106).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePayload();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.openExternalUrl = OpenExternalUrlBody.decode(reader, reader.uint32());
            break;
          case 2:
            message.openNftDialog = OpenNFTDialogBody.decode(reader, reader.uint32());
            break;
          case 3:
            message.createEntity = CreateEntityBody.decode(reader, reader.uint32());
            break;
          case 4:
            message.removeEntity = RemoveEntityBody.decode(reader, reader.uint32());
            break;
          case 5:
            message.updateEntityComponent = UpdateEntityComponentBody.decode(reader, reader.uint32());
            break;
          case 6:
            message.attachEntityComponent = AttachEntityComponentBody.decode(reader, reader.uint32());
            break;
          case 7:
            message.componentRemoved = ComponentRemovedBody.decode(reader, reader.uint32());
            break;
          case 8:
            message.setEntityParent = SetEntityParentBody.decode(reader, reader.uint32());
            break;
          case 9:
            message.query = QueryBody.decode(reader, reader.uint32());
            break;
          case 10:
            message.componentCreated = ComponentCreatedBody.decode(reader, reader.uint32());
            break;
          case 11:
            message.componentDisposed = ComponentDisposedBody.decode(reader, reader.uint32());
            break;
          case 12:
            message.componentUpdated = ComponentUpdatedBody.decode(reader, reader.uint32());
            break;
          case 13:
            message.initMessagesFinished = InitMessagesFinishedBody.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        openExternalUrl: isSet3(object.openExternalUrl) ? OpenExternalUrlBody.fromJSON(object.openExternalUrl) : void 0,
        openNftDialog: isSet3(object.openNftDialog) ? OpenNFTDialogBody.fromJSON(object.openNftDialog) : void 0,
        createEntity: isSet3(object.createEntity) ? CreateEntityBody.fromJSON(object.createEntity) : void 0,
        removeEntity: isSet3(object.removeEntity) ? RemoveEntityBody.fromJSON(object.removeEntity) : void 0,
        updateEntityComponent: isSet3(object.updateEntityComponent) ? UpdateEntityComponentBody.fromJSON(object.updateEntityComponent) : void 0,
        attachEntityComponent: isSet3(object.attachEntityComponent) ? AttachEntityComponentBody.fromJSON(object.attachEntityComponent) : void 0,
        componentRemoved: isSet3(object.componentRemoved) ? ComponentRemovedBody.fromJSON(object.componentRemoved) : void 0,
        setEntityParent: isSet3(object.setEntityParent) ? SetEntityParentBody.fromJSON(object.setEntityParent) : void 0,
        query: isSet3(object.query) ? QueryBody.fromJSON(object.query) : void 0,
        componentCreated: isSet3(object.componentCreated) ? ComponentCreatedBody.fromJSON(object.componentCreated) : void 0,
        componentDisposed: isSet3(object.componentDisposed) ? ComponentDisposedBody.fromJSON(object.componentDisposed) : void 0,
        componentUpdated: isSet3(object.componentUpdated) ? ComponentUpdatedBody.fromJSON(object.componentUpdated) : void 0,
        initMessagesFinished: isSet3(object.initMessagesFinished) ? InitMessagesFinishedBody.fromJSON(object.initMessagesFinished) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.openExternalUrl !== void 0 && (obj.openExternalUrl = message.openExternalUrl ? OpenExternalUrlBody.toJSON(message.openExternalUrl) : void 0);
      message.openNftDialog !== void 0 && (obj.openNftDialog = message.openNftDialog ? OpenNFTDialogBody.toJSON(message.openNftDialog) : void 0);
      message.createEntity !== void 0 && (obj.createEntity = message.createEntity ? CreateEntityBody.toJSON(message.createEntity) : void 0);
      message.removeEntity !== void 0 && (obj.removeEntity = message.removeEntity ? RemoveEntityBody.toJSON(message.removeEntity) : void 0);
      message.updateEntityComponent !== void 0 && (obj.updateEntityComponent = message.updateEntityComponent ? UpdateEntityComponentBody.toJSON(message.updateEntityComponent) : void 0);
      message.attachEntityComponent !== void 0 && (obj.attachEntityComponent = message.attachEntityComponent ? AttachEntityComponentBody.toJSON(message.attachEntityComponent) : void 0);
      message.componentRemoved !== void 0 && (obj.componentRemoved = message.componentRemoved ? ComponentRemovedBody.toJSON(message.componentRemoved) : void 0);
      message.setEntityParent !== void 0 && (obj.setEntityParent = message.setEntityParent ? SetEntityParentBody.toJSON(message.setEntityParent) : void 0);
      message.query !== void 0 && (obj.query = message.query ? QueryBody.toJSON(message.query) : void 0);
      message.componentCreated !== void 0 && (obj.componentCreated = message.componentCreated ? ComponentCreatedBody.toJSON(message.componentCreated) : void 0);
      message.componentDisposed !== void 0 && (obj.componentDisposed = message.componentDisposed ? ComponentDisposedBody.toJSON(message.componentDisposed) : void 0);
      message.componentUpdated !== void 0 && (obj.componentUpdated = message.componentUpdated ? ComponentUpdatedBody.toJSON(message.componentUpdated) : void 0);
      message.initMessagesFinished !== void 0 && (obj.initMessagesFinished = message.initMessagesFinished ? InitMessagesFinishedBody.toJSON(message.initMessagesFinished) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePayload();
      message.openExternalUrl = object.openExternalUrl !== void 0 && object.openExternalUrl !== null ? OpenExternalUrlBody.fromPartial(object.openExternalUrl) : void 0;
      message.openNftDialog = object.openNftDialog !== void 0 && object.openNftDialog !== null ? OpenNFTDialogBody.fromPartial(object.openNftDialog) : void 0;
      message.createEntity = object.createEntity !== void 0 && object.createEntity !== null ? CreateEntityBody.fromPartial(object.createEntity) : void 0;
      message.removeEntity = object.removeEntity !== void 0 && object.removeEntity !== null ? RemoveEntityBody.fromPartial(object.removeEntity) : void 0;
      message.updateEntityComponent = object.updateEntityComponent !== void 0 && object.updateEntityComponent !== null ? UpdateEntityComponentBody.fromPartial(object.updateEntityComponent) : void 0;
      message.attachEntityComponent = object.attachEntityComponent !== void 0 && object.attachEntityComponent !== null ? AttachEntityComponentBody.fromPartial(object.attachEntityComponent) : void 0;
      message.componentRemoved = object.componentRemoved !== void 0 && object.componentRemoved !== null ? ComponentRemovedBody.fromPartial(object.componentRemoved) : void 0;
      message.setEntityParent = object.setEntityParent !== void 0 && object.setEntityParent !== null ? SetEntityParentBody.fromPartial(object.setEntityParent) : void 0;
      message.query = object.query !== void 0 && object.query !== null ? QueryBody.fromPartial(object.query) : void 0;
      message.componentCreated = object.componentCreated !== void 0 && object.componentCreated !== null ? ComponentCreatedBody.fromPartial(object.componentCreated) : void 0;
      message.componentDisposed = object.componentDisposed !== void 0 && object.componentDisposed !== null ? ComponentDisposedBody.fromPartial(object.componentDisposed) : void 0;
      message.componentUpdated = object.componentUpdated !== void 0 && object.componentUpdated !== null ? ComponentUpdatedBody.fromPartial(object.componentUpdated) : void 0;
      message.initMessagesFinished = object.initMessagesFinished !== void 0 && object.initMessagesFinished !== null ? InitMessagesFinishedBody.fromPartial(object.initMessagesFinished) : void 0;
      return message;
    }
  };
  function createBaseEntityAction() {
    return {type: 0, tag: void 0, payload: void 0};
  }
  var EntityAction = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.type !== 0) {
        writer.uint32(8).int32(message.type);
      }
      if (message.tag !== void 0) {
        writer.uint32(18).string(message.tag);
      }
      if (message.payload !== void 0) {
        Payload.encode(message.payload, writer.uint32(26).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseEntityAction();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.type = reader.int32();
            break;
          case 2:
            message.tag = reader.string();
            break;
          case 3:
            message.payload = Payload.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        type: isSet3(object.type) ? eATypeFromJSON(object.type) : 0,
        tag: isSet3(object.tag) ? String(object.tag) : void 0,
        payload: isSet3(object.payload) ? Payload.fromJSON(object.payload) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.type !== void 0 && (obj.type = eATypeToJSON(message.type));
      message.tag !== void 0 && (obj.tag = message.tag);
      message.payload !== void 0 && (obj.payload = message.payload ? Payload.toJSON(message.payload) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseEntityAction();
      message.type = object.type ?? 0;
      message.tag = object.tag ?? void 0;
      message.payload = object.payload !== void 0 && object.payload !== null ? Payload.fromPartial(object.payload) : void 0;
      return message;
    }
  };
  function createBaseManyEntityAction() {
    return {actions: []};
  }
  var ManyEntityAction = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      for (const v of message.actions) {
        EntityAction.encode(v, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseManyEntityAction();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.actions.push(EntityAction.decode(reader, reader.uint32()));
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {actions: Array.isArray(object?.actions) ? object.actions.map((e) => EntityAction.fromJSON(e)) : []};
    },
    toJSON(message) {
      const obj = {};
      if (message.actions) {
        obj.actions = message.actions.map((e) => e ? EntityAction.toJSON(e) : void 0);
      } else {
        obj.actions = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseManyEntityAction();
      message.actions = object.actions?.map((e) => EntityAction.fromPartial(e)) || [];
      return message;
    }
  };
  function createBaseSendBatchResponse() {
    return {events: []};
  }
  var SendBatchResponse = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      for (const v of message.events) {
        EventData.encode(v, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSendBatchResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.events.push(EventData.decode(reader, reader.uint32()));
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {events: Array.isArray(object?.events) ? object.events.map((e) => EventData.fromJSON(e)) : []};
    },
    toJSON(message) {
      const obj = {};
      if (message.events) {
        obj.events = message.events.map((e) => e ? EventData.toJSON(e) : void 0);
      } else {
        obj.events = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSendBatchResponse();
      message.events = object.events?.map((e) => EventData.fromPartial(e)) || [];
      return message;
    }
  };
  function createBaseUnsubscribeRequest() {
    return {eventId: ""};
  }
  var UnsubscribeRequest = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.eventId !== "") {
        writer.uint32(10).string(message.eventId);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseUnsubscribeRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.eventId = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {eventId: isSet3(object.eventId) ? String(object.eventId) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.eventId !== void 0 && (obj.eventId = message.eventId);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseUnsubscribeRequest();
      message.eventId = object.eventId ?? "";
      return message;
    }
  };
  function createBaseSubscribeRequest() {
    return {eventId: ""};
  }
  var SubscribeRequest = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.eventId !== "") {
        writer.uint32(10).string(message.eventId);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSubscribeRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.eventId = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {eventId: isSet3(object.eventId) ? String(object.eventId) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.eventId !== void 0 && (obj.eventId = message.eventId);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSubscribeRequest();
      message.eventId = object.eventId ?? "";
      return message;
    }
  };
  function createBaseSubscribeResponse() {
    return {};
  }
  var SubscribeResponse = {
    encode(_, writer = import_minimal3.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSubscribeResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseSubscribeResponse();
      return message;
    }
  };
  function createBaseUnsubscribeResponse() {
    return {};
  }
  var UnsubscribeResponse = {
    encode(_, writer = import_minimal3.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseUnsubscribeResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseUnsubscribeResponse();
      return message;
    }
  };
  function createBaseGenericPayload() {
    return {eventId: "", eventData: ""};
  }
  var GenericPayload = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.eventId !== "") {
        writer.uint32(26).string(message.eventId);
      }
      if (message.eventData !== "") {
        writer.uint32(34).string(message.eventData);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGenericPayload();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 3:
            message.eventId = reader.string();
            break;
          case 4:
            message.eventData = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        eventId: isSet3(object.eventId) ? String(object.eventId) : "",
        eventData: isSet3(object.eventData) ? String(object.eventData) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.eventId !== void 0 && (obj.eventId = message.eventId);
      message.eventData !== void 0 && (obj.eventData = message.eventData);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGenericPayload();
      message.eventId = object.eventId ?? "";
      message.eventData = object.eventData ?? "";
      return message;
    }
  };
  function createBaseReadOnlyVector3() {
    return {x: 0, y: 0, z: 0};
  }
  var ReadOnlyVector3 = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.x !== 0) {
        writer.uint32(13).float(message.x);
      }
      if (message.y !== 0) {
        writer.uint32(21).float(message.y);
      }
      if (message.z !== 0) {
        writer.uint32(29).float(message.z);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseReadOnlyVector3();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.x = reader.float();
            break;
          case 2:
            message.y = reader.float();
            break;
          case 3:
            message.z = reader.float();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        x: isSet3(object.x) ? Number(object.x) : 0,
        y: isSet3(object.y) ? Number(object.y) : 0,
        z: isSet3(object.z) ? Number(object.z) : 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.x !== void 0 && (obj.x = message.x);
      message.y !== void 0 && (obj.y = message.y);
      message.z !== void 0 && (obj.z = message.z);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseReadOnlyVector3();
      message.x = object.x ?? 0;
      message.y = object.y ?? 0;
      message.z = object.z ?? 0;
      return message;
    }
  };
  function createBaseReadOnlyQuaternion() {
    return {x: 0, y: 0, z: 0, w: 0};
  }
  var ReadOnlyQuaternion = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.x !== 0) {
        writer.uint32(13).float(message.x);
      }
      if (message.y !== 0) {
        writer.uint32(21).float(message.y);
      }
      if (message.z !== 0) {
        writer.uint32(29).float(message.z);
      }
      if (message.w !== 0) {
        writer.uint32(37).float(message.w);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseReadOnlyQuaternion();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.x = reader.float();
            break;
          case 2:
            message.y = reader.float();
            break;
          case 3:
            message.z = reader.float();
            break;
          case 4:
            message.w = reader.float();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        x: isSet3(object.x) ? Number(object.x) : 0,
        y: isSet3(object.y) ? Number(object.y) : 0,
        z: isSet3(object.z) ? Number(object.z) : 0,
        w: isSet3(object.w) ? Number(object.w) : 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.x !== void 0 && (obj.x = message.x);
      message.y !== void 0 && (obj.y = message.y);
      message.z !== void 0 && (obj.z = message.z);
      message.w !== void 0 && (obj.w = message.w);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseReadOnlyQuaternion();
      message.x = object.x ?? 0;
      message.y = object.y ?? 0;
      message.z = object.z ?? 0;
      message.w = object.w ?? 0;
      return message;
    }
  };
  function createBasePositionChangedPayload() {
    return {position: void 0, cameraPosition: void 0, playerHeight: 0};
  }
  var PositionChangedPayload = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.position !== void 0) {
        ReadOnlyVector3.encode(message.position, writer.uint32(10).fork()).ldelim();
      }
      if (message.cameraPosition !== void 0) {
        ReadOnlyVector3.encode(message.cameraPosition, writer.uint32(18).fork()).ldelim();
      }
      if (message.playerHeight !== 0) {
        writer.uint32(29).float(message.playerHeight);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePositionChangedPayload();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.position = ReadOnlyVector3.decode(reader, reader.uint32());
            break;
          case 2:
            message.cameraPosition = ReadOnlyVector3.decode(reader, reader.uint32());
            break;
          case 3:
            message.playerHeight = reader.float();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        position: isSet3(object.position) ? ReadOnlyVector3.fromJSON(object.position) : void 0,
        cameraPosition: isSet3(object.cameraPosition) ? ReadOnlyVector3.fromJSON(object.cameraPosition) : void 0,
        playerHeight: isSet3(object.playerHeight) ? Number(object.playerHeight) : 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.position !== void 0 && (obj.position = message.position ? ReadOnlyVector3.toJSON(message.position) : void 0);
      message.cameraPosition !== void 0 && (obj.cameraPosition = message.cameraPosition ? ReadOnlyVector3.toJSON(message.cameraPosition) : void 0);
      message.playerHeight !== void 0 && (obj.playerHeight = message.playerHeight);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePositionChangedPayload();
      message.position = object.position !== void 0 && object.position !== null ? ReadOnlyVector3.fromPartial(object.position) : void 0;
      message.cameraPosition = object.cameraPosition !== void 0 && object.cameraPosition !== null ? ReadOnlyVector3.fromPartial(object.cameraPosition) : void 0;
      message.playerHeight = object.playerHeight ?? 0;
      return message;
    }
  };
  function createBaseRotationChangedPayload() {
    return {rotation: void 0, quaternion: void 0};
  }
  var RotationChangedPayload = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.rotation !== void 0) {
        ReadOnlyVector3.encode(message.rotation, writer.uint32(10).fork()).ldelim();
      }
      if (message.quaternion !== void 0) {
        ReadOnlyQuaternion.encode(message.quaternion, writer.uint32(18).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRotationChangedPayload();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.rotation = ReadOnlyVector3.decode(reader, reader.uint32());
            break;
          case 2:
            message.quaternion = ReadOnlyQuaternion.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        rotation: isSet3(object.rotation) ? ReadOnlyVector3.fromJSON(object.rotation) : void 0,
        quaternion: isSet3(object.quaternion) ? ReadOnlyQuaternion.fromJSON(object.quaternion) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.rotation !== void 0 && (obj.rotation = message.rotation ? ReadOnlyVector3.toJSON(message.rotation) : void 0);
      message.quaternion !== void 0 && (obj.quaternion = message.quaternion ? ReadOnlyQuaternion.toJSON(message.quaternion) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseRotationChangedPayload();
      message.rotation = object.rotation !== void 0 && object.rotation !== null ? ReadOnlyVector3.fromPartial(object.rotation) : void 0;
      message.quaternion = object.quaternion !== void 0 && object.quaternion !== null ? ReadOnlyQuaternion.fromPartial(object.quaternion) : void 0;
      return message;
    }
  };
  function createBaseEventData() {
    return {type: 0, generic: void 0, positionChanged: void 0, rotationChanged: void 0};
  }
  var EventData = {
    encode(message, writer = import_minimal3.default.Writer.create()) {
      if (message.type !== 0) {
        writer.uint32(8).int32(message.type);
      }
      if (message.generic !== void 0) {
        GenericPayload.encode(message.generic, writer.uint32(18).fork()).ldelim();
      }
      if (message.positionChanged !== void 0) {
        PositionChangedPayload.encode(message.positionChanged, writer.uint32(26).fork()).ldelim();
      }
      if (message.rotationChanged !== void 0) {
        RotationChangedPayload.encode(message.rotationChanged, writer.uint32(34).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal3.default.Reader ? input : new import_minimal3.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseEventData();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.type = reader.int32();
            break;
          case 2:
            message.generic = GenericPayload.decode(reader, reader.uint32());
            break;
          case 3:
            message.positionChanged = PositionChangedPayload.decode(reader, reader.uint32());
            break;
          case 4:
            message.rotationChanged = RotationChangedPayload.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        type: isSet3(object.type) ? eventDataTypeFromJSON(object.type) : 0,
        generic: isSet3(object.generic) ? GenericPayload.fromJSON(object.generic) : void 0,
        positionChanged: isSet3(object.positionChanged) ? PositionChangedPayload.fromJSON(object.positionChanged) : void 0,
        rotationChanged: isSet3(object.rotationChanged) ? RotationChangedPayload.fromJSON(object.rotationChanged) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.type !== void 0 && (obj.type = eventDataTypeToJSON(message.type));
      message.generic !== void 0 && (obj.generic = message.generic ? GenericPayload.toJSON(message.generic) : void 0);
      message.positionChanged !== void 0 && (obj.positionChanged = message.positionChanged ? PositionChangedPayload.toJSON(message.positionChanged) : void 0);
      message.rotationChanged !== void 0 && (obj.rotationChanged = message.rotationChanged ? RotationChangedPayload.toJSON(message.rotationChanged) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseEventData();
      message.type = object.type ?? 0;
      message.generic = object.generic !== void 0 && object.generic !== null ? GenericPayload.fromPartial(object.generic) : void 0;
      message.positionChanged = object.positionChanged !== void 0 && object.positionChanged !== null ? PositionChangedPayload.fromPartial(object.positionChanged) : void 0;
      message.rotationChanged = object.rotationChanged !== void 0 && object.rotationChanged !== null ? RotationChangedPayload.fromPartial(object.rotationChanged) : void 0;
      return message;
    }
  };
  var EngineApiServiceDefinition = {
    name: "EngineApiService",
    fullName: "decentraland.kernel.apis.EngineApiService",
    methods: {
      sendBatch: {
        name: "SendBatch",
        requestType: ManyEntityAction,
        requestStream: false,
        responseType: SendBatchResponse,
        responseStream: false,
        options: {}
      },
      subscribe: {
        name: "Subscribe",
        requestType: SubscribeRequest,
        requestStream: false,
        responseType: SubscribeResponse,
        responseStream: false,
        options: {}
      },
      unsubscribe: {
        name: "Unsubscribe",
        requestType: UnsubscribeRequest,
        requestStream: false,
        responseType: UnsubscribeResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet3(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/EngineApi.ts
  function createEngineApiServiceClient(clientPort) {
    const originalService = codegen3.loadService(clientPort, EngineApiServiceDefinition);
    return originalService;
  }

  // src/worker/client/EnvironmentApi.ts
  init_web_worker_inject();
  var codegen4 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/environment_api.gen.ts
  init_web_worker_inject();
  var import_minimal5 = __toModule(require_minimal2());

  // node_modules/@dcl/protocol/out-ts/decentraland/common/content_mapping.gen.ts
  init_web_worker_inject();
  var import_minimal4 = __toModule(require_minimal2());
  function createBaseContentMapping() {
    return {file: "", hash: ""};
  }
  var ContentMapping = {
    encode(message, writer = import_minimal4.default.Writer.create()) {
      if (message.file !== "") {
        writer.uint32(10).string(message.file);
      }
      if (message.hash !== "") {
        writer.uint32(18).string(message.hash);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal4.default.Reader ? input : new import_minimal4.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseContentMapping();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.file = reader.string();
            break;
          case 2:
            message.hash = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {file: isSet4(object.file) ? String(object.file) : "", hash: isSet4(object.hash) ? String(object.hash) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.file !== void 0 && (obj.file = message.file);
      message.hash !== void 0 && (obj.hash = message.hash);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseContentMapping();
      message.file = object.file ?? "";
      message.hash = object.hash ?? "";
      return message;
    }
  };
  function isSet4(value) {
    return value !== null && value !== void 0;
  }

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/environment_api.gen.ts
  function createBaseMinimalRunnableEntity() {
    return {content: [], metadataJson: ""};
  }
  var MinimalRunnableEntity = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      for (const v of message.content) {
        ContentMapping.encode(v, writer.uint32(10).fork()).ldelim();
      }
      if (message.metadataJson !== "") {
        writer.uint32(18).string(message.metadataJson);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseMinimalRunnableEntity();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.content.push(ContentMapping.decode(reader, reader.uint32()));
            break;
          case 2:
            message.metadataJson = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        content: Array.isArray(object?.content) ? object.content.map((e) => ContentMapping.fromJSON(e)) : [],
        metadataJson: isSet5(object.metadataJson) ? String(object.metadataJson) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      if (message.content) {
        obj.content = message.content.map((e) => e ? ContentMapping.toJSON(e) : void 0);
      } else {
        obj.content = [];
      }
      message.metadataJson !== void 0 && (obj.metadataJson = message.metadataJson);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseMinimalRunnableEntity();
      message.content = object.content?.map((e) => ContentMapping.fromPartial(e)) || [];
      message.metadataJson = object.metadataJson ?? "";
      return message;
    }
  };
  function createBaseBootstrapDataResponse() {
    return {id: "", baseUrl: "", entity: void 0, useFPSThrottling: false};
  }
  var BootstrapDataResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.id !== "") {
        writer.uint32(10).string(message.id);
      }
      if (message.baseUrl !== "") {
        writer.uint32(34).string(message.baseUrl);
      }
      if (message.entity !== void 0) {
        MinimalRunnableEntity.encode(message.entity, writer.uint32(18).fork()).ldelim();
      }
      if (message.useFPSThrottling === true) {
        writer.uint32(40).bool(message.useFPSThrottling);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseBootstrapDataResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.string();
            break;
          case 4:
            message.baseUrl = reader.string();
            break;
          case 2:
            message.entity = MinimalRunnableEntity.decode(reader, reader.uint32());
            break;
          case 5:
            message.useFPSThrottling = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        id: isSet5(object.id) ? String(object.id) : "",
        baseUrl: isSet5(object.baseUrl) ? String(object.baseUrl) : "",
        entity: isSet5(object.entity) ? MinimalRunnableEntity.fromJSON(object.entity) : void 0,
        useFPSThrottling: isSet5(object.useFPSThrottling) ? Boolean(object.useFPSThrottling) : false
      };
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = message.id);
      message.baseUrl !== void 0 && (obj.baseUrl = message.baseUrl);
      message.entity !== void 0 && (obj.entity = message.entity ? MinimalRunnableEntity.toJSON(message.entity) : void 0);
      message.useFPSThrottling !== void 0 && (obj.useFPSThrottling = message.useFPSThrottling);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseBootstrapDataResponse();
      message.id = object.id ?? "";
      message.baseUrl = object.baseUrl ?? "";
      message.entity = object.entity !== void 0 && object.entity !== null ? MinimalRunnableEntity.fromPartial(object.entity) : void 0;
      message.useFPSThrottling = object.useFPSThrottling ?? false;
      return message;
    }
  };
  function createBasePreviewModeResponse() {
    return {isPreview: false};
  }
  var PreviewModeResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.isPreview === true) {
        writer.uint32(8).bool(message.isPreview);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePreviewModeResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.isPreview = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {isPreview: isSet5(object.isPreview) ? Boolean(object.isPreview) : false};
    },
    toJSON(message) {
      const obj = {};
      message.isPreview !== void 0 && (obj.isPreview = message.isPreview);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePreviewModeResponse();
      message.isPreview = object.isPreview ?? false;
      return message;
    }
  };
  function createBaseAreUnsafeRequestAllowedResponse() {
    return {status: false};
  }
  var AreUnsafeRequestAllowedResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.status === true) {
        writer.uint32(8).bool(message.status);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseAreUnsafeRequestAllowedResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.status = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {status: isSet5(object.status) ? Boolean(object.status) : false};
    },
    toJSON(message) {
      const obj = {};
      message.status !== void 0 && (obj.status = message.status);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseAreUnsafeRequestAllowedResponse();
      message.status = object.status ?? false;
      return message;
    }
  };
  function createBaseGetPlatformResponse() {
    return {platform: ""};
  }
  var GetPlatformResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.platform !== "") {
        writer.uint32(10).string(message.platform);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetPlatformResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.platform = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {platform: isSet5(object.platform) ? String(object.platform) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.platform !== void 0 && (obj.platform = message.platform);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetPlatformResponse();
      message.platform = object.platform ?? "";
      return message;
    }
  };
  function createBaseEnvironmentRealm() {
    return {domain: "", layer: "", room: "", serverName: "", displayName: "", protocol: ""};
  }
  var EnvironmentRealm = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.domain !== "") {
        writer.uint32(10).string(message.domain);
      }
      if (message.layer !== "") {
        writer.uint32(18).string(message.layer);
      }
      if (message.room !== "") {
        writer.uint32(26).string(message.room);
      }
      if (message.serverName !== "") {
        writer.uint32(34).string(message.serverName);
      }
      if (message.displayName !== "") {
        writer.uint32(42).string(message.displayName);
      }
      if (message.protocol !== "") {
        writer.uint32(50).string(message.protocol);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseEnvironmentRealm();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.domain = reader.string();
            break;
          case 2:
            message.layer = reader.string();
            break;
          case 3:
            message.room = reader.string();
            break;
          case 4:
            message.serverName = reader.string();
            break;
          case 5:
            message.displayName = reader.string();
            break;
          case 6:
            message.protocol = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        domain: isSet5(object.domain) ? String(object.domain) : "",
        layer: isSet5(object.layer) ? String(object.layer) : "",
        room: isSet5(object.room) ? String(object.room) : "",
        serverName: isSet5(object.serverName) ? String(object.serverName) : "",
        displayName: isSet5(object.displayName) ? String(object.displayName) : "",
        protocol: isSet5(object.protocol) ? String(object.protocol) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.domain !== void 0 && (obj.domain = message.domain);
      message.layer !== void 0 && (obj.layer = message.layer);
      message.room !== void 0 && (obj.room = message.room);
      message.serverName !== void 0 && (obj.serverName = message.serverName);
      message.displayName !== void 0 && (obj.displayName = message.displayName);
      message.protocol !== void 0 && (obj.protocol = message.protocol);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseEnvironmentRealm();
      message.domain = object.domain ?? "";
      message.layer = object.layer ?? "";
      message.room = object.room ?? "";
      message.serverName = object.serverName ?? "";
      message.displayName = object.displayName ?? "";
      message.protocol = object.protocol ?? "";
      return message;
    }
  };
  function createBaseGetCurrentRealmResponse() {
    return {currentRealm: void 0};
  }
  var GetCurrentRealmResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.currentRealm !== void 0) {
        EnvironmentRealm.encode(message.currentRealm, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetCurrentRealmResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.currentRealm = EnvironmentRealm.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {currentRealm: isSet5(object.currentRealm) ? EnvironmentRealm.fromJSON(object.currentRealm) : void 0};
    },
    toJSON(message) {
      const obj = {};
      message.currentRealm !== void 0 && (obj.currentRealm = message.currentRealm ? EnvironmentRealm.toJSON(message.currentRealm) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetCurrentRealmResponse();
      message.currentRealm = object.currentRealm !== void 0 && object.currentRealm !== null ? EnvironmentRealm.fromPartial(object.currentRealm) : void 0;
      return message;
    }
  };
  function createBaseGetExplorerConfigurationResponse() {
    return {clientUri: "", configurations: {}};
  }
  var GetExplorerConfigurationResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.clientUri !== "") {
        writer.uint32(10).string(message.clientUri);
      }
      Object.entries(message.configurations).forEach(([key, value]) => {
        GetExplorerConfigurationResponse_ConfigurationsEntry.encode({key, value}, writer.uint32(18).fork()).ldelim();
      });
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetExplorerConfigurationResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.clientUri = reader.string();
            break;
          case 2:
            const entry2 = GetExplorerConfigurationResponse_ConfigurationsEntry.decode(reader, reader.uint32());
            if (entry2.value !== void 0) {
              message.configurations[entry2.key] = entry2.value;
            }
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        clientUri: isSet5(object.clientUri) ? String(object.clientUri) : "",
        configurations: isObject(object.configurations) ? Object.entries(object.configurations).reduce((acc, [key, value]) => {
          acc[key] = String(value);
          return acc;
        }, {}) : {}
      };
    },
    toJSON(message) {
      const obj = {};
      message.clientUri !== void 0 && (obj.clientUri = message.clientUri);
      obj.configurations = {};
      if (message.configurations) {
        Object.entries(message.configurations).forEach(([k, v]) => {
          obj.configurations[k] = v;
        });
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetExplorerConfigurationResponse();
      message.clientUri = object.clientUri ?? "";
      message.configurations = Object.entries(object.configurations ?? {}).reduce((acc, [key, value]) => {
        if (value !== void 0) {
          acc[key] = String(value);
        }
        return acc;
      }, {});
      return message;
    }
  };
  function createBaseGetExplorerConfigurationResponse_ConfigurationsEntry() {
    return {key: "", value: ""};
  }
  var GetExplorerConfigurationResponse_ConfigurationsEntry = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.key !== "") {
        writer.uint32(10).string(message.key);
      }
      if (message.value !== "") {
        writer.uint32(18).string(message.value);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetExplorerConfigurationResponse_ConfigurationsEntry();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.key = reader.string();
            break;
          case 2:
            message.value = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {key: isSet5(object.key) ? String(object.key) : "", value: isSet5(object.value) ? String(object.value) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.key !== void 0 && (obj.key = message.key);
      message.value !== void 0 && (obj.value = message.value);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetExplorerConfigurationResponse_ConfigurationsEntry();
      message.key = object.key ?? "";
      message.value = object.value ?? "";
      return message;
    }
  };
  function createBaseGetDecentralandTimeResponse() {
    return {seconds: 0};
  }
  var GetDecentralandTimeResponse = {
    encode(message, writer = import_minimal5.default.Writer.create()) {
      if (message.seconds !== 0) {
        writer.uint32(8).int32(message.seconds);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetDecentralandTimeResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.seconds = reader.int32();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {seconds: isSet5(object.seconds) ? Number(object.seconds) : 0};
    },
    toJSON(message) {
      const obj = {};
      message.seconds !== void 0 && (obj.seconds = Math.round(message.seconds));
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetDecentralandTimeResponse();
      message.seconds = object.seconds ?? 0;
      return message;
    }
  };
  function createBaseGetBootstrapDataRequest() {
    return {};
  }
  var GetBootstrapDataRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetBootstrapDataRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetBootstrapDataRequest();
      return message;
    }
  };
  function createBaseIsPreviewModeRequest() {
    return {};
  }
  var IsPreviewModeRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseIsPreviewModeRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseIsPreviewModeRequest();
      return message;
    }
  };
  function createBaseGetPlatformRequest() {
    return {};
  }
  var GetPlatformRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetPlatformRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetPlatformRequest();
      return message;
    }
  };
  function createBaseAreUnsafeRequestAllowedRequest() {
    return {};
  }
  var AreUnsafeRequestAllowedRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseAreUnsafeRequestAllowedRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseAreUnsafeRequestAllowedRequest();
      return message;
    }
  };
  function createBaseGetCurrentRealmRequest() {
    return {};
  }
  var GetCurrentRealmRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetCurrentRealmRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetCurrentRealmRequest();
      return message;
    }
  };
  function createBaseGetExplorerConfigurationRequest() {
    return {};
  }
  var GetExplorerConfigurationRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetExplorerConfigurationRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetExplorerConfigurationRequest();
      return message;
    }
  };
  function createBaseGetDecentralandTimeRequest() {
    return {};
  }
  var GetDecentralandTimeRequest = {
    encode(_, writer = import_minimal5.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal5.default.Reader ? input : new import_minimal5.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetDecentralandTimeRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetDecentralandTimeRequest();
      return message;
    }
  };
  var EnvironmentApiServiceDefinition = {
    name: "EnvironmentApiService",
    fullName: "decentraland.kernel.apis.EnvironmentApiService",
    methods: {
      getBootstrapData: {
        name: "GetBootstrapData",
        requestType: GetBootstrapDataRequest,
        requestStream: false,
        responseType: BootstrapDataResponse,
        responseStream: false,
        options: {}
      },
      isPreviewMode: {
        name: "IsPreviewMode",
        requestType: IsPreviewModeRequest,
        requestStream: false,
        responseType: PreviewModeResponse,
        responseStream: false,
        options: {}
      },
      getPlatform: {
        name: "GetPlatform",
        requestType: GetPlatformRequest,
        requestStream: false,
        responseType: GetPlatformResponse,
        responseStream: false,
        options: {}
      },
      areUnsafeRequestAllowed: {
        name: "AreUnsafeRequestAllowed",
        requestType: AreUnsafeRequestAllowedRequest,
        requestStream: false,
        responseType: AreUnsafeRequestAllowedResponse,
        responseStream: false,
        options: {}
      },
      getCurrentRealm: {
        name: "GetCurrentRealm",
        requestType: GetCurrentRealmRequest,
        requestStream: false,
        responseType: GetCurrentRealmResponse,
        responseStream: false,
        options: {}
      },
      getExplorerConfiguration: {
        name: "GetExplorerConfiguration",
        requestType: GetExplorerConfigurationRequest,
        requestStream: false,
        responseType: GetExplorerConfigurationResponse,
        responseStream: false,
        options: {}
      },
      getDecentralandTime: {
        name: "GetDecentralandTime",
        requestType: GetDecentralandTimeRequest,
        requestStream: false,
        responseType: GetDecentralandTimeResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isObject(value) {
    return typeof value === "object" && value !== null;
  }
  function isSet5(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/EnvironmentApi.ts
  var Platform;
  (function(Platform2) {
    Platform2["DESKTOP"] = "desktop";
    Platform2["BROWSER"] = "browser";
  })(Platform || (Platform = {}));
  var EnvironmentApiServiceClient;
  (function(EnvironmentApiServiceClient2) {
    function create(clientPort) {
      return codegen4.loadService(clientPort, EnvironmentApiServiceDefinition);
    }
    EnvironmentApiServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen4.loadService(clientPort, EnvironmentApiServiceDefinition);
      return {
        ...originalService,
        async getBootstrapData() {
          const res = await originalService.getBootstrapData({});
          const sceneMetadata = JSON.parse(res.entity?.metadataJson || "{}");
          return {
            sceneId: res.id,
            name: sceneMetadata.display?.title || "Unnamed",
            main: sceneMetadata.main,
            baseUrl: res.baseUrl,
            mappings: res.entity?.content || [],
            useFPSThrottling: res.useFPSThrottling,
            data: sceneMetadata
          };
        },
        async areUnsafeRequestAllowed() {
          return (await originalService.areUnsafeRequestAllowed({})).status;
        },
        async getCurrentRealm() {
          const res = await originalService.getCurrentRealm({});
          return res.currentRealm;
        },
        async isPreviewMode() {
          const res = await originalService.isPreviewMode({});
          return res.isPreview;
        },
        async getExplorerConfiguration() {
          return await originalService.getExplorerConfiguration({});
        },
        async getPlatform() {
          return (await originalService.getPlatform({})).platform;
        },
        async getDecentralandTime() {
          return await originalService.getDecentralandTime({});
        }
      };
    }
    EnvironmentApiServiceClient2.createLegacy = createLegacy;
  })(EnvironmentApiServiceClient || (EnvironmentApiServiceClient = {}));

  // src/worker/client/EthereumController.ts
  init_web_worker_inject();
  var codegen5 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/ethereum_controller.gen.ts
  init_web_worker_inject();
  var import_minimal6 = __toModule(require_minimal2());
  function createBaseRequirePaymentRequest() {
    return {toAddress: "", amount: 0, currency: ""};
  }
  var RequirePaymentRequest = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.toAddress !== "") {
        writer.uint32(10).string(message.toAddress);
      }
      if (message.amount !== 0) {
        writer.uint32(21).float(message.amount);
      }
      if (message.currency !== "") {
        writer.uint32(26).string(message.currency);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRequirePaymentRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.toAddress = reader.string();
            break;
          case 2:
            message.amount = reader.float();
            break;
          case 3:
            message.currency = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        toAddress: isSet6(object.toAddress) ? String(object.toAddress) : "",
        amount: isSet6(object.amount) ? Number(object.amount) : 0,
        currency: isSet6(object.currency) ? String(object.currency) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.toAddress !== void 0 && (obj.toAddress = message.toAddress);
      message.amount !== void 0 && (obj.amount = message.amount);
      message.currency !== void 0 && (obj.currency = message.currency);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseRequirePaymentRequest();
      message.toAddress = object.toAddress ?? "";
      message.amount = object.amount ?? 0;
      message.currency = object.currency ?? "";
      return message;
    }
  };
  function createBaseRequirePaymentResponse() {
    return {jsonAnyResponse: ""};
  }
  var RequirePaymentResponse = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.jsonAnyResponse !== "") {
        writer.uint32(10).string(message.jsonAnyResponse);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRequirePaymentResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.jsonAnyResponse = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {jsonAnyResponse: isSet6(object.jsonAnyResponse) ? String(object.jsonAnyResponse) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.jsonAnyResponse !== void 0 && (obj.jsonAnyResponse = message.jsonAnyResponse);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseRequirePaymentResponse();
      message.jsonAnyResponse = object.jsonAnyResponse ?? "";
      return message;
    }
  };
  function createBaseSignMessageRequest() {
    return {message: {}};
  }
  var SignMessageRequest = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      Object.entries(message.message).forEach(([key, value]) => {
        SignMessageRequest_MessageEntry.encode({key, value}, writer.uint32(10).fork()).ldelim();
      });
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSignMessageRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            const entry1 = SignMessageRequest_MessageEntry.decode(reader, reader.uint32());
            if (entry1.value !== void 0) {
              message.message[entry1.key] = entry1.value;
            }
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        message: isObject2(object.message) ? Object.entries(object.message).reduce((acc, [key, value]) => {
          acc[key] = String(value);
          return acc;
        }, {}) : {}
      };
    },
    toJSON(message) {
      const obj = {};
      obj.message = {};
      if (message.message) {
        Object.entries(message.message).forEach(([k, v]) => {
          obj.message[k] = v;
        });
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSignMessageRequest();
      message.message = Object.entries(object.message ?? {}).reduce((acc, [key, value]) => {
        if (value !== void 0) {
          acc[key] = String(value);
        }
        return acc;
      }, {});
      return message;
    }
  };
  function createBaseSignMessageRequest_MessageEntry() {
    return {key: "", value: ""};
  }
  var SignMessageRequest_MessageEntry = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.key !== "") {
        writer.uint32(10).string(message.key);
      }
      if (message.value !== "") {
        writer.uint32(18).string(message.value);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSignMessageRequest_MessageEntry();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.key = reader.string();
            break;
          case 2:
            message.value = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {key: isSet6(object.key) ? String(object.key) : "", value: isSet6(object.value) ? String(object.value) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.key !== void 0 && (obj.key = message.key);
      message.value !== void 0 && (obj.value = message.value);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSignMessageRequest_MessageEntry();
      message.key = object.key ?? "";
      message.value = object.value ?? "";
      return message;
    }
  };
  function createBaseSignMessageResponse() {
    return {message: "", hexEncodedMessage: "", signature: ""};
  }
  var SignMessageResponse = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.message !== "") {
        writer.uint32(10).string(message.message);
      }
      if (message.hexEncodedMessage !== "") {
        writer.uint32(18).string(message.hexEncodedMessage);
      }
      if (message.signature !== "") {
        writer.uint32(26).string(message.signature);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSignMessageResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.message = reader.string();
            break;
          case 2:
            message.hexEncodedMessage = reader.string();
            break;
          case 3:
            message.signature = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        message: isSet6(object.message) ? String(object.message) : "",
        hexEncodedMessage: isSet6(object.hexEncodedMessage) ? String(object.hexEncodedMessage) : "",
        signature: isSet6(object.signature) ? String(object.signature) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.message !== void 0 && (obj.message = message.message);
      message.hexEncodedMessage !== void 0 && (obj.hexEncodedMessage = message.hexEncodedMessage);
      message.signature !== void 0 && (obj.signature = message.signature);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSignMessageResponse();
      message.message = object.message ?? "";
      message.hexEncodedMessage = object.hexEncodedMessage ?? "";
      message.signature = object.signature ?? "";
      return message;
    }
  };
  function createBaseConvertMessageToObjectRequest() {
    return {message: ""};
  }
  var ConvertMessageToObjectRequest = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.message !== "") {
        writer.uint32(10).string(message.message);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseConvertMessageToObjectRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.message = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {message: isSet6(object.message) ? String(object.message) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.message !== void 0 && (obj.message = message.message);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseConvertMessageToObjectRequest();
      message.message = object.message ?? "";
      return message;
    }
  };
  function createBaseConvertMessageToObjectResponse() {
    return {dict: {}};
  }
  var ConvertMessageToObjectResponse = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      Object.entries(message.dict).forEach(([key, value]) => {
        ConvertMessageToObjectResponse_DictEntry.encode({key, value}, writer.uint32(10).fork()).ldelim();
      });
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseConvertMessageToObjectResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            const entry1 = ConvertMessageToObjectResponse_DictEntry.decode(reader, reader.uint32());
            if (entry1.value !== void 0) {
              message.dict[entry1.key] = entry1.value;
            }
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        dict: isObject2(object.dict) ? Object.entries(object.dict).reduce((acc, [key, value]) => {
          acc[key] = String(value);
          return acc;
        }, {}) : {}
      };
    },
    toJSON(message) {
      const obj = {};
      obj.dict = {};
      if (message.dict) {
        Object.entries(message.dict).forEach(([k, v]) => {
          obj.dict[k] = v;
        });
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseConvertMessageToObjectResponse();
      message.dict = Object.entries(object.dict ?? {}).reduce((acc, [key, value]) => {
        if (value !== void 0) {
          acc[key] = String(value);
        }
        return acc;
      }, {});
      return message;
    }
  };
  function createBaseConvertMessageToObjectResponse_DictEntry() {
    return {key: "", value: ""};
  }
  var ConvertMessageToObjectResponse_DictEntry = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.key !== "") {
        writer.uint32(10).string(message.key);
      }
      if (message.value !== "") {
        writer.uint32(18).string(message.value);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseConvertMessageToObjectResponse_DictEntry();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.key = reader.string();
            break;
          case 2:
            message.value = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {key: isSet6(object.key) ? String(object.key) : "", value: isSet6(object.value) ? String(object.value) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.key !== void 0 && (obj.key = message.key);
      message.value !== void 0 && (obj.value = message.value);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseConvertMessageToObjectResponse_DictEntry();
      message.key = object.key ?? "";
      message.value = object.value ?? "";
      return message;
    }
  };
  function createBaseSendAsyncRequest() {
    return {id: 0, method: "", jsonParams: ""};
  }
  var SendAsyncRequest = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.id !== 0) {
        writer.uint32(8).int32(message.id);
      }
      if (message.method !== "") {
        writer.uint32(18).string(message.method);
      }
      if (message.jsonParams !== "") {
        writer.uint32(26).string(message.jsonParams);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSendAsyncRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.id = reader.int32();
            break;
          case 2:
            message.method = reader.string();
            break;
          case 3:
            message.jsonParams = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        id: isSet6(object.id) ? Number(object.id) : 0,
        method: isSet6(object.method) ? String(object.method) : "",
        jsonParams: isSet6(object.jsonParams) ? String(object.jsonParams) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.id !== void 0 && (obj.id = Math.round(message.id));
      message.method !== void 0 && (obj.method = message.method);
      message.jsonParams !== void 0 && (obj.jsonParams = message.jsonParams);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSendAsyncRequest();
      message.id = object.id ?? 0;
      message.method = object.method ?? "";
      message.jsonParams = object.jsonParams ?? "";
      return message;
    }
  };
  function createBaseSendAsyncResponse() {
    return {jsonAnyResponse: ""};
  }
  var SendAsyncResponse = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.jsonAnyResponse !== "") {
        writer.uint32(10).string(message.jsonAnyResponse);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSendAsyncResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.jsonAnyResponse = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {jsonAnyResponse: isSet6(object.jsonAnyResponse) ? String(object.jsonAnyResponse) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.jsonAnyResponse !== void 0 && (obj.jsonAnyResponse = message.jsonAnyResponse);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSendAsyncResponse();
      message.jsonAnyResponse = object.jsonAnyResponse ?? "";
      return message;
    }
  };
  function createBaseGetUserAccountRequest() {
    return {};
  }
  var GetUserAccountRequest = {
    encode(_, writer = import_minimal6.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetUserAccountRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetUserAccountRequest();
      return message;
    }
  };
  function createBaseGetUserAccountResponse() {
    return {address: void 0};
  }
  var GetUserAccountResponse = {
    encode(message, writer = import_minimal6.default.Writer.create()) {
      if (message.address !== void 0) {
        writer.uint32(10).string(message.address);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal6.default.Reader ? input : new import_minimal6.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetUserAccountResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.address = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {address: isSet6(object.address) ? String(object.address) : void 0};
    },
    toJSON(message) {
      const obj = {};
      message.address !== void 0 && (obj.address = message.address);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetUserAccountResponse();
      message.address = object.address ?? void 0;
      return message;
    }
  };
  var EthereumControllerServiceDefinition = {
    name: "EthereumControllerService",
    fullName: "decentraland.kernel.apis.EthereumControllerService",
    methods: {
      requirePayment: {
        name: "RequirePayment",
        requestType: RequirePaymentRequest,
        requestStream: false,
        responseType: RequirePaymentResponse,
        responseStream: false,
        options: {}
      },
      signMessage: {
        name: "SignMessage",
        requestType: SignMessageRequest,
        requestStream: false,
        responseType: SignMessageResponse,
        responseStream: false,
        options: {}
      },
      convertMessageToObject: {
        name: "ConvertMessageToObject",
        requestType: ConvertMessageToObjectRequest,
        requestStream: false,
        responseType: ConvertMessageToObjectResponse,
        responseStream: false,
        options: {}
      },
      sendAsync: {
        name: "SendAsync",
        requestType: SendAsyncRequest,
        requestStream: false,
        responseType: SendAsyncResponse,
        responseStream: false,
        options: {}
      },
      getUserAccount: {
        name: "GetUserAccount",
        requestType: GetUserAccountRequest,
        requestStream: false,
        responseType: GetUserAccountResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isObject2(value) {
    return typeof value === "object" && value !== null;
  }
  function isSet6(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/EthereumController.ts
  var EthereumControllerServiceClient;
  (function(EthereumControllerServiceClient2) {
    function create(clientPort) {
      return codegen5.loadService(clientPort, EthereumControllerServiceDefinition);
    }
    EthereumControllerServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen5.loadService(clientPort, EthereumControllerServiceDefinition);
      return {
        ...originalService,
        async requirePayment(toAddress, amount, currency) {
          const response = await originalService.requirePayment({toAddress, amount, currency});
          return JSON.parse(response.jsonAnyResponse);
        },
        async signMessage(message) {
          return await originalService.signMessage({message});
        },
        async convertMessageToObject(message) {
          return (await originalService.convertMessageToObject({message})).dict;
        },
        async sendAsync(message) {
          return JSON.parse((await originalService.sendAsync({
            id: message.id,
            method: message.method,
            jsonParams: JSON.stringify(message.params)
          })).jsonAnyResponse);
        },
        async getUserAccount() {
          return (await originalService.getUserAccount({})).address;
        }
      };
    }
    EthereumControllerServiceClient2.createLegacy = createLegacy;
  })(EthereumControllerServiceClient || (EthereumControllerServiceClient = {}));

  // src/worker/client/ExperimentalApi.ts
  init_web_worker_inject();
  var codegen6 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/experimental_api.gen.ts
  init_web_worker_inject();
  var import_minimal7 = __toModule(require_minimal2());
  function createBaseSendToRendererRequest() {
    return {data: new Uint8Array()};
  }
  var SendToRendererRequest = {
    encode(message, writer = import_minimal7.default.Writer.create()) {
      if (message.data.length !== 0) {
        writer.uint32(10).bytes(message.data);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal7.default.Reader ? input : new import_minimal7.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSendToRendererRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.data = reader.bytes();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {data: isSet7(object.data) ? bytesFromBase64(object.data) : new Uint8Array()};
    },
    toJSON(message) {
      const obj = {};
      message.data !== void 0 && (obj.data = base64FromBytes(message.data !== void 0 ? message.data : new Uint8Array()));
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSendToRendererRequest();
      message.data = object.data ?? new Uint8Array();
      return message;
    }
  };
  function createBaseSendToResponse() {
    return {};
  }
  var SendToResponse = {
    encode(_, writer = import_minimal7.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal7.default.Reader ? input : new import_minimal7.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSendToResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseSendToResponse();
      return message;
    }
  };
  function createBaseMessageFromRendererRequest() {
    return {};
  }
  var MessageFromRendererRequest = {
    encode(_, writer = import_minimal7.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal7.default.Reader ? input : new import_minimal7.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseMessageFromRendererRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseMessageFromRendererRequest();
      return message;
    }
  };
  function createBaseMessageFromRendererResponse() {
    return {data: []};
  }
  var MessageFromRendererResponse = {
    encode(message, writer = import_minimal7.default.Writer.create()) {
      for (const v of message.data) {
        writer.uint32(10).bytes(v);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal7.default.Reader ? input : new import_minimal7.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseMessageFromRendererResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.data.push(reader.bytes());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {data: Array.isArray(object?.data) ? object.data.map((e) => bytesFromBase64(e)) : []};
    },
    toJSON(message) {
      const obj = {};
      if (message.data) {
        obj.data = message.data.map((e) => base64FromBytes(e !== void 0 ? e : new Uint8Array()));
      } else {
        obj.data = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseMessageFromRendererResponse();
      message.data = object.data?.map((e) => e) || [];
      return message;
    }
  };
  var ExperimentalApiServiceDefinition = {
    name: "ExperimentalApiService",
    fullName: "decentraland.kernel.apis.ExperimentalApiService",
    methods: {
      sendToRenderer: {
        name: "SendToRenderer",
        requestType: SendToRendererRequest,
        requestStream: false,
        responseType: SendToResponse,
        responseStream: false,
        options: {}
      },
      messageFromRenderer: {
        name: "MessageFromRenderer",
        requestType: MessageFromRendererRequest,
        requestStream: false,
        responseType: MessageFromRendererResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  var globalThis2 = (() => {
    if (typeof globalThis2 !== "undefined") {
      return globalThis2;
    }
    if (typeof self !== "undefined") {
      return self;
    }
    if (typeof window !== "undefined") {
      return window;
    }
    if (typeof global !== "undefined") {
      return global;
    }
    throw "Unable to locate global object";
  })();
  function bytesFromBase64(b64) {
    if (globalThis2.Buffer) {
      return Uint8Array.from(globalThis2.Buffer.from(b64, "base64"));
    } else {
      const bin = globalThis2.atob(b64);
      const arr = new Uint8Array(bin.length);
      for (let i = 0; i < bin.length; ++i) {
        arr[i] = bin.charCodeAt(i);
      }
      return arr;
    }
  }
  function base64FromBytes(arr) {
    if (globalThis2.Buffer) {
      return globalThis2.Buffer.from(arr).toString("base64");
    } else {
      const bin = [];
      arr.forEach((byte) => {
        bin.push(String.fromCharCode(byte));
      });
      return globalThis2.btoa(bin.join(""));
    }
  }
  function isSet7(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/ExperimentalApi.ts
  function createExperimentalApiServiceClient(clientPort) {
    return codegen6.loadService(clientPort, ExperimentalApiServiceDefinition);
  }

  // src/worker/client/ParcelIdentity.ts
  init_web_worker_inject();
  var codegen7 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/parcel_identity.gen.ts
  init_web_worker_inject();
  var import_minimal8 = __toModule(require_minimal2());
  function createBaseMappingsResponse() {
    return {parcelId: "", rootCid: "", contents: []};
  }
  var MappingsResponse = {
    encode(message, writer = import_minimal8.default.Writer.create()) {
      if (message.parcelId !== "") {
        writer.uint32(10).string(message.parcelId);
      }
      if (message.rootCid !== "") {
        writer.uint32(18).string(message.rootCid);
      }
      for (const v of message.contents) {
        ContentMapping.encode(v, writer.uint32(26).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseMappingsResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.parcelId = reader.string();
            break;
          case 2:
            message.rootCid = reader.string();
            break;
          case 3:
            message.contents.push(ContentMapping.decode(reader, reader.uint32()));
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        parcelId: isSet8(object.parcelId) ? String(object.parcelId) : "",
        rootCid: isSet8(object.rootCid) ? String(object.rootCid) : "",
        contents: Array.isArray(object?.contents) ? object.contents.map((e) => ContentMapping.fromJSON(e)) : []
      };
    },
    toJSON(message) {
      const obj = {};
      message.parcelId !== void 0 && (obj.parcelId = message.parcelId);
      message.rootCid !== void 0 && (obj.rootCid = message.rootCid);
      if (message.contents) {
        obj.contents = message.contents.map((e) => e ? ContentMapping.toJSON(e) : void 0);
      } else {
        obj.contents = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseMappingsResponse();
      message.parcelId = object.parcelId ?? "";
      message.rootCid = object.rootCid ?? "";
      message.contents = object.contents?.map((e) => ContentMapping.fromPartial(e)) || [];
      return message;
    }
  };
  function createBaseLand() {
    return {sceneId: "", sceneJsonData: "", baseUrl: "", baseUrlBundles: "", mappingsResponse: void 0};
  }
  var Land = {
    encode(message, writer = import_minimal8.default.Writer.create()) {
      if (message.sceneId !== "") {
        writer.uint32(10).string(message.sceneId);
      }
      if (message.sceneJsonData !== "") {
        writer.uint32(18).string(message.sceneJsonData);
      }
      if (message.baseUrl !== "") {
        writer.uint32(26).string(message.baseUrl);
      }
      if (message.baseUrlBundles !== "") {
        writer.uint32(34).string(message.baseUrlBundles);
      }
      if (message.mappingsResponse !== void 0) {
        MappingsResponse.encode(message.mappingsResponse, writer.uint32(42).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseLand();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.sceneId = reader.string();
            break;
          case 2:
            message.sceneJsonData = reader.string();
            break;
          case 3:
            message.baseUrl = reader.string();
            break;
          case 4:
            message.baseUrlBundles = reader.string();
            break;
          case 5:
            message.mappingsResponse = MappingsResponse.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        sceneId: isSet8(object.sceneId) ? String(object.sceneId) : "",
        sceneJsonData: isSet8(object.sceneJsonData) ? String(object.sceneJsonData) : "",
        baseUrl: isSet8(object.baseUrl) ? String(object.baseUrl) : "",
        baseUrlBundles: isSet8(object.baseUrlBundles) ? String(object.baseUrlBundles) : "",
        mappingsResponse: isSet8(object.mappingsResponse) ? MappingsResponse.fromJSON(object.mappingsResponse) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.sceneId !== void 0 && (obj.sceneId = message.sceneId);
      message.sceneJsonData !== void 0 && (obj.sceneJsonData = message.sceneJsonData);
      message.baseUrl !== void 0 && (obj.baseUrl = message.baseUrl);
      message.baseUrlBundles !== void 0 && (obj.baseUrlBundles = message.baseUrlBundles);
      message.mappingsResponse !== void 0 && (obj.mappingsResponse = message.mappingsResponse ? MappingsResponse.toJSON(message.mappingsResponse) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseLand();
      message.sceneId = object.sceneId ?? "";
      message.sceneJsonData = object.sceneJsonData ?? "";
      message.baseUrl = object.baseUrl ?? "";
      message.baseUrlBundles = object.baseUrlBundles ?? "";
      message.mappingsResponse = object.mappingsResponse !== void 0 && object.mappingsResponse !== null ? MappingsResponse.fromPartial(object.mappingsResponse) : void 0;
      return message;
    }
  };
  function createBaseGetParcelRequest() {
    return {};
  }
  var GetParcelRequest = {
    encode(_, writer = import_minimal8.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetParcelRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetParcelRequest();
      return message;
    }
  };
  function createBaseGetParcelResponse() {
    return {land: void 0, cid: ""};
  }
  var GetParcelResponse = {
    encode(message, writer = import_minimal8.default.Writer.create()) {
      if (message.land !== void 0) {
        Land.encode(message.land, writer.uint32(10).fork()).ldelim();
      }
      if (message.cid !== "") {
        writer.uint32(18).string(message.cid);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetParcelResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.land = Land.decode(reader, reader.uint32());
            break;
          case 2:
            message.cid = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        land: isSet8(object.land) ? Land.fromJSON(object.land) : void 0,
        cid: isSet8(object.cid) ? String(object.cid) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.land !== void 0 && (obj.land = message.land ? Land.toJSON(message.land) : void 0);
      message.cid !== void 0 && (obj.cid = message.cid);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetParcelResponse();
      message.land = object.land !== void 0 && object.land !== null ? Land.fromPartial(object.land) : void 0;
      message.cid = object.cid ?? "";
      return message;
    }
  };
  function createBaseGetSceneIdRequest() {
    return {};
  }
  var GetSceneIdRequest = {
    encode(_, writer = import_minimal8.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetSceneIdRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetSceneIdRequest();
      return message;
    }
  };
  function createBaseGetSceneIdResponse() {
    return {sceneId: ""};
  }
  var GetSceneIdResponse = {
    encode(message, writer = import_minimal8.default.Writer.create()) {
      if (message.sceneId !== "") {
        writer.uint32(10).string(message.sceneId);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetSceneIdResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.sceneId = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {sceneId: isSet8(object.sceneId) ? String(object.sceneId) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.sceneId !== void 0 && (obj.sceneId = message.sceneId);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetSceneIdResponse();
      message.sceneId = object.sceneId ?? "";
      return message;
    }
  };
  function createBaseGetIsEmptyRequest() {
    return {};
  }
  var GetIsEmptyRequest = {
    encode(_, writer = import_minimal8.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetIsEmptyRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetIsEmptyRequest();
      return message;
    }
  };
  function createBaseGetIsEmptyResponse() {
    return {isEmpty: false};
  }
  var GetIsEmptyResponse = {
    encode(message, writer = import_minimal8.default.Writer.create()) {
      if (message.isEmpty === true) {
        writer.uint32(8).bool(message.isEmpty);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal8.default.Reader ? input : new import_minimal8.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetIsEmptyResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.isEmpty = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {isEmpty: isSet8(object.isEmpty) ? Boolean(object.isEmpty) : false};
    },
    toJSON(message) {
      const obj = {};
      message.isEmpty !== void 0 && (obj.isEmpty = message.isEmpty);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetIsEmptyResponse();
      message.isEmpty = object.isEmpty ?? false;
      return message;
    }
  };
  var ParcelIdentityServiceDefinition = {
    name: "ParcelIdentityService",
    fullName: "decentraland.kernel.apis.ParcelIdentityService",
    methods: {
      getParcel: {
        name: "GetParcel",
        requestType: GetParcelRequest,
        requestStream: false,
        responseType: GetParcelResponse,
        responseStream: false,
        options: {}
      },
      getSceneId: {
        name: "GetSceneId",
        requestType: GetSceneIdRequest,
        requestStream: false,
        responseType: GetSceneIdResponse,
        responseStream: false,
        options: {}
      },
      getIsEmpty: {
        name: "GetIsEmpty",
        requestType: GetIsEmptyRequest,
        requestStream: false,
        responseType: GetIsEmptyResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet8(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/ParcelIdentity.ts
  var ParcelIdentityServiceClient;
  (function(ParcelIdentityServiceClient2) {
    function create(clientPort) {
      return codegen7.loadService(clientPort, ParcelIdentityServiceDefinition);
    }
    ParcelIdentityServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen7.loadService(clientPort, ParcelIdentityServiceDefinition);
      return {
        ...originalService,
        async getParcel() {
          const data = await originalService.getParcel({});
          return {
            land: {
              sceneId: data.land?.sceneId || "",
              sceneJsonData: JSON.parse(data.land?.sceneJsonData || "{}"),
              baseUrl: data.land?.baseUrl || "",
              baseUrlBundles: data.land?.baseUrlBundles || "",
              mappingsResponse: {
                root_cid: data.land?.mappingsResponse?.rootCid || "",
                parcel_id: data.land?.mappingsResponse?.parcelId || "",
                contents: data.land?.mappingsResponse?.contents || []
              }
            },
            cid: data.cid
          };
        },
        async getSceneId() {
          const data = await originalService.getSceneId({});
          return data.sceneId;
        }
      };
    }
    ParcelIdentityServiceClient2.createLegacy = createLegacy;
  })(ParcelIdentityServiceClient || (ParcelIdentityServiceClient = {}));

  // src/worker/client/Permissions.ts
  init_web_worker_inject();
  var codegen8 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/permissions.gen.ts
  init_web_worker_inject();
  var import_minimal9 = __toModule(require_minimal2());
  var PermissionItem;
  (function(PermissionItem2) {
    PermissionItem2[PermissionItem2["PI_ALLOW_TO_MOVE_PLAYER_INSIDE_SCENE"] = 0] = "PI_ALLOW_TO_MOVE_PLAYER_INSIDE_SCENE";
    PermissionItem2[PermissionItem2["PI_ALLOW_TO_TRIGGER_AVATAR_EMOTE"] = 1] = "PI_ALLOW_TO_TRIGGER_AVATAR_EMOTE";
    PermissionItem2[PermissionItem2["PI_USE_WEB3_API"] = 2] = "PI_USE_WEB3_API";
    PermissionItem2[PermissionItem2["PI_USE_WEBSOCKET"] = 3] = "PI_USE_WEBSOCKET";
    PermissionItem2[PermissionItem2["PI_USE_FETCH"] = 4] = "PI_USE_FETCH";
    PermissionItem2[PermissionItem2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
  })(PermissionItem || (PermissionItem = {}));
  function permissionItemFromJSON(object) {
    switch (object) {
      case 0:
      case "PI_ALLOW_TO_MOVE_PLAYER_INSIDE_SCENE":
        return 0;
      case 1:
      case "PI_ALLOW_TO_TRIGGER_AVATAR_EMOTE":
        return 1;
      case 2:
      case "PI_USE_WEB3_API":
        return 2;
      case 3:
      case "PI_USE_WEBSOCKET":
        return 3;
      case 4:
      case "PI_USE_FETCH":
        return 4;
      case -1:
      case "UNRECOGNIZED":
      default:
        return -1;
    }
  }
  function permissionItemToJSON(object) {
    switch (object) {
      case 0:
        return "PI_ALLOW_TO_MOVE_PLAYER_INSIDE_SCENE";
      case 1:
        return "PI_ALLOW_TO_TRIGGER_AVATAR_EMOTE";
      case 2:
        return "PI_USE_WEB3_API";
      case 3:
        return "PI_USE_WEBSOCKET";
      case 4:
        return "PI_USE_FETCH";
      case -1:
      default:
        return "UNRECOGNIZED";
    }
  }
  function createBasePermissionResponse() {
    return {hasPermission: false};
  }
  var PermissionResponse = {
    encode(message, writer = import_minimal9.default.Writer.create()) {
      if (message.hasPermission === true) {
        writer.uint32(8).bool(message.hasPermission);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal9.default.Reader ? input : new import_minimal9.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePermissionResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.hasPermission = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {hasPermission: isSet9(object.hasPermission) ? Boolean(object.hasPermission) : false};
    },
    toJSON(message) {
      const obj = {};
      message.hasPermission !== void 0 && (obj.hasPermission = message.hasPermission);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePermissionResponse();
      message.hasPermission = object.hasPermission ?? false;
      return message;
    }
  };
  function createBaseHasPermissionRequest() {
    return {permission: 0};
  }
  var HasPermissionRequest = {
    encode(message, writer = import_minimal9.default.Writer.create()) {
      if (message.permission !== 0) {
        writer.uint32(8).int32(message.permission);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal9.default.Reader ? input : new import_minimal9.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseHasPermissionRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.permission = reader.int32();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {permission: isSet9(object.permission) ? permissionItemFromJSON(object.permission) : 0};
    },
    toJSON(message) {
      const obj = {};
      message.permission !== void 0 && (obj.permission = permissionItemToJSON(message.permission));
      return obj;
    },
    fromPartial(object) {
      const message = createBaseHasPermissionRequest();
      message.permission = object.permission ?? 0;
      return message;
    }
  };
  function createBaseHasManyPermissionRequest() {
    return {permissions: []};
  }
  var HasManyPermissionRequest = {
    encode(message, writer = import_minimal9.default.Writer.create()) {
      writer.uint32(10).fork();
      for (const v of message.permissions) {
        writer.int32(v);
      }
      writer.ldelim();
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal9.default.Reader ? input : new import_minimal9.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseHasManyPermissionRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            if ((tag & 7) === 2) {
              const end2 = reader.uint32() + reader.pos;
              while (reader.pos < end2) {
                message.permissions.push(reader.int32());
              }
            } else {
              message.permissions.push(reader.int32());
            }
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        permissions: Array.isArray(object?.permissions) ? object.permissions.map((e) => permissionItemFromJSON(e)) : []
      };
    },
    toJSON(message) {
      const obj = {};
      if (message.permissions) {
        obj.permissions = message.permissions.map((e) => permissionItemToJSON(e));
      } else {
        obj.permissions = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseHasManyPermissionRequest();
      message.permissions = object.permissions?.map((e) => e) || [];
      return message;
    }
  };
  function createBaseHasManyPermissionResponse() {
    return {hasManyPermission: []};
  }
  var HasManyPermissionResponse = {
    encode(message, writer = import_minimal9.default.Writer.create()) {
      writer.uint32(10).fork();
      for (const v of message.hasManyPermission) {
        writer.bool(v);
      }
      writer.ldelim();
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal9.default.Reader ? input : new import_minimal9.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseHasManyPermissionResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            if ((tag & 7) === 2) {
              const end2 = reader.uint32() + reader.pos;
              while (reader.pos < end2) {
                message.hasManyPermission.push(reader.bool());
              }
            } else {
              message.hasManyPermission.push(reader.bool());
            }
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        hasManyPermission: Array.isArray(object?.hasManyPermission) ? object.hasManyPermission.map((e) => Boolean(e)) : []
      };
    },
    toJSON(message) {
      const obj = {};
      if (message.hasManyPermission) {
        obj.hasManyPermission = message.hasManyPermission.map((e) => e);
      } else {
        obj.hasManyPermission = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseHasManyPermissionResponse();
      message.hasManyPermission = object.hasManyPermission?.map((e) => e) || [];
      return message;
    }
  };
  var PermissionsServiceDefinition = {
    name: "PermissionsService",
    fullName: "decentraland.kernel.apis.PermissionsService",
    methods: {
      hasPermission: {
        name: "HasPermission",
        requestType: HasPermissionRequest,
        requestStream: false,
        responseType: PermissionResponse,
        responseStream: false,
        options: {}
      },
      hasManyPermissions: {
        name: "HasManyPermissions",
        requestType: HasManyPermissionRequest,
        requestStream: false,
        responseType: HasManyPermissionResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet9(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/Permissions.ts
  function createPermissionsServiceClient(clientPort) {
    return codegen8.loadService(clientPort, PermissionsServiceDefinition);
  }

  // src/worker/client/Players.ts
  init_web_worker_inject();
  var codegen9 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/players.gen.ts
  init_web_worker_inject();
  var import_minimal11 = __toModule(require_minimal2());

  // node_modules/@dcl/protocol/out-ts/decentraland/common/sdk/user_data.gen.ts
  init_web_worker_inject();
  var import_minimal10 = __toModule(require_minimal2());
  function createBaseSnapshots() {
    return {face256: "", body: ""};
  }
  var Snapshots = {
    encode(message, writer = import_minimal10.default.Writer.create()) {
      if (message.face256 !== "") {
        writer.uint32(10).string(message.face256);
      }
      if (message.body !== "") {
        writer.uint32(18).string(message.body);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal10.default.Reader ? input : new import_minimal10.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSnapshots();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.face256 = reader.string();
            break;
          case 2:
            message.body = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        face256: isSet10(object.face256) ? String(object.face256) : "",
        body: isSet10(object.body) ? String(object.body) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.face256 !== void 0 && (obj.face256 = message.face256);
      message.body !== void 0 && (obj.body = message.body);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSnapshots();
      message.face256 = object.face256 ?? "";
      message.body = object.body ?? "";
      return message;
    }
  };
  function createBaseAvatarForUserData() {
    return {bodyShape: "", skinColor: "", hairColor: "", eyeColor: "", wearables: [], snapshots: void 0};
  }
  var AvatarForUserData = {
    encode(message, writer = import_minimal10.default.Writer.create()) {
      if (message.bodyShape !== "") {
        writer.uint32(10).string(message.bodyShape);
      }
      if (message.skinColor !== "") {
        writer.uint32(18).string(message.skinColor);
      }
      if (message.hairColor !== "") {
        writer.uint32(26).string(message.hairColor);
      }
      if (message.eyeColor !== "") {
        writer.uint32(34).string(message.eyeColor);
      }
      for (const v of message.wearables) {
        writer.uint32(42).string(v);
      }
      if (message.snapshots !== void 0) {
        Snapshots.encode(message.snapshots, writer.uint32(50).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal10.default.Reader ? input : new import_minimal10.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseAvatarForUserData();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.bodyShape = reader.string();
            break;
          case 2:
            message.skinColor = reader.string();
            break;
          case 3:
            message.hairColor = reader.string();
            break;
          case 4:
            message.eyeColor = reader.string();
            break;
          case 5:
            message.wearables.push(reader.string());
            break;
          case 6:
            message.snapshots = Snapshots.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        bodyShape: isSet10(object.bodyShape) ? String(object.bodyShape) : "",
        skinColor: isSet10(object.skinColor) ? String(object.skinColor) : "",
        hairColor: isSet10(object.hairColor) ? String(object.hairColor) : "",
        eyeColor: isSet10(object.eyeColor) ? String(object.eyeColor) : "",
        wearables: Array.isArray(object?.wearables) ? object.wearables.map((e) => String(e)) : [],
        snapshots: isSet10(object.snapshots) ? Snapshots.fromJSON(object.snapshots) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.bodyShape !== void 0 && (obj.bodyShape = message.bodyShape);
      message.skinColor !== void 0 && (obj.skinColor = message.skinColor);
      message.hairColor !== void 0 && (obj.hairColor = message.hairColor);
      message.eyeColor !== void 0 && (obj.eyeColor = message.eyeColor);
      if (message.wearables) {
        obj.wearables = message.wearables.map((e) => e);
      } else {
        obj.wearables = [];
      }
      message.snapshots !== void 0 && (obj.snapshots = message.snapshots ? Snapshots.toJSON(message.snapshots) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseAvatarForUserData();
      message.bodyShape = object.bodyShape ?? "";
      message.skinColor = object.skinColor ?? "";
      message.hairColor = object.hairColor ?? "";
      message.eyeColor = object.eyeColor ?? "";
      message.wearables = object.wearables?.map((e) => e) || [];
      message.snapshots = object.snapshots !== void 0 && object.snapshots !== null ? Snapshots.fromPartial(object.snapshots) : void 0;
      return message;
    }
  };
  function createBaseUserData() {
    return {displayName: "", publicKey: void 0, hasConnectedWeb3: false, userId: "", version: 0, avatar: void 0};
  }
  var UserData = {
    encode(message, writer = import_minimal10.default.Writer.create()) {
      if (message.displayName !== "") {
        writer.uint32(10).string(message.displayName);
      }
      if (message.publicKey !== void 0) {
        writer.uint32(18).string(message.publicKey);
      }
      if (message.hasConnectedWeb3 === true) {
        writer.uint32(24).bool(message.hasConnectedWeb3);
      }
      if (message.userId !== "") {
        writer.uint32(34).string(message.userId);
      }
      if (message.version !== 0) {
        writer.uint32(40).int32(message.version);
      }
      if (message.avatar !== void 0) {
        AvatarForUserData.encode(message.avatar, writer.uint32(50).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal10.default.Reader ? input : new import_minimal10.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseUserData();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.displayName = reader.string();
            break;
          case 2:
            message.publicKey = reader.string();
            break;
          case 3:
            message.hasConnectedWeb3 = reader.bool();
            break;
          case 4:
            message.userId = reader.string();
            break;
          case 5:
            message.version = reader.int32();
            break;
          case 6:
            message.avatar = AvatarForUserData.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        displayName: isSet10(object.displayName) ? String(object.displayName) : "",
        publicKey: isSet10(object.publicKey) ? String(object.publicKey) : void 0,
        hasConnectedWeb3: isSet10(object.hasConnectedWeb3) ? Boolean(object.hasConnectedWeb3) : false,
        userId: isSet10(object.userId) ? String(object.userId) : "",
        version: isSet10(object.version) ? Number(object.version) : 0,
        avatar: isSet10(object.avatar) ? AvatarForUserData.fromJSON(object.avatar) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.displayName !== void 0 && (obj.displayName = message.displayName);
      message.publicKey !== void 0 && (obj.publicKey = message.publicKey);
      message.hasConnectedWeb3 !== void 0 && (obj.hasConnectedWeb3 = message.hasConnectedWeb3);
      message.userId !== void 0 && (obj.userId = message.userId);
      message.version !== void 0 && (obj.version = Math.round(message.version));
      message.avatar !== void 0 && (obj.avatar = message.avatar ? AvatarForUserData.toJSON(message.avatar) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseUserData();
      message.displayName = object.displayName ?? "";
      message.publicKey = object.publicKey ?? void 0;
      message.hasConnectedWeb3 = object.hasConnectedWeb3 ?? false;
      message.userId = object.userId ?? "";
      message.version = object.version ?? 0;
      message.avatar = object.avatar !== void 0 && object.avatar !== null ? AvatarForUserData.fromPartial(object.avatar) : void 0;
      return message;
    }
  };
  function isSet10(value) {
    return value !== null && value !== void 0;
  }

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/players.gen.ts
  function createBasePlayer() {
    return {userId: ""};
  }
  var Player = {
    encode(message, writer = import_minimal11.default.Writer.create()) {
      if (message.userId !== "") {
        writer.uint32(10).string(message.userId);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal11.default.Reader ? input : new import_minimal11.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePlayer();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.userId = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {userId: isSet11(object.userId) ? String(object.userId) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.userId !== void 0 && (obj.userId = message.userId);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePlayer();
      message.userId = object.userId ?? "";
      return message;
    }
  };
  function createBasePlayersGetUserDataResponse() {
    return {data: void 0};
  }
  var PlayersGetUserDataResponse = {
    encode(message, writer = import_minimal11.default.Writer.create()) {
      if (message.data !== void 0) {
        UserData.encode(message.data, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal11.default.Reader ? input : new import_minimal11.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePlayersGetUserDataResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.data = UserData.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {data: isSet11(object.data) ? UserData.fromJSON(object.data) : void 0};
    },
    toJSON(message) {
      const obj = {};
      message.data !== void 0 && (obj.data = message.data ? UserData.toJSON(message.data) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePlayersGetUserDataResponse();
      message.data = object.data !== void 0 && object.data !== null ? UserData.fromPartial(object.data) : void 0;
      return message;
    }
  };
  function createBasePlayerListResponse() {
    return {players: []};
  }
  var PlayerListResponse = {
    encode(message, writer = import_minimal11.default.Writer.create()) {
      for (const v of message.players) {
        Player.encode(v, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal11.default.Reader ? input : new import_minimal11.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePlayerListResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.players.push(Player.decode(reader, reader.uint32()));
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {players: Array.isArray(object?.players) ? object.players.map((e) => Player.fromJSON(e)) : []};
    },
    toJSON(message) {
      const obj = {};
      if (message.players) {
        obj.players = message.players.map((e) => e ? Player.toJSON(e) : void 0);
      } else {
        obj.players = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBasePlayerListResponse();
      message.players = object.players?.map((e) => Player.fromPartial(e)) || [];
      return message;
    }
  };
  function createBaseGetPlayerDataRequest() {
    return {userId: ""};
  }
  var GetPlayerDataRequest = {
    encode(message, writer = import_minimal11.default.Writer.create()) {
      if (message.userId !== "") {
        writer.uint32(10).string(message.userId);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal11.default.Reader ? input : new import_minimal11.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetPlayerDataRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.userId = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {userId: isSet11(object.userId) ? String(object.userId) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.userId !== void 0 && (obj.userId = message.userId);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetPlayerDataRequest();
      message.userId = object.userId ?? "";
      return message;
    }
  };
  function createBaseGetPlayersInSceneRequest() {
    return {};
  }
  var GetPlayersInSceneRequest = {
    encode(_, writer = import_minimal11.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal11.default.Reader ? input : new import_minimal11.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetPlayersInSceneRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetPlayersInSceneRequest();
      return message;
    }
  };
  function createBaseGetConnectedPlayersRequest() {
    return {};
  }
  var GetConnectedPlayersRequest = {
    encode(_, writer = import_minimal11.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal11.default.Reader ? input : new import_minimal11.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetConnectedPlayersRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetConnectedPlayersRequest();
      return message;
    }
  };
  var PlayersServiceDefinition = {
    name: "PlayersService",
    fullName: "decentraland.kernel.apis.PlayersService",
    methods: {
      getPlayerData: {
        name: "GetPlayerData",
        requestType: GetPlayerDataRequest,
        requestStream: false,
        responseType: PlayersGetUserDataResponse,
        responseStream: false,
        options: {}
      },
      getPlayersInScene: {
        name: "GetPlayersInScene",
        requestType: GetPlayersInSceneRequest,
        requestStream: false,
        responseType: PlayerListResponse,
        responseStream: false,
        options: {}
      },
      getConnectedPlayers: {
        name: "GetConnectedPlayers",
        requestType: GetConnectedPlayersRequest,
        requestStream: false,
        responseType: PlayerListResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet11(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/Players.ts
  var PlayersServiceClient;
  (function(PlayersServiceClient2) {
    function create(clientPort) {
      return codegen9.loadService(clientPort, PlayersServiceDefinition);
    }
    PlayersServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen9.loadService(clientPort, PlayersServiceDefinition);
      return {
        ...originalService,
        async getPlayerData(opt) {
          const originalResponse = await originalService.getPlayerData({userId: opt.userId});
          if (!originalResponse.data) {
            return null;
          }
          return {
            ...originalResponse.data,
            avatar: {
              ...originalResponse.data.avatar,
              snapshots: originalResponse.data.avatar.snapshots
            },
            publicKey: originalResponse.data.publicKey || null
          };
        },
        async getConnectedPlayers() {
          return (await originalService.getConnectedPlayers({})).players;
        },
        async getPlayersInScene() {
          return (await originalService.getPlayersInScene({})).players;
        }
      };
    }
    PlayersServiceClient2.createLegacy = createLegacy;
  })(PlayersServiceClient || (PlayersServiceClient = {}));

  // src/worker/client/PortableExperiences.ts
  init_web_worker_inject();
  var codegen10 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/portable_experiences.gen.ts
  init_web_worker_inject();
  var import_minimal12 = __toModule(require_minimal2());
  function createBaseKillRequest() {
    return {pid: ""};
  }
  var KillRequest = {
    encode(message, writer = import_minimal12.default.Writer.create()) {
      if (message.pid !== "") {
        writer.uint32(10).string(message.pid);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseKillRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.pid = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {pid: isSet12(object.pid) ? String(object.pid) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.pid !== void 0 && (obj.pid = message.pid);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseKillRequest();
      message.pid = object.pid ?? "";
      return message;
    }
  };
  function createBaseKillResponse() {
    return {status: false};
  }
  var KillResponse = {
    encode(message, writer = import_minimal12.default.Writer.create()) {
      if (message.status === true) {
        writer.uint32(8).bool(message.status);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseKillResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.status = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {status: isSet12(object.status) ? Boolean(object.status) : false};
    },
    toJSON(message) {
      const obj = {};
      message.status !== void 0 && (obj.status = message.status);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseKillResponse();
      message.status = object.status ?? false;
      return message;
    }
  };
  function createBaseSpawnRequest() {
    return {pid: ""};
  }
  var SpawnRequest = {
    encode(message, writer = import_minimal12.default.Writer.create()) {
      if (message.pid !== "") {
        writer.uint32(10).string(message.pid);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSpawnRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.pid = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {pid: isSet12(object.pid) ? String(object.pid) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.pid !== void 0 && (obj.pid = message.pid);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSpawnRequest();
      message.pid = object.pid ?? "";
      return message;
    }
  };
  function createBaseSpawnResponse() {
    return {pid: "", parentCid: ""};
  }
  var SpawnResponse = {
    encode(message, writer = import_minimal12.default.Writer.create()) {
      if (message.pid !== "") {
        writer.uint32(10).string(message.pid);
      }
      if (message.parentCid !== "") {
        writer.uint32(18).string(message.parentCid);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSpawnResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.pid = reader.string();
            break;
          case 2:
            message.parentCid = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        pid: isSet12(object.pid) ? String(object.pid) : "",
        parentCid: isSet12(object.parentCid) ? String(object.parentCid) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.pid !== void 0 && (obj.pid = message.pid);
      message.parentCid !== void 0 && (obj.parentCid = message.parentCid);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSpawnResponse();
      message.pid = object.pid ?? "";
      message.parentCid = object.parentCid ?? "";
      return message;
    }
  };
  function createBaseGetPortableExperiencesLoadedRequest() {
    return {};
  }
  var GetPortableExperiencesLoadedRequest = {
    encode(_, writer = import_minimal12.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetPortableExperiencesLoadedRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetPortableExperiencesLoadedRequest();
      return message;
    }
  };
  function createBaseGetPortableExperiencesLoadedResponse() {
    return {loaded: []};
  }
  var GetPortableExperiencesLoadedResponse = {
    encode(message, writer = import_minimal12.default.Writer.create()) {
      for (const v of message.loaded) {
        SpawnResponse.encode(v, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetPortableExperiencesLoadedResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.loaded.push(SpawnResponse.decode(reader, reader.uint32()));
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {loaded: Array.isArray(object?.loaded) ? object.loaded.map((e) => SpawnResponse.fromJSON(e)) : []};
    },
    toJSON(message) {
      const obj = {};
      if (message.loaded) {
        obj.loaded = message.loaded.map((e) => e ? SpawnResponse.toJSON(e) : void 0);
      } else {
        obj.loaded = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetPortableExperiencesLoadedResponse();
      message.loaded = object.loaded?.map((e) => SpawnResponse.fromPartial(e)) || [];
      return message;
    }
  };
  function createBaseExitRequest() {
    return {};
  }
  var ExitRequest = {
    encode(_, writer = import_minimal12.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseExitRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseExitRequest();
      return message;
    }
  };
  function createBaseExitResponse() {
    return {status: false};
  }
  var ExitResponse = {
    encode(message, writer = import_minimal12.default.Writer.create()) {
      if (message.status === true) {
        writer.uint32(8).bool(message.status);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal12.default.Reader ? input : new import_minimal12.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseExitResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.status = reader.bool();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {status: isSet12(object.status) ? Boolean(object.status) : false};
    },
    toJSON(message) {
      const obj = {};
      message.status !== void 0 && (obj.status = message.status);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseExitResponse();
      message.status = object.status ?? false;
      return message;
    }
  };
  var PortableExperiencesServiceDefinition = {
    name: "PortableExperiencesService",
    fullName: "decentraland.kernel.apis.PortableExperiencesService",
    methods: {
      spawn: {
        name: "Spawn",
        requestType: SpawnRequest,
        requestStream: false,
        responseType: SpawnResponse,
        responseStream: false,
        options: {}
      },
      kill: {
        name: "Kill",
        requestType: KillRequest,
        requestStream: false,
        responseType: KillResponse,
        responseStream: false,
        options: {}
      },
      exit: {
        name: "Exit",
        requestType: ExitRequest,
        requestStream: false,
        responseType: ExitResponse,
        responseStream: false,
        options: {}
      },
      getPortableExperiencesLoaded: {
        name: "GetPortableExperiencesLoaded",
        requestType: GetPortableExperiencesLoadedRequest,
        requestStream: false,
        responseType: GetPortableExperiencesLoadedResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet12(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/PortableExperiences.ts
  var PortableExperienceServiceClient;
  (function(PortableExperienceServiceClient2) {
    function create(clientPort) {
      return codegen10.loadService(clientPort, PortableExperiencesServiceDefinition);
    }
    PortableExperienceServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen10.loadService(clientPort, PortableExperiencesServiceDefinition);
      return {
        ...originalService,
        async spawn(pid) {
          return await originalService.spawn({pid});
        },
        async kill(pid) {
          return (await originalService.kill({pid})).status;
        },
        async exit() {
          return (await originalService.exit({})).status;
        },
        async getPortableExperiencesLoaded() {
          return {
            portableExperiences: (await originalService.getPortableExperiencesLoaded({})).loaded
          };
        }
      };
    }
    PortableExperienceServiceClient2.createLegacy = createLegacy;
  })(PortableExperienceServiceClient || (PortableExperienceServiceClient = {}));

  // src/worker/client/RestrictedActions.ts
  init_web_worker_inject();
  var codegen11 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/restricted_actions.gen.ts
  init_web_worker_inject();
  var import_minimal13 = __toModule(require_minimal2());
  function createBaseVector3() {
    return {x: 0, y: 0, z: 0};
  }
  var Vector3 = {
    encode(message, writer = import_minimal13.default.Writer.create()) {
      if (message.x !== 0) {
        writer.uint32(13).float(message.x);
      }
      if (message.y !== 0) {
        writer.uint32(21).float(message.y);
      }
      if (message.z !== 0) {
        writer.uint32(29).float(message.z);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal13.default.Reader ? input : new import_minimal13.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseVector3();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.x = reader.float();
            break;
          case 2:
            message.y = reader.float();
            break;
          case 3:
            message.z = reader.float();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        x: isSet13(object.x) ? Number(object.x) : 0,
        y: isSet13(object.y) ? Number(object.y) : 0,
        z: isSet13(object.z) ? Number(object.z) : 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.x !== void 0 && (obj.x = message.x);
      message.y !== void 0 && (obj.y = message.y);
      message.z !== void 0 && (obj.z = message.z);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseVector3();
      message.x = object.x ?? 0;
      message.y = object.y ?? 0;
      message.z = object.z ?? 0;
      return message;
    }
  };
  function createBaseMovePlayerToResponse() {
    return {};
  }
  var MovePlayerToResponse = {
    encode(_, writer = import_minimal13.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal13.default.Reader ? input : new import_minimal13.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseMovePlayerToResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseMovePlayerToResponse();
      return message;
    }
  };
  function createBaseMovePlayerToRequest() {
    return {newRelativePosition: void 0, cameraTarget: void 0};
  }
  var MovePlayerToRequest = {
    encode(message, writer = import_minimal13.default.Writer.create()) {
      if (message.newRelativePosition !== void 0) {
        Vector3.encode(message.newRelativePosition, writer.uint32(10).fork()).ldelim();
      }
      if (message.cameraTarget !== void 0) {
        Vector3.encode(message.cameraTarget, writer.uint32(18).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal13.default.Reader ? input : new import_minimal13.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseMovePlayerToRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.newRelativePosition = Vector3.decode(reader, reader.uint32());
            break;
          case 2:
            message.cameraTarget = Vector3.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        newRelativePosition: isSet13(object.newRelativePosition) ? Vector3.fromJSON(object.newRelativePosition) : void 0,
        cameraTarget: isSet13(object.cameraTarget) ? Vector3.fromJSON(object.cameraTarget) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.newRelativePosition !== void 0 && (obj.newRelativePosition = message.newRelativePosition ? Vector3.toJSON(message.newRelativePosition) : void 0);
      message.cameraTarget !== void 0 && (obj.cameraTarget = message.cameraTarget ? Vector3.toJSON(message.cameraTarget) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseMovePlayerToRequest();
      message.newRelativePosition = object.newRelativePosition !== void 0 && object.newRelativePosition !== null ? Vector3.fromPartial(object.newRelativePosition) : void 0;
      message.cameraTarget = object.cameraTarget !== void 0 && object.cameraTarget !== null ? Vector3.fromPartial(object.cameraTarget) : void 0;
      return message;
    }
  };
  function createBaseTriggerEmoteResponse() {
    return {};
  }
  var TriggerEmoteResponse = {
    encode(_, writer = import_minimal13.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal13.default.Reader ? input : new import_minimal13.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseTriggerEmoteResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseTriggerEmoteResponse();
      return message;
    }
  };
  function createBaseTriggerEmoteRequest() {
    return {predefinedEmote: ""};
  }
  var TriggerEmoteRequest = {
    encode(message, writer = import_minimal13.default.Writer.create()) {
      if (message.predefinedEmote !== "") {
        writer.uint32(10).string(message.predefinedEmote);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal13.default.Reader ? input : new import_minimal13.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseTriggerEmoteRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.predefinedEmote = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {predefinedEmote: isSet13(object.predefinedEmote) ? String(object.predefinedEmote) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.predefinedEmote !== void 0 && (obj.predefinedEmote = message.predefinedEmote);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseTriggerEmoteRequest();
      message.predefinedEmote = object.predefinedEmote ?? "";
      return message;
    }
  };
  var RestrictedActionsServiceDefinition = {
    name: "RestrictedActionsService",
    fullName: "decentraland.kernel.apis.RestrictedActionsService",
    methods: {
      movePlayerTo: {
        name: "MovePlayerTo",
        requestType: MovePlayerToRequest,
        requestStream: false,
        responseType: MovePlayerToResponse,
        responseStream: false,
        options: {}
      },
      triggerEmote: {
        name: "TriggerEmote",
        requestType: TriggerEmoteRequest,
        requestStream: false,
        responseType: TriggerEmoteResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet13(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/RestrictedActions.ts
  var RestrictedActionsServiceClient;
  (function(RestrictedActionsServiceClient2) {
    function create(clientPort) {
      return codegen11.loadService(clientPort, RestrictedActionsServiceDefinition);
    }
    RestrictedActionsServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen11.loadService(clientPort, RestrictedActionsServiceDefinition);
      return {
        ...originalService,
        async movePlayerTo(newPosition, cameraTarget) {
          await originalService.movePlayerTo({
            newRelativePosition: newPosition,
            cameraTarget: cameraTarget || void 0
          });
        },
        async triggerEmote(emote) {
          await originalService.triggerEmote({predefinedEmote: emote.predefined});
        }
      };
    }
    RestrictedActionsServiceClient2.createLegacy = createLegacy;
  })(RestrictedActionsServiceClient || (RestrictedActionsServiceClient = {}));

  // src/worker/client/SignedFetch.ts
  init_web_worker_inject();
  var codegen12 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/signed_fetch.gen.ts
  init_web_worker_inject();
  var import_minimal14 = __toModule(require_minimal2());
  function createBaseFlatFetchInit() {
    return {method: void 0, body: void 0, headers: {}};
  }
  var FlatFetchInit = {
    encode(message, writer = import_minimal14.default.Writer.create()) {
      if (message.method !== void 0) {
        writer.uint32(10).string(message.method);
      }
      if (message.body !== void 0) {
        writer.uint32(18).string(message.body);
      }
      Object.entries(message.headers).forEach(([key, value]) => {
        FlatFetchInit_HeadersEntry.encode({key, value}, writer.uint32(26).fork()).ldelim();
      });
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal14.default.Reader ? input : new import_minimal14.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseFlatFetchInit();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.method = reader.string();
            break;
          case 2:
            message.body = reader.string();
            break;
          case 3:
            const entry3 = FlatFetchInit_HeadersEntry.decode(reader, reader.uint32());
            if (entry3.value !== void 0) {
              message.headers[entry3.key] = entry3.value;
            }
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        method: isSet14(object.method) ? String(object.method) : void 0,
        body: isSet14(object.body) ? String(object.body) : void 0,
        headers: isObject3(object.headers) ? Object.entries(object.headers).reduce((acc, [key, value]) => {
          acc[key] = String(value);
          return acc;
        }, {}) : {}
      };
    },
    toJSON(message) {
      const obj = {};
      message.method !== void 0 && (obj.method = message.method);
      message.body !== void 0 && (obj.body = message.body);
      obj.headers = {};
      if (message.headers) {
        Object.entries(message.headers).forEach(([k, v]) => {
          obj.headers[k] = v;
        });
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseFlatFetchInit();
      message.method = object.method ?? void 0;
      message.body = object.body ?? void 0;
      message.headers = Object.entries(object.headers ?? {}).reduce((acc, [key, value]) => {
        if (value !== void 0) {
          acc[key] = String(value);
        }
        return acc;
      }, {});
      return message;
    }
  };
  function createBaseFlatFetchInit_HeadersEntry() {
    return {key: "", value: ""};
  }
  var FlatFetchInit_HeadersEntry = {
    encode(message, writer = import_minimal14.default.Writer.create()) {
      if (message.key !== "") {
        writer.uint32(10).string(message.key);
      }
      if (message.value !== "") {
        writer.uint32(18).string(message.value);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal14.default.Reader ? input : new import_minimal14.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseFlatFetchInit_HeadersEntry();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.key = reader.string();
            break;
          case 2:
            message.value = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {key: isSet14(object.key) ? String(object.key) : "", value: isSet14(object.value) ? String(object.value) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.key !== void 0 && (obj.key = message.key);
      message.value !== void 0 && (obj.value = message.value);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseFlatFetchInit_HeadersEntry();
      message.key = object.key ?? "";
      message.value = object.value ?? "";
      return message;
    }
  };
  function createBaseFlatFetchResponse() {
    return {ok: false, status: 0, statusText: "", headers: {}, body: ""};
  }
  var FlatFetchResponse = {
    encode(message, writer = import_minimal14.default.Writer.create()) {
      if (message.ok === true) {
        writer.uint32(8).bool(message.ok);
      }
      if (message.status !== 0) {
        writer.uint32(16).int32(message.status);
      }
      if (message.statusText !== "") {
        writer.uint32(26).string(message.statusText);
      }
      Object.entries(message.headers).forEach(([key, value]) => {
        FlatFetchResponse_HeadersEntry.encode({key, value}, writer.uint32(34).fork()).ldelim();
      });
      if (message.body !== "") {
        writer.uint32(42).string(message.body);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal14.default.Reader ? input : new import_minimal14.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseFlatFetchResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.ok = reader.bool();
            break;
          case 2:
            message.status = reader.int32();
            break;
          case 3:
            message.statusText = reader.string();
            break;
          case 4:
            const entry4 = FlatFetchResponse_HeadersEntry.decode(reader, reader.uint32());
            if (entry4.value !== void 0) {
              message.headers[entry4.key] = entry4.value;
            }
            break;
          case 5:
            message.body = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        ok: isSet14(object.ok) ? Boolean(object.ok) : false,
        status: isSet14(object.status) ? Number(object.status) : 0,
        statusText: isSet14(object.statusText) ? String(object.statusText) : "",
        headers: isObject3(object.headers) ? Object.entries(object.headers).reduce((acc, [key, value]) => {
          acc[key] = String(value);
          return acc;
        }, {}) : {},
        body: isSet14(object.body) ? String(object.body) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.ok !== void 0 && (obj.ok = message.ok);
      message.status !== void 0 && (obj.status = Math.round(message.status));
      message.statusText !== void 0 && (obj.statusText = message.statusText);
      obj.headers = {};
      if (message.headers) {
        Object.entries(message.headers).forEach(([k, v]) => {
          obj.headers[k] = v;
        });
      }
      message.body !== void 0 && (obj.body = message.body);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseFlatFetchResponse();
      message.ok = object.ok ?? false;
      message.status = object.status ?? 0;
      message.statusText = object.statusText ?? "";
      message.headers = Object.entries(object.headers ?? {}).reduce((acc, [key, value]) => {
        if (value !== void 0) {
          acc[key] = String(value);
        }
        return acc;
      }, {});
      message.body = object.body ?? "";
      return message;
    }
  };
  function createBaseFlatFetchResponse_HeadersEntry() {
    return {key: "", value: ""};
  }
  var FlatFetchResponse_HeadersEntry = {
    encode(message, writer = import_minimal14.default.Writer.create()) {
      if (message.key !== "") {
        writer.uint32(10).string(message.key);
      }
      if (message.value !== "") {
        writer.uint32(18).string(message.value);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal14.default.Reader ? input : new import_minimal14.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseFlatFetchResponse_HeadersEntry();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.key = reader.string();
            break;
          case 2:
            message.value = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {key: isSet14(object.key) ? String(object.key) : "", value: isSet14(object.value) ? String(object.value) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.key !== void 0 && (obj.key = message.key);
      message.value !== void 0 && (obj.value = message.value);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseFlatFetchResponse_HeadersEntry();
      message.key = object.key ?? "";
      message.value = object.value ?? "";
      return message;
    }
  };
  function createBaseSignedFetchRequest() {
    return {url: "", init: void 0};
  }
  var SignedFetchRequest = {
    encode(message, writer = import_minimal14.default.Writer.create()) {
      if (message.url !== "") {
        writer.uint32(10).string(message.url);
      }
      if (message.init !== void 0) {
        FlatFetchInit.encode(message.init, writer.uint32(18).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal14.default.Reader ? input : new import_minimal14.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSignedFetchRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.url = reader.string();
            break;
          case 2:
            message.init = FlatFetchInit.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        url: isSet14(object.url) ? String(object.url) : "",
        init: isSet14(object.init) ? FlatFetchInit.fromJSON(object.init) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.url !== void 0 && (obj.url = message.url);
      message.init !== void 0 && (obj.init = message.init ? FlatFetchInit.toJSON(message.init) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSignedFetchRequest();
      message.url = object.url ?? "";
      message.init = object.init !== void 0 && object.init !== null ? FlatFetchInit.fromPartial(object.init) : void 0;
      return message;
    }
  };
  var SignedFetchServiceDefinition = {
    name: "SignedFetchService",
    fullName: "decentraland.kernel.apis.SignedFetchService",
    methods: {
      signedFetch: {
        name: "SignedFetch",
        requestType: SignedFetchRequest,
        requestStream: false,
        responseType: FlatFetchResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isObject3(value) {
    return typeof value === "object" && value !== null;
  }
  function isSet14(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/SignedFetch.ts
  var SignedFetchServiceClient;
  (function(SignedFetchServiceClient2) {
    function create(clientPort) {
      return codegen12.loadService(clientPort, SignedFetchServiceDefinition);
    }
    SignedFetchServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen12.loadService(clientPort, SignedFetchServiceDefinition);
      return {
        ...originalService,
        async signedFetch(url, originalInit) {
          let init = void 0;
          if (originalInit) {
            init = {headers: {}};
            if (originalInit.headers && typeof originalInit.headers === "object") {
              init.headers = originalInit.headers;
            }
            if (originalInit.body && typeof originalInit.body === "string") {
              init.body = originalInit.body;
            }
            if (originalInit.method && typeof originalInit.method === "string") {
              init.method = originalInit.method;
            }
          }
          const responseBodyType = originalInit?.responseBodyType || "text";
          const result = await originalService.signedFetch({url, init});
          return {
            ok: result.ok,
            status: result.status,
            statusText: result.statusText,
            headers: result.headers,
            json: responseBodyType === "json" ? JSON.parse(result.body) : void 0,
            text: responseBodyType === "text" ? result.body : void 0
          };
        }
      };
    }
    SignedFetchServiceClient2.createLegacy = createLegacy;
  })(SignedFetchServiceClient || (SignedFetchServiceClient = {}));

  // src/worker/client/SocialController.ts
  init_web_worker_inject();
  var codegen13 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/social_controller.gen.ts
  init_web_worker_inject();
  var import_minimal15 = __toModule(require_minimal2());
  function createBaseInitRequest() {
    return {};
  }
  var InitRequest = {
    encode(_, writer = import_minimal15.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal15.default.Reader ? input : new import_minimal15.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseInitRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseInitRequest();
      return message;
    }
  };
  function createBaseSocialEvent() {
    return {event: "", payload: ""};
  }
  var SocialEvent = {
    encode(message, writer = import_minimal15.default.Writer.create()) {
      if (message.event !== "") {
        writer.uint32(10).string(message.event);
      }
      if (message.payload !== "") {
        writer.uint32(18).string(message.payload);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal15.default.Reader ? input : new import_minimal15.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseSocialEvent();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.event = reader.string();
            break;
          case 2:
            message.payload = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        event: isSet15(object.event) ? String(object.event) : "",
        payload: isSet15(object.payload) ? String(object.payload) : ""
      };
    },
    toJSON(message) {
      const obj = {};
      message.event !== void 0 && (obj.event = message.event);
      message.payload !== void 0 && (obj.payload = message.payload);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseSocialEvent();
      message.event = object.event ?? "";
      message.payload = object.payload ?? "";
      return message;
    }
  };
  function createBaseGetAvatarEventsResponse() {
    return {events: []};
  }
  var GetAvatarEventsResponse = {
    encode(message, writer = import_minimal15.default.Writer.create()) {
      for (const v of message.events) {
        SocialEvent.encode(v, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal15.default.Reader ? input : new import_minimal15.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetAvatarEventsResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.events.push(SocialEvent.decode(reader, reader.uint32()));
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {events: Array.isArray(object?.events) ? object.events.map((e) => SocialEvent.fromJSON(e)) : []};
    },
    toJSON(message) {
      const obj = {};
      if (message.events) {
        obj.events = message.events.map((e) => e ? SocialEvent.toJSON(e) : void 0);
      } else {
        obj.events = [];
      }
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetAvatarEventsResponse();
      message.events = object.events?.map((e) => SocialEvent.fromPartial(e)) || [];
      return message;
    }
  };
  var SocialControllerServiceDefinition = {
    name: "SocialControllerService",
    fullName: "decentraland.kernel.apis.SocialControllerService",
    methods: {
      pullAvatarEvents: {
        name: "PullAvatarEvents",
        requestType: InitRequest,
        requestStream: false,
        responseType: GetAvatarEventsResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet15(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/SocialController.ts
  function createSocialControllerServiceClient(clientPort) {
    const originalService = codegen13.loadService(clientPort, SocialControllerServiceDefinition);
    return originalService;
  }

  // src/worker/client/UserActionModule.ts
  init_web_worker_inject();
  var codegen14 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/user_action_module.gen.ts
  init_web_worker_inject();
  var import_minimal16 = __toModule(require_minimal2());
  function createBaseRequestTeleportRequest() {
    return {destination: ""};
  }
  var RequestTeleportRequest = {
    encode(message, writer = import_minimal16.default.Writer.create()) {
      if (message.destination !== "") {
        writer.uint32(10).string(message.destination);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal16.default.Reader ? input : new import_minimal16.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRequestTeleportRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.destination = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {destination: isSet16(object.destination) ? String(object.destination) : ""};
    },
    toJSON(message) {
      const obj = {};
      message.destination !== void 0 && (obj.destination = message.destination);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseRequestTeleportRequest();
      message.destination = object.destination ?? "";
      return message;
    }
  };
  function createBaseRequestTeleportResponse() {
    return {};
  }
  var RequestTeleportResponse = {
    encode(_, writer = import_minimal16.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal16.default.Reader ? input : new import_minimal16.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseRequestTeleportResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseRequestTeleportResponse();
      return message;
    }
  };
  var UserActionModuleServiceDefinition = {
    name: "UserActionModuleService",
    fullName: "decentraland.kernel.apis.UserActionModuleService",
    methods: {
      requestTeleport: {
        name: "RequestTeleport",
        requestType: RequestTeleportRequest,
        requestStream: false,
        responseType: RequestTeleportResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet16(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/UserActionModule.ts
  var UserActionModuleServiceClient;
  (function(UserActionModuleServiceClient2) {
    function create(clientPort) {
      return codegen14.loadService(clientPort, UserActionModuleServiceDefinition);
    }
    UserActionModuleServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen14.loadService(clientPort, UserActionModuleServiceDefinition);
      return {
        ...originalService,
        async requestTeleport(destination) {
          await originalService.requestTeleport({destination});
        }
      };
    }
    UserActionModuleServiceClient2.createLegacy = createLegacy;
  })(UserActionModuleServiceClient || (UserActionModuleServiceClient = {}));

  // src/worker/client/UserIdentity.ts
  init_web_worker_inject();
  var codegen15 = __toModule(require_codegen());

  // node_modules/@dcl/protocol/out-ts/decentraland/kernel/apis/user_identity.gen.ts
  init_web_worker_inject();
  var import_minimal17 = __toModule(require_minimal2());
  function createBaseGetUserDataRequest() {
    return {};
  }
  var GetUserDataRequest = {
    encode(_, writer = import_minimal17.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal17.default.Reader ? input : new import_minimal17.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetUserDataRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetUserDataRequest();
      return message;
    }
  };
  function createBaseGetUserDataResponse() {
    return {data: void 0};
  }
  var GetUserDataResponse = {
    encode(message, writer = import_minimal17.default.Writer.create()) {
      if (message.data !== void 0) {
        UserData.encode(message.data, writer.uint32(10).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal17.default.Reader ? input : new import_minimal17.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetUserDataResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.data = UserData.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {data: isSet17(object.data) ? UserData.fromJSON(object.data) : void 0};
    },
    toJSON(message) {
      const obj = {};
      message.data !== void 0 && (obj.data = message.data ? UserData.toJSON(message.data) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetUserDataResponse();
      message.data = object.data !== void 0 && object.data !== null ? UserData.fromPartial(object.data) : void 0;
      return message;
    }
  };
  function createBaseGetUserPublicKeyRequest() {
    return {};
  }
  var GetUserPublicKeyRequest = {
    encode(_, writer = import_minimal17.default.Writer.create()) {
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal17.default.Reader ? input : new import_minimal17.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetUserPublicKeyRequest();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(_) {
      return {};
    },
    toJSON(_) {
      const obj = {};
      return obj;
    },
    fromPartial(_) {
      const message = createBaseGetUserPublicKeyRequest();
      return message;
    }
  };
  function createBaseGetUserPublicKeyResponse() {
    return {address: void 0};
  }
  var GetUserPublicKeyResponse = {
    encode(message, writer = import_minimal17.default.Writer.create()) {
      if (message.address !== void 0) {
        writer.uint32(10).string(message.address);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal17.default.Reader ? input : new import_minimal17.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBaseGetUserPublicKeyResponse();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.address = reader.string();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {address: isSet17(object.address) ? String(object.address) : void 0};
    },
    toJSON(message) {
      const obj = {};
      message.address !== void 0 && (obj.address = message.address);
      return obj;
    },
    fromPartial(object) {
      const message = createBaseGetUserPublicKeyResponse();
      message.address = object.address ?? void 0;
      return message;
    }
  };
  var UserIdentityServiceDefinition = {
    name: "UserIdentityService",
    fullName: "decentraland.kernel.apis.UserIdentityService",
    methods: {
      getUserPublicKey: {
        name: "GetUserPublicKey",
        requestType: GetUserPublicKeyRequest,
        requestStream: false,
        responseType: GetUserPublicKeyResponse,
        responseStream: false,
        options: {}
      },
      getUserData: {
        name: "GetUserData",
        requestType: GetUserDataRequest,
        requestStream: false,
        responseType: GetUserDataResponse,
        responseStream: false,
        options: {}
      }
    }
  };
  function isSet17(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/client/UserIdentity.ts
  var UserIdentityServiceClient;
  (function(UserIdentityServiceClient2) {
    function create(clientPort) {
      return codegen15.loadService(clientPort, UserIdentityServiceDefinition);
    }
    UserIdentityServiceClient2.create = create;
    function createLegacy(clientPort) {
      const originalService = codegen15.loadService(clientPort, UserIdentityServiceDefinition);
      return {
        ...originalService,
        async getUserPublicKey() {
          const realResponse = await originalService.getUserPublicKey({});
          return realResponse.address || null;
        },
        async getUserData() {
          const realResponse = await originalService.getUserData({});
          if (!realResponse.data) {
            return null;
          }
          return {
            ...realResponse.data,
            avatar: {
              ...realResponse.data.avatar,
              snapshots: realResponse.data.avatar.snapshots
            },
            publicKey: realResponse.data.publicKey || null
          };
        }
      };
    }
    UserIdentityServiceClient2.createLegacy = createLegacy;
  })(UserIdentityServiceClient || (UserIdentityServiceClient = {}));

  // src/worker/client/Web3Provider.ts
  init_web_worker_inject();
  var codegen16 = __toModule(require_codegen());
  function createLegacyWeb3Provider(clientPort) {
    const originalService = codegen16.loadService(clientPort, EthereumControllerServiceDefinition);
    async function request(message) {
      const response = await originalService.sendAsync({
        id: message.id,
        method: message.method,
        jsonParams: JSON.stringify(message.params)
      });
      return JSON.parse(response.jsonAnyResponse);
    }
    return {
      async getProvider() {
        return {
          send(message, callback) {
            if (message && callback && callback instanceof Function) {
              request(message).then((x) => callback(null, x)).catch(callback);
            } else {
              throw new Error("Decentraland provider only allows async calls");
            }
          },
          sendAsync(message, callback) {
            request(message).then((x) => callback(null, x)).catch(callback);
          }
        };
      }
    };
  }

  // src/worker/client/index.ts
  var LoadableApis = {
    DevTools: createDevToolsServiceClient,
    EngineApi: createEngineApiServiceClient,
    ExperimentalApi: createExperimentalApiServiceClient,
    Permissions: createPermissionsServiceClient,
    SignedFetch: SignedFetchServiceClient.create,
    CommunicationsController: CommunicationsControllerServiceClient.create,
    EnvironmentApi: EnvironmentApiServiceClient.create,
    EthereumController: EthereumControllerServiceClient.create,
    ParcelIdentity: ParcelIdentityServiceClient.create,
    Players: PlayersServiceClient.create,
    PortableExperience: PortableExperienceServiceClient.create,
    RestrictedActions: RestrictedActionsServiceClient.create,
    UserActionModule: UserActionModuleServiceClient.create,
    UserIdentity: UserIdentityServiceClient.create,
    LegacySignedFetch: SignedFetchServiceClient.createLegacy,
    LegacyCommunicationsController: CommunicationsControllerServiceClient.createLegacy,
    LegacyEnvironmentAPI: EnvironmentApiServiceClient.createLegacy,
    LegacyEthereumController: EthereumControllerServiceClient.createLegacy,
    LegacyParcelIdentity: ParcelIdentityServiceClient.createLegacy,
    LegacyPlayers: PlayersServiceClient.createLegacy,
    LegacyPortableExperience: PortableExperienceServiceClient.createLegacy,
    LegacyRestrictedActions: RestrictedActionsServiceClient.createLegacy,
    LegacyRestrictedActionModule: RestrictedActionsServiceClient.createLegacy,
    LegacyUserActionModule: UserActionModuleServiceClient.createLegacy,
    LegacyIdentity: UserIdentityServiceClient.createLegacy,
    ["Legacyweb3-provider"]: createLegacyWeb3Provider,
    LegacySocialController: createSocialControllerServiceClient
  };

  // src/worker/Utils.ts
  init_web_worker_inject();
  var import_ecs_math = __toModule(require_dist2());

  // node_modules/@dcl/protocol/out-ts/decentraland/renderer/engine_interface.gen.ts
  init_web_worker_inject();
  var import_long = __toModule(require_long());
  var import_minimal19 = __toModule(require_minimal2());

  // node_modules/@dcl/protocol/out-ts/google/protobuf/empty.gen.ts
  init_web_worker_inject();
  var import_minimal18 = __toModule(require_minimal2());

  // node_modules/@dcl/protocol/out-ts/decentraland/renderer/engine_interface.gen.ts
  var PBUIStackOrientation;
  (function(PBUIStackOrientation2) {
    PBUIStackOrientation2[PBUIStackOrientation2["VERTICAL"] = 0] = "VERTICAL";
    PBUIStackOrientation2[PBUIStackOrientation2["HORIZONTAL"] = 1] = "HORIZONTAL";
    PBUIStackOrientation2[PBUIStackOrientation2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
  })(PBUIStackOrientation || (PBUIStackOrientation = {}));
  function createBasePBVector3() {
    return {x: 0, y: 0, z: 0};
  }
  var PBVector3 = {
    encode(message, writer = import_minimal19.default.Writer.create()) {
      if (message.x !== 0) {
        writer.uint32(13).float(message.x);
      }
      if (message.y !== 0) {
        writer.uint32(21).float(message.y);
      }
      if (message.z !== 0) {
        writer.uint32(29).float(message.z);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal19.default.Reader ? input : new import_minimal19.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePBVector3();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.x = reader.float();
            break;
          case 2:
            message.y = reader.float();
            break;
          case 3:
            message.z = reader.float();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        x: isSet18(object.x) ? Number(object.x) : 0,
        y: isSet18(object.y) ? Number(object.y) : 0,
        z: isSet18(object.z) ? Number(object.z) : 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.x !== void 0 && (obj.x = message.x);
      message.y !== void 0 && (obj.y = message.y);
      message.z !== void 0 && (obj.z = message.z);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePBVector3();
      message.x = object.x ?? 0;
      message.y = object.y ?? 0;
      message.z = object.z ?? 0;
      return message;
    }
  };
  function createBasePBQuaternion() {
    return {x: 0, y: 0, z: 0, w: 0};
  }
  var PBQuaternion = {
    encode(message, writer = import_minimal19.default.Writer.create()) {
      if (message.x !== 0) {
        writer.uint32(9).double(message.x);
      }
      if (message.y !== 0) {
        writer.uint32(17).double(message.y);
      }
      if (message.z !== 0) {
        writer.uint32(25).double(message.z);
      }
      if (message.w !== 0) {
        writer.uint32(33).double(message.w);
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal19.default.Reader ? input : new import_minimal19.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePBQuaternion();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.x = reader.double();
            break;
          case 2:
            message.y = reader.double();
            break;
          case 3:
            message.z = reader.double();
            break;
          case 4:
            message.w = reader.double();
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        x: isSet18(object.x) ? Number(object.x) : 0,
        y: isSet18(object.y) ? Number(object.y) : 0,
        z: isSet18(object.z) ? Number(object.z) : 0,
        w: isSet18(object.w) ? Number(object.w) : 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.x !== void 0 && (obj.x = message.x);
      message.y !== void 0 && (obj.y = message.y);
      message.z !== void 0 && (obj.z = message.z);
      message.w !== void 0 && (obj.w = message.w);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePBQuaternion();
      message.x = object.x ?? 0;
      message.y = object.y ?? 0;
      message.z = object.z ?? 0;
      message.w = object.w ?? 0;
      return message;
    }
  };
  function createBasePBTransform() {
    return {position: void 0, rotation: void 0, scale: void 0};
  }
  var PBTransform = {
    encode(message, writer = import_minimal19.default.Writer.create()) {
      if (message.position !== void 0) {
        PBVector3.encode(message.position, writer.uint32(10).fork()).ldelim();
      }
      if (message.rotation !== void 0) {
        PBQuaternion.encode(message.rotation, writer.uint32(18).fork()).ldelim();
      }
      if (message.scale !== void 0) {
        PBVector3.encode(message.scale, writer.uint32(26).fork()).ldelim();
      }
      return writer;
    },
    decode(input, length) {
      const reader = input instanceof import_minimal19.default.Reader ? input : new import_minimal19.default.Reader(input);
      let end = length === void 0 ? reader.len : reader.pos + length;
      const message = createBasePBTransform();
      while (reader.pos < end) {
        const tag = reader.uint32();
        switch (tag >>> 3) {
          case 1:
            message.position = PBVector3.decode(reader, reader.uint32());
            break;
          case 2:
            message.rotation = PBQuaternion.decode(reader, reader.uint32());
            break;
          case 3:
            message.scale = PBVector3.decode(reader, reader.uint32());
            break;
          default:
            reader.skipType(tag & 7);
            break;
        }
      }
      return message;
    },
    fromJSON(object) {
      return {
        position: isSet18(object.position) ? PBVector3.fromJSON(object.position) : void 0,
        rotation: isSet18(object.rotation) ? PBQuaternion.fromJSON(object.rotation) : void 0,
        scale: isSet18(object.scale) ? PBVector3.fromJSON(object.scale) : void 0
      };
    },
    toJSON(message) {
      const obj = {};
      message.position !== void 0 && (obj.position = message.position ? PBVector3.toJSON(message.position) : void 0);
      message.rotation !== void 0 && (obj.rotation = message.rotation ? PBQuaternion.toJSON(message.rotation) : void 0);
      message.scale !== void 0 && (obj.scale = message.scale ? PBVector3.toJSON(message.scale) : void 0);
      return obj;
    },
    fromPartial(object) {
      const message = createBasePBTransform();
      message.position = object.position !== void 0 && object.position !== null ? PBVector3.fromPartial(object.position) : void 0;
      message.rotation = object.rotation !== void 0 && object.rotation !== null ? PBQuaternion.fromPartial(object.rotation) : void 0;
      message.scale = object.scale !== void 0 && object.scale !== null ? PBVector3.fromPartial(object.scale) : void 0;
      return message;
    }
  };
  var globalThis3 = (() => {
    if (typeof globalThis3 !== "undefined") {
      return globalThis3;
    }
    if (typeof self !== "undefined") {
      return self;
    }
    if (typeof window !== "undefined") {
      return window;
    }
    if (typeof global !== "undefined") {
      return global;
    }
    throw "Unable to locate global object";
  })();
  if (import_minimal19.default.util.Long !== import_long.default) {
    import_minimal19.default.util.Long = import_long.default;
    import_minimal19.default.configure();
  }
  function isSet18(value) {
    return value !== null && value !== void 0;
  }

  // src/worker/Utils.ts
  var VECTOR3_MEMBER_CAP = 1e6;
  var pbTransform = {
    position: import_ecs_math.Vector3.Zero(),
    rotation: import_ecs_math.Quaternion.Identity,
    scale: import_ecs_math.Vector3.One()
  };
  var TRANSFORM_CLASS_ID = 1;
  var transformData = new ArrayBuffer(40);
  var transformView = new DataView(transformData);
  var componentSerializeOpt = {
    useBinaryTransform: true
  };
  function generatePBObject(classId, json) {
    if (classId === TRANSFORM_CLASS_ID) {
      const transform = JSON.parse(json);
      if (!componentSerializeOpt.useBinaryTransform)
        return serializeTransform(transform);
      else
        return serializeTransformNoProtobuff(transform);
    }
    return json;
  }
  function serializeTransform(transform) {
    pbTransform.position.set(Math.fround(transform.position.x), Math.fround(transform.position.y), Math.fround(transform.position.z));
    capVector(pbTransform.position, VECTOR3_MEMBER_CAP);
    pbTransform.rotation.copyFrom(transform.rotation);
    pbTransform.scale.set(Math.fround(transform.scale.x), Math.fround(transform.scale.y), Math.fround(transform.scale.z));
    capVector(pbTransform.scale, VECTOR3_MEMBER_CAP);
    const arrayBuffer = PBTransform.encode(pbTransform).finish();
    return btoa(String.fromCharCode(...arrayBuffer));
  }
  function serializeTransformNoProtobuff(transform) {
    const cappedVector = new import_ecs_math.Vector3(Math.fround(transform.position.x), Math.fround(transform.position.y), Math.fround(transform.position.z));
    capVector(cappedVector, VECTOR3_MEMBER_CAP);
    let offset = 0;
    transformView.setFloat32(offset, cappedVector.x, true);
    transformView.setFloat32(offset += 4, cappedVector.y, true);
    transformView.setFloat32(offset += 4, cappedVector.z, true);
    transformView.setFloat32(offset += 4, transform.rotation.x, true);
    transformView.setFloat32(offset += 4, transform.rotation.y, true);
    transformView.setFloat32(offset += 4, transform.rotation.z, true);
    transformView.setFloat32(offset += 4, transform.rotation.w, true);
    cappedVector.set(Math.fround(transform.scale.x), Math.fround(transform.scale.y), Math.fround(transform.scale.z));
    capVector(cappedVector, VECTOR3_MEMBER_CAP);
    transformView.setFloat32(offset += 4, cappedVector.x, true);
    transformView.setFloat32(offset += 4, cappedVector.y, true);
    transformView.setFloat32(offset += 4, cappedVector.z, true);
    const arrayBuffer = new Uint8Array(transformData);
    const base64Value = btoa(String.fromCharCode(...arrayBuffer));
    return base64Value;
  }
  function capVector(targetVector, cap) {
    if (Math.abs(targetVector.x) > cap) {
      targetVector.x = cap * Math.sign(targetVector.x);
    }
    if (Math.abs(targetVector.y) > cap) {
      targetVector.y = cap * Math.sign(targetVector.y);
    }
    if (Math.abs(targetVector.z) > cap) {
      targetVector.z = cap * Math.sign(targetVector.z);
    }
  }
  var dataUrlRE = /^data:[^/]+\/[^;]+;base64,/;
  var blobRE = /^blob:http/;
  var componentNameRE = /^(engine\.)/;
  function resolveMapping(mapping, mappingName, baseUrl) {
    let url = mappingName;
    if (mapping) {
      url = mapping;
    }
    if (dataUrlRE.test(url)) {
      return url;
    }
    if (blobRE.test(url)) {
      return url;
    }
    return (baseUrl.endsWith("/") ? baseUrl : baseUrl + "/") + url;
  }
  var idToNumberStore = {};
  var numberToIdStore = {};
  var idToNumberStoreCounter = 10;
  function addIdToStorage(id, idAsNumber) {
    idToNumberStore[id] = idAsNumber;
    numberToIdStore[idAsNumber] = id;
  }
  function getIdAsNumber(id) {
    if (!idToNumberStore.hasOwnProperty(id)) {
      idToNumberStoreCounter++;
      addIdToStorage(id, idToNumberStoreCounter);
      return idToNumberStoreCounter;
    } else {
      return idToNumberStore[id];
    }
  }
  function initMessagesFinished() {
    return {
      type: EAType.EAT_INIT_MESSAGES_FINISHED,
      tag: "scene",
      payload: {initMessagesFinished: {}}
    };
  }

  // src/worker/sandbox.ts
  init_web_worker_inject();

  // src/worker/Fetch.ts
  init_web_worker_inject();
  var import_p_queue = __toModule(require_dist3());
  var TIMEOUT_LIMIT = 29e3;
  function createFetch({canUseFetch, previewMode, log, originalFetch}) {
    const fifoFetch = new import_p_queue.default({concurrency: 1});
    return async (resource, init) => {
      const url = resource instanceof Request ? resource.url : resource;
      if (url.toLowerCase().substr(0, 8) !== "https://") {
        if (previewMode) {
          log("\u26A0\uFE0F Warning: Can't make an unsafe http request in deployed scenes, please consider upgrading to https. url=" + url);
        } else {
          return Promise.reject(new Error("Can't make an unsafe http request, please upgrade to https. url=" + url));
        }
      }
      if (!canUseFetch) {
        return Promise.reject(new Error("This scene is not allowed to use fetch."));
      }
      async function fetchRequest() {
        const abortController = new AbortController();
        const timeout = setTimeout(() => {
          ;
          abortController.abort();
        }, Math.max(init?.timeout || TIMEOUT_LIMIT, 1));
        try {
          return await originalFetch(resource, {signal: abortController.signal, ...init});
        } finally {
          clearTimeout(timeout);
        }
      }
      return fifoFetch.add(fetchRequest);
    };
  }

  // src/worker/WebSocket.ts
  init_web_worker_inject();
  function createWebSocket({canUseWebsocket, previewMode, log}) {
    return class RestrictedWebSocket extends WebSocket {
      constructor(url, protocols) {
        if (url.toString().toLowerCase().substr(0, 4) !== "wss:") {
          if (previewMode) {
            log("\u26A0\uFE0F Warning: can't connect to unsafe WebSocket (ws) server in deployed scenes, consider upgrading to wss.");
          } else {
            throw new Error("Can't connect to unsafe WebSocket server");
          }
        }
        if (!canUseWebsocket) {
          throw new Error("This scene doesn't have allowed to use WebSocket");
        }
        super(url.toString(), protocols);
      }
    };
  }

  // src/worker/sandbox.ts
  var allowListES5 = [
    "eval",
    "parseInt",
    "parseFloat",
    "isNaN",
    "isFinite",
    "decodeURI",
    "decodeURIComponent",
    "encodeURI",
    "encodeURIComponent",
    "escape",
    "unescape",
    "Object",
    "Function",
    "String",
    "Boolean",
    "Number",
    "Math",
    "Date",
    "RegExp",
    "Error",
    "EvalError",
    "RangeError",
    "ReferenceError",
    "SyntaxError",
    "TypeError",
    "URIError",
    "JSON",
    "Array",
    "Promise",
    "NaN",
    "Infinity"
  ];
  var defer = Promise.resolve().then.bind(Promise.resolve());
  async function customEval(code, context) {
    const sandbox = {};
    const resultKey = "SAFE_EVAL_" + Math.floor(Math.random() * 1e6);
    sandbox[resultKey] = {};
    Object.keys(context).forEach(function(key) {
      sandbox[key] = context[key];
    });
    sandbox.window = sandbox;
    sandbox.self = sandbox;
    return defer(() => new Function("code", `with (this) { ${code} }`).call(sandbox, code));
  }
  function getES5Context(base) {
    allowListES5.forEach(($) => base[$] = globalThis[$]);
    return base;
  }
  function prepareSandboxContext(options) {
    const originalFetch = globalThis.fetch;
    const restrictedWebSocket = createWebSocket(options);
    const restrictedFetch = createFetch({...options, originalFetch});
    globalThis.fetch = restrictedFetch;
    globalThis.WebSocket = restrictedWebSocket;
    const env = {dcl: options.dcl, WebSocket: restrictedWebSocket, fetch: restrictedFetch};
    return getES5Context(env);
  }

  // src/worker/runtime/DecentralandInterface.ts
  init_web_worker_inject();
  function createDecentralandInterface(options) {
    const {batchEvents, onError, onLog, sceneId, onEventFunctions, clientPort, eventState} = options;
    const sceneLoadedModules = {};
    const dcl = {
      DEBUG: true,
      log(...args) {
        onLog(...args);
      },
      openExternalUrl(url) {
        try {
          const u = new URL(url);
          if (u.protocol !== "https:")
            throw new Error("Only https: external links are allowed");
        } catch (err) {
          onError(err);
          return;
        }
        if (JSON.stringify(url).length > 49e3) {
          onError(new Error("URL payload cannot exceed 49.000 bytes"));
          return;
        }
        if (eventState.allowOpenExternalUrl) {
          batchEvents.events.push({
            type: EAType.EAT_OPEN_EXTERNAL_URL,
            tag: "",
            payload: {openExternalUrl: {url}}
          });
        } else {
          this.error("openExternalUrl can only be used inside a pointerEvent");
        }
      },
      openNFTDialog(assetContractAddress, tokenId, comment) {
        if (eventState.allowOpenExternalUrl) {
          const payloadLength = assetContractAddress.length + tokenId.length + (comment?.length || 0);
          if (payloadLength > 49e3) {
            onError(new Error("OpenNFT payload cannot exceed 49.000 bytes"));
            return;
          }
          batchEvents.events.push({
            type: EAType.EAT_OPEN_NFT_DIALOG,
            tag: "",
            payload: {openNftDialog: {assetContractAddress, tokenId, comment: comment || ""}}
          });
        } else {
          this.error("openNFTDialog can only be used inside a pointerEvent");
        }
      },
      addEntity(entityId) {
        if (entityId === "0") {
          return;
        }
        batchEvents.events.push({
          type: EAType.EAT_CREATE_ENTITY,
          payload: {createEntity: {id: entityId}}
        });
      },
      removeEntity(entityId) {
        batchEvents.events.push({
          type: EAType.EAT_REMOVE_ENTITY,
          payload: {removeEntity: {id: entityId}}
        });
      },
      onUpdate(cb) {
        if (typeof cb !== "function") {
          onError(new Error("onUpdate must be called with only a function argument"));
        } else {
          options.onUpdateFunctions.push(cb);
        }
      },
      onEvent(cb) {
        if (typeof cb !== "function") {
          onError(new Error("onEvent must be called with only a function argument"));
        } else {
          onEventFunctions.push(cb);
        }
      },
      updateEntityComponent(entityId, componentName, classId, json) {
        if (json.length > 49e3) {
          onError(new Error("Component payload cannot exceed 49.000 bytes"));
          return;
        }
        if (componentNameRE.test(componentName)) {
          batchEvents.events.push({
            type: EAType.EAT_UPDATE_ENTITY_COMPONENT,
            tag: sceneId + "_" + entityId + "_" + classId,
            payload: {
              updateEntityComponent: {
                entityId,
                classId,
                name: componentName.replace(componentNameRE, ""),
                json: generatePBObject(classId, json)
              }
            }
          });
        }
      },
      attachEntityComponent(entityId, componentName, id) {
        if (componentNameRE.test(componentName)) {
          batchEvents.events.push({
            type: EAType.EAT_ATTACH_ENTITY_COMPONENT,
            tag: entityId,
            payload: {
              attachEntityComponent: {
                entityId,
                name: componentName.replace(componentNameRE, ""),
                id
              }
            }
          });
        }
      },
      removeEntityComponent(entityId, componentName) {
        if (componentNameRE.test(componentName)) {
          batchEvents.events.push({
            type: EAType.EAT_COMPONENT_REMOVED,
            tag: entityId,
            payload: {
              componentRemoved: {
                entityId,
                name: componentName.replace(componentNameRE, "")
              }
            }
          });
        }
      },
      setParent(entityId, parentId) {
        batchEvents.events.push({
          type: EAType.EAT_SET_ENTITY_PARENT,
          tag: entityId,
          payload: {
            setEntityParent: {
              entityId,
              parentId
            }
          }
        });
      },
      query(queryType, payload) {
        payload.queryId = getIdAsNumber(payload.queryId).toString();
        batchEvents.events.push({
          type: EAType.EAT_QUERY,
          tag: sceneId + "_" + payload.queryId,
          payload: {
            query: {
              queryId: queryTypeFromJSON(queryType),
              payload: JSON.stringify(payload)
            }
          }
        });
      },
      subscribe(eventName) {
        options.EngineApi.subscribe({eventId: eventName}).catch((err) => onError(err));
      },
      unsubscribe(eventName) {
        options.EngineApi.unsubscribe({eventId: eventName}).catch((err) => onError(err));
      },
      componentCreated(id, componentName, classId) {
        if (componentNameRE.test(componentName)) {
          batchEvents.events.push({
            type: EAType.EAT_COMPONENT_CREATED,
            tag: id,
            payload: {
              componentCreated: {
                id,
                classId,
                name: componentName.replace(componentNameRE, "")
              }
            }
          });
        }
      },
      componentDisposed(id) {
        batchEvents.events.push({
          type: EAType.EAT_COMPONENT_DISPOSED,
          tag: id,
          payload: {
            componentDisposed: {id}
          }
        });
      },
      componentUpdated(id, json) {
        batchEvents.events.push({
          type: EAType.EAT_COMPONENT_UPDATED,
          tag: id,
          payload: {
            componentUpdated: {
              id,
              json
            }
          }
        });
      },
      loadModule: async (_moduleName) => {
        if (!(_moduleName in sceneLoadedModules)) {
          const loadedModule = loadSceneModule(clientPort, _moduleName);
          sceneLoadedModules[_moduleName] = {
            rpcHandle: _moduleName,
            __INTERNAL_UNSAFE_loadedModule: loadedModule,
            methods: Object.keys(loadedModule).map((name) => ({name}))
          };
        }
        return sceneLoadedModules[_moduleName];
      },
      callRpc: async (rpcHandle, methodName, args) => {
        const module2 = sceneLoadedModules[rpcHandle];
        if (!module2) {
          throw new Error(`RPCHandle: ${rpcHandle} is not loaded`);
        }
        return module2.__INTERNAL_UNSAFE_loadedModule[methodName].apply(module2, args);
      },
      onStart(cb) {
        options.onStartFunctions.push(cb);
      },
      error(message, data) {
        onError(Object.assign(new Error(message), {data}));
      }
    };
    return dcl;
  }
  function loadSceneModule(clientPort, moduleName) {
    const moduleToLoad = moduleName.replace(/^@decentraland\//, "Legacy").replace(/^~system\//, "");
    try {
      if (moduleToLoad in LoadableApis) {
        return LoadableApis[moduleToLoad](clientPort);
      } else {
        throw new Error("The module is not available in the list!");
      }
    } catch (e) {
      throw Object.assign(new Error(`Error getting the methods of ${moduleToLoad}: ` + e.message), {
        original: e
      });
    }
  }

  // src/worker/runtime/SetupFpsThrottling.ts
  init_web_worker_inject();
  var import_ecs_math2 = __toModule(require_dist2());
  function setupFpsThrottling(dcl, parcels, onChangeUpdateInterval) {
    dcl.subscribe("positionChanged");
    dcl.onEvent((event) => {
      if (event.type !== "positionChanged") {
        return;
      }
      const e = event.data;
      const PARCEL_SIZE = 16;
      const playerPosition = new import_ecs_math2.Vector2(Math.floor(e.cameraPosition.x / PARCEL_SIZE), Math.floor(e.cameraPosition.z / PARCEL_SIZE));
      if (playerPosition === void 0) {
        return;
      }
      const playerPos = playerPosition;
      let sqrDistanceToPlayerInParcels = 10 * 10;
      let isInsideScene = false;
      for (const parcel of parcels) {
        sqrDistanceToPlayerInParcels = Math.min(sqrDistanceToPlayerInParcels, import_ecs_math2.Vector2.DistanceSquared(playerPos, parcel));
        if (parcel.x === playerPos.x && parcel.y === playerPos.y) {
          isInsideScene = true;
        }
      }
      let fps = 1;
      if (isInsideScene) {
        fps = 30;
      } else if (sqrDistanceToPlayerInParcels <= 2 * 2) {
        fps = 20;
      } else if (sqrDistanceToPlayerInParcels <= 3 * 3) {
        fps = 10;
      } else if (sqrDistanceToPlayerInParcels <= 4 * 4) {
        fps = 5;
      }
      onChangeUpdateInterval(1e3 / fps);
    });
  }

  // src/worker/runtime/DevToolsAdapter.ts
  init_web_worker_inject();
  var DevToolsAdapter = class {
    constructor(devTools) {
      this.devTools = devTools;
      this.exceptions = [];
      this.catchHandler = (...args) => console.log(...args);
    }
    log(...args) {
      const params = {
        type: "log",
        timestamp: performance.now(),
        executionContextId: 0,
        args: args.map(($) => {
          let value = void 0;
          let unserializableValue = void 0;
          const type = typeof $;
          if (type === "object" && $ !== null) {
            try {
              JSON.stringify($);
              value = $;
            } catch (error) {
              unserializableValue = Object.prototype.toString.apply($);
            }
          } else if (type === "number" && (isNaN($) || !isFinite($))) {
            unserializableValue = Object.prototype.toString.apply($);
          } else {
            value = $;
          }
          const remoteObject = {
            type: typeof $,
            value,
            unserializableValue
          };
          return remoteObject;
        })
      };
      this.devTools.event({
        type: "Runtime.consoleAPICalled",
        jsonPayload: JSON.stringify([params])
      }).catch(this.catchHandler);
    }
    error(e) {
      const exceptionId = this.exceptions.push(e) - 1;
      let value = void 0;
      let unserializableValue = void 0;
      try {
        value = JSON.stringify(e);
        if (value === "{}" && e instanceof Error) {
          value = JSON.stringify({
            message: e.message,
            name: e.name,
            stack: e.stack
          });
        }
      } catch (error) {
        unserializableValue = e.toString();
      }
      const exception = {
        type: typeof e,
        value,
        unserializableValue
      };
      const param = {
        timestamp: performance.now(),
        exceptionDetails: {
          text: e.toString() + "\n" + e.stack,
          exceptionId,
          columnNumber: 0,
          lineNumber: 0,
          exception
        }
      };
      this.devTools.event({
        type: "Runtime.exceptionThrown",
        jsonPayload: JSON.stringify([param])
      }).catch(this.catchHandler);
    }
  };

  // src/worker/runtime/Events.ts
  init_web_worker_inject();
  function EventDataToRuntimeEvent(e) {
    switch (e.type) {
      case EventDataType.EDT_GENERIC:
        return {type: e.generic?.eventId || "", data: JSON.parse(e.generic.eventData || "{}")};
      case EventDataType.EDT_POSITION_CHANGED:
        return {type: "positionChanged", data: e.positionChanged};
      case EventDataType.EDT_ROTATION_CHANGED:
        return {type: "rotationChanged", data: e.rotationChanged};
    }
    return {type: "", data: "{}"};
  }

  // src/worker/SceneRuntime.ts
  function parseParcelPosition(position) {
    const [x, y] = position.trim().split(/\s*,\s*/).map(($) => parseInt($, 10));
    return {x, y};
  }
  async function startSceneRuntime(client) {
    const workerName = self.name;
    const clientPort = await client.createPort(`scene-${workerName}`);
    const [EngineApi, EnvironmentApi, Permissions, DevTools] = await Promise.all([
      LoadableApis.EngineApi(clientPort),
      LoadableApis.EnvironmentApi(clientPort),
      LoadableApis.Permissions(clientPort),
      LoadableApis.DevTools(clientPort)
    ]);
    const [canUseWebsocket, canUseFetch] = (await Permissions.hasManyPermissions({
      permissions: [PermissionItem.PI_USE_WEBSOCKET, PermissionItem.PI_USE_FETCH]
    })).hasManyPermission;
    const devToolsAdapter = new DevToolsAdapter(DevTools);
    const eventState = {allowOpenExternalUrl: false};
    const onEventFunctions = [];
    const onUpdateFunctions = [];
    const onStartFunctions = [];
    const batchEvents = {
      events: []
    };
    const bootstrapData = await EnvironmentApi.getBootstrapData({});
    const fullData = JSON.parse(bootstrapData.entity?.metadataJson || "{}");
    const isPreview = await EnvironmentApi.isPreviewMode({});
    const unsafeAllowed = await EnvironmentApi.areUnsafeRequestAllowed({});
    const explorerConfiguration = await EnvironmentApi.getExplorerConfiguration({});
    if (!fullData || !fullData.main) {
      throw new Error(`No boostrap data`);
    }
    const mappingName = fullData.main;
    const mapping = bootstrapData.entity?.content.find(($) => $.file === mappingName);
    if (!mapping) {
      await EngineApi.sendBatch({actions: [initMessagesFinished()]});
      throw new Error(`SDK: Error while loading scene. Main file missing.`);
    }
    const url = resolveMapping(mapping.hash, mappingName, bootstrapData.baseUrl);
    const codeRequest = await fetch(url);
    if (!codeRequest.ok) {
      await EngineApi.sendBatch({actions: [initMessagesFinished()]});
      throw new Error(`SDK: Error while loading ${url} (${mappingName} -> ${mapping?.file}:${mapping?.hash}) the mapping was not found`);
    }
    componentSerializeOpt.useBinaryTransform = explorerConfiguration.configurations["enableBinaryTransform"] === "true";
    let didStart = false;
    let updateIntervalMs = 1e3 / 30;
    async function sendBatchAndProcessEvents() {
      const actions = batchEvents.events;
      if (actions.length) {
        batchEvents.events = [];
      }
      const res = await EngineApi.sendBatch({actions});
      for (const e of res.events) {
        eventReceiver(EventDataToRuntimeEvent(e));
      }
    }
    function eventReceiver(event) {
      if (event.type === "raycastResponse") {
        const idAsNumber = parseInt(event.data.queryId, 10);
        if (numberToIdStore[idAsNumber]) {
          event.data.queryId = numberToIdStore[idAsNumber].toString();
        }
      }
      if (!didStart && event.type === "sceneStart") {
        didStart = true;
        for (const startFunctionCb of onStartFunctions) {
          try {
            startFunctionCb();
          } catch (e) {
            devToolsAdapter.error(e);
          }
        }
      }
      if (isPointerEvent(event)) {
        eventState.allowOpenExternalUrl = true;
      }
      for (const cb of onEventFunctions) {
        try {
          cb(event);
        } catch (err) {
          devToolsAdapter.error(err);
        }
      }
      eventState.allowOpenExternalUrl = false;
    }
    let start = performance.now();
    function reschedule() {
      const ms = Math.max(updateIntervalMs - (performance.now() - start) | 0, 0);
      setTimeout(mainLoop, ms);
    }
    function mainLoop() {
      const now = performance.now();
      const dtMillis = now - start;
      start = now;
      const dtSecs = dtMillis / 1e3;
      for (const trigger of onUpdateFunctions) {
        try {
          trigger(dtSecs);
        } catch (e) {
          devToolsAdapter.error(e);
        }
      }
      sendBatchAndProcessEvents().catch(devToolsAdapter.error).finally(reschedule);
    }
    try {
      const sourceCode = await codeRequest.text();
      const dcl = createDecentralandInterface({
        clientPort,
        onError: (err) => devToolsAdapter.error(err),
        onLog: (...args) => devToolsAdapter.log(...args),
        sceneId: bootstrapData.id,
        eventState,
        batchEvents,
        EngineApi,
        onEventFunctions,
        onStartFunctions,
        onUpdateFunctions
      });
      const runtimeExecutionContext = prepareSandboxContext({
        dcl,
        canUseFetch,
        canUseWebsocket,
        log: dcl.log,
        previewMode: isPreview.isPreview || unsafeAllowed.status
      });
      if (bootstrapData.useFPSThrottling === true) {
        setupFpsThrottling(dcl, fullData.scene.parcels.map(parseParcelPosition), (newValue) => {
          updateIntervalMs = newValue;
        });
      }
      await customEval(sourceCode, runtimeExecutionContext);
    } catch (err) {
      await EngineApi.sendBatch({actions: [initMessagesFinished()]});
      devToolsAdapter.error(new Error(`SceneRuntime: Error while evaluating the scene ${workerName}`));
      await sleep(100);
      throw err;
    }
    batchEvents.events.push(initMessagesFinished());
    do {
      await sendBatchAndProcessEvents();
    } while (!didStart && await sleep(100));
    mainLoop();
  }
  function isPointerEvent(event) {
    switch (event.type) {
      case "uuidEvent":
        return event.data?.payload?.buttonId !== void 0;
    }
    return false;
  }
  async function sleep(ms) {
    await new Promise((resolve) => setTimeout(resolve, Math.max(ms | 0, 0)));
    return true;
  }

  // src/worker/index-webworker.ts
  (0, import_rpc.createRpcClient)((0, import_WebWorker.WebWorkerTransport)(self)).then(startSceneRuntime).catch((err) => console.error(err));
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3dvcmtlci93ZWItd29ya2VyLWluamVjdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9ycGMvZGlzdC90eXBlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWl0dC9zcmMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2FzcHJvbWlzZS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYmFzZTY0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9ldmVudGVtaXR0ZXIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2Zsb2F0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9pbnF1aXJlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy91dGY4L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9wb29sL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL2xvbmdiaXRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL21pbmltYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyaXRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvd3JpdGVyX2J1ZmZlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yZWFkZXJfYnVmZmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9ycGMvc2VydmljZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yb290cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvaW5kZXgtbWluaW1hbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9taW5pbWFsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvcHJvdG9jb2wvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcnBjL3NyYy9wcm90b2NvbC9oZWxwZXJzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvbWVzc2FnZS1kaXNwYXRjaGVyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvcHVzaC1jaGFubmVsLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvc3RyZWFtLXByb3RvY29sLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvc2VydmVyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvY2xpZW50LXJlcXVlc3QtZGlzcGF0Y2hlci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9ycGMvc3JjL2NsaWVudC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9ycGMvc3JjL2luZGV4LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3JwYy9zcmMvdHJhbnNwb3J0cy9XZWJXb3JrZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcnBjL3NyYy9jb2RlZ2VuLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy90eXBlcy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9zcmMvdXRpbHMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvc3JjL1NjYWxhci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9zcmMvVmVjdG9yNC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9zcmMvTWF0cml4LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9RdWF0ZXJuaW9uLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9WZWN0b3IzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9wcmVhbGxvY2F0ZWRWYXJpYWJsZXMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvc3JjL0FuZ2xlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9WZWN0b3IyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9BcmMyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9BeGlzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9CZXppZXJDdXJ2ZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9zcmMvQ29sb3I0LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9Db2xvcjMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvc3JjL0N1cnZlM2QudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvc3JjL1BsYW5lLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9GdXJzdHVtLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL3NyYy9QYXRoMmQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvc3JjL1BhdGgzZC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9zcmMvU2l6ZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9zcmMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xvbmcvc3JjL2xvbmcuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3AtZmluYWxseS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcC10aW1lb3V0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wLXF1ZXVlL2Rpc3QvbG93ZXItYm91bmQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3AtcXVldWUvZGlzdC9wcmlvcml0eS1xdWV1ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcC1xdWV1ZS9kaXN0L2luZGV4LmpzIiwgIi4uL3NyYy93b3JrZXIvaW5kZXgtd2Vid29ya2VyLnRzIiwgIi4uL3NyYy93b3JrZXIvU2NlbmVSdW50aW1lLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L2luZGV4LnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L0NvbW11bmljYXRpb25zQ29udHJvbGxlci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2NvbW11bmljYXRpb25zX2NvbnRyb2xsZXIuZ2VuLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L0RldlRvb2xzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvZGV2X3Rvb2xzLmdlbi50cyIsICIuLi9zcmMvd29ya2VyL2NsaWVudC9FbmdpbmVBcGkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9lbmdpbmVfYXBpLmdlbi50cyIsICIuLi9zcmMvd29ya2VyL2NsaWVudC9FbnZpcm9ubWVudEFwaS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2Vudmlyb25tZW50X2FwaS5nZW4udHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9jb21tb24vY29udGVudF9tYXBwaW5nLmdlbi50cyIsICIuLi9zcmMvd29ya2VyL2NsaWVudC9FdGhlcmV1bUNvbnRyb2xsZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9ldGhlcmV1bV9jb250cm9sbGVyLmdlbi50cyIsICIuLi9zcmMvd29ya2VyL2NsaWVudC9FeHBlcmltZW50YWxBcGkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9leHBlcmltZW50YWxfYXBpLmdlbi50cyIsICIuLi9zcmMvd29ya2VyL2NsaWVudC9QYXJjZWxJZGVudGl0eS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL3BhcmNlbF9pZGVudGl0eS5nZW4udHMiLCAiLi4vc3JjL3dvcmtlci9jbGllbnQvUGVybWlzc2lvbnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9wZXJtaXNzaW9ucy5nZW4udHMiLCAiLi4vc3JjL3dvcmtlci9jbGllbnQvUGxheWVycy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL3BsYXllcnMuZ2VuLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQvY29tbW9uL3Nkay91c2VyX2RhdGEuZ2VuLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L1BvcnRhYmxlRXhwZXJpZW5jZXMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9wb3J0YWJsZV9leHBlcmllbmNlcy5nZW4udHMiLCAiLi4vc3JjL3dvcmtlci9jbGllbnQvUmVzdHJpY3RlZEFjdGlvbnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9yZXN0cmljdGVkX2FjdGlvbnMuZ2VuLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L1NpZ25lZEZldGNoLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvc2lnbmVkX2ZldGNoLmdlbi50cyIsICIuLi9zcmMvd29ya2VyL2NsaWVudC9Tb2NpYWxDb250cm9sbGVyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvc29jaWFsX2NvbnRyb2xsZXIuZ2VuLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L1VzZXJBY3Rpb25Nb2R1bGUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy91c2VyX2FjdGlvbl9tb2R1bGUuZ2VuLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L1VzZXJJZGVudGl0eS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL3VzZXJfaWRlbnRpdHkuZ2VuLnRzIiwgIi4uL3NyYy93b3JrZXIvY2xpZW50L1dlYjNQcm92aWRlci50cyIsICIuLi9zcmMvd29ya2VyL1V0aWxzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQvcmVuZGVyZXIvZW5naW5lX2ludGVyZmFjZS5nZW4udHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvcHJvdG9jb2wvb3V0LXRzL2dvb2dsZS9wcm90b2J1Zi9lbXB0eS5nZW4udHMiLCAiLi4vc3JjL3dvcmtlci9zYW5kYm94LnRzIiwgIi4uL3NyYy93b3JrZXIvRmV0Y2gudHMiLCAiLi4vc3JjL3dvcmtlci9XZWJTb2NrZXQudHMiLCAiLi4vc3JjL3dvcmtlci9ydW50aW1lL0RlY2VudHJhbGFuZEludGVyZmFjZS50cyIsICIuLi9zcmMvd29ya2VyL3J1bnRpbWUvU2V0dXBGcHNUaHJvdHRsaW5nLnRzIiwgIi4uL3NyYy93b3JrZXIvcnVudGltZS9EZXZUb29sc0FkYXB0ZXIudHMiLCAiLi4vc3JjL3dvcmtlci9ydW50aW1lL0V2ZW50cy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gVW50aWwgY2hyb21lIGZpeGVzIHRoZWlyIHZpcnR1YWwgbWVtb3J5IHByb2JsZW0gaW4gd2hpY2ggdGhleSBhbGxvY2F0ZVxuLy8gMTAwR0IodmlydCkgdG8gZWFjaCBXQVNNLCB3ZSBkaXNhYmxlIFdBU00gaW4gdGhlIHNjZW5lIHdvcmtlcnNcbmdsb2JhbFRoaXMuV2ViQXNzZW1ibHkuSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignV2FzbSBpcyBub3QgYWxsb3dlZCBpbiBzY2VuZSBydW50aW1lcycpXG59XG5nbG9iYWxUaGlzLldlYkFzc2VtYmx5Lk1vZHVsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdXYXNtIGlzIG5vdCBhbGxvd2VkIGluIHNjZW5lIHJ1bnRpbWVzJylcbn1cblxuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwgImV4cG9ydCB0eXBlIEV2ZW50VHlwZSA9IHN0cmluZyB8IHN5bWJvbDtcblxuLy8gQW4gZXZlbnQgaGFuZGxlciBjYW4gdGFrZSBhbiBvcHRpb25hbCBldmVudCBhcmd1bWVudFxuLy8gYW5kIHNob3VsZCBub3QgcmV0dXJuIGEgdmFsdWVcbmV4cG9ydCB0eXBlIEhhbmRsZXI8VCA9IHVua25vd24+ID0gKGV2ZW50OiBUKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgV2lsZGNhcmRIYW5kbGVyPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gPSAoXG5cdHR5cGU6IGtleW9mIFQsXG5cdGV2ZW50OiBUW2tleW9mIFRdXG4pID0+IHZvaWQ7XG5cbi8vIEFuIGFycmF5IG9mIGFsbCBjdXJyZW50bHkgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVycyBmb3IgYSB0eXBlXG5leHBvcnQgdHlwZSBFdmVudEhhbmRsZXJMaXN0PFQgPSB1bmtub3duPiA9IEFycmF5PEhhbmRsZXI8VD4+O1xuZXhwb3J0IHR5cGUgV2lsZENhcmRFdmVudEhhbmRsZXJMaXN0PFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gPSBBcnJheTxXaWxkY2FyZEhhbmRsZXI8VD4+O1xuXG4vLyBBIG1hcCBvZiBldmVudCB0eXBlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBldmVudCBoYW5kbGVycy5cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlck1hcDxFdmVudHMgZXh0ZW5kcyBSZWNvcmQ8RXZlbnRUeXBlLCB1bmtub3duPj4gPSBNYXA8XG5cdGtleW9mIEV2ZW50cyB8ICcqJyxcblx0RXZlbnRIYW5kbGVyTGlzdDxFdmVudHNba2V5b2YgRXZlbnRzXT4gfCBXaWxkQ2FyZEV2ZW50SGFuZGxlckxpc3Q8RXZlbnRzPlxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBFbWl0dGVyPEV2ZW50cyBleHRlbmRzIFJlY29yZDxFdmVudFR5cGUsIHVua25vd24+PiB7XG5cdGFsbDogRXZlbnRIYW5kbGVyTWFwPEV2ZW50cz47XG5cblx0b248S2V5IGV4dGVuZHMga2V5b2YgRXZlbnRzPih0eXBlOiBLZXksIGhhbmRsZXI6IEhhbmRsZXI8RXZlbnRzW0tleV0+KTogdm9pZDtcblx0b24odHlwZTogJyonLCBoYW5kbGVyOiBXaWxkY2FyZEhhbmRsZXI8RXZlbnRzPik6IHZvaWQ7XG5cblx0b2ZmPEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4odHlwZTogS2V5LCBoYW5kbGVyPzogSGFuZGxlcjxFdmVudHNbS2V5XT4pOiB2b2lkO1xuXHRvZmYodHlwZTogJyonLCBoYW5kbGVyOiBXaWxkY2FyZEhhbmRsZXI8RXZlbnRzPik6IHZvaWQ7XG5cblx0ZW1pdDxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IEtleSwgZXZlbnQ6IEV2ZW50c1tLZXldKTogdm9pZDtcblx0ZW1pdDxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IHVuZGVmaW5lZCBleHRlbmRzIEV2ZW50c1tLZXldID8gS2V5IDogbmV2ZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIE1pdHQ6IFRpbnkgKH4yMDBiKSBmdW5jdGlvbmFsIGV2ZW50IGVtaXR0ZXIgLyBwdWJzdWIuXG4gKiBAbmFtZSBtaXR0XG4gKiBAcmV0dXJucyB7TWl0dH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWl0dDxFdmVudHMgZXh0ZW5kcyBSZWNvcmQ8RXZlbnRUeXBlLCB1bmtub3duPj4oXG5cdGFsbD86IEV2ZW50SGFuZGxlck1hcDxFdmVudHM+XG4pOiBFbWl0dGVyPEV2ZW50cz4ge1xuXHR0eXBlIEdlbmVyaWNFdmVudEhhbmRsZXIgPVxuXHRcdHwgSGFuZGxlcjxFdmVudHNba2V5b2YgRXZlbnRzXT5cblx0XHR8IFdpbGRjYXJkSGFuZGxlcjxFdmVudHM+O1xuXHRhbGwgPSBhbGwgfHwgbmV3IE1hcCgpO1xuXG5cdHJldHVybiB7XG5cblx0XHQvKipcblx0XHQgKiBBIE1hcCBvZiBldmVudCBuYW1lcyB0byByZWdpc3RlcmVkIGhhbmRsZXIgZnVuY3Rpb25zLlxuXHRcdCAqL1xuXHRcdGFsbCxcblxuXHRcdC8qKlxuXHRcdCAqIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBnaXZlbiB0eXBlLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfHN5bWJvbH0gdHlwZSBUeXBlIG9mIGV2ZW50IHRvIGxpc3RlbiBmb3IsIG9yIGAnKidgIGZvciBhbGwgZXZlbnRzXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBGdW5jdGlvbiB0byBjYWxsIGluIHJlc3BvbnNlIHRvIGdpdmVuIGV2ZW50XG5cdFx0ICogQG1lbWJlck9mIG1pdHRcblx0XHQgKi9cblx0XHRvbjxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IEtleSwgaGFuZGxlcjogR2VuZXJpY0V2ZW50SGFuZGxlcikge1xuXHRcdFx0Y29uc3QgaGFuZGxlcnM6IEFycmF5PEdlbmVyaWNFdmVudEhhbmRsZXI+IHwgdW5kZWZpbmVkID0gYWxsIS5nZXQodHlwZSk7XG5cdFx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRhbGwhLnNldCh0eXBlLCBbaGFuZGxlcl0gYXMgRXZlbnRIYW5kbGVyTGlzdDxFdmVudHNba2V5b2YgRXZlbnRzXT4pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmUgYW4gZXZlbnQgaGFuZGxlciBmb3IgdGhlIGdpdmVuIHR5cGUuXG5cdFx0ICogSWYgYGhhbmRsZXJgIGlzIG9taXR0ZWQsIGFsbCBoYW5kbGVycyBvZiB0aGUgZ2l2ZW4gdHlwZSBhcmUgcmVtb3ZlZC5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xzeW1ib2x9IHR5cGUgVHlwZSBvZiBldmVudCB0byB1bnJlZ2lzdGVyIGBoYW5kbGVyYCBmcm9tLCBvciBgJyonYFxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXSBIYW5kbGVyIGZ1bmN0aW9uIHRvIHJlbW92ZVxuXHRcdCAqIEBtZW1iZXJPZiBtaXR0XG5cdFx0ICovXG5cdFx0b2ZmPEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4odHlwZTogS2V5LCBoYW5kbGVyPzogR2VuZXJpY0V2ZW50SGFuZGxlcikge1xuXHRcdFx0Y29uc3QgaGFuZGxlcnM6IEFycmF5PEdlbmVyaWNFdmVudEhhbmRsZXI+IHwgdW5kZWZpbmVkID0gYWxsIS5nZXQodHlwZSk7XG5cdFx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdFx0aWYgKGhhbmRsZXIpIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKSA+Pj4gMCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0YWxsIS5zZXQodHlwZSwgW10pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEludm9rZSBhbGwgaGFuZGxlcnMgZm9yIHRoZSBnaXZlbiB0eXBlLlxuXHRcdCAqIElmIHByZXNlbnQsIGAnKidgIGhhbmRsZXJzIGFyZSBpbnZva2VkIGFmdGVyIHR5cGUtbWF0Y2hlZCBoYW5kbGVycy5cblx0XHQgKlxuXHRcdCAqIE5vdGU6IE1hbnVhbGx5IGZpcmluZyAnKicgaGFuZGxlcnMgaXMgbm90IHN1cHBvcnRlZC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfHN5bWJvbH0gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBpbnZva2Vcblx0XHQgKiBAcGFyYW0ge0FueX0gW2V2dF0gQW55IHZhbHVlIChvYmplY3QgaXMgcmVjb21tZW5kZWQgYW5kIHBvd2VyZnVsKSwgcGFzc2VkIHRvIGVhY2ggaGFuZGxlclxuXHRcdCAqIEBtZW1iZXJPZiBtaXR0XG5cdFx0ICovXG5cdFx0ZW1pdDxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IEtleSwgZXZ0PzogRXZlbnRzW0tleV0pIHtcblx0XHRcdGxldCBoYW5kbGVycyA9IGFsbCEuZ2V0KHR5cGUpO1xuXHRcdFx0aWYgKGhhbmRsZXJzKSB7XG5cdFx0XHRcdChoYW5kbGVycyBhcyBFdmVudEhhbmRsZXJMaXN0PEV2ZW50c1trZXlvZiBFdmVudHNdPilcblx0XHRcdFx0XHQuc2xpY2UoKVxuXHRcdFx0XHRcdC5tYXAoKGhhbmRsZXIpID0+IHtcblx0XHRcdFx0XHRcdGhhbmRsZXIoZXZ0ISk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGhhbmRsZXJzID0gYWxsIS5nZXQoJyonKTtcblx0XHRcdGlmIChoYW5kbGVycykge1xuXHRcdFx0XHQoaGFuZGxlcnMgYXMgV2lsZENhcmRFdmVudEhhbmRsZXJMaXN0PEV2ZW50cz4pXG5cdFx0XHRcdFx0LnNsaWNlKClcblx0XHRcdFx0XHQubWFwKChoYW5kbGVyKSA9PiB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyKHR5cGUsIGV2dCEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBhc1Byb21pc2U7XHJcblxyXG4vKipcclxuICogQ2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5hc1Byb21pc2V9LlxyXG4gKiBAdHlwZWRlZiBhc1Byb21pc2VDYWxsYmFja1xyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxyXG4gKiBAcGFyYW0gey4uLip9IHBhcmFtcyBBZGRpdGlvbmFsIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmcm9tIGEgbm9kZS1zdHlsZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHthc1Byb21pc2VDYWxsYmFja30gZm4gRnVuY3Rpb24gdG8gY2FsbFxyXG4gKiBAcGFyYW0geyp9IGN0eCBGdW5jdGlvbiBjb250ZXh0XHJcbiAqIEBwYXJhbSB7Li4uKn0gcGFyYW1zIEZ1bmN0aW9uIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gUHJvbWlzaWZpZWQgZnVuY3Rpb25cclxuICovXHJcbmZ1bmN0aW9uIGFzUHJvbWlzZShmbiwgY3R4LyosIHZhcmFyZ3MgKi8pIHtcclxuICAgIHZhciBwYXJhbXMgID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcclxuICAgICAgICBvZmZzZXQgID0gMCxcclxuICAgICAgICBpbmRleCAgID0gMixcclxuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcclxuICAgIHdoaWxlIChpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAgICAgICAgcGFyYW1zW29mZnNldCsrXSA9IGFyZ3VtZW50c1tpbmRleCsrXTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBwYXJhbXNbb2Zmc2V0XSA9IGZ1bmN0aW9uIGNhbGxiYWNrKGVyci8qLCB2YXJhcmdzICovKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IHBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tvZmZzZXQrK10gPSBhcmd1bWVudHNbb2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KG51bGwsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KGN0eCB8fCBudWxsLCBwYXJhbXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogQSBtaW5pbWFsIGJhc2U2NCBpbXBsZW1lbnRhdGlvbiBmb3IgbnVtYmVyIGFycmF5cy5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxudmFyIGJhc2U2NCA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYnl0ZSBsZW5ndGggb2YgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgQmFzZTY0IGVuY29kZWQgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGUgbGVuZ3RoXHJcbiAqL1xyXG5iYXNlNjQubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKHN0cmluZykge1xyXG4gICAgdmFyIHAgPSBzdHJpbmcubGVuZ3RoO1xyXG4gICAgaWYgKCFwKVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgdmFyIG4gPSAwO1xyXG4gICAgd2hpbGUgKC0tcCAlIDQgPiAxICYmIHN0cmluZy5jaGFyQXQocCkgPT09IFwiPVwiKVxyXG4gICAgICAgICsrbjtcclxuICAgIHJldHVybiBNYXRoLmNlaWwoc3RyaW5nLmxlbmd0aCAqIDMpIC8gNCAtIG47XHJcbn07XHJcblxyXG4vLyBCYXNlNjQgZW5jb2RpbmcgdGFibGVcclxudmFyIGI2NCA9IG5ldyBBcnJheSg2NCk7XHJcblxyXG4vLyBCYXNlNjQgZGVjb2RpbmcgdGFibGVcclxudmFyIHM2NCA9IG5ldyBBcnJheSgxMjMpO1xyXG5cclxuLy8gNjUuLjkwLCA5Ny4uMTIyLCA0OC4uNTcsIDQzLCA0N1xyXG5mb3IgKHZhciBpID0gMDsgaSA8IDY0OylcclxuICAgIHM2NFtiNjRbaV0gPSBpIDwgMjYgPyBpICsgNjUgOiBpIDwgNTIgPyBpICsgNzEgOiBpIDwgNjIgPyBpIC0gNCA6IGkgLSA1OSB8IDQzXSA9IGkrKztcclxuXHJcbi8qKlxyXG4gKiBFbmNvZGVzIGEgYnVmZmVyIHRvIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTb3VyY2Ugc3RhcnRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBTb3VyY2UgZW5kXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuYmFzZTY0LmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShidWZmZXIsIHN0YXJ0LCBlbmQpIHtcclxuICAgIHZhciBwYXJ0cyA9IG51bGwsXHJcbiAgICAgICAgY2h1bmsgPSBbXTtcclxuICAgIHZhciBpID0gMCwgLy8gb3V0cHV0IGluZGV4XHJcbiAgICAgICAgaiA9IDAsIC8vIGdvdG8gaW5kZXhcclxuICAgICAgICB0OyAgICAgLy8gdGVtcG9yYXJ5XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICB2YXIgYiA9IGJ1ZmZlcltzdGFydCsrXTtcclxuICAgICAgICBzd2l0Y2ggKGopIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFtiID4+IDJdO1xyXG4gICAgICAgICAgICAgICAgdCA9IChiICYgMykgPDwgNDtcclxuICAgICAgICAgICAgICAgIGogPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbdCB8IGIgPj4gNF07XHJcbiAgICAgICAgICAgICAgICB0ID0gKGIgJiAxNSkgPDwgMjtcclxuICAgICAgICAgICAgICAgIGogPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbdCB8IGIgPj4gNl07XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W2IgJiA2M107XHJcbiAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA+IDgxOTEpIHtcclxuICAgICAgICAgICAgKHBhcnRzIHx8IChwYXJ0cyA9IFtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmspKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGopIHtcclxuICAgICAgICBjaHVua1tpKytdID0gYjY0W3RdO1xyXG4gICAgICAgIGNodW5rW2krK10gPSA2MTtcclxuICAgICAgICBpZiAoaiA9PT0gMSlcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDYxO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKGkpXHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKTtcclxufTtcclxuXHJcbnZhciBpbnZhbGlkRW5jb2RpbmcgPSBcImludmFsaWQgZW5jb2RpbmdcIjtcclxuXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgYnVmZmVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFNvdXJjZSBzdHJpbmdcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgRGVzdGluYXRpb24gYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgRGVzdGluYXRpb24gb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IE51bWJlciBvZiBieXRlcyB3cml0dGVuXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBlbmNvZGluZyBpcyBpbnZhbGlkXHJcbiAqL1xyXG5iYXNlNjQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHN0cmluZywgYnVmZmVyLCBvZmZzZXQpIHtcclxuICAgIHZhciBzdGFydCA9IG9mZnNldDtcclxuICAgIHZhciBqID0gMCwgLy8gZ290byBpbmRleFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDspIHtcclxuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XHJcbiAgICAgICAgaWYgKGMgPT09IDYxICYmIGogPiAxKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBpZiAoKGMgPSBzNjRbY10pID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGludmFsaWRFbmNvZGluZyk7XHJcbiAgICAgICAgc3dpdGNoIChqKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IHQgPDwgMiB8IChjICYgNDgpID4+IDQ7XHJcbiAgICAgICAgICAgICAgICB0ID0gYztcclxuICAgICAgICAgICAgICAgIGogPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSAodCAmIDE1KSA8PCA0IHwgKGMgJiA2MCkgPj4gMjtcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9ICh0ICYgMykgPDwgNiB8IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChqID09PSAxKVxyXG4gICAgICAgIHRocm93IEVycm9yKGludmFsaWRFbmNvZGluZyk7XHJcbiAgICByZXR1cm4gb2Zmc2V0IC0gc3RhcnQ7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBzdHJpbmcgYXBwZWFycyB0byBiZSBiYXNlNjQgZW5jb2RlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gdGVzdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHByb2JhYmx5IGJhc2U2NCBlbmNvZGVkLCBvdGhlcndpc2UgZmFsc2VcclxuICovXHJcbmJhc2U2NC50ZXN0ID0gZnVuY3Rpb24gdGVzdChzdHJpbmcpIHtcclxuICAgIHJldHVybiAvXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChzdHJpbmcpO1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYSBuZXcgZXZlbnQgZW1pdHRlciBpbnN0YW5jZS5cclxuICogQGNsYXNzZGVzYyBBIG1pbmltYWwgZXZlbnQgZW1pdHRlci5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcmVkIGxpc3RlbmVycy5cclxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZywqPn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZ0IEV2ZW50IG5hbWVcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gTGlzdGVuZXJcclxuICogQHBhcmFtIHsqfSBbY3R4XSBMaXN0ZW5lciBjb250ZXh0XHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZ0LCBmbiwgY3R4KSB7XHJcbiAgICAodGhpcy5fbGlzdGVuZXJzW2V2dF0gfHwgKHRoaXMuX2xpc3RlbmVyc1tldnRdID0gW10pKS5wdXNoKHtcclxuICAgICAgICBmbiAgOiBmbixcclxuICAgICAgICBjdHggOiBjdHggfHwgdGhpc1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIG9yIGFueSBtYXRjaGluZyBsaXN0ZW5lcnMgaWYgYXJndW1lbnRzIGFyZSBvbWl0dGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2V2dF0gRXZlbnQgbmFtZS4gUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGlmIG9taXR0ZWQuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtmbl0gTGlzdGVuZXIgdG8gcmVtb3ZlLiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgb2YgYGV2dGAgaWYgb21pdHRlZC5cclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gb2ZmKGV2dCwgZm4pIHtcclxuICAgIGlmIChldnQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChmbiA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbZXZ0XSA9IFtdO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2dF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDspXHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmZuID09PSBmbilcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICsraTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0cyBhbiBldmVudCBieSBjYWxsaW5nIGl0cyBsaXN0ZW5lcnMgd2l0aCB0aGUgc3BlY2lmaWVkIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2dCBFdmVudCBuYW1lXHJcbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHNcclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZ0KSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2dF07XHJcbiAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSxcclxuICAgICAgICAgICAgaSA9IDE7XHJcbiAgICAgICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOylcclxuICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDspXHJcbiAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaSsrXS5jdHgsIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShmYWN0b3J5KTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkcyAvIHdyaXRlcyBmbG9hdHMgLyBkb3VibGVzIGZyb20gLyB0byBidWZmZXJzLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0XHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgMzIgYml0IGZsb2F0IHRvIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZUZsb2F0TEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDMyIGJpdCBmbG9hdCB0byBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVGbG9hdEJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDMyIGJpdCBmbG9hdCBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRmxvYXRMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSAzMiBiaXQgZmxvYXQgZnJvbSBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZEZsb2F0QkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLy8gRmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2Ygbm9kZS1iYXNlZCB0ZXN0aW5nIGluIG1vZGlmaWVkIGdsb2JhbCBlbnZpcm9ubWVudHNcclxuZnVuY3Rpb24gZmFjdG9yeShleHBvcnRzKSB7XHJcblxyXG4gICAgLy8gZmxvYXQ6IHR5cGVkIGFycmF5XHJcbiAgICBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShbIC0wIF0pLFxyXG4gICAgICAgICAgICBmOGIgPSBuZXcgVWludDhBcnJheShmMzIuYnVmZmVyKSxcclxuICAgICAgICAgICAgbGUgID0gZjhiWzNdID09PSAxMjg7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfZjMyX2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGYzMlswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9mMzJfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjMyWzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdExFID0gbGUgPyB3cml0ZUZsb2F0X2YzMl9jcHkgOiB3cml0ZUZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IGxlID8gd3JpdGVGbG9hdF9mMzJfcmV2IDogd3JpdGVGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSBsZSA/IHJlYWRGbG9hdF9mMzJfY3B5IDogcmVhZEZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdEJFID0gbGUgPyByZWFkRmxvYXRfZjMyX3JldiA6IHJlYWRGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgIC8vIGZsb2F0OiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9pZWVlNzU0KHdyaXRlVWludCwgdmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IHZhbCA8IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgaWYgKHNpZ24pXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAtdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsID09PSAwKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDEgLyB2YWwgPiAwID8gLyogcG9zaXRpdmUgKi8gMCA6IC8qIG5lZ2F0aXZlIDAgKi8gMjE0NzQ4MzY0OCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChpc05hTih2YWwpKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDMyODkzNDQsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsID4gMy40MDI4MjM0NjYzODUyODg2ZSszOCkgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgMjEzOTA5NTA0MCkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgMS4xNzU0OTQzNTA4MjIyODc1ZS0zOCkgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IE1hdGgucm91bmQodmFsIC8gMS40MDEyOTg0NjQzMjQ4MTdlLTQ1KSkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSBNYXRoLnJvdW5kKHZhbCAqIE1hdGgucG93KDIsIC1leHBvbmVudCkgKiA4Mzg4NjA4KSAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBleHBvbmVudCArIDEyNyA8PCAyMyB8IG1hbnRpc3NhKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRMRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludExFKTtcclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2llZWU3NTQocmVhZFVpbnQsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciB1aW50ID0gcmVhZFVpbnQoYnVmLCBwb3MpLFxyXG4gICAgICAgICAgICAgICAgc2lnbiA9ICh1aW50ID4+IDMxKSAqIDIgKyAxLFxyXG4gICAgICAgICAgICAgICAgZXhwb25lbnQgPSB1aW50ID4+PiAyMyAmIDI1NSxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdWludCAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjU1XHJcbiAgICAgICAgICAgICAgICA/IG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA/IE5hTlxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIDogZXhwb25lbnQgPT09IDAgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgID8gc2lnbiAqIDEuNDAxMjk4NDY0MzI0ODE3ZS00NSAqIG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIDE1MCkgKiAobWFudGlzc2EgKyA4Mzg4NjA4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50TEUpO1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0QkUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUpO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gZG91YmxlOiB0eXBlZCBhcnJheVxyXG4gICAgaWYgKHR5cGVvZiBGbG9hdDY0QXJyYXkgIT09IFwidW5kZWZpbmVkXCIpIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoWy0wXSksXHJcbiAgICAgICAgICAgIGY4YiA9IG5ldyBVaW50OEFycmF5KGY2NC5idWZmZXIpLFxyXG4gICAgICAgICAgICBsZSAgPSBmOGJbN10gPT09IDEyODtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfZjY0X2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY2NFswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNF0gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA1XSA9IGY4Yls1XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDZdID0gZjhiWzZdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgN10gPSBmOGJbN107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9mNjRfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjY0WzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbN107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4Yls2XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzVdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA0XSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDVdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNl0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA3XSA9IGY4YlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUxFID0gbGUgPyB3cml0ZURvdWJsZV9mNjRfY3B5IDogd3JpdGVEb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVCRSA9IGxlID8gd3JpdGVEb3VibGVfZjY0X3JldiA6IHdyaXRlRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4Yls0XSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbNl0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4Yls3XSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbN10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4Yls2XSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbNF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSBsZSA/IHJlYWREb3VibGVfZjY0X2NweSA6IHJlYWREb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUJFID0gbGUgPyByZWFkRG91YmxlX2Y2NF9yZXYgOiByZWFkRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgLy8gZG91YmxlOiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfaWVlZTc1NCh3cml0ZVVpbnQsIG9mZjAsIG9mZjEsIHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSB2YWwgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGlmIChzaWduKVxyXG4gICAgICAgICAgICAgICAgdmFsID0gLXZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMSAvIHZhbCA+IDAgPyAvKiBwb3NpdGl2ZSAqLyAwIDogLyogbmVnYXRpdmUgMCAqLyAyMTQ3NDgzNjQ4LCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDY5NTkzNjAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpIHsgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCAyMTQ2NDM1MDcyKSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYW50aXNzYTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAyLjIyNTA3Mzg1ODUwNzIwMTRlLTMwOCkgeyAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdmFsIC8gNWUtMzI0O1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBtYW50aXNzYSAvIDQyOTQ5NjcyOTYpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9uZW50ID09PSAxMDI0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudCA9IDEwMjM7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSB2YWwgKiBNYXRoLnBvdygyLCAtZXhwb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSAqIDQ1MDM1OTk2MjczNzA0OTYgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgZXhwb25lbnQgKyAxMDIzIDw8IDIwIHwgbWFudGlzc2EgKiAxMDQ4NTc2ICYgMTA0ODU3NSkgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVMRSA9IHdyaXRlRG91YmxlX2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRMRSwgMCwgNCk7XHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUJFID0gd3JpdGVEb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFLCA0LCAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9pZWVlNzU0KHJlYWRVaW50LCBvZmYwLCBvZmYxLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgbG8gPSByZWFkVWludChidWYsIHBvcyArIG9mZjApLFxyXG4gICAgICAgICAgICAgICAgaGkgPSByZWFkVWludChidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IChoaSA+PiAzMSkgKiAyICsgMSxcclxuICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gaGkgPj4+IDIwICYgMjA0NyxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gNDI5NDk2NzI5NiAqIChoaSAmIDEwNDg1NzUpICsgbG87XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjA0N1xyXG4gICAgICAgICAgICAgICAgPyBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgPyBOYU5cclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICA6IGV4cG9uZW50ID09PSAwIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICA/IHNpZ24gKiA1ZS0zMjQgKiBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogTWF0aC5wb3coMiwgZXhwb25lbnQgLSAxMDc1KSAqIChtYW50aXNzYSArIDQ1MDM1OTk2MjczNzA0OTYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSByZWFkRG91YmxlX2llZWU3NTQuYmluZChudWxsLCByZWFkVWludExFLCAwLCA0KTtcclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVCRSA9IHJlYWREb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUsIDQsIDApO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIGV4cG9ydHM7XHJcbn1cclxuXHJcbi8vIHVpbnQgaGVscGVyc1xyXG5cclxuZnVuY3Rpb24gd3JpdGVVaW50TEUodmFsLCBidWYsIHBvcykge1xyXG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDE2ICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlVWludEJFKHZhbCwgYnVmLCBwb3MpIHtcclxuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgPj4+IDI0O1xyXG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gMTYgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgICAgICAgICYgMjU1O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVWludExFKGJ1ZiwgcG9zKSB7XHJcbiAgICByZXR1cm4gKGJ1Zltwb3MgICAgXVxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMV0gPDwgOFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMl0gPDwgMTZcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDNdIDw8IDI0KSA+Pj4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVpbnRCRShidWYsIHBvcykge1xyXG4gICAgcmV0dXJuIChidWZbcG9zICAgIF0gPDwgMjRcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDFdIDw8IDE2XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAyXSA8PCA4XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAzXSkgPj4+IDA7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGlucXVpcmU7XHJcblxyXG4vKipcclxuICogUmVxdWlyZXMgYSBtb2R1bGUgb25seSBpZiBhdmFpbGFibGUuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVOYW1lIE1vZHVsZSB0byByZXF1aXJlXHJcbiAqIEByZXR1cm5zIHs/T2JqZWN0fSBSZXF1aXJlZCBtb2R1bGUgaWYgYXZhaWxhYmxlIGFuZCBub3QgZW1wdHksIG90aGVyd2lzZSBgbnVsbGBcclxuICovXHJcbmZ1bmN0aW9uIGlucXVpcmUobW9kdWxlTmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgbW9kID0gZXZhbChcInF1aXJlXCIucmVwbGFjZSgvXi8sXCJyZVwiKSkobW9kdWxlTmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxyXG4gICAgICAgIGlmIChtb2QgJiYgKG1vZC5sZW5ndGggfHwgT2JqZWN0LmtleXMobW9kKS5sZW5ndGgpKVxyXG4gICAgICAgICAgICByZXR1cm4gbW9kO1xyXG4gICAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiAqIEEgbWluaW1hbCBVVEY4IGltcGxlbWVudGF0aW9uIGZvciBudW1iZXIgYXJyYXlzLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG52YXIgdXRmOCA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgVVRGOCBieXRlIGxlbmd0aCBvZiBhIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmdcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZSBsZW5ndGhcclxuICovXHJcbnV0ZjgubGVuZ3RoID0gZnVuY3Rpb24gdXRmOF9sZW5ndGgoc3RyaW5nKSB7XHJcbiAgICB2YXIgbGVuID0gMCxcclxuICAgICAgICBjID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KVxyXG4gICAgICAgICAgICBsZW4gKz0gMTtcclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OClcclxuICAgICAgICAgICAgbGVuICs9IDI7XHJcbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweEZDMDApID09PSAweEQ4MDAgJiYgKHN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4RkMwMCkgPT09IDB4REMwMCkge1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGxlbiArPSA0O1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICBsZW4gKz0gMztcclxuICAgIH1cclxuICAgIHJldHVybiBsZW47XHJcbn07XHJcblxyXG4vKipcclxuICogUmVhZHMgVVRGOCBieXRlcyBhcyBhIHN0cmluZy5cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgU291cmNlIHN0YXJ0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgU291cmNlIGVuZFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmcgcmVhZFxyXG4gKi9cclxudXRmOC5yZWFkID0gZnVuY3Rpb24gdXRmOF9yZWFkKGJ1ZmZlciwgc3RhcnQsIGVuZCkge1xyXG4gICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgaWYgKGxlbiA8IDEpXHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB2YXIgcGFydHMgPSBudWxsLFxyXG4gICAgICAgIGNodW5rID0gW10sXHJcbiAgICAgICAgaSA9IDAsIC8vIGNoYXIgb2Zmc2V0XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgdCA9IGJ1ZmZlcltzdGFydCsrXTtcclxuICAgICAgICBpZiAodCA8IDEyOClcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IHQ7XHJcbiAgICAgICAgZWxzZSBpZiAodCA+IDE5MSAmJiB0IDwgMjI0KVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gKHQgJiAzMSkgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzO1xyXG4gICAgICAgIGVsc2UgaWYgKHQgPiAyMzkgJiYgdCA8IDM2NSkge1xyXG4gICAgICAgICAgICB0ID0gKCh0ICYgNykgPDwgMTggfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDEyIHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCA2IHwgYnVmZmVyW3N0YXJ0KytdICYgNjMpIC0gMHgxMDAwMDtcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDB4RDgwMCArICh0ID4+IDEwKTtcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDB4REMwMCArICh0ICYgMTAyMyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAodCAmIDE1KSA8PCAxMiB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzO1xyXG4gICAgICAgIGlmIChpID4gODE5MSkge1xyXG4gICAgICAgICAgICAocGFydHMgfHwgKHBhcnRzID0gW10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuaykpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBpZiAoaSlcclxuICAgICAgICAgICAgcGFydHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpKTtcclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIHN0cmluZyBhcyBVVEY4IGJ5dGVzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFNvdXJjZSBzdHJpbmdcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgRGVzdGluYXRpb24gYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgRGVzdGluYXRpb24gb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGVzIHdyaXR0ZW5cclxuICovXHJcbnV0Zjgud3JpdGUgPSBmdW5jdGlvbiB1dGY4X3dyaXRlKHN0cmluZywgYnVmZmVyLCBvZmZzZXQpIHtcclxuICAgIHZhciBzdGFydCA9IG9mZnNldCxcclxuICAgICAgICBjMSwgLy8gY2hhcmFjdGVyIDFcclxuICAgICAgICBjMjsgLy8gY2hhcmFjdGVyIDJcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYzEgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYzEgPCAxMjgpIHtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYzEgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAgICAgIHwgMTkyO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9IGVsc2UgaWYgKChjMSAmIDB4RkMwMCkgPT09IDB4RDgwMCAmJiAoKGMyID0gc3RyaW5nLmNoYXJDb2RlQXQoaSArIDEpKSAmIDB4RkMwMCkgPT09IDB4REMwMCkge1xyXG4gICAgICAgICAgICBjMSA9IDB4MTAwMDAgKyAoKGMxICYgMHgwM0ZGKSA8PCAxMCkgKyAoYzIgJiAweDAzRkYpO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxOCAgICAgIHwgMjQwO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTIgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxMiAgICAgIHwgMjI0O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9mZnNldCAtIHN0YXJ0O1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gcG9vbDtcclxuXHJcbi8qKlxyXG4gKiBBbiBhbGxvY2F0b3IgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbEFsbG9jYXRvclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXJcclxuICovXHJcblxyXG4vKipcclxuICogQSBzbGljZXIgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbFNsaWNlclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTdGFydCBvZmZzZXRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXIgc2xpY2VcclxuICogQHRoaXMge1VpbnQ4QXJyYXl9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGJ1ZmZlciBwb29sLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtQb29sQWxsb2NhdG9yfSBhbGxvYyBBbGxvY2F0b3JcclxuICogQHBhcmFtIHtQb29sU2xpY2VyfSBzbGljZSBTbGljZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTgxOTJdIFNsYWIgc2l6ZVxyXG4gKiBAcmV0dXJucyB7UG9vbEFsbG9jYXRvcn0gUG9vbGVkIGFsbG9jYXRvclxyXG4gKi9cclxuZnVuY3Rpb24gcG9vbChhbGxvYywgc2xpY2UsIHNpemUpIHtcclxuICAgIHZhciBTSVpFICAgPSBzaXplIHx8IDgxOTI7XHJcbiAgICB2YXIgTUFYICAgID0gU0laRSA+Pj4gMTtcclxuICAgIHZhciBzbGFiICAgPSBudWxsO1xyXG4gICAgdmFyIG9mZnNldCA9IFNJWkU7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcG9vbF9hbGxvYyhzaXplKSB7XHJcbiAgICAgICAgaWYgKHNpemUgPCAxIHx8IHNpemUgPiBNQVgpXHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvYyhzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IFNJWkUpIHtcclxuICAgICAgICAgICAgc2xhYiA9IGFsbG9jKFNJWkUpO1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYnVmID0gc2xpY2UuY2FsbChzbGFiLCBvZmZzZXQsIG9mZnNldCArPSBzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICYgNykgLy8gYWxpZ24gdG8gMzIgYml0XHJcbiAgICAgICAgICAgIG9mZnNldCA9IChvZmZzZXQgfCA3KSArIDE7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH07XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBMb25nQml0cztcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cy5cbiAqIEBjbGFzc2Rlc2MgSGVscGVyIGNsYXNzIGZvciB3b3JraW5nIHdpdGggdGhlIGxvdyBhbmQgaGlnaCBiaXRzIG9mIGEgNjQgYml0IHZhbHVlLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxvIExvdyAzMiBiaXRzLCB1bnNpZ25lZFxuICogQHBhcmFtIHtudW1iZXJ9IGhpIEhpZ2ggMzIgYml0cywgdW5zaWduZWRcbiAqL1xuZnVuY3Rpb24gTG9uZ0JpdHMobG8sIGhpKSB7XG5cbiAgICAvLyBub3RlIHRoYXQgdGhlIGNhc3RzIGJlbG93IGFyZSB0aGVvcmV0aWNhbGx5IHVubmVjZXNzYXJ5IGFzIG9mIHRvZGF5LCBidXQgb2xkZXIgc3RhdGljYWxseVxuICAgIC8vIGdlbmVyYXRlZCBjb252ZXJ0ZXIgY29kZSBtaWdodCBzdGlsbCBjYWxsIHRoZSBjdG9yIHdpdGggc2lnbmVkIDMyYml0cy4ga2VwdCBmb3IgY29tcGF0LlxuXG4gICAgLyoqXG4gICAgICogTG93IGJpdHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxvID0gbG8gPj4+IDA7XG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGJpdHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhpID0gaGkgPj4+IDA7XG59XG5cbi8qKlxuICogWmVybyBiaXRzLlxuICogQG1lbWJlcm9mIHV0aWwuTG9uZ0JpdHNcbiAqIEB0eXBlIHt1dGlsLkxvbmdCaXRzfVxuICovXG52YXIgemVybyA9IExvbmdCaXRzLnplcm8gPSBuZXcgTG9uZ0JpdHMoMCwgMCk7XG5cbnplcm8udG9OdW1iZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG56ZXJvLnp6RW5jb2RlID0gemVyby56ekRlY29kZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfTtcbnplcm8ubGVuZ3RoID0gZnVuY3Rpb24oKSB7IHJldHVybiAxOyB9O1xuXG4vKipcbiAqIFplcm8gaGFzaC5cbiAqIEBtZW1iZXJvZiB1dGlsLkxvbmdCaXRzXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgemVyb0hhc2ggPSBMb25nQml0cy56ZXJvSGFzaCA9IFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWVcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBJbnN0YW5jZVxuICovXG5Mb25nQml0cy5mcm9tTnVtYmVyID0gZnVuY3Rpb24gZnJvbU51bWJlcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gMClcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgdmFyIHNpZ24gPSB2YWx1ZSA8IDA7XG4gICAgaWYgKHNpZ24pXG4gICAgICAgIHZhbHVlID0gLXZhbHVlO1xuICAgIHZhciBsbyA9IHZhbHVlID4+PiAwLFxuICAgICAgICBoaSA9ICh2YWx1ZSAtIGxvKSAvIDQyOTQ5NjcyOTYgPj4+IDA7XG4gICAgaWYgKHNpZ24pIHtcbiAgICAgICAgaGkgPSB+aGkgPj4+IDA7XG4gICAgICAgIGxvID0gfmxvID4+PiAwO1xuICAgICAgICBpZiAoKytsbyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgIGxvID0gMDtcbiAgICAgICAgICAgIGlmICgrK2hpID4gNDI5NDk2NzI5NSlcbiAgICAgICAgICAgICAgICBoaSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhsbywgaGkpO1xufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSBhIG51bWJlciwgbG9uZyBvciBzdHJpbmcuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWVcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBJbnN0YW5jZVxuICovXG5Mb25nQml0cy5mcm9tID0gZnVuY3Rpb24gZnJvbSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgIHJldHVybiBMb25nQml0cy5mcm9tTnVtYmVyKHZhbHVlKTtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHV0aWwuTG9uZylcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbC5Mb25nLmZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gTG9uZ0JpdHMuZnJvbU51bWJlcihwYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLmxvdyB8fCB2YWx1ZS5oaWdoID8gbmV3IExvbmdCaXRzKHZhbHVlLmxvdyA+Pj4gMCwgdmFsdWUuaGlnaCA+Pj4gMCkgOiB6ZXJvO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIHBvc3NpYmx5IHVuc2FmZSBKYXZhU2NyaXB0IG51bWJlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge251bWJlcn0gUG9zc2libHkgdW5zYWZlIG51bWJlclxuICovXG5Mb25nQml0cy5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcih1bnNpZ25lZCkge1xuICAgIGlmICghdW5zaWduZWQgJiYgdGhpcy5oaSA+Pj4gMzEpIHtcbiAgICAgICAgdmFyIGxvID0gfnRoaXMubG8gKyAxID4+PiAwLFxuICAgICAgICAgICAgaGkgPSB+dGhpcy5oaSAgICAgPj4+IDA7XG4gICAgICAgIGlmICghbG8pXG4gICAgICAgICAgICBoaSA9IGhpICsgMSA+Pj4gMDtcbiAgICAgICAgcmV0dXJuIC0obG8gKyBoaSAqIDQyOTQ5NjcyOTYpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sbyArIHRoaXMuaGkgKiA0Mjk0OTY3Mjk2O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIGxvbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bnNpZ25lZD1mYWxzZV0gV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqIEByZXR1cm5zIHtMb25nfSBMb25nXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b0xvbmcgPSBmdW5jdGlvbiB0b0xvbmcodW5zaWduZWQpIHtcbiAgICByZXR1cm4gdXRpbC5Mb25nXG4gICAgICAgID8gbmV3IHV0aWwuTG9uZyh0aGlzLmxvIHwgMCwgdGhpcy5oaSB8IDAsIEJvb2xlYW4odW5zaWduZWQpKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IHsgbG93OiB0aGlzLmxvIHwgMCwgaGlnaDogdGhpcy5oaSB8IDAsIHVuc2lnbmVkOiBCb29sZWFuKHVuc2lnbmVkKSB9O1xufTtcblxudmFyIGNoYXJDb2RlQXQgPSBTdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gdGhlIHNwZWNpZmllZCA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggSGFzaFxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEJpdHNcbiAqL1xuTG9uZ0JpdHMuZnJvbUhhc2ggPSBmdW5jdGlvbiBmcm9tSGFzaChoYXNoKSB7XG4gICAgaWYgKGhhc2ggPT09IHplcm9IYXNoKVxuICAgICAgICByZXR1cm4gemVybztcbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKFxuICAgICAgICAoIGNoYXJDb2RlQXQuY2FsbChoYXNoLCAwKVxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCAxKSA8PCA4XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDIpIDw8IDE2XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDMpIDw8IDI0KSA+Pj4gMFxuICAgICxcbiAgICAgICAgKCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNClcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNSkgPDwgOFxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA2KSA8PCAxNlxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA3KSA8PCAyNCkgPj4+IDBcbiAgICApO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIDggY2hhcmFjdGVycyBsb25nIGhhc2guXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIYXNoXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b0hhc2ggPSBmdW5jdGlvbiB0b0hhc2goKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgIHRoaXMubG8gICAgICAgICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiA4ICAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gMTYgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDI0ICAgICAgLFxuICAgICAgICB0aGlzLmhpICAgICAgICAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gOCAgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDE2ICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiAyNFxuICAgICk7XG59O1xuXG4vKipcbiAqIFppZy16YWcgZW5jb2RlcyB0aGlzIGxvbmcgYml0cy5cbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBgdGhpc2BcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnp6RW5jb2RlID0gZnVuY3Rpb24genpFbmNvZGUoKSB7XG4gICAgdmFyIG1hc2sgPSAgIHRoaXMuaGkgPj4gMzE7XG4gICAgdGhpcy5oaSAgPSAoKHRoaXMuaGkgPDwgMSB8IHRoaXMubG8gPj4+IDMxKSBeIG1hc2spID4+PiAwO1xuICAgIHRoaXMubG8gID0gKCB0aGlzLmxvIDw8IDEgICAgICAgICAgICAgICAgICAgXiBtYXNrKSA+Pj4gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogWmlnLXphZyBkZWNvZGVzIHRoaXMgbG9uZyBiaXRzLlxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IGB0aGlzYFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUuenpEZWNvZGUgPSBmdW5jdGlvbiB6ekRlY29kZSgpIHtcbiAgICB2YXIgbWFzayA9IC0odGhpcy5sbyAmIDEpO1xuICAgIHRoaXMubG8gID0gKCh0aGlzLmxvID4+PiAxIHwgdGhpcy5oaSA8PCAzMSkgXiBtYXNrKSA+Pj4gMDtcbiAgICB0aGlzLmhpICA9ICggdGhpcy5oaSA+Pj4gMSAgICAgICAgICAgICAgICAgIF4gbWFzaykgPj4+IDA7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiB0aGlzIGxvbmdiaXRzIHdoZW4gZW5jb2RlZCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IExlbmd0aFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKCkge1xuICAgIHZhciBwYXJ0MCA9ICB0aGlzLmxvLFxuICAgICAgICBwYXJ0MSA9ICh0aGlzLmxvID4+PiAyOCB8IHRoaXMuaGkgPDwgNCkgPj4+IDAsXG4gICAgICAgIHBhcnQyID0gIHRoaXMuaGkgPj4+IDI0O1xuICAgIHJldHVybiBwYXJ0MiA9PT0gMFxuICAgICAgICAgPyBwYXJ0MSA9PT0gMFxuICAgICAgICAgICA/IHBhcnQwIDwgMTYzODRcbiAgICAgICAgICAgICA/IHBhcnQwIDwgMTI4ID8gMSA6IDJcbiAgICAgICAgICAgICA6IHBhcnQwIDwgMjA5NzE1MiA/IDMgOiA0XG4gICAgICAgICAgIDogcGFydDEgPCAxNjM4NFxuICAgICAgICAgICAgID8gcGFydDEgPCAxMjggPyA1IDogNlxuICAgICAgICAgICAgIDogcGFydDEgPCAyMDk3MTUyID8gNyA6IDhcbiAgICAgICAgIDogcGFydDIgPCAxMjggPyA5IDogMTA7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xudmFyIHV0aWwgPSBleHBvcnRzO1xuXG4vLyB1c2VkIHRvIHJldHVybiBhIFByb21pc2Ugd2hlcmUgY2FsbGJhY2sgaXMgb21pdHRlZFxudXRpbC5hc1Byb21pc2UgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvYXNwcm9taXNlXCIpO1xuXG4vLyBjb252ZXJ0cyB0byAvIGZyb20gYmFzZTY0IGVuY29kZWQgc3RyaW5nc1xudXRpbC5iYXNlNjQgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvYmFzZTY0XCIpO1xuXG4vLyBiYXNlIGNsYXNzIG9mIHJwYy5TZXJ2aWNlXG51dGlsLkV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9ldmVudGVtaXR0ZXJcIik7XG5cbi8vIGZsb2F0IGhhbmRsaW5nIGFjY3Jvc3MgYnJvd3NlcnNcbnV0aWwuZmxvYXQgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvZmxvYXRcIik7XG5cbi8vIHJlcXVpcmVzIG1vZHVsZXMgb3B0aW9uYWxseSBhbmQgaGlkZXMgdGhlIGNhbGwgZnJvbSBidW5kbGVyc1xudXRpbC5pbnF1aXJlID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2lucXVpcmVcIik7XG5cbi8vIGNvbnZlcnRzIHRvIC8gZnJvbSB1dGY4IGVuY29kZWQgc3RyaW5nc1xudXRpbC51dGY4ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3V0ZjhcIik7XG5cbi8vIHByb3ZpZGVzIGEgbm9kZS1saWtlIGJ1ZmZlciBwb29sIGluIHRoZSBicm93c2VyXG51dGlsLnBvb2wgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvcG9vbFwiKTtcblxuLy8gdXRpbGl0eSB0byB3b3JrIHdpdGggdGhlIGxvdyBhbmQgaGlnaCBiaXRzIG9mIGEgNjQgYml0IHZhbHVlXG51dGlsLkxvbmdCaXRzID0gcmVxdWlyZShcIi4vbG9uZ2JpdHNcIik7XG5cbi8qKlxuICogV2hldGhlciBydW5uaW5nIHdpdGhpbiBub2RlIG9yIG5vdC5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xudXRpbC5pc05vZGUgPSBCb29sZWFuKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5cbi8qKlxuICogR2xvYmFsIG9iamVjdCByZWZlcmVuY2UuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudXRpbC5nbG9iYWwgPSB1dGlsLmlzTm9kZSAmJiBnbG9iYWxcbiAgICAgICAgICAgfHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcbiAgICAgICAgICAgfHwgdHlwZW9mIHNlbGYgICAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmXG4gICAgICAgICAgIHx8IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG5cbi8qKlxuICogQW4gaW1tdWFibGUgZW1wdHkgYXJyYXkuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge0FycmF5LjwqPn1cbiAqIEBjb25zdFxuICovXG51dGlsLmVtcHR5QXJyYXkgPSBPYmplY3QuZnJlZXplID8gT2JqZWN0LmZyZWV6ZShbXSkgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBbXTsgLy8gdXNlZCBvbiBwcm90b3R5cGVzXG5cbi8qKlxuICogQW4gaW1tdXRhYmxlIGVtcHR5IG9iamVjdC5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5lbXB0eU9iamVjdCA9IE9iamVjdC5mcmVlemUgPyBPYmplY3QuZnJlZXplKHt9KSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHt9OyAvLyB1c2VkIG9uIHByb3RvdHlwZXNcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYW4gaW50ZWdlclxuICovXG51dGlsLmlzSW50ZWdlciA9IE51bWJlci5pc0ludGVnZXIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIHN0cmluZ1xuICovXG51dGlsLmlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgbm9uLW51bGwgb2JqZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIG5vbi1udWxsIG9iamVjdFxuICovXG51dGlsLmlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcm9wZXJ0eSBvbiBhIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LlxuICogVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgdXRpbC5pc1NldH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogUGxhaW4gb2JqZWN0IG9yIG1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzc2V0ID1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcm9wZXJ0eSBvbiBhIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBQbGFpbiBvYmplY3Qgb3IgbWVzc2FnZSBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBjb25zaWRlcmVkIHRvIGJlIHByZXNlbnQsIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbnV0aWwuaXNTZXQgPSBmdW5jdGlvbiBpc1NldChvYmosIHByb3ApIHtcbiAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgb2JqLmhhc093blByb3BlcnR5KHByb3ApKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcSwgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoIDogT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCkgPiAwO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQW55IGNvbXBhdGlibGUgQnVmZmVyIGluc3RhbmNlLlxuICogVGhpcyBpcyBhIG1pbmltYWwgc3RhbmQtYWxvbmUgZGVmaW5pdGlvbiBvZiBhIEJ1ZmZlciBpbnN0YW5jZS4gVGhlIGFjdHVhbCB0eXBlIGlzIHRoYXQgZXhwb3J0ZWQgYnkgbm9kZSdzIHR5cGluZ3MuXG4gKiBAaW50ZXJmYWNlIEJ1ZmZlclxuICogQGV4dGVuZHMgVWludDhBcnJheVxuICovXG5cbi8qKlxuICogTm9kZSdzIEJ1ZmZlciBjbGFzcyBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8QnVmZmVyPn1cbiAqL1xudXRpbC5CdWZmZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIEJ1ZmZlciA9IHV0aWwuaW5xdWlyZShcImJ1ZmZlclwiKS5CdWZmZXI7XG4gICAgICAgIC8vIHJlZnVzZSB0byB1c2Ugbm9uLW5vZGUgYnVmZmVycyBpZiBub3QgZXhwbGljaXRseSBhc3NpZ25lZCAocGVyZiByZWFzb25zKTpcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5wcm90b3R5cGUudXRmOFdyaXRlID8gQnVmZmVyIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0pKCk7XG5cbi8vIEludGVybmFsIGFsaWFzIG9mIG9yIHBvbHlmdWxsIGZvciBCdWZmZXIuZnJvbS5cbnV0aWwuX0J1ZmZlcl9mcm9tID0gbnVsbDtcblxuLy8gSW50ZXJuYWwgYWxpYXMgb2Ygb3IgcG9seWZpbGwgZm9yIEJ1ZmZlci5hbGxvY1Vuc2FmZS5cbnV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IG51bGw7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBidWZmZXIgb2Ygd2hhdGV2ZXIgdHlwZSBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50LlxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IFtzaXplT3JBcnJheT0wXSBCdWZmZXIgc2l6ZSBvciBudW1iZXIgYXJyYXlcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fEJ1ZmZlcn0gQnVmZmVyXG4gKi9cbnV0aWwubmV3QnVmZmVyID0gZnVuY3Rpb24gbmV3QnVmZmVyKHNpemVPckFycmF5KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdHlwZW9mIHNpemVPckFycmF5ID09PSBcIm51bWJlclwiXG4gICAgICAgID8gdXRpbC5CdWZmZXJcbiAgICAgICAgICAgID8gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlKHNpemVPckFycmF5KVxuICAgICAgICAgICAgOiBuZXcgdXRpbC5BcnJheShzaXplT3JBcnJheSlcbiAgICAgICAgOiB1dGlsLkJ1ZmZlclxuICAgICAgICAgICAgPyB1dGlsLl9CdWZmZXJfZnJvbShzaXplT3JBcnJheSlcbiAgICAgICAgICAgIDogdHlwZW9mIFVpbnQ4QXJyYXkgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICA/IHNpemVPckFycmF5XG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheShzaXplT3JBcnJheSk7XG59O1xuXG4vKipcbiAqIEFycmF5IGltcGxlbWVudGF0aW9uIHVzZWQgaW4gdGhlIGJyb3dzZXIuIGBVaW50OEFycmF5YCBpZiBzdXBwb3J0ZWQsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPFVpbnQ4QXJyYXk+fVxuICovXG51dGlsLkFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCIgPyBVaW50OEFycmF5IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDogQXJyYXk7XG5cbi8qKlxuICogQW55IGNvbXBhdGlibGUgTG9uZyBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgYSBtaW5pbWFsIHN0YW5kLWFsb25lIGRlZmluaXRpb24gb2YgYSBMb25nIGluc3RhbmNlLiBUaGUgYWN0dWFsIHR5cGUgaXMgdGhhdCBleHBvcnRlZCBieSBsb25nLmpzLlxuICogQGludGVyZmFjZSBMb25nXG4gKiBAcHJvcGVydHkge251bWJlcn0gbG93IExvdyBiaXRzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGlnaCBIaWdoIGJpdHNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqL1xuXG4vKipcbiAqIExvbmcuanMncyBMb25nIGNsYXNzIGlmIGF2YWlsYWJsZS5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxMb25nPn1cbiAqL1xudXRpbC5Mb25nID0gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuZGNvZGVJTyAmJiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5kY29kZUlPLkxvbmdcbiAgICAgICAgIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLkxvbmdcbiAgICAgICAgIHx8IHV0aWwuaW5xdWlyZShcImxvbmdcIik7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDIgYml0IChgYm9vbGApIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTJSZSA9IC9edHJ1ZXxmYWxzZXwwfDEkLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgMzIgYml0IChgaW50MzJgIGV0Yy4pIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTMyUmUgPSAvXi0/KD86MHxbMS05XVswLTldKikkLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgNjQgYml0IChgaW50NjRgIGV0Yy4pIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTY0UmUgPSAvXig/OltcXFxceDAwLVxcXFx4ZmZdezh9fC0/KD86MHxbMS05XVswLTldKikpJC87XG5cbi8qKlxuICogQ29udmVydHMgYSBudW1iZXIgb3IgbG9uZyB0byBhbiA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoIHN0cmluZy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhhc2hcbiAqL1xudXRpbC5sb25nVG9IYXNoID0gZnVuY3Rpb24gbG9uZ1RvSGFzaCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IHV0aWwuTG9uZ0JpdHMuZnJvbSh2YWx1ZSkudG9IYXNoKClcbiAgICAgICAgOiB1dGlsLkxvbmdCaXRzLnplcm9IYXNoO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoIHN0cmluZyB0byBhIGxvbmcgb3IgbnVtYmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggSGFzaFxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7TG9uZ3xudW1iZXJ9IE9yaWdpbmFsIHZhbHVlXG4gKi9cbnV0aWwubG9uZ0Zyb21IYXNoID0gZnVuY3Rpb24gbG9uZ0Zyb21IYXNoKGhhc2gsIHVuc2lnbmVkKSB7XG4gICAgdmFyIGJpdHMgPSB1dGlsLkxvbmdCaXRzLmZyb21IYXNoKGhhc2gpO1xuICAgIGlmICh1dGlsLkxvbmcpXG4gICAgICAgIHJldHVybiB1dGlsLkxvbmcuZnJvbUJpdHMoYml0cy5sbywgYml0cy5oaSwgdW5zaWduZWQpO1xuICAgIHJldHVybiBiaXRzLnRvTnVtYmVyKEJvb2xlYW4odW5zaWduZWQpKTtcbn07XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzb3VyY2Ugb2JqZWN0IGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBzcmMgU291cmNlIG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBbaWZOb3RTZXQ9ZmFsc2VdIE1lcmdlcyBvbmx5IGlmIHRoZSBrZXkgaXMgbm90IGFscmVhZHkgc2V0XG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IERlc3RpbmF0aW9uIG9iamVjdFxuICovXG5mdW5jdGlvbiBtZXJnZShkc3QsIHNyYywgaWZOb3RTZXQpIHsgLy8gdXNlZCBieSBjb252ZXJ0ZXJzXG4gICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKGRzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkIHx8ICFpZk5vdFNldClcbiAgICAgICAgICAgIGRzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICByZXR1cm4gZHN0O1xufVxuXG51dGlsLm1lcmdlID0gbWVyZ2U7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZyB0byBsb3dlciBjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTdHJpbmcgdG8gY29udmVydFxuICogQHJldHVybnMge3N0cmluZ30gQ29udmVydGVkIHN0cmluZ1xuICovXG51dGlsLmxjRmlyc3QgPSBmdW5jdGlvbiBsY0ZpcnN0KHN0cikge1xuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEVycm9yIG5hbWVcbiAqIEByZXR1cm5zIHtDb25zdHJ1Y3RvcjxFcnJvcj59IEN1c3RvbSBlcnJvciBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBuZXdFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBDdXN0b21FcnJvcihtZXNzYWdlLCBwcm9wZXJ0aWVzKSB7XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXJyb3IobWVzc2FnZSwgcHJvcGVydGllcyk7XG5cbiAgICAgICAgLy8gRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgLy8gXiBqdXN0IHJldHVybnMgYSBuZXcgZXJyb3IgaW5zdGFuY2UgYmVjYXVzZSB0aGUgY3RvciBjYW4gYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb25cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1lc3NhZ2U7IH0gfSk7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSAvLyBub2RlXG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDdXN0b21FcnJvcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YWNrXCIsIHsgdmFsdWU6IG5ldyBFcnJvcigpLnN0YWNrIHx8IFwiXCIgfSk7XG5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICBtZXJnZSh0aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAoQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEN1c3RvbUVycm9yO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1c3RvbUVycm9yLnByb3RvdHlwZSwgXCJuYW1lXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG5hbWU7IH0gfSk7XG5cbiAgICBDdXN0b21FcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMubWVzc2FnZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEN1c3RvbUVycm9yO1xufVxuXG51dGlsLm5ld0Vycm9yID0gbmV3RXJyb3I7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBwcm90b2NvbCBlcnJvci5cbiAqIEBjbGFzc2Rlc2MgRXJyb3Igc3ViY2xhc3MgaW5kaWNhdGluZyBhIHByb3RvY29sIHNwZWNpZmMgZXJyb3IuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQGV4dGVuZHMgRXJyb3JcbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBFcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbcHJvcGVydGllc10gQWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gKiBAZXhhbXBsZVxuICogdHJ5IHtcbiAqICAgICBNeU1lc3NhZ2UuZGVjb2RlKHNvbWVCdWZmZXIpOyAvLyB0aHJvd3MgaWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gKiB9IGNhdGNoIChlKSB7XG4gKiAgICAgaWYgKGUgaW5zdGFuY2VvZiBQcm90b2NvbEVycm9yICYmIGUuaW5zdGFuY2UpXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVjb2RlZCBzbyBmYXI6IFwiICsgSlNPTi5zdHJpbmdpZnkoZS5pbnN0YW5jZSkpO1xuICogfVxuICovXG51dGlsLlByb3RvY29sRXJyb3IgPSBuZXdFcnJvcihcIlByb3RvY29sRXJyb3JcIik7XG5cbi8qKlxuICogU28gZmFyIGRlY29kZWQgbWVzc2FnZSBpbnN0YW5jZS5cbiAqIEBuYW1lIHV0aWwuUHJvdG9jb2xFcnJvciNpbnN0YW5jZVxuICogQHR5cGUge01lc3NhZ2U8VD59XG4gKi9cblxuLyoqXG4gKiBBIE9uZU9mIGdldHRlciBhcyByZXR1cm5lZCBieSB7QGxpbmsgdXRpbC5vbmVPZkdldHRlcn0uXG4gKiBAdHlwZWRlZiBPbmVPZkdldHRlclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFNldCBmaWVsZCBuYW1lLCBpZiBhbnlcbiAqL1xuXG4vKipcbiAqIEJ1aWxkcyBhIGdldHRlciBmb3IgYSBvbmVvZidzIHByZXNlbnQgZmllbGQgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGZpZWxkTmFtZXMgRmllbGQgbmFtZXNcbiAqIEByZXR1cm5zIHtPbmVPZkdldHRlcn0gVW5ib3VuZCBnZXR0ZXJcbiAqL1xudXRpbC5vbmVPZkdldHRlciA9IGZ1bmN0aW9uIGdldE9uZU9mKGZpZWxkTmFtZXMpIHtcbiAgICB2YXIgZmllbGRNYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIGZpZWxkTWFwW2ZpZWxkTmFtZXNbaV1dID0gMTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBTZXQgZmllbGQgbmFtZSwgaWYgYW55XG4gICAgICogQHRoaXMgT2JqZWN0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbigpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcyksIGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPiAtMTsgLS1pKVxuICAgICAgICAgICAgaWYgKGZpZWxkTWFwW2tleXNbaV1dID09PSAxICYmIHRoaXNba2V5c1tpXV0gIT09IHVuZGVmaW5lZCAmJiB0aGlzW2tleXNbaV1dICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzW2ldO1xuICAgIH07XG59O1xuXG4vKipcbiAqIEEgT25lT2Ygc2V0dGVyIGFzIHJldHVybmVkIGJ5IHtAbGluayB1dGlsLm9uZU9mU2V0dGVyfS5cbiAqIEB0eXBlZGVmIE9uZU9mU2V0dGVyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHZhbHVlIEZpZWxkIG5hbWVcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxuLyoqXG4gKiBCdWlsZHMgYSBzZXR0ZXIgZm9yIGEgb25lb2YncyBwcmVzZW50IGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZTZXR0ZXJ9IFVuYm91bmQgc2V0dGVyXG4gKi9cbnV0aWwub25lT2ZTZXR0ZXIgPSBmdW5jdGlvbiBzZXRPbmVPZihmaWVsZE5hbWVzKSB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWVsZCBuYW1lXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAdGhpcyBPYmplY3RcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgaWYgKGZpZWxkTmFtZXNbaV0gIT09IG5hbWUpXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbZmllbGROYW1lc1tpXV07XG4gICAgfTtcbn07XG5cbi8qKlxuICogRGVmYXVsdCBjb252ZXJzaW9uIG9wdGlvbnMgdXNlZCBmb3Ige0BsaW5rIE1lc3NhZ2UjdG9KU09OfSBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogVGhlc2Ugb3B0aW9ucyBhcmUgY2xvc2UgdG8gcHJvdG8zJ3MgSlNPTiBtYXBwaW5nIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IGludGVybmFsIHR5cGVzIGxpa2UgQW55IGFyZSBoYW5kbGVkIGp1c3QgbGlrZSBtZXNzYWdlcy4gTW9yZSBwcmVjaXNlbHk6XG4gKlxuICogLSBMb25ncyBiZWNvbWUgc3RyaW5nc1xuICogLSBFbnVtcyBiZWNvbWUgc3RyaW5nIGtleXNcbiAqIC0gQnl0ZXMgYmVjb21lIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbiAqIC0gKFN1Yi0pTWVzc2FnZXMgYmVjb21lIHBsYWluIG9iamVjdHNcbiAqIC0gTWFwcyBiZWNvbWUgcGxhaW4gb2JqZWN0cyB3aXRoIGFsbCBzdHJpbmcga2V5c1xuICogLSBSZXBlYXRlZCBmaWVsZHMgYmVjb21lIGFycmF5c1xuICogLSBOYU4gYW5kIEluZmluaXR5IGZvciBmbG9hdCBhbmQgZG91YmxlIGZpZWxkcyBiZWNvbWUgc3RyaW5nc1xuICpcbiAqIEB0eXBlIHtJQ29udmVyc2lvbk9wdGlvbnN9XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzM/aGw9ZW4janNvblxuICovXG51dGlsLnRvSlNPTk9wdGlvbnMgPSB7XG4gICAgbG9uZ3M6IFN0cmluZyxcbiAgICBlbnVtczogU3RyaW5nLFxuICAgIGJ5dGVzOiBTdHJpbmcsXG4gICAganNvbjogdHJ1ZVxufTtcblxuLy8gU2V0cyB1cCBidWZmZXIgdXRpbGl0eSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50IChjYWxsZWQgaW4gaW5kZXgtbWluaW1hbClcbnV0aWwuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBCdWZmZXIgPSB1dGlsLkJ1ZmZlcjtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIUJ1ZmZlcikge1xuICAgICAgICB1dGlsLl9CdWZmZXJfZnJvbSA9IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYmVjYXVzZSBub2RlIDQueCBidWZmZXJzIGFyZSBpbmNvbXBhdGlibGUgJiBpbW11dGFibGVcbiAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL3Byb3RvYnVmLmpzL3B1bGwvNjY1XG4gICAgdXRpbC5fQnVmZmVyX2Zyb20gPSBCdWZmZXIuZnJvbSAhPT0gVWludDhBcnJheS5mcm9tICYmIEJ1ZmZlci5mcm9tIHx8XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZ1bmN0aW9uIEJ1ZmZlcl9mcm9tKHZhbHVlLCBlbmNvZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIodmFsdWUsIGVuY29kaW5nKTtcbiAgICAgICAgfTtcbiAgICB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBCdWZmZXIuYWxsb2NVbnNhZmUgfHxcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZnVuY3Rpb24gQnVmZmVyX2FsbG9jVW5zYWZlKHNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKHNpemUpO1xuICAgICAgICB9O1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gV3JpdGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyV3JpdGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgYmFzZTY0ICAgID0gdXRpbC5iYXNlNjQsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHdyaXRlciBvcGVyYXRpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgVWludDhBcnJheSwgbnVtYmVyKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHsqfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gT3AoZm4sIGxlbiwgdmFsKSB7XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBjYWxsLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihVaW50OEFycmF5LCBudW1iZXIsICopfVxuICAgICAqL1xuICAgIHRoaXMuZm4gPSBmbjtcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIGJ5dGUgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBsZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IG9wZXJhdGlvbi5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB0byB3cml0ZS5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnZhbCA9IHZhbDsgLy8gdHlwZSB2YXJpZXNcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgc3RhdGUgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIENvcGllZCB3cml0ZXIgc3RhdGUuXG4gKiBAbWVtYmVyb2YgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7V3JpdGVyfSB3cml0ZXIgV3JpdGVyIHRvIGNvcHkgc3RhdGUgZnJvbVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBTdGF0ZSh3cml0ZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGVhZC5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IHdyaXRlci5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0YWlsLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gd3JpdGVyLnRhaWw7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IHdyaXRlci5sZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IHN0YXRlLlxuICAgICAqIEB0eXBlIHtTdGF0ZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHdyaXRlci5zdGF0ZXM7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBXcml0ZXIoKSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gMDtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgaGVhZC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IG5ldyBPcChub29wLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgdGFpbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gdGhpcy5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogTGlua2VkIGZvcmtlZCBzdGF0ZXMuXG4gICAgICogQHR5cGUge09iamVjdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVzID0gbnVsbDtcblxuICAgIC8vIFdoZW4gYSB2YWx1ZSBpcyB3cml0dGVuLCB0aGUgd3JpdGVyIGNhbGN1bGF0ZXMgaXRzIGJ5dGUgbGVuZ3RoIGFuZCBwdXRzIGl0IGludG8gYSBsaW5rZWRcbiAgICAvLyBsaXN0IG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybSB3aGVuIGZpbmlzaCgpIGlzIGNhbGxlZC4gVGhpcyBib3RoIGFsbG93cyB1cyB0byBhbGxvY2F0ZVxuICAgIC8vIGJ1ZmZlcnMgb2YgdGhlIGV4YWN0IHJlcXVpcmVkIHNpemUgYW5kIHJlZHVjZXMgdGhlIGFtb3VudCBvZiB3b3JrIHdlIGhhdmUgdG8gZG8gY29tcGFyZWRcbiAgICAvLyB0byBmaXJzdCBjYWxjdWxhdGluZyBvdmVyIG9iamVjdHMgYW5kIHRoZW4gZW5jb2Rpbmcgb3ZlciBvYmplY3RzLiBJbiBvdXIgY2FzZSwgdGhlIGVuY29kaW5nXG4gICAgLy8gcGFydCBpcyBqdXN0IGEgbGlua2VkIGxpc3Qgd2FsayBjYWxsaW5nIG9wZXJhdGlvbnMgd2l0aCBhbHJlYWR5IHByZXBhcmVkIHZhbHVlcy5cbn1cblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKCkge1xuICAgICAgICAgICAgcmV0dXJuIChXcml0ZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcldyaXRlcigpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV3JpdGVyKCk7XG4gICAgICAgIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgd3JpdGVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyV3JpdGVyfFdyaXRlcn0gQSB7QGxpbmsgQnVmZmVyV3JpdGVyfSB3aGVuIEJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCwgb3RoZXJ3aXNlIGEge0BsaW5rIFdyaXRlcn1cbiAqL1xuV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG4vKipcbiAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlclxuICovXG5Xcml0ZXIuYWxsb2MgPSBmdW5jdGlvbiBhbGxvYyhzaXplKSB7XG4gICAgcmV0dXJuIG5ldyB1dGlsLkFycmF5KHNpemUpO1xufTtcblxuLy8gVXNlIFVpbnQ4QXJyYXkgYnVmZmVyIHBvb2wgaW4gdGhlIGJyb3dzZXIsIGp1c3QgbGlrZSBub2RlIGRvZXMgd2l0aCBidWZmZXJzXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHV0aWwuQXJyYXkgIT09IEFycmF5KVxuICAgIFdyaXRlci5hbGxvYyA9IHV0aWwucG9vbChXcml0ZXIuYWxsb2MsIHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KTtcblxuLyoqXG4gKiBQdXNoZXMgYSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVWludDhBcnJheSwgbnVtYmVyLCAqKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAcHJpdmF0ZVxuICovXG5Xcml0ZXIucHJvdG90eXBlLl9wdXNoID0gZnVuY3Rpb24gcHVzaChmbiwgbGVuLCB2YWwpIHtcbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBPcChmbiwgbGVuLCB2YWwpO1xuICAgIHRoaXMubGVuICs9IGxlbjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQnl0ZSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWwgJiAyNTU7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50MzIodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwgPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbCAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsID4+Pj0gNztcbiAgICB9XG4gICAgYnVmW3Bvc10gPSB2YWw7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB2YXJpbnQgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHZhcmludCB3cml0ZXIgb3BlcmF0aW9uLlxuICogQGV4dGVuZHMgT3BcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBWYXJpbnRPcChsZW4sIHZhbCkge1xuICAgIHRoaXMubGVuID0gbGVuO1xuICAgIHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbn1cblxuVmFyaW50T3AucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPcC5wcm90b3R5cGUpO1xuVmFyaW50T3AucHJvdG90eXBlLmZuID0gd3JpdGVWYXJpbnQzMjtcblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50MzIgPSBmdW5jdGlvbiB3cml0ZV91aW50MzIodmFsdWUpIHtcbiAgICAvLyBoZXJlLCB0aGUgY2FsbCB0byB0aGlzLnB1c2ggaGFzIGJlZW4gaW5saW5lZCBhbmQgYSB2YXJpbnQgc3BlY2lmaWMgT3Agc3ViY2xhc3MgaXMgdXNlZC5cbiAgICAvLyB1aW50MzIgaXMgYnkgZmFyIHRoZSBtb3N0IGZyZXF1ZW50bHkgdXNlZCBvcGVyYXRpb24gYW5kIGJlbmVmaXRzIHNpZ25pZmljYW50bHkgZnJvbSB0aGlzLlxuICAgIHRoaXMubGVuICs9ICh0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBWYXJpbnRPcChcbiAgICAgICAgKHZhbHVlID0gdmFsdWUgPj4+IDApXG4gICAgICAgICAgICAgICAgPCAxMjggICAgICAgPyAxXG4gICAgICAgIDogdmFsdWUgPCAxNjM4NCAgICAgPyAyXG4gICAgICAgIDogdmFsdWUgPCAyMDk3MTUyICAgPyAzXG4gICAgICAgIDogdmFsdWUgPCAyNjg0MzU0NTYgPyA0XG4gICAgICAgIDogICAgICAgICAgICAgICAgICAgICA1LFxuICAgIHZhbHVlKSkubGVuO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gd3JpdGVfaW50MzIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPCAwXG4gICAgICAgID8gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCAxMCwgTG9uZ0JpdHMuZnJvbU51bWJlcih2YWx1ZSkpIC8vIDEwIGJ5dGVzIHBlciBzcGVjXG4gICAgICAgIDogdGhpcy51aW50MzIodmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gd3JpdGVfc2ludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCh2YWx1ZSA8PCAxIF4gdmFsdWUgPj4gMzEpID4+PiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50NjQodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwuaGkpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gKHZhbC5sbyA+Pj4gNyB8IHZhbC5oaSA8PCAyNSkgPj4+IDA7XG4gICAgICAgIHZhbC5oaSA+Pj49IDc7XG4gICAgfVxuICAgIHdoaWxlICh2YWwubG8gPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gdmFsLmxvID4+PiA3O1xuICAgIH1cbiAgICBidWZbcG9zKytdID0gdmFsLmxvO1xufVxuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50NjQgPSBmdW5jdGlvbiB3cml0ZV91aW50NjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIGJpdHMubGVuZ3RoKCksIGJpdHMpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5pbnQ2NCA9IFdyaXRlci5wcm90b3R5cGUudWludDY0O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNpbnQ2NCA9IGZ1bmN0aW9uIHdyaXRlX3NpbnQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSkuenpFbmNvZGUoKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCBiaXRzLmxlbmd0aCgpLCBiaXRzKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgYm9vbGlzaCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiB3cml0ZV9ib29sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCB2YWx1ZSA/IDEgOiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlRml4ZWQzMih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDggICAmIDI1NTtcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiAxNiAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XG59XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBmaXhlZCAzMiBiaXRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gd3JpdGVfZml4ZWQzMih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgdmFsdWUgPj4+IDApO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGZpeGVkIDMyIGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ZpeGVkMzIgPSBXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZml4ZWQ2NCA9IGZ1bmN0aW9uIHdyaXRlX2ZpeGVkNjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgYml0cy5sbykuX3B1c2god3JpdGVGaXhlZDMyLCA0LCBiaXRzLmhpKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zZml4ZWQ2NCA9IFdyaXRlci5wcm90b3R5cGUuZml4ZWQ2NDtcblxuLyoqXG4gKiBXcml0ZXMgYSBmbG9hdCAoMzIgYml0KS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHdyaXRlX2Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2godXRpbC5mbG9hdC53cml0ZUZsb2F0TEUsIDQsIHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmRvdWJsZSA9IGZ1bmN0aW9uIHdyaXRlX2RvdWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHV0aWwuZmxvYXQud3JpdGVEb3VibGVMRSwgOCwgdmFsdWUpO1xufTtcblxudmFyIHdyaXRlQnl0ZXMgPSB1dGlsLkFycmF5LnByb3RvdHlwZS5zZXRcbiAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgYnVmLnNldCh2YWwsIHBvcyk7IC8vIGFsc28gd29ya3MgZm9yIHBsYWluIGFycmF5IHZhbHVlc1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gd3JpdGVCeXRlc19mb3IodmFsLCBidWYsIHBvcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGJ1Zltwb3MgKyBpXSA9IHZhbFtpXTtcbiAgICB9O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNlcXVlbmNlIG9mIGJ5dGVzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fHN0cmluZ30gdmFsdWUgQnVmZmVyIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlcyh2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgaWYgKCFsZW4pXG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgMCk7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhciBidWYgPSBXcml0ZXIuYWxsb2MobGVuID0gYmFzZTY0Lmxlbmd0aCh2YWx1ZSkpO1xuICAgICAgICBiYXNlNjQuZGVjb2RlKHZhbHVlLCBidWYsIDApO1xuICAgICAgICB2YWx1ZSA9IGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDMyKGxlbikuX3B1c2god3JpdGVCeXRlcywgbGVuLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gd3JpdGVfc3RyaW5nKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICByZXR1cm4gbGVuXG4gICAgICAgID8gdGhpcy51aW50MzIobGVuKS5fcHVzaCh1dGY4LndyaXRlLCBsZW4sIHZhbHVlKVxuICAgICAgICA6IHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCAwKTtcbn07XG5cbi8qKlxuICogRm9ya3MgdGhpcyB3cml0ZXIncyBzdGF0ZSBieSBwdXNoaW5nIGl0IHRvIGEgc3RhY2suXG4gKiBDYWxsaW5nIHtAbGluayBXcml0ZXIjcmVzZXR8cmVzZXR9IG9yIHtAbGluayBXcml0ZXIjbGRlbGltfGxkZWxpbX0gcmVzZXRzIHRoZSB3cml0ZXIgdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZm9yayA9IGZ1bmN0aW9uIGZvcmsoKSB7XG4gICAgdGhpcy5zdGF0ZXMgPSBuZXcgU3RhdGUodGhpcyk7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuICAgIHRoaXMubGVuID0gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgaW5zdGFuY2UgdG8gdGhlIGxhc3Qgc3RhdGUuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlcykge1xuICAgICAgICB0aGlzLmhlYWQgICA9IHRoaXMuc3RhdGVzLmhlYWQ7XG4gICAgICAgIHRoaXMudGFpbCAgID0gdGhpcy5zdGF0ZXMudGFpbDtcbiAgICAgICAgdGhpcy5sZW4gICAgPSB0aGlzLnN0YXRlcy5sZW47XG4gICAgICAgIHRoaXMuc3RhdGVzID0gdGhpcy5zdGF0ZXMubmV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG4gICAgICAgIHRoaXMubGVuICA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdG8gdGhlIGxhc3Qgc3RhdGUgYW5kIGFwcGVuZHMgdGhlIGZvcmsgc3RhdGUncyBjdXJyZW50IHdyaXRlIGxlbmd0aCBhcyBhIHZhcmludCBmb2xsb3dlZCBieSBpdHMgb3BlcmF0aW9ucy5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmxkZWxpbSA9IGZ1bmN0aW9uIGxkZWxpbSgpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZCxcbiAgICAgICAgdGFpbCA9IHRoaXMudGFpbCxcbiAgICAgICAgbGVuICA9IHRoaXMubGVuO1xuICAgIHRoaXMucmVzZXQoKS51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKSB7XG4gICAgICAgIHRoaXMudGFpbC5uZXh0ID0gaGVhZC5uZXh0OyAvLyBza2lwIG5vb3BcbiAgICAgICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICAgICAgdGhpcy5sZW4gKz0gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQubmV4dCwgLy8gc2tpcCBub29wXG4gICAgICAgIGJ1ZiAgPSB0aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxcbiAgICAgICAgcG9zICA9IDA7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgICAgaGVhZC5mbihoZWFkLnZhbCwgYnVmLCBwb3MpO1xuICAgICAgICBwb3MgKz0gaGVhZC5sZW47XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIC8vIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgcmV0dXJuIGJ1Zjtcbn07XG5cbldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24oQnVmZmVyV3JpdGVyXykge1xuICAgIEJ1ZmZlcldyaXRlciA9IEJ1ZmZlcldyaXRlcl87XG4gICAgV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgIEJ1ZmZlcldyaXRlci5fY29uZmlndXJlKCk7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXJXcml0ZXI7XG5cbi8vIGV4dGVuZHMgV3JpdGVyXG52YXIgV3JpdGVyID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpO1xuKEJ1ZmZlcldyaXRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdyaXRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEJ1ZmZlcldyaXRlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBidWZmZXIgd3JpdGVyIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCB3cml0ZXIgdXNpbmcgbm9kZSBidWZmZXJzLlxuICogQGV4dGVuZHMgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQnVmZmVyV3JpdGVyKCkge1xuICAgIFdyaXRlci5jYWxsKHRoaXMpO1xufVxuXG5CdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBBbGxvY2F0ZXMgYSBidWZmZXIgb2YgdGhlIHNwZWNpZmllZCBzaXplLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gQnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyV3JpdGVyLmFsbG9jID0gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlO1xuXG4gICAgQnVmZmVyV3JpdGVyLndyaXRlQnl0ZXNCdWZmZXIgPSB1dGlsLkJ1ZmZlciAmJiB1dGlsLkJ1ZmZlci5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIHV0aWwuQnVmZmVyLnByb3RvdHlwZS5zZXQubmFtZSA9PT0gXCJzZXRcIlxuICAgICAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNCdWZmZXJfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgICBidWYuc2V0KHZhbCwgcG9zKTsgLy8gZmFzdGVyIHRoYW4gY29weSAocmVxdWlyZXMgbm9kZSA+PSA0IHdoZXJlIEJ1ZmZlcnMgZXh0ZW5kIFVpbnQ4QXJyYXkgYW5kIHNldCBpcyBwcm9wZXJseSBpbmhlcml0ZWQpXG4gICAgICAgICAgLy8gYWxzbyB3b3JrcyBmb3IgcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgOiBmdW5jdGlvbiB3cml0ZUJ5dGVzQnVmZmVyX2NvcHkodmFsLCBidWYsIHBvcykge1xuICAgICAgICAgIGlmICh2YWwuY29weSkgLy8gQnVmZmVyIHZhbHVlc1xuICAgICAgICAgICAgdmFsLmNvcHkoYnVmLCBwb3MsIDAsIHZhbC5sZW5ndGgpO1xuICAgICAgICAgIGVsc2UgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOykgLy8gcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgICAgICAgICBidWZbcG9zKytdID0gdmFsW2krK107XG4gICAgICAgIH07XG59O1xuXG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkJ1ZmZlcldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlc19idWZmZXIodmFsdWUpIHtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpXG4gICAgICAgIHZhbHVlID0gdXRpbC5fQnVmZmVyX2Zyb20odmFsdWUsIFwiYmFzZTY0XCIpO1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgdGhpcy51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKVxuICAgICAgICB0aGlzLl9wdXNoKEJ1ZmZlcldyaXRlci53cml0ZUJ5dGVzQnVmZmVyLCBsZW4sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlU3RyaW5nQnVmZmVyKHZhbCwgYnVmLCBwb3MpIHtcbiAgICBpZiAodmFsLmxlbmd0aCA8IDQwKSAvLyBwbGFpbiBqcyBpcyBmYXN0ZXIgZm9yIHNob3J0IHN0cmluZ3MgKHByb2JhYmx5IGR1ZSB0byByZWR1bmRhbnQgYXNzZXJ0aW9ucylcbiAgICAgICAgdXRpbC51dGY4LndyaXRlKHZhbCwgYnVmLCBwb3MpO1xuICAgIGVsc2UgaWYgKGJ1Zi51dGY4V3JpdGUpXG4gICAgICAgIGJ1Zi51dGY4V3JpdGUodmFsLCBwb3MpO1xuICAgIGVsc2VcbiAgICAgICAgYnVmLndyaXRlKHZhbCwgcG9zKTtcbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyV3JpdGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiB3cml0ZV9zdHJpbmdfYnVmZmVyKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0aWwuQnVmZmVyLmJ5dGVMZW5ndGgodmFsdWUpO1xuICAgIHRoaXMudWludDMyKGxlbik7XG4gICAgaWYgKGxlbilcbiAgICAgICAgdGhpcy5fcHVzaCh3cml0ZVN0cmluZ0J1ZmZlciwgbGVuLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEBuYW1lIEJ1ZmZlcldyaXRlciNmaW5pc2hcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcn0gRmluaXNoZWQgYnVmZmVyXG4gKi9cblxuQnVmZmVyV3JpdGVyLl9jb25maWd1cmUoKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gUmVhZGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyUmVhZGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gaW5kZXhPdXRPZlJhbmdlKHJlYWRlciwgd3JpdGVMZW5ndGgpIHtcbiAgICByZXR1cm4gUmFuZ2VFcnJvcihcImluZGV4IG91dCBvZiByYW5nZTogXCIgKyByZWFkZXIucG9zICsgXCIgKyBcIiArICh3cml0ZUxlbmd0aCB8fCAxKSArIFwiID4gXCIgKyByZWFkZXIubGVuKTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHJlYWRlciBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIGJ1ZmZlci5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgcmVhZGVyIHVzaW5nIGBVaW50OEFycmF5YCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKi9cbmZ1bmN0aW9uIFJlYWRlcihidWZmZXIpIHtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyLlxuICAgICAqIEB0eXBlIHtVaW50OEFycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYnVmID0gYnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIgcG9zaXRpb24uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBvcyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IGJ1ZmZlci5sZW5ndGg7XG59XG5cbnZhciBjcmVhdGVfYXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gZnVuY3Rpb24gY3JlYXRlX3R5cGVkX2FycmF5KGJ1ZmZlcikge1xuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBBcnJheS5pc0FycmF5KGJ1ZmZlcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlYWRlcihidWZmZXIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcImlsbGVnYWwgYnVmZmVyXCIpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gY3JlYXRlX2FycmF5KGJ1ZmZlcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShidWZmZXIpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKTtcbiAgICB9O1xuXG52YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHJldHVybiB1dGlsLkJ1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIGNyZWF0ZV9idWZmZXJfc2V0dXAoYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsLkJ1ZmZlci5pc0J1ZmZlcihidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IEJ1ZmZlclJlYWRlcihidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgICAgIDogY3JlYXRlX2FycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9KShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogY3JlYXRlX2FycmF5O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJlYWRlciB1c2luZyB0aGUgc3BlY2lmaWVkIGJ1ZmZlci5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtVaW50OEFycmF5fEJ1ZmZlcn0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqIEByZXR1cm5zIHtSZWFkZXJ8QnVmZmVyUmVhZGVyfSBBIHtAbGluayBCdWZmZXJSZWFkZXJ9IGlmIGBidWZmZXJgIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgYSB7QGxpbmsgUmVhZGVyfVxuICogQHRocm93cyB7RXJyb3J9IElmIGBidWZmZXJgIGlzIG5vdCBhIHZhbGlkIGJ1ZmZlclxuICovXG5SZWFkZXIuY3JlYXRlID0gY3JlYXRlKCk7XG5cblJlYWRlci5wcm90b3R5cGUuX3NsaWNlID0gdXRpbC5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXkgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5BcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUudWludDMyID0gKGZ1bmN0aW9uIHJlYWRfdWludDMyX3NldHVwKCkge1xuICAgIHZhciB2YWx1ZSA9IDQyOTQ5NjcyOTU7IC8vIG9wdGltaXplciB0eXBlLWhpbnQsIHRlbmRzIHRvIGRlb3B0IG90aGVyd2lzZSAoPyEpXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlYWRfdWludDMyKCkge1xuICAgICAgICB2YWx1ZSA9ICggICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcgICAgICAgKSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgIDcpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAxNCkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IDIxKSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmICAxNSkgPDwgMjgpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCh0aGlzLnBvcyArPSA1KSA+IHRoaXMubGVuKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMubGVuO1xuICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKCk7XG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYSBzaWduZWQgMzIgYml0IHZhbHVlLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gcmVhZF9pbnQzMigpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKSB8IDA7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgemlnLXphZyBlbmNvZGVkIHZhcmludCBhcyBhIHNpZ25lZCAzMiBiaXQgdmFsdWUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gcmVhZF9zaW50MzIoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy51aW50MzIoKTtcbiAgICByZXR1cm4gdmFsdWUgPj4+IDEgXiAtKHZhbHVlICYgMSkgfCAwO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8taW52YWxpZC10aGlzICovXG5cbmZ1bmN0aW9uIHJlYWRMb25nVmFyaW50KCkge1xuICAgIC8vIHRlbmRzIHRvIGRlb3B0IHdpdGggbG9jYWwgdmFycyBmb3Igb2N0ZXQgZXRjLlxuICAgIHZhciBiaXRzID0gbmV3IExvbmdCaXRzKDAsIDApO1xuICAgIHZhciBpID0gMDtcbiAgICBpZiAodGhpcy5sZW4gLSB0aGlzLnBvcyA+IDQpIHsgLy8gZmFzdCByb3V0ZSAobG8pXG4gICAgICAgIGZvciAoOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAvLyAxc3QuLjR0aFxuICAgICAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDV0aFxuICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAyOCkgPj4+IDA7XG4gICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpID4+ICA0KSA+Pj4gMDtcbiAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIGkgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoOyBpIDwgMzsgKytpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgICAgICAvLyAxc3QuLjN0aFxuICAgICAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDR0aFxuICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgfVxuICAgIGlmICh0aGlzLmxlbiAtIHRoaXMucG9zID4gNCkgeyAvLyBmYXN0IHJvdXRlIChoaSlcbiAgICAgICAgZm9yICg7IGkgPCA1OyArK2kpIHtcbiAgICAgICAgICAgIC8vIDZ0aC4uMTB0aFxuICAgICAgICAgICAgYml0cy5oaSA9IChiaXRzLmhpIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcgKyAzKSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoOyBpIDwgNTsgKytpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgICAgICAvLyA2dGguLjEwdGhcbiAgICAgICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3ICsgMykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBFcnJvcihcImludmFsaWQgdmFyaW50IGVuY29kaW5nXCIpO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciNpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYW4gdW5zaWduZWQgNjQgYml0IHZhbHVlLlxuICogQG5hbWUgUmVhZGVyI3VpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB6aWctemFnIGVuY29kZWQgdmFyaW50IGFzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciNzaW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgYm9vbGVhbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuYm9vbCA9IGZ1bmN0aW9uIHJlYWRfYm9vbCgpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKSAhPT0gMDtcbn07XG5cbmZ1bmN0aW9uIHJlYWRGaXhlZDMyX2VuZChidWYsIGVuZCkgeyAvLyBub3RlIHRoYXQgdGhpcyB1c2VzIGBlbmRgLCBub3QgYHBvc2BcbiAgICByZXR1cm4gKGJ1ZltlbmQgLSA0XVxuICAgICAgICAgIHwgYnVmW2VuZCAtIDNdIDw8IDhcbiAgICAgICAgICB8IGJ1ZltlbmQgLSAyXSA8PCAxNlxuICAgICAgICAgIHwgYnVmW2VuZCAtIDFdIDw8IDI0KSA+Pj4gMDtcbn1cblxuLyoqXG4gKiBSZWFkcyBmaXhlZCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmZpeGVkMzIgPSBmdW5jdGlvbiByZWFkX2ZpeGVkMzIoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHJldHVybiByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBmaXhlZCAzMiBiaXRzIGFzIGEgc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNmaXhlZDMyID0gZnVuY3Rpb24gcmVhZF9zZml4ZWQzMigpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDQgPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgcmV0dXJuIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCkgfCAwO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8taW52YWxpZC10aGlzICovXG5cbmZ1bmN0aW9uIHJlYWRGaXhlZDY0KC8qIHRoaXM6IFJlYWRlciAqLykge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgOCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgOCk7XG5cbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCksIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCkpO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG4vKipcbiAqIFJlYWRzIGZpeGVkIDY0IGJpdHMuXG4gKiBAbmFtZSBSZWFkZXIjZml4ZWQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgemlnLXphZyBlbmNvZGVkIGZpeGVkIDY0IGJpdHMuXG4gKiBAbmFtZSBSZWFkZXIjc2ZpeGVkNjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgZmxvYXQgKDMyIGJpdCkgYXMgYSBudW1iZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHJlYWRfZmxvYXQoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHZhciB2YWx1ZSA9IHV0aWwuZmxvYXQucmVhZEZsb2F0TEUodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICB0aGlzLnBvcyArPSA0O1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBkb3VibGUgKDY0IGJpdCBmbG9hdCkgYXMgYSBudW1iZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5kb3VibGUgPSBmdW5jdGlvbiByZWFkX2RvdWJsZSgpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDggPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgdmFyIHZhbHVlID0gdXRpbC5mbG9hdC5yZWFkRG91YmxlTEUodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICB0aGlzLnBvcyArPSA4O1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBzZXF1ZW5jZSBvZiBieXRlcyBwcmVjZWVkZWQgYnkgaXRzIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiByZWFkX2J5dGVzKCkge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLnVpbnQzMigpLFxuICAgICAgICBzdGFydCAgPSB0aGlzLnBvcyxcbiAgICAgICAgZW5kICAgID0gdGhpcy5wb3MgKyBsZW5ndGg7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZW5kID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCBsZW5ndGgpO1xuXG4gICAgdGhpcy5wb3MgKz0gbGVuZ3RoO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuYnVmKSkgLy8gcGxhaW4gYXJyYXlcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIHJldHVybiBzdGFydCA9PT0gZW5kIC8vIGZpeCBmb3IgSUUgMTAvV2luOCBhbmQgb3RoZXJzJyBzdWJhcnJheSByZXR1cm5pbmcgYXJyYXkgb2Ygc2l6ZSAxXG4gICAgICAgID8gbmV3IHRoaXMuYnVmLmNvbnN0cnVjdG9yKDApXG4gICAgICAgIDogdGhpcy5fc2xpY2UuY2FsbCh0aGlzLmJ1Ziwgc3RhcnQsIGVuZCk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc3RyaW5nIHByZWNlZWRlZCBieSBpdHMgYnl0ZSBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gcmVhZF9zdHJpbmcoKSB7XG4gICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlcygpO1xuICAgIHJldHVybiB1dGY4LnJlYWQoYnl0ZXMsIDAsIGJ5dGVzLmxlbmd0aCk7XG59O1xuXG4vKipcbiAqIFNraXBzIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGJ5dGVzIGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNraXBzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIExlbmd0aCBpZiBrbm93biwgb3RoZXJ3aXNlIGEgdmFyaW50IGlzIGFzc3VtZWRcbiAqIEByZXR1cm5zIHtSZWFkZXJ9IGB0aGlzYFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNraXAgPSBmdW5jdGlvbiBza2lwKGxlbmd0aCkge1xuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodGhpcy5wb3MgKyBsZW5ndGggPiB0aGlzLmxlbilcbiAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICB9IHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSAmIDEyOCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTa2lwcyB0aGUgbmV4dCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgd2lyZSB0eXBlLlxuICogQHBhcmFtIHtudW1iZXJ9IHdpcmVUeXBlIFdpcmUgdHlwZSByZWNlaXZlZFxuICogQHJldHVybnMge1JlYWRlcn0gYHRoaXNgXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2tpcFR5cGUgPSBmdW5jdGlvbih3aXJlVHlwZSkge1xuICAgIHN3aXRjaCAod2lyZVR5cGUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhpcy5za2lwKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5za2lwKDgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRoaXMuc2tpcCh0aGlzLnVpbnQzMigpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB3aGlsZSAoKHdpcmVUeXBlID0gdGhpcy51aW50MzIoKSAmIDcpICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwVHlwZSh3aXJlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgdGhpcy5za2lwKDQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW52YWxpZCB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSArIFwiIGF0IG9mZnNldCBcIiArIHRoaXMucG9zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWFkZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKEJ1ZmZlclJlYWRlcl8pIHtcbiAgICBCdWZmZXJSZWFkZXIgPSBCdWZmZXJSZWFkZXJfO1xuICAgIFJlYWRlci5jcmVhdGUgPSBjcmVhdGUoKTtcbiAgICBCdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSgpO1xuXG4gICAgdmFyIGZuID0gdXRpbC5Mb25nID8gXCJ0b0xvbmdcIiA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFwidG9OdW1iZXJcIjtcbiAgICB1dGlsLm1lcmdlKFJlYWRlci5wcm90b3R5cGUsIHtcblxuICAgICAgICBpbnQ2NDogZnVuY3Rpb24gcmVhZF9pbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpW2ZuXShmYWxzZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdWludDY0OiBmdW5jdGlvbiByZWFkX3VpbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpW2ZuXSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaW50NjQ6IGZ1bmN0aW9uIHJlYWRfc2ludDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRMb25nVmFyaW50LmNhbGwodGhpcykuenpEZWNvZGUoKVtmbl0oZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpeGVkNjQ6IGZ1bmN0aW9uIHJlYWRfZml4ZWQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkRml4ZWQ2NC5jYWxsKHRoaXMpW2ZuXSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZml4ZWQ2NDogZnVuY3Rpb24gcmVhZF9zZml4ZWQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkRml4ZWQ2NC5jYWxsKHRoaXMpW2ZuXShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyUmVhZGVyO1xuXG4vLyBleHRlbmRzIFJlYWRlclxudmFyIFJlYWRlciA9IHJlcXVpcmUoXCIuL3JlYWRlclwiKTtcbihCdWZmZXJSZWFkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWFkZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBCdWZmZXJSZWFkZXI7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgYnVmZmVyIHJlYWRlciBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgcmVhZGVyIHVzaW5nIG5vZGUgYnVmZmVycy5cbiAqIEBleHRlbmRzIFJlYWRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqL1xuZnVuY3Rpb24gQnVmZmVyUmVhZGVyKGJ1ZmZlcikge1xuICAgIFJlYWRlci5jYWxsKHRoaXMsIGJ1ZmZlcik7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlci5cbiAgICAgKiBAbmFtZSBCdWZmZXJSZWFkZXIjYnVmXG4gICAgICogQHR5cGUge0J1ZmZlcn1cbiAgICAgKi9cbn1cblxuQnVmZmVyUmVhZGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAodXRpbC5CdWZmZXIpXG4gICAgICAgIEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuX3NsaWNlID0gdXRpbC5CdWZmZXIucHJvdG90eXBlLnNsaWNlO1xufTtcblxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJSZWFkZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHJlYWRfc3RyaW5nX2J1ZmZlcigpIHtcbiAgICB2YXIgbGVuID0gdGhpcy51aW50MzIoKTsgLy8gbW9kaWZpZXMgcG9zXG4gICAgcmV0dXJuIHRoaXMuYnVmLnV0ZjhTbGljZVxuICAgICAgICA/IHRoaXMuYnVmLnV0ZjhTbGljZSh0aGlzLnBvcywgdGhpcy5wb3MgPSBNYXRoLm1pbih0aGlzLnBvcyArIGxlbiwgdGhpcy5sZW4pKVxuICAgICAgICA6IHRoaXMuYnVmLnRvU3RyaW5nKFwidXRmLThcIiwgdGhpcy5wb3MsIHRoaXMucG9zID0gTWF0aC5taW4odGhpcy5wb3MgKyBsZW4sIHRoaXMubGVuKSk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgcHJlY2VlZGVkIGJ5IGl0cyBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAbmFtZSBCdWZmZXJSZWFkZXIjYnl0ZXNcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcn0gVmFsdWUgcmVhZFxuICovXG5cbkJ1ZmZlclJlYWRlci5fY29uZmlndXJlKCk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFNlcnZpY2U7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4uL3V0aWwvbWluaW1hbFwiKTtcblxuLy8gRXh0ZW5kcyBFdmVudEVtaXR0ZXJcbihTZXJ2aWNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodXRpbC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBTZXJ2aWNlO1xuXG4vKipcbiAqIEEgc2VydmljZSBtZXRob2QgY2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgcnBjLlNlcnZpY2VNZXRob2R8U2VydmljZU1ldGhvZH0uXG4gKlxuICogRGlmZmVycyBmcm9tIHtAbGluayBSUENJbXBsQ2FsbGJhY2t9IGluIHRoYXQgaXQgaXMgYW4gYWN0dWFsIGNhbGxiYWNrIG9mIGEgc2VydmljZSBtZXRob2Qgd2hpY2ggbWF5IG5vdCByZXR1cm4gYHJlc3BvbnNlID0gbnVsbGAuXG4gKiBAdHlwZWRlZiBycGMuU2VydmljZU1ldGhvZENhbGxiYWNrXG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxuICogQHBhcmFtIHtUUmVzfSBbcmVzcG9uc2VdIFJlc3BvbnNlIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxuLyoqXG4gKiBBIHNlcnZpY2UgbWV0aG9kIHBhcnQgb2YgYSB7QGxpbmsgcnBjLlNlcnZpY2V9IGFzIGNyZWF0ZWQgYnkge0BsaW5rIFNlcnZpY2UuY3JlYXRlfS5cbiAqIEB0eXBlZGVmIHJwYy5TZXJ2aWNlTWV0aG9kXG4gKiBAdGVtcGxhdGUgVFJlcSBleHRlbmRzIE1lc3NhZ2U8VFJlcT5cbiAqIEB0ZW1wbGF0ZSBUUmVzIGV4dGVuZHMgTWVzc2FnZTxUUmVzPlxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtUUmVxfFByb3BlcnRpZXM8VFJlcT59IHJlcXVlc3QgUmVxdWVzdCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtycGMuU2VydmljZU1ldGhvZENhbGxiYWNrPFRSZXM+fSBbY2FsbGJhY2tdIE5vZGUtc3R5bGUgY2FsbGJhY2sgY2FsbGVkIHdpdGggdGhlIGVycm9yLCBpZiBhbnksIGFuZCB0aGUgcmVzcG9uc2UgbWVzc2FnZVxuICogQHJldHVybnMge1Byb21pc2U8TWVzc2FnZTxUUmVzPj59IFByb21pc2UgaWYgYGNhbGxiYWNrYCBoYXMgYmVlbiBvbWl0dGVkLCBvdGhlcndpc2UgYHVuZGVmaW5lZGBcbiAqL1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgUlBDIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIEFuIFJQQyBzZXJ2aWNlIGFzIHJldHVybmVkIGJ5IHtAbGluayBTZXJ2aWNlI2NyZWF0ZX0uXG4gKiBAZXhwb3J0cyBycGMuU2VydmljZVxuICogQGV4dGVuZHMgdXRpbC5FdmVudEVtaXR0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSUENJbXBsfSBycGNJbXBsIFJQQyBpbXBsZW1lbnRhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbcmVxdWVzdERlbGltaXRlZD1mYWxzZV0gV2hldGhlciByZXF1ZXN0cyBhcmUgbGVuZ3RoLWRlbGltaXRlZFxuICogQHBhcmFtIHtib29sZWFufSBbcmVzcG9uc2VEZWxpbWl0ZWQ9ZmFsc2VdIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBsZW5ndGgtZGVsaW1pdGVkXG4gKi9cbmZ1bmN0aW9uIFNlcnZpY2UocnBjSW1wbCwgcmVxdWVzdERlbGltaXRlZCwgcmVzcG9uc2VEZWxpbWl0ZWQpIHtcblxuICAgIGlmICh0eXBlb2YgcnBjSW1wbCAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJycGNJbXBsIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcblxuICAgIHV0aWwuRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBSUEMgaW1wbGVtZW50YXRpb24uIEJlY29tZXMgYG51bGxgIG9uY2UgdGhlIHNlcnZpY2UgaXMgZW5kZWQuXG4gICAgICogQHR5cGUge1JQQ0ltcGx8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnJwY0ltcGwgPSBycGNJbXBsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciByZXF1ZXN0cyBhcmUgbGVuZ3RoLWRlbGltaXRlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlcXVlc3REZWxpbWl0ZWQgPSBCb29sZWFuKHJlcXVlc3REZWxpbWl0ZWQpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciByZXNwb25zZXMgYXJlIGxlbmd0aC1kZWxpbWl0ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZXNwb25zZURlbGltaXRlZCA9IEJvb2xlYW4ocmVzcG9uc2VEZWxpbWl0ZWQpO1xufVxuXG4vKipcbiAqIENhbGxzIGEgc2VydmljZSBtZXRob2QgdGhyb3VnaCB7QGxpbmsgcnBjLlNlcnZpY2UjcnBjSW1wbHxycGNJbXBsfS5cbiAqIEBwYXJhbSB7TWV0aG9kfHJwYy5TZXJ2aWNlTWV0aG9kPFRSZXEsVFJlcz59IG1ldGhvZCBSZWZsZWN0ZWQgb3Igc3RhdGljIG1ldGhvZFxuICogQHBhcmFtIHtDb25zdHJ1Y3RvcjxUUmVxPn0gcmVxdWVzdEN0b3IgUmVxdWVzdCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtDb25zdHJ1Y3RvcjxUUmVzPn0gcmVzcG9uc2VDdG9yIFJlc3BvbnNlIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1RSZXF8UHJvcGVydGllczxUUmVxPn0gcmVxdWVzdCBSZXF1ZXN0IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0XG4gKiBAcGFyYW0ge3JwYy5TZXJ2aWNlTWV0aG9kQ2FsbGJhY2s8VFJlcz59IGNhbGxiYWNrIFNlcnZpY2UgY2FsbGJhY2tcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiBAdGVtcGxhdGUgVFJlcSBleHRlbmRzIE1lc3NhZ2U8VFJlcT5cbiAqIEB0ZW1wbGF0ZSBUUmVzIGV4dGVuZHMgTWVzc2FnZTxUUmVzPlxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS5ycGNDYWxsID0gZnVuY3Rpb24gcnBjQ2FsbChtZXRob2QsIHJlcXVlc3RDdG9yLCByZXNwb25zZUN0b3IsIHJlcXVlc3QsIGNhbGxiYWNrKSB7XG5cbiAgICBpZiAoIXJlcXVlc3QpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcInJlcXVlc3QgbXVzdCBiZSBzcGVjaWZpZWRcIik7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHV0aWwuYXNQcm9taXNlKHJwY0NhbGwsIHNlbGYsIG1ldGhvZCwgcmVxdWVzdEN0b3IsIHJlc3BvbnNlQ3RvciwgcmVxdWVzdCk7XG5cbiAgICBpZiAoIXNlbGYucnBjSW1wbCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhFcnJvcihcImFscmVhZHkgZW5kZWRcIikpOyB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2VsZi5ycGNJbXBsKFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdEN0b3Jbc2VsZi5yZXF1ZXN0RGVsaW1pdGVkID8gXCJlbmNvZGVEZWxpbWl0ZWRcIiA6IFwiZW5jb2RlXCJdKHJlcXVlc3QpLmZpbmlzaCgpLFxuICAgICAgICAgICAgZnVuY3Rpb24gcnBjQ2FsbGJhY2soZXJyLCByZXNwb25zZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVuZCgvKiBlbmRlZEJ5UlBDICovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlIGluc3RhbmNlb2YgcmVzcG9uc2VDdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXNwb25zZUN0b3Jbc2VsZi5yZXNwb25zZURlbGltaXRlZCA/IFwiZGVjb2RlRGVsaW1pdGVkXCIgOiBcImRlY29kZVwiXShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJkYXRhXCIsIHJlc3BvbnNlLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soZXJyKTsgfSwgMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcblxuLyoqXG4gKiBFbmRzIHRoaXMgc2VydmljZSBhbmQgZW1pdHMgdGhlIGBlbmRgIGV2ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbZW5kZWRCeVJQQz1mYWxzZV0gV2hldGhlciB0aGUgc2VydmljZSBoYXMgYmVlbiBlbmRlZCBieSB0aGUgUlBDIGltcGxlbWVudGF0aW9uLlxuICogQHJldHVybnMge3JwYy5TZXJ2aWNlfSBgdGhpc2BcbiAqL1xuU2VydmljZS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gZW5kKGVuZGVkQnlSUEMpIHtcbiAgICBpZiAodGhpcy5ycGNJbXBsKSB7XG4gICAgICAgIGlmICghZW5kZWRCeVJQQykgLy8gc2lnbmFsIGVuZCB0byBycGNJbXBsXG4gICAgICAgICAgICB0aGlzLnJwY0ltcGwobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHRoaXMucnBjSW1wbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdChcImVuZFwiKS5vZmYoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFN0cmVhbWluZyBSUEMgaGVscGVycy5cbiAqIEBuYW1lc3BhY2VcbiAqL1xudmFyIHJwYyA9IGV4cG9ydHM7XG5cbi8qKlxuICogUlBDIGltcGxlbWVudGF0aW9uIHBhc3NlZCB0byB7QGxpbmsgU2VydmljZSNjcmVhdGV9IHBlcmZvcm1pbmcgYSBzZXJ2aWNlIHJlcXVlc3Qgb24gbmV0d29yayBsZXZlbCwgaS5lLiBieSB1dGlsaXppbmcgaHR0cCByZXF1ZXN0cyBvciB3ZWJzb2NrZXRzLlxuICogQHR5cGVkZWYgUlBDSW1wbFxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtNZXRob2R8cnBjLlNlcnZpY2VNZXRob2Q8TWVzc2FnZTx7fT4sTWVzc2FnZTx7fT4+fSBtZXRob2QgUmVmbGVjdGVkIG9yIHN0YXRpYyBtZXRob2QgYmVpbmcgY2FsbGVkXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHJlcXVlc3REYXRhIFJlcXVlc3QgZGF0YVxuICogQHBhcmFtIHtSUENJbXBsQ2FsbGJhY2t9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIHJwY0ltcGwobWV0aG9kLCByZXF1ZXN0RGF0YSwgY2FsbGJhY2spIHtcbiAqICAgICBpZiAocHJvdG9idWYudXRpbC5sY0ZpcnN0KG1ldGhvZC5uYW1lKSAhPT0gXCJteU1ldGhvZFwiKSAvLyBjb21wYXRpYmxlIHdpdGggc3RhdGljIGNvZGVcbiAqICAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBzdWNoIG1ldGhvZFwiKTtcbiAqICAgICBhc3luY2hyb25vdXNseU9idGFpbkFSZXNwb25zZShyZXF1ZXN0RGF0YSwgZnVuY3Rpb24oZXJyLCByZXNwb25zZURhdGEpIHtcbiAqICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZURhdGEpO1xuICogICAgIH0pO1xuICogfVxuICovXG5cbi8qKlxuICogTm9kZS1zdHlsZSBjYWxsYmFjayBhcyB1c2VkIGJ5IHtAbGluayBSUENJbXBsfS5cbiAqIEB0eXBlZGVmIFJQQ0ltcGxDYWxsYmFja1xuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55LCBvdGhlcndpc2UgYG51bGxgXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl8bnVsbH0gW3Jlc3BvbnNlXSBSZXNwb25zZSBkYXRhIG9yIGBudWxsYCB0byBzaWduYWwgZW5kIG9mIHN0cmVhbSwgaWYgdGhlcmUgaGFzbid0IGJlZW4gYW4gZXJyb3JcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxucnBjLlNlcnZpY2UgPSByZXF1aXJlKFwiLi9ycGMvc2VydmljZVwiKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKlxuICogTmFtZWQgcm9vdHMuXG4gKiBUaGlzIGlzIHdoZXJlIHBianMgc3RvcmVzIGdlbmVyYXRlZCBzdHJ1Y3R1cmVzICh0aGUgb3B0aW9uIGAtciwgLS1yb290YCBzcGVjaWZpZXMgYSBuYW1lKS5cbiAqIENhbiBhbHNvIGJlIHVzZWQgbWFudWFsbHkgdG8gbWFrZSByb290cyBhdmFpbGFibGUgYWNjcm9zcyBtb2R1bGVzLlxuICogQG5hbWUgcm9vdHNcbiAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxSb290Pn1cbiAqIEBleGFtcGxlXG4gKiAvLyBwYmpzIC1yIG15cm9vdCAtbyBjb21waWxlZC5qcyAuLi5cbiAqXG4gKiAvLyBpbiBhbm90aGVyIG1vZHVsZTpcbiAqIHJlcXVpcmUoXCIuL2NvbXBpbGVkLmpzXCIpO1xuICpcbiAqIC8vIGluIGFueSBzdWJzZXF1ZW50IG1vZHVsZTpcbiAqIHZhciByb290ID0gcHJvdG9idWYucm9vdHNbXCJteXJvb3RcIl07XG4gKi9cbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBwcm90b2J1ZiA9IGV4cG9ydHM7XG5cbi8qKlxuICogQnVpbGQgdHlwZSwgb25lIG9mIGBcImZ1bGxcImAsIGBcImxpZ2h0XCJgIG9yIGBcIm1pbmltYWxcImAuXG4gKiBAbmFtZSBidWlsZFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBjb25zdFxuICovXG5wcm90b2J1Zi5idWlsZCA9IFwibWluaW1hbFwiO1xuXG4vLyBTZXJpYWxpemF0aW9uXG5wcm90b2J1Zi5Xcml0ZXIgICAgICAgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG5wcm90b2J1Zi5CdWZmZXJXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJfYnVmZmVyXCIpO1xucHJvdG9idWYuUmVhZGVyICAgICAgID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xucHJvdG9idWYuQnVmZmVyUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyX2J1ZmZlclwiKTtcblxuLy8gVXRpbGl0eVxucHJvdG9idWYudXRpbCAgICAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xucHJvdG9idWYucnBjICAgICAgICAgID0gcmVxdWlyZShcIi4vcnBjXCIpO1xucHJvdG9idWYucm9vdHMgICAgICAgID0gcmVxdWlyZShcIi4vcm9vdHNcIik7XG5wcm90b2J1Zi5jb25maWd1cmUgICAgPSBjb25maWd1cmU7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIFJlY29uZmlndXJlcyB0aGUgbGlicmFyeSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50LlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlKCkge1xuICAgIHByb3RvYnVmLnV0aWwuX2NvbmZpZ3VyZSgpO1xuICAgIHByb3RvYnVmLldyaXRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlcldyaXRlcik7XG4gICAgcHJvdG9idWYuUmVhZGVyLl9jb25maWd1cmUocHJvdG9idWYuQnVmZmVyUmVhZGVyKTtcbn1cblxuLy8gU2V0IHVwIGJ1ZmZlciB1dGlsaXR5IGFjY29yZGluZyB0byB0aGUgZW52aXJvbm1lbnRcbmNvbmZpZ3VyZSgpO1xuIiwgIi8vIG1pbmltYWwgbGlicmFyeSBlbnRyeSBwb2ludC5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3NyYy9pbmRleC1taW5pbWFsXCIpO1xuIiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgIm1vZHVsZS5leHBvcnRzID0gTG9uZztcclxuXHJcbi8qKlxyXG4gKiB3YXNtIG9wdGltaXphdGlvbnMsIHRvIGRvIG5hdGl2ZSBpNjQgbXVsdGlwbGljYXRpb24gYW5kIGRpdmlkZVxyXG4gKi9cclxudmFyIHdhc20gPSBudWxsO1xyXG5cclxudHJ5IHtcclxuICB3YXNtID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUobmV3IFVpbnQ4QXJyYXkoW1xyXG4gICAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAxMywgMiwgOTYsIDAsIDEsIDEyNywgOTYsIDQsIDEyNywgMTI3LCAxMjcsIDEyNywgMSwgMTI3LCAzLCA3LCA2LCAwLCAxLCAxLCAxLCAxLCAxLCA2LCA2LCAxLCAxMjcsIDEsIDY1LCAwLCAxMSwgNywgNTAsIDYsIDMsIDEwOSwgMTE3LCAxMDgsIDAsIDEsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTUsIDAsIDIsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTcsIDAsIDMsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTUsIDAsIDQsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTcsIDAsIDUsIDgsIDEwMywgMTAxLCAxMTYsIDk1LCAxMDQsIDEwNSwgMTAzLCAxMDQsIDAsIDAsIDEwLCAxOTEsIDEsIDYsIDQsIDAsIDM1LCAwLCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI2LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjcsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI5LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMzAsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTFcclxuICBdKSksIHt9KS5leHBvcnRzO1xyXG59IGNhdGNoIChlKSB7XHJcbiAgLy8gbm8gd2FzbSBzdXBwb3J0IDooXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgNjQgYml0IHR3bydzLWNvbXBsZW1lbnQgaW50ZWdlciwgZ2l2ZW4gaXRzIGxvdyBhbmQgaGlnaCAzMiBiaXQgdmFsdWVzIGFzICpzaWduZWQqIGludGVnZXJzLlxyXG4gKiAgU2VlIHRoZSBmcm9tKiBmdW5jdGlvbnMgYmVsb3cgZm9yIG1vcmUgY29udmVuaWVudCB3YXlzIG9mIGNvbnN0cnVjdGluZyBMb25ncy5cclxuICogQGV4cG9ydHMgTG9uZ1xyXG4gKiBAY2xhc3MgQSBMb25nIGNsYXNzIGZvciByZXByZXNlbnRpbmcgYSA2NCBiaXQgdHdvJ3MtY29tcGxlbWVudCBpbnRlZ2VyIHZhbHVlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbG93IFRoZSBsb3cgKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgbG9uZ1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaCBUaGUgaGlnaCAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBsb25nXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBMb25nKGxvdywgaGlnaCwgdW5zaWduZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMubG93ID0gbG93IHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBoaWdoIDMyIGJpdHMgYXMgYSBzaWduZWQgdmFsdWUuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMudW5zaWduZWQgPSAhIXVuc2lnbmVkO1xyXG59XHJcblxyXG4vLyBUaGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYSBsb25nIGlzIHRoZSB0d28gZ2l2ZW4gc2lnbmVkLCAzMi1iaXQgdmFsdWVzLlxyXG4vLyBXZSB1c2UgMzItYml0IHBpZWNlcyBiZWNhdXNlIHRoZXNlIGFyZSB0aGUgc2l6ZSBvZiBpbnRlZ2VycyBvbiB3aGljaFxyXG4vLyBKYXZhc2NyaXB0IHBlcmZvcm1zIGJpdC1vcGVyYXRpb25zLiAgRm9yIG9wZXJhdGlvbnMgbGlrZSBhZGRpdGlvbiBhbmRcclxuLy8gbXVsdGlwbGljYXRpb24sIHdlIHNwbGl0IGVhY2ggbnVtYmVyIGludG8gMTYgYml0IHBpZWNlcywgd2hpY2ggY2FuIGVhc2lseSBiZVxyXG4vLyBtdWx0aXBsaWVkIHdpdGhpbiBKYXZhc2NyaXB0J3MgZmxvYXRpbmctcG9pbnQgcmVwcmVzZW50YXRpb24gd2l0aG91dCBvdmVyZmxvd1xyXG4vLyBvciBjaGFuZ2UgaW4gc2lnbi5cclxuLy9cclxuLy8gSW4gdGhlIGFsZ29yaXRobXMgYmVsb3csIHdlIGZyZXF1ZW50bHkgcmVkdWNlIHRoZSBuZWdhdGl2ZSBjYXNlIHRvIHRoZVxyXG4vLyBwb3NpdGl2ZSBjYXNlIGJ5IG5lZ2F0aW5nIHRoZSBpbnB1dChzKSBhbmQgdGhlbiBwb3N0LXByb2Nlc3NpbmcgdGhlIHJlc3VsdC5cclxuLy8gTm90ZSB0aGF0IHdlIG11c3QgQUxXQVlTIGNoZWNrIHNwZWNpYWxseSB3aGV0aGVyIHRob3NlIHZhbHVlcyBhcmUgTUlOX1ZBTFVFXHJcbi8vICgtMl42MykgYmVjYXVzZSAtTUlOX1ZBTFVFID09IE1JTl9WQUxVRSAoc2luY2UgMl42MyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXNcclxuLy8gYSBwb3NpdGl2ZSBudW1iZXIsIGl0IG92ZXJmbG93cyBiYWNrIGludG8gYSBuZWdhdGl2ZSkuICBOb3QgaGFuZGxpbmcgdGhpc1xyXG4vLyBjYXNlIHdvdWxkIG9mdGVuIHJlc3VsdCBpbiBpbmZpbml0ZSByZWN1cnNpb24uXHJcbi8vXHJcbi8vIENvbW1vbiBjb25zdGFudCB2YWx1ZXMgWkVSTywgT05FLCBORUdfT05FLCBldGMuIGFyZSBkZWZpbmVkIGJlbG93IHRoZSBmcm9tKlxyXG4vLyBtZXRob2RzIG9uIHdoaWNoIHRoZXkgZGVwZW5kLlxyXG5cclxuLyoqXHJcbiAqIEFuIGluZGljYXRvciB1c2VkIHRvIHJlbGlhYmx5IGRldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBMb25nIG9yIG5vdC5cclxuICogQHR5cGUge2Jvb2xlYW59XHJcbiAqIEBjb25zdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuTG9uZy5wcm90b3R5cGUuX19pc0xvbmdfXztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nLnByb3RvdHlwZSwgXCJfX2lzTG9uZ19fXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0xvbmcob2JqKSB7XHJcbiAgICByZXR1cm4gKG9iaiAmJiBvYmpbXCJfX2lzTG9uZ19fXCJdKSA9PT0gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGEgTG9uZy5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmcuaXNMb25nID0gaXNMb25nO1xyXG5cclxuLyoqXHJcbiAqIEEgY2FjaGUgb2YgdGhlIExvbmcgcmVwcmVzZW50YXRpb25zIG9mIHNtYWxsIGludGVnZXIgdmFsdWVzLlxyXG4gKiBAdHlwZSB7IU9iamVjdH1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgSU5UX0NBQ0hFID0ge307XHJcblxyXG4vKipcclxuICogQSBjYWNoZSBvZiB0aGUgTG9uZyByZXByZXNlbnRhdGlvbnMgb2Ygc21hbGwgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuXHJcbiAqIEB0eXBlIHshT2JqZWN0fVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVSU5UX0NBQ0hFID0ge307XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tSW50KHZhbHVlLCB1bnNpZ25lZCkge1xyXG4gICAgdmFyIG9iaiwgY2FjaGVkT2JqLCBjYWNoZTtcclxuICAgIGlmICh1bnNpZ25lZCkge1xyXG4gICAgICAgIHZhbHVlID4+Pj0gMDtcclxuICAgICAgICBpZiAoY2FjaGUgPSAoMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDI1NikpIHtcclxuICAgICAgICAgICAgY2FjaGVkT2JqID0gVUlOVF9DQUNIRVt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRPYmopXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgKHZhbHVlIHwgMCkgPCAwID8gLTEgOiAwLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2FjaGUpXHJcbiAgICAgICAgICAgIFVJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhbHVlIHw9IDA7XHJcbiAgICAgICAgaWYgKGNhY2hlID0gKC0xMjggPD0gdmFsdWUgJiYgdmFsdWUgPCAxMjgpKSB7XHJcbiAgICAgICAgICAgIGNhY2hlZE9iaiA9IElOVF9DQUNIRVt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRPYmopXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgdmFsdWUgPCAwID8gLTEgOiAwLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKGNhY2hlKVxyXG4gICAgICAgICAgICBJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIDMyIGJpdCBpbnRlZ2VyIHZhbHVlLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSAzMiBiaXQgaW50ZWdlciBpbiBxdWVzdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tSW50ID0gZnJvbUludDtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21OdW1iZXIodmFsdWUsIHVuc2lnbmVkKSB7XHJcbiAgICBpZiAoaXNOYU4odmFsdWUpKVxyXG4gICAgICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgIGlmICh1bnNpZ25lZCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgICAgIHJldHVybiBVWkVSTztcclxuICAgICAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8PSAtVFdPX1BXUl82M19EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNSU5fVkFMVUU7XHJcbiAgICAgICAgaWYgKHZhbHVlICsgMSA+PSBUV09fUFdSXzYzX0RCTClcclxuICAgICAgICAgICAgcmV0dXJuIE1BWF9WQUxVRTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIoLXZhbHVlLCB1bnNpZ25lZCkubmVnKCk7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKHZhbHVlICUgVFdPX1BXUl8zMl9EQkwpIHwgMCwgKHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpIHwgMCwgdW5zaWduZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiB2YWx1ZSwgcHJvdmlkZWQgdGhhdCBpdCBpcyBhIGZpbml0ZSBudW1iZXIuIE90aGVyd2lzZSwgemVybyBpcyByZXR1cm5lZC5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgbnVtYmVyIGluIHF1ZXN0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21OdW1iZXIgPSBmcm9tTnVtYmVyO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoQml0c1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgNjQgYml0IGludGVnZXIgdGhhdCBjb21lcyBieSBjb25jYXRlbmF0aW5nIHRoZSBnaXZlbiBsb3cgYW5kIGhpZ2ggYml0cy4gRWFjaCBpc1xyXG4gKiAgYXNzdW1lZCB0byB1c2UgMzIgYml0cy5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzIFRoZSBsb3cgMzIgYml0c1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHMgVGhlIGhpZ2ggMzIgYml0c1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQml0cyA9IGZyb21CaXRzO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gYmFzZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZXhwb25lbnRcclxuICogQHJldHVybnMge251bWJlcn1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgcG93X2RibCA9IE1hdGgucG93OyAvLyBVc2VkIDQgdGltZXMgKDQqOCB0byAxNSs0KVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHBhcmFtIHsoYm9vbGVhbnxudW1iZXIpPX0gdW5zaWduZWRcclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVN0cmluZyhzdHIsIHVuc2lnbmVkLCByYWRpeCkge1xyXG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2VtcHR5IHN0cmluZycpO1xyXG4gICAgaWYgKHN0ciA9PT0gXCJOYU5cIiB8fCBzdHIgPT09IFwiSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiK0luZmluaXR5XCIgfHwgc3RyID09PSBcIi1JbmZpbml0eVwiKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKHR5cGVvZiB1bnNpZ25lZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAvLyBGb3IgZ29vZy5tYXRoLmxvbmcgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgIHJhZGl4ID0gdW5zaWduZWQsXHJcbiAgICAgICAgdW5zaWduZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdW5zaWduZWQgPSAhISB1bnNpZ25lZDtcclxuICAgIH1cclxuICAgIHJhZGl4ID0gcmFkaXggfHwgMTA7XHJcbiAgICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpXHJcbiAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcigncmFkaXgnKTtcclxuXHJcbiAgICB2YXIgcDtcclxuICAgIGlmICgocCA9IHN0ci5pbmRleE9mKCctJykpID4gMClcclxuICAgICAgICB0aHJvdyBFcnJvcignaW50ZXJpb3IgaHlwaGVuJyk7XHJcbiAgICBlbHNlIGlmIChwID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcoc3RyLnN1YnN0cmluZygxKSwgdW5zaWduZWQsIHJhZGl4KS5uZWcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyBzZXZlcmFsICg4KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXHJcbiAgICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cclxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDgpKTtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gWkVSTztcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSA4KSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbig4LCBzdHIubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpLCBpICsgc2l6ZSksIHJhZGl4KTtcclxuICAgICAgICBpZiAoc2l6ZSA8IDgpIHtcclxuICAgICAgICAgICAgdmFyIHBvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCBzaXplKSk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocG93ZXIpLmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bChyYWRpeFRvUG93ZXIpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXN1bHQudW5zaWduZWQgPSB1bnNpZ25lZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gc3RyaW5nLCB3cml0dGVuIHVzaW5nIHRoZSBzcGVjaWZpZWQgcmFkaXguXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBMb25nXHJcbiAqIEBwYXJhbSB7KGJvb2xlYW58bnVtYmVyKT19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBUaGUgcmFkaXggaW4gd2hpY2ggdGhlIHRleHQgaXMgd3JpdHRlbiAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tU3RyaW5nID0gZnJvbVN0cmluZztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfCF7bG93OiBudW1iZXIsIGhpZ2g6IG51bWJlciwgdW5zaWduZWQ6IGJvb2xlYW59fSB2YWxcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21WYWx1ZSh2YWwsIHVuc2lnbmVkKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIodmFsLCB1bnNpZ25lZCk7XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcodmFsLCB1bnNpZ25lZCk7XHJcbiAgICAvLyBUaHJvd3MgZm9yIG5vbi1vYmplY3RzLCBjb252ZXJ0cyBub24taW5zdGFuY2VvZiBMb25nOlxyXG4gICAgcmV0dXJuIGZyb21CaXRzKHZhbC5sb3csIHZhbC5oaWdoLCB0eXBlb2YgdW5zaWduZWQgPT09ICdib29sZWFuJyA/IHVuc2lnbmVkIDogdmFsLnVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgdmFsdWUgdG8gYSBMb25nIHVzaW5nIHRoZSBhcHByb3ByaWF0ZSBmcm9tKiBmdW5jdGlvbiBmb3IgaXRzIHR5cGUuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd8IXtsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyLCB1bnNpZ25lZDogYm9vbGVhbn19IHZhbCBWYWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmcuZnJvbVZhbHVlID0gZnJvbVZhbHVlO1xyXG5cclxuLy8gTk9URTogdGhlIGNvbXBpbGVyIHNob3VsZCBpbmxpbmUgdGhlc2UgY29uc3RhbnQgdmFsdWVzIGJlbG93IGFuZCB0aGVuIHJlbW92ZSB0aGVzZSB2YXJpYWJsZXMsIHNvIHRoZXJlIHNob3VsZCBiZVxyXG4vLyBubyBydW50aW1lIHBlbmFsdHkgZm9yIHRoZXNlLlxyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzE2X0RCTCA9IDEgPDwgMTY7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMjRfREJMID0gMSA8PCAyNDtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl8zMl9EQkwgPSBUV09fUFdSXzE2X0RCTCAqIFRXT19QV1JfMTZfREJMO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzY0X0RCTCA9IFRXT19QV1JfMzJfREJMICogVFdPX1BXUl8zMl9EQkw7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfNjNfREJMID0gVFdPX1BXUl82NF9EQkwgLyAyO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMjQgPSBmcm9tSW50KFRXT19QV1JfMjRfREJMKTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFpFUk8gPSBmcm9tSW50KDApO1xyXG5cclxuLyoqXHJcbiAqIFNpZ25lZCB6ZXJvLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLlpFUk8gPSBaRVJPO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVVpFUk8gPSBmcm9tSW50KDAsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIFVuc2lnbmVkIHplcm8uXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuVVpFUk8gPSBVWkVSTztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE9ORSA9IGZyb21JbnQoMSk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5PTkUgPSBPTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVT05FID0gZnJvbUludCgxLCB0cnVlKTtcclxuXHJcbi8qKlxyXG4gKiBVbnNpZ25lZCBvbmUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuVU9ORSA9IFVPTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBORUdfT05FID0gZnJvbUludCgtMSk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIG5lZ2F0aXZlIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5ORUdfT05FID0gTkVHX09ORTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE1BWF9WQUxVRSA9IGZyb21CaXRzKDB4RkZGRkZGRkZ8MCwgMHg3RkZGRkZGRnwwLCBmYWxzZSk7XHJcblxyXG4vKipcclxuICogTWF4aW11bSBzaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUFYX1ZBTFVFID0gTUFYX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUFYX1VOU0lHTkVEX1ZBTFVFID0gZnJvbUJpdHMoMHhGRkZGRkZGRnwwLCAweEZGRkZGRkZGfDAsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIE1heGltdW0gdW5zaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUFYX1VOU0lHTkVEX1ZBTFVFID0gTUFYX1VOU0lHTkVEX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUlOX1ZBTFVFID0gZnJvbUJpdHMoMCwgMHg4MDAwMDAwMHwwLCBmYWxzZSk7XHJcblxyXG4vKipcclxuICogTWluaW11bSBzaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUlOX1ZBTFVFID0gTUlOX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEBhbGlhcyBMb25nLnByb3RvdHlwZVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBMb25nUHJvdG90eXBlID0gTG9uZy5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSAzMiBiaXQgaW50ZWdlciwgYXNzdW1pbmcgaXQgaXMgYSAzMiBiaXQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbiB0b0ludCgpIHtcclxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gdGhpcy5sb3cgPj4+IDAgOiB0aGlzLmxvdztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHRoZSBuZWFyZXN0IGZsb2F0aW5nLXBvaW50IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdmFsdWUgKGRvdWJsZSwgNTMgYml0IG1hbnRpc3NhKS5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcigpIHtcclxuICAgIGlmICh0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiAoKHRoaXMuaGlnaCA+Pj4gMCkgKiBUV09fUFdSXzMyX0RCTCkgKyAodGhpcy5sb3cgPj4+IDApO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHN0cmluZyB3cml0dGVuIGluIHRoZSBzcGVjaWZpZWQgcmFkaXguXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXggUmFkaXggKDItMzYpLCBkZWZhdWx0cyB0byAxMFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKiBAb3ZlcnJpZGVcclxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gSWYgYHJhZGl4YCBpcyBvdXQgb2YgcmFuZ2VcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhyYWRpeCkge1xyXG4gICAgcmFkaXggPSByYWRpeCB8fCAxMDtcclxuICAgIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeClcclxuICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdyYWRpeCcpO1xyXG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuICcwJztcclxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkgeyAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcclxuICAgICAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2hhbmdlIHRoZSBMb25nIHZhbHVlIGJlZm9yZSBpdCBjYW4gYmUgbmVnYXRlZCwgc28gd2UgcmVtb3ZlXHJcbiAgICAgICAgICAgIC8vIHRoZSBib3R0b20tbW9zdCBkaWdpdCBpbiB0aGlzIGJhc2UgYW5kIHRoZW4gcmVjdXJzZSB0byBkbyB0aGUgcmVzdC5cclxuICAgICAgICAgICAgdmFyIHJhZGl4TG9uZyA9IGZyb21OdW1iZXIocmFkaXgpLFxyXG4gICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5kaXYocmFkaXhMb25nKSxcclxuICAgICAgICAgICAgICAgIHJlbTEgPSBkaXYubXVsKHJhZGl4TG9uZykuc3ViKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2LnRvU3RyaW5nKHJhZGl4KSArIHJlbTEudG9JbnQoKS50b1N0cmluZyhyYWRpeCk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAnLScgKyB0aGlzLm5lZygpLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyBzZXZlcmFsICg2KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXHJcbiAgICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cclxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDYpLCB0aGlzLnVuc2lnbmVkKSxcclxuICAgICAgICByZW0gPSB0aGlzO1xyXG4gICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICB2YXIgcmVtRGl2ID0gcmVtLmRpdihyYWRpeFRvUG93ZXIpLFxyXG4gICAgICAgICAgICBpbnR2YWwgPSByZW0uc3ViKHJlbURpdi5tdWwocmFkaXhUb1Bvd2VyKSkudG9JbnQoKSA+Pj4gMCxcclxuICAgICAgICAgICAgZGlnaXRzID0gaW50dmFsLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgICAgICByZW0gPSByZW1EaXY7XHJcbiAgICAgICAgaWYgKHJlbS5pc1plcm8oKSlcclxuICAgICAgICAgICAgcmV0dXJuIGRpZ2l0cyArIHJlc3VsdDtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPCA2KVxyXG4gICAgICAgICAgICAgICAgZGlnaXRzID0gJzAnICsgZGlnaXRzO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAnJyArIGRpZ2l0cyArIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGEgc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNpZ25lZCBoaWdoIGJpdHNcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHMgPSBmdW5jdGlvbiBnZXRIaWdoQml0cygpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2g7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGhpZ2ggYml0c1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHNVbnNpZ25lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggPj4+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgbG93IDMyIGJpdHMgYXMgYSBzaWduZWQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn0gU2lnbmVkIGxvdyBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHMgPSBmdW5jdGlvbiBnZXRMb3dCaXRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGxvdyAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGxvdyBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldExvd0JpdHNVbnNpZ25lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmxvdyA+Pj4gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBudW1iZXIgb2YgYml0cyBuZWVkZWQgdG8gcmVwcmVzZW50IHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIExvbmcuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldE51bUJpdHNBYnMgPSBmdW5jdGlvbiBnZXROdW1CaXRzQWJzKCkge1xyXG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcclxuICAgICAgICByZXR1cm4gdGhpcy5lcShNSU5fVkFMVUUpID8gNjQgOiB0aGlzLm5lZygpLmdldE51bUJpdHNBYnMoKTtcclxuICAgIHZhciB2YWwgPSB0aGlzLmhpZ2ggIT0gMCA/IHRoaXMuaGlnaCA6IHRoaXMubG93O1xyXG4gICAgZm9yICh2YXIgYml0ID0gMzE7IGJpdCA+IDA7IGJpdC0tKVxyXG4gICAgICAgIGlmICgodmFsICYgKDEgPDwgYml0KSkgIT0gMClcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHplcm8uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbiBpc1plcm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoID09PSAwICYmIHRoaXMubG93ID09PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2lzWmVyb30uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcXogPSBMb25nUHJvdG90eXBlLmlzWmVybztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBuZWdhdGl2ZS5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzTmVnYXRpdmUgPSBmdW5jdGlvbiBpc05lZ2F0aXZlKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA8IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgcG9zaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gaXNQb3NpdGl2ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkIHx8IHRoaXMuaGlnaCA+PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIG9kZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gaXNPZGQoKSB7XHJcbiAgICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZXZlbi5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbigpIHtcclxuICAgIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZCAhPT0gb3RoZXIudW5zaWduZWQgJiYgKHRoaXMuaGlnaCA+Pj4gMzEpID09PSAxICYmIChvdGhlci5oaWdoID4+PiAzMSkgPT09IDEpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gb3RoZXIuaGlnaCAmJiB0aGlzLmxvdyA9PT0gb3RoZXIubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZXF1YWxzfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmVxID0gTG9uZ1Byb3RvdHlwZS5lcXVhbHM7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubm90RXF1YWxzID0gZnVuY3Rpb24gbm90RXF1YWxzKG90aGVyKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuZXEoLyogdmFsaWRhdGVzICovIG90aGVyKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZXEgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuID0gZnVuY3Rpb24gbGVzc1RoYW4ob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA8IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbn0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sdCA9IExvbmdQcm90b3R5cGUubGVzc1RoYW47XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsID0gZnVuY3Rpb24gbGVzc1RoYW5PckVxdWFsKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPD0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sdGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gZ3JlYXRlclRoYW4ob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbn0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ndCA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW47XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsID0gZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPj0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ndGUgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcclxuICogIGlmIHRoZSBnaXZlbiBvbmUgaXMgZ3JlYXRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIGlmICh0aGlzLmVxKG90aGVyKSlcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIHZhciB0aGlzTmVnID0gdGhpcy5pc05lZ2F0aXZlKCksXHJcbiAgICAgICAgb3RoZXJOZWcgPSBvdGhlci5pc05lZ2F0aXZlKCk7XHJcbiAgICBpZiAodGhpc05lZyAmJiAhb3RoZXJOZWcpXHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgaWYgKCF0aGlzTmVnICYmIG90aGVyTmVnKVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgc2lnbiBiaXRzIGFyZSB0aGUgc2FtZVxyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN1YihvdGhlcikuaXNOZWdhdGl2ZSgpID8gLTEgOiAxO1xyXG4gICAgLy8gQm90aCBhcmUgcG9zaXRpdmUgaWYgYXQgbGVhc3Qgb25lIGlzIHVuc2lnbmVkXHJcbiAgICByZXR1cm4gKG90aGVyLmhpZ2ggPj4+IDApID4gKHRoaXMuaGlnaCA+Pj4gMCkgfHwgKG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiAob3RoZXIubG93ID4+PiAwKSA+ICh0aGlzLmxvdyA+Pj4gMCkpID8gLTEgOiAxO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2NvbXBhcmV9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCAxIGlmIHRoZSB0aGlzIGlzIGdyZWF0ZXIgYW5kIC0xXHJcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUuY29tcCA9IExvbmdQcm90b3R5cGUuY29tcGFyZTtcclxuXHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiBuZWdhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMudW5zaWduZWQgJiYgdGhpcy5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiBNSU5fVkFMVUU7XHJcbiAgICByZXR1cm4gdGhpcy5ub3QoKS5hZGQoT05FKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25lZ2F0ZX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZWcgPSBMb25nUHJvdG90eXBlLm5lZ2F0ZTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGFkZGVuZCBBZGRlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBTdW1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGFkZGVuZCkge1xyXG4gICAgaWYgKCFpc0xvbmcoYWRkZW5kKSlcclxuICAgICAgICBhZGRlbmQgPSBmcm9tVmFsdWUoYWRkZW5kKTtcclxuXHJcbiAgICAvLyBEaXZpZGUgZWFjaCBudW1iZXIgaW50byA0IGNodW5rcyBvZiAxNiBiaXRzLCBhbmQgdGhlbiBzdW0gdGhlIGNodW5rcy5cclxuXHJcbiAgICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcclxuICAgIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBiNDggPSBhZGRlbmQuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYjMyID0gYWRkZW5kLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYjE2ID0gYWRkZW5kLmxvdyA+Pj4gMTY7XHJcbiAgICB2YXIgYjAwID0gYWRkZW5kLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcclxuICAgIGMwMCArPSBhMDAgKyBiMDA7XHJcbiAgICBjMTYgKz0gYzAwID4+PiAxNjtcclxuICAgIGMwMCAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTE2ICsgYjE2O1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEzMiArIGIzMjtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGM0OCArPSBhNDggKyBiNDg7XHJcbiAgICBjNDggJj0gMHhGRkZGO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKChjMTYgPDwgMTYpIHwgYzAwLCAoYzQ4IDw8IDE2KSB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gc3VidHJhaGVuZCBTdWJ0cmFoZW5kXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KHN1YnRyYWhlbmQpIHtcclxuICAgIGlmICghaXNMb25nKHN1YnRyYWhlbmQpKVxyXG4gICAgICAgIHN1YnRyYWhlbmQgPSBmcm9tVmFsdWUoc3VidHJhaGVuZCk7XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoc3VidHJhaGVuZC5uZWcoKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc3VidHJhY3R9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBEaWZmZXJlbmNlXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnN1YiA9IExvbmdQcm90b3R5cGUuc3VidHJhY3Q7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgcHJvZHVjdCBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gbXVsdGlwbGllciBNdWx0aXBsaWVyXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUHJvZHVjdFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG11bHRpcGxpZXIpIHtcclxuICAgIGlmICh0aGlzLmlzWmVybygpKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKCFpc0xvbmcobXVsdGlwbGllcikpXHJcbiAgICAgICAgbXVsdGlwbGllciA9IGZyb21WYWx1ZShtdWx0aXBsaWVyKTtcclxuXHJcbiAgICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcclxuICAgIGlmICh3YXNtKSB7XHJcbiAgICAgICAgdmFyIGxvdyA9IHdhc20ubXVsKHRoaXMubG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxpZXIubG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsaWVyLmhpZ2gpO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG11bHRpcGxpZXIuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuIFpFUk87XHJcbiAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiBtdWx0aXBsaWVyLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xyXG4gICAgaWYgKG11bHRpcGxpZXIuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICByZXR1cm4gdGhpcy5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcclxuXHJcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcclxuICAgICAgICBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyLm5lZygpKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyKS5uZWcoKTtcclxuICAgIH0gZWxzZSBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsKG11bHRpcGxpZXIubmVnKCkpLm5lZygpO1xyXG5cclxuICAgIC8vIElmIGJvdGggbG9uZ3MgYXJlIHNtYWxsLCB1c2UgZmxvYXQgbXVsdGlwbGljYXRpb25cclxuICAgIGlmICh0aGlzLmx0KFRXT19QV1JfMjQpICYmIG11bHRpcGxpZXIubHQoVFdPX1BXUl8yNCkpXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogbXVsdGlwbGllci50b051bWJlcigpLCB0aGlzLnVuc2lnbmVkKTtcclxuXHJcbiAgICAvLyBEaXZpZGUgZWFjaCBsb25nIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gYWRkIHVwIDR4NCBwcm9kdWN0cy5cclxuICAgIC8vIFdlIGNhbiBza2lwIHByb2R1Y3RzIHRoYXQgd291bGQgb3ZlcmZsb3cuXHJcblxyXG4gICAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYTMyID0gdGhpcy5oaWdoICYgMHhGRkZGO1xyXG4gICAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcclxuICAgIHZhciBhMDAgPSB0aGlzLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYjQ4ID0gbXVsdGlwbGllci5oaWdoID4+PiAxNjtcclxuICAgIHZhciBiMzIgPSBtdWx0aXBsaWVyLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYjE2ID0gbXVsdGlwbGllci5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGIwMCA9IG11bHRpcGxpZXIubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xyXG4gICAgYzAwICs9IGEwMCAqIGIwMDtcclxuICAgIGMxNiArPSBjMDAgPj4+IDE2O1xyXG4gICAgYzAwICY9IDB4RkZGRjtcclxuICAgIGMxNiArPSBhMTYgKiBiMDA7XHJcbiAgICBjMzIgKz0gYzE2ID4+PiAxNjtcclxuICAgIGMxNiAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTAwICogYjE2O1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEzMiAqIGIwMDtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGMzMiArPSBhMTYgKiBiMTY7XHJcbiAgICBjNDggKz0gYzMyID4+PiAxNjtcclxuICAgIGMzMiAmPSAweEZGRkY7XHJcbiAgICBjMzIgKz0gYTAwICogYjMyO1xyXG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XHJcbiAgICBjMzIgJj0gMHhGRkZGO1xyXG4gICAgYzQ4ICs9IGE0OCAqIGIwMCArIGEzMiAqIGIxNiArIGExNiAqIGIzMiArIGEwMCAqIGI0ODtcclxuICAgIGM0OCAmPSAweEZGRkY7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKGMxNiA8PCAxNikgfCBjMDAsIChjNDggPDwgMTYpIHwgYzMyLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtdWx0aXBseX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFByb2R1Y3RcclxuICovXHJcbkxvbmdQcm90b3R5cGUubXVsID0gTG9uZ1Byb3RvdHlwZS5tdWx0aXBseTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoZSByZXN1bHQgaXMgc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyBzaWduZWQgb3JcclxuICogIHVuc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyB1bnNpZ25lZC5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBRdW90aWVudFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoZGl2aXNvcikge1xyXG4gICAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXHJcbiAgICAgICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcclxuICAgIGlmIChkaXZpc29yLmlzWmVybygpKVxyXG4gICAgICAgIHRocm93IEVycm9yKCdkaXZpc2lvbiBieSB6ZXJvJyk7XHJcblxyXG4gICAgLy8gdXNlIHdhc20gc3VwcG9ydCBpZiBwcmVzZW50XHJcbiAgICBpZiAod2FzbSkge1xyXG4gICAgICAgIC8vIGd1YXJkIGFnYWluc3Qgc2lnbmVkIGRpdmlzaW9uIG92ZXJmbG93OiB0aGUgbGFyZ2VzdFxyXG4gICAgICAgIC8vIG5lZ2F0aXZlIG51bWJlciAvIC0xIHdvdWxkIGJlIDEgbGFyZ2VyIHRoYW4gdGhlIGxhcmdlc3RcclxuICAgICAgICAvLyBwb3NpdGl2ZSBudW1iZXIsIGR1ZSB0byB0d28ncyBjb21wbGVtZW50LlxyXG4gICAgICAgIGlmICghdGhpcy51bnNpZ25lZCAmJlxyXG4gICAgICAgICAgICB0aGlzLmhpZ2ggPT09IC0weDgwMDAwMDAwICYmXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93ID09PSAtMSAmJiBkaXZpc29yLmhpZ2ggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGJlIGNvbnNpc3RlbnQgd2l0aCBub24td2FzbSBjb2RlIHBhdGhcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc20uZGl2X3UgOiB3YXNtLmRpdl9zKShcclxuICAgICAgICAgICAgdGhpcy5sb3csXHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCxcclxuICAgICAgICAgICAgZGl2aXNvci5sb3csXHJcbiAgICAgICAgICAgIGRpdmlzb3IuaGlnaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbS5nZXRfaGlnaCgpLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1plcm8oKSlcclxuICAgICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgIHZhciBhcHByb3gsIHJlbSwgcmVzO1xyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKSB7XHJcbiAgICAgICAgLy8gVGhpcyBzZWN0aW9uIGlzIG9ubHkgcmVsZXZhbnQgZm9yIHNpZ25lZCBsb25ncyBhbmQgaXMgZGVyaXZlZCBmcm9tIHRoZVxyXG4gICAgICAgIC8vIGNsb3N1cmUgbGlicmFyeSBhcyBhIHdob2xlLlxyXG4gICAgICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IuZXEoT05FKSB8fCBkaXZpc29yLmVxKE5FR19PTkUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTsgIC8vIHJlY2FsbCB0aGF0IC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBPTkU7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSB8b3RoZXJ8ID49IDIsIHNvIHx0aGlzL290aGVyfCA8IHxNSU5fVkFMVUV8LlxyXG4gICAgICAgICAgICAgICAgdmFyIGhhbGZUaGlzID0gdGhpcy5zaHIoMSk7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ggPSBoYWxmVGhpcy5kaXYoZGl2aXNvcikuc2hsKDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcHJveC5lcShaRVJPKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXZpc29yLmlzTmVnYXRpdmUoKSA/IE9ORSA6IE5FR19PTkU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbSA9IHRoaXMuc3ViKGRpdmlzb3IubXVsKGFwcHJveCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGFwcHJveC5hZGQocmVtLmRpdihkaXZpc29yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IuaXNOZWdhdGl2ZSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IubmVnKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvcikubmVnKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGl2KGRpdmlzb3IubmVnKCkpLm5lZygpO1xyXG4gICAgICAgIHJlcyA9IFpFUk87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRoZSBhbGdvcml0aG0gYmVsb3cgaGFzIG5vdCBiZWVuIG1hZGUgZm9yIHVuc2lnbmVkIGxvbmdzLiBJdCdzIHRoZXJlZm9yZVxyXG4gICAgICAgIC8vIHJlcXVpcmVkIHRvIHRha2Ugc3BlY2lhbCBjYXJlIG9mIHRoZSBNU0IgcHJpb3IgdG8gcnVubmluZyBpdC5cclxuICAgICAgICBpZiAoIWRpdmlzb3IudW5zaWduZWQpXHJcbiAgICAgICAgICAgIGRpdmlzb3IgPSBkaXZpc29yLnRvVW5zaWduZWQoKTtcclxuICAgICAgICBpZiAoZGl2aXNvci5ndCh0aGlzKSlcclxuICAgICAgICAgICAgcmV0dXJuIFVaRVJPO1xyXG4gICAgICAgIGlmIChkaXZpc29yLmd0KHRoaXMuc2hydSgxKSkpIC8vIDE1ID4+PiAxID0gNyA7IHdpdGggZGl2aXNvciA9IDggOyB0cnVlXHJcbiAgICAgICAgICAgIHJldHVybiBVT05FO1xyXG4gICAgICAgIHJlcyA9IFVaRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcGVhdCB0aGUgZm9sbG93aW5nIHVudGlsIHRoZSByZW1haW5kZXIgaXMgbGVzcyB0aGFuIG90aGVyOiAgZmluZCBhXHJcbiAgICAvLyBmbG9hdGluZy1wb2ludCB0aGF0IGFwcHJveGltYXRlcyByZW1haW5kZXIgLyBvdGhlciAqZnJvbSBiZWxvdyosIGFkZCB0aGlzXHJcbiAgICAvLyBpbnRvIHRoZSByZXN1bHQsIGFuZCBzdWJ0cmFjdCBpdCBmcm9tIHRoZSByZW1haW5kZXIuICBJdCBpcyBjcml0aWNhbCB0aGF0XHJcbiAgICAvLyB0aGUgYXBwcm94aW1hdGUgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSByZWFsIHZhbHVlIHNvIHRoYXQgdGhlXHJcbiAgICAvLyByZW1haW5kZXIgbmV2ZXIgYmVjb21lcyBuZWdhdGl2ZS5cclxuICAgIHJlbSA9IHRoaXM7XHJcbiAgICB3aGlsZSAocmVtLmd0ZShkaXZpc29yKSkge1xyXG4gICAgICAgIC8vIEFwcHJveGltYXRlIHRoZSByZXN1bHQgb2YgZGl2aXNpb24uIFRoaXMgbWF5IGJlIGEgbGl0dGxlIGdyZWF0ZXIgb3JcclxuICAgICAgICAvLyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCB2YWx1ZS5cclxuICAgICAgICBhcHByb3ggPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHJlbS50b051bWJlcigpIC8gZGl2aXNvci50b051bWJlcigpKSk7XHJcblxyXG4gICAgICAgIC8vIFdlIHdpbGwgdHdlYWsgdGhlIGFwcHJveGltYXRlIHJlc3VsdCBieSBjaGFuZ2luZyBpdCBpbiB0aGUgNDgtdGggZGlnaXQgb3JcclxuICAgICAgICAvLyB0aGUgc21hbGxlc3Qgbm9uLWZyYWN0aW9uYWwgZGlnaXQsIHdoaWNoZXZlciBpcyBsYXJnZXIuXHJcbiAgICAgICAgdmFyIGxvZzIgPSBNYXRoLmNlaWwoTWF0aC5sb2coYXBwcm94KSAvIE1hdGguTE4yKSxcclxuICAgICAgICAgICAgZGVsdGEgPSAobG9nMiA8PSA0OCkgPyAxIDogcG93X2RibCgyLCBsb2cyIC0gNDgpLFxyXG5cclxuICAgICAgICAvLyBEZWNyZWFzZSB0aGUgYXBwcm94aW1hdGlvbiB1bnRpbCBpdCBpcyBzbWFsbGVyIHRoYW4gdGhlIHJlbWFpbmRlci4gIE5vdGVcclxuICAgICAgICAvLyB0aGF0IGlmIGl0IGlzIHRvbyBsYXJnZSwgdGhlIHByb2R1Y3Qgb3ZlcmZsb3dzIGFuZCBpcyBuZWdhdGl2ZS5cclxuICAgICAgICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gpLFxyXG4gICAgICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xyXG4gICAgICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ndChyZW0pKSB7XHJcbiAgICAgICAgICAgIGFwcHJveCAtPSBkZWx0YTtcclxuICAgICAgICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2Uga25vdyB0aGUgYW5zd2VyIGNhbid0IGJlIHplcm8uLi4gYW5kIGFjdHVhbGx5LCB6ZXJvIHdvdWxkIGNhdXNlXHJcbiAgICAgICAgLy8gaW5maW5pdGUgcmVjdXJzaW9uIHNpbmNlIHdlIHdvdWxkIG1ha2Ugbm8gcHJvZ3Jlc3MuXHJcbiAgICAgICAgaWYgKGFwcHJveFJlcy5pc1plcm8oKSlcclxuICAgICAgICAgICAgYXBwcm94UmVzID0gT05FO1xyXG5cclxuICAgICAgICByZXMgPSByZXMuYWRkKGFwcHJveFJlcyk7XHJcbiAgICAgICAgcmVtID0gcmVtLnN1YihhcHByb3hSZW0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZGl2aWRlfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUXVvdGllbnRcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZGl2ID0gTG9uZ1Byb3RvdHlwZS5kaXZpZGU7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm1vZHVsbyA9IGZ1bmN0aW9uIG1vZHVsbyhkaXZpc29yKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcclxuICAgICAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xyXG5cclxuICAgIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxyXG4gICAgaWYgKHdhc20pIHtcclxuICAgICAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtLnJlbV91IDogd2FzbS5yZW1fcykoXHJcbiAgICAgICAgICAgIHRoaXMubG93LFxyXG4gICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93LFxyXG4gICAgICAgICAgICBkaXZpc29yLmhpZ2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc3ViKHRoaXMuZGl2KGRpdmlzb3IpLm11bChkaXZpc29yKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbW9kdWxvfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm1vZCA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5yZW0gPSBMb25nUHJvdG90eXBlLm1vZHVsbztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIE5PVCBvZiB0aGlzIExvbmcuXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmdQcm90b3R5cGUubm90ID0gZnVuY3Rpb24gbm90KCkge1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKH50aGlzLmxvdywgfnRoaXMuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYml0d2lzZSBBTkQgb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiBhbmQob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgJiBvdGhlci5sb3csIHRoaXMuaGlnaCAmIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5vciA9IGZ1bmN0aW9uIG9yKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IHwgb3RoZXIubG93LCB0aGlzLmhpZ2ggfCBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIFhPUiBvZiB0aGlzIExvbmcgYW5kIHRoZSBnaXZlbiBvbmUuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIHhvcihvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyBeIG90aGVyLmxvdywgdGhpcy5oaWdoIF4gb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gc2hpZnRMZWZ0KG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IDw8IG51bUJpdHMsICh0aGlzLmhpZ2ggPDwgbnVtQml0cykgfCAodGhpcy5sb3cgPj4+ICgzMiAtIG51bUJpdHMpKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKDAsIHRoaXMubG93IDw8IChudW1CaXRzIC0gMzIpLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgc2hpZnRlZCB0byB0aGUgbGVmdCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0TGVmdH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaGwgPSBMb25nUHJvdG90eXBlLnNoaWZ0TGVmdDtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgYXJpdGhtZXRpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHQobnVtQml0cykge1xyXG4gICAgaWYgKGlzTG9uZyhudW1CaXRzKSlcclxuICAgICAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xyXG4gICAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2UgaWYgKG51bUJpdHMgPCAzMilcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMoKHRoaXMubG93ID4+PiBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPDwgKDMyIC0gbnVtQml0cykpLCB0aGlzLmhpZ2ggPj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+PiAobnVtQml0cyAtIDMyKSwgdGhpcy5oaWdoID49IDAgPyAwIDogLTEsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBhcml0aG1ldGljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHR9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hyID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkID0gZnVuY3Rpb24gc2hpZnRSaWdodFVuc2lnbmVkKG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIG51bUJpdHMgJj0gNjM7XHJcbiAgICBpZiAobnVtQml0cyA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBoaWdoID0gdGhpcy5oaWdoO1xyXG4gICAgICAgIGlmIChudW1CaXRzIDwgMzIpIHtcclxuICAgICAgICAgICAgdmFyIGxvdyA9IHRoaXMubG93O1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUJpdHMoKGxvdyA+Pj4gbnVtQml0cykgfCAoaGlnaCA8PCAoMzIgLSBudW1CaXRzKSksIGhpZ2ggPj4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtQml0cyA9PT0gMzIpXHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cyhoaWdoLCAwLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cyhoaWdoID4+PiAobnVtQml0cyAtIDMyKSwgMCwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHJ1ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHJfdSA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkO1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBzaWduZWQuXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2lnbmVkIGxvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9TaWduZWQgPSBmdW5jdGlvbiB0b1NpZ25lZCgpIHtcclxuICAgIGlmICghdGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCBmYWxzZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIHVuc2lnbmVkLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFVuc2lnbmVkIGxvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9VbnNpZ25lZCA9IGZ1bmN0aW9uIHRvVW5zaWduZWQoKSB7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCB0cnVlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGxlIFdoZXRoZXIgbGl0dGxlIG9yIGJpZyBlbmRpYW4sIGRlZmF1bHRzIHRvIGJpZyBlbmRpYW5cclxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gQnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gdG9CeXRlcyhsZSkge1xyXG4gICAgcmV0dXJuIGxlID8gdGhpcy50b0J5dGVzTEUoKSA6IHRoaXMudG9CeXRlc0JFKCk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzTEUgPSBmdW5jdGlvbiB0b0J5dGVzTEUoKSB7XHJcbiAgICB2YXIgaGkgPSB0aGlzLmhpZ2gsXHJcbiAgICAgICAgbG8gPSB0aGlzLmxvdztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgbG8gICAgICAgICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gIDggJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+IDI0ICAgICAgICxcclxuICAgICAgICBoaSAgICAgICAgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgaGkgPj4+IDE2ICYgMHhmZixcclxuICAgICAgICBoaSA+Pj4gMjRcclxuICAgIF07XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBiaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IEJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzQkUgPSBmdW5jdGlvbiB0b0J5dGVzQkUoKSB7XHJcbiAgICB2YXIgaGkgPSB0aGlzLmhpZ2gsXHJcbiAgICAgICAgbG8gPSB0aGlzLmxvdztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgaGkgPj4+IDI0ICAgICAgICxcclxuICAgICAgICBoaSA+Pj4gMTYgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgaGkgICAgICAgICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gMjQgICAgICAgLFxyXG4gICAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+ICA4ICYgMHhmZixcclxuICAgICAgICBsbyAgICAgICAgJiAweGZmXHJcbiAgICBdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCeXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHBhcmFtIHtib29sZWFuPX0gbGUgV2hldGhlciBsaXR0bGUgb3IgYmlnIGVuZGlhbiwgZGVmYXVsdHMgdG8gYmlnIGVuZGlhblxyXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQnl0ZXMgPSBmdW5jdGlvbiBmcm9tQnl0ZXMoYnl0ZXMsIHVuc2lnbmVkLCBsZSkge1xyXG4gICAgcmV0dXJuIGxlID8gTG9uZy5mcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIDogTG9uZy5mcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGxpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21CeXRlc0xFID0gZnVuY3Rpb24gZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcoXHJcbiAgICAgICAgYnl0ZXNbMF0gICAgICAgfFxyXG4gICAgICAgIGJ5dGVzWzFdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1syXSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbM10gPDwgMjQsXHJcbiAgICAgICAgYnl0ZXNbNF0gICAgICAgfFxyXG4gICAgICAgIGJ5dGVzWzVdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1s2XSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbN10gPDwgMjQsXHJcbiAgICAgICAgdW5zaWduZWRcclxuICAgICk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgYmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgQmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUJ5dGVzQkUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpIHtcclxuICAgIHJldHVybiBuZXcgTG9uZyhcclxuICAgICAgICBieXRlc1s0XSA8PCAyNCB8XHJcbiAgICAgICAgYnl0ZXNbNV0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzZdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1s3XSxcclxuICAgICAgICBieXRlc1swXSA8PCAyNCB8XHJcbiAgICAgICAgYnl0ZXNbMV0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzJdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1szXSxcclxuICAgICAgICB1bnNpZ25lZFxyXG4gICAgKTtcclxufTtcclxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IChwcm9taXNlLCBvbkZpbmFsbHkpID0+IHtcblx0b25GaW5hbGx5ID0gb25GaW5hbGx5IHx8ICgoKSA9PiB7fSk7XG5cblx0cmV0dXJuIHByb21pc2UudGhlbihcblx0XHR2YWwgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRyZXNvbHZlKG9uRmluYWxseSgpKTtcblx0XHR9KS50aGVuKCgpID0+IHZhbCksXG5cdFx0ZXJyID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuXHRcdFx0cmVzb2x2ZShvbkZpbmFsbHkoKSk7XG5cdFx0fSkudGhlbigoKSA9PiB7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fSlcblx0KTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwRmluYWxseSA9IHJlcXVpcmUoJ3AtZmluYWxseScpO1xuXG5jbGFzcyBUaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcblx0fVxufVxuXG5jb25zdCBwVGltZW91dCA9IChwcm9taXNlLCBtaWxsaXNlY29uZHMsIGZhbGxiYWNrKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdGlmICh0eXBlb2YgbWlsbGlzZWNvbmRzICE9PSAnbnVtYmVyJyB8fCBtaWxsaXNlY29uZHMgPCAwKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYG1pbGxpc2Vjb25kc2AgdG8gYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcblx0fVxuXG5cdGlmIChtaWxsaXNlY29uZHMgPT09IEluZmluaXR5KSB7XG5cdFx0cmVzb2x2ZShwcm9taXNlKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdGlmICh0eXBlb2YgZmFsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJlc29sdmUoZmFsbGJhY2soKSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnZSA9IHR5cGVvZiBmYWxsYmFjayA9PT0gJ3N0cmluZycgPyBmYWxsYmFjayA6IGBQcm9taXNlIHRpbWVkIG91dCBhZnRlciAke21pbGxpc2Vjb25kc30gbWlsbGlzZWNvbmRzYDtcblx0XHRjb25zdCB0aW1lb3V0RXJyb3IgPSBmYWxsYmFjayBpbnN0YW5jZW9mIEVycm9yID8gZmFsbGJhY2sgOiBuZXcgVGltZW91dEVycm9yKG1lc3NhZ2UpO1xuXG5cdFx0aWYgKHR5cGVvZiBwcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cHJvbWlzZS5jYW5jZWwoKTtcblx0XHR9XG5cblx0XHRyZWplY3QodGltZW91dEVycm9yKTtcblx0fSwgbWlsbGlzZWNvbmRzKTtcblxuXHQvLyBUT0RPOiBVc2UgbmF0aXZlIGBmaW5hbGx5YCBrZXl3b3JkIHdoZW4gdGFyZ2V0aW5nIE5vZGUuanMgMTBcblx0cEZpbmFsbHkoXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHRwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KSxcblx0XHQoKSA9PiB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdH1cblx0KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBUaW1lb3V0O1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBwVGltZW91dDtcblxubW9kdWxlLmV4cG9ydHMuVGltZW91dEVycm9yID0gVGltZW91dEVycm9yO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gUG9ydCBvZiBsb3dlcl9ib3VuZCBmcm9tIGh0dHBzOi8vZW4uY3BwcmVmZXJlbmNlLmNvbS93L2NwcC9hbGdvcml0aG0vbG93ZXJfYm91bmRcbi8vIFVzZWQgdG8gY29tcHV0ZSBpbnNlcnRpb24gaW5kZXggdG8ga2VlcCBxdWV1ZSBzb3J0ZWQgYWZ0ZXIgaW5zZXJ0aW9uXG5mdW5jdGlvbiBsb3dlckJvdW5kKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIGxldCBmaXJzdCA9IDA7XG4gICAgbGV0IGNvdW50ID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChjb3VudCAvIDIpIHwgMDtcbiAgICAgICAgbGV0IGl0ID0gZmlyc3QgKyBzdGVwO1xuICAgICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpdF0sIHZhbHVlKSA8PSAwKSB7XG4gICAgICAgICAgICBmaXJzdCA9ICsraXQ7XG4gICAgICAgICAgICBjb3VudCAtPSBzdGVwICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RlcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBsb3dlckJvdW5kO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbG93ZXJfYm91bmRfMSA9IHJlcXVpcmUoXCIuL2xvd2VyLWJvdW5kXCIpO1xuY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfVxuICAgIGVucXVldWUocnVuLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgcHJpb3JpdHk6IDAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB7XG4gICAgICAgICAgICBwcmlvcml0eTogb3B0aW9ucy5wcmlvcml0eSxcbiAgICAgICAgICAgIHJ1blxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zaXplICYmIHRoaXMuX3F1ZXVlW3RoaXMuc2l6ZSAtIDFdLnByaW9yaXR5ID49IG9wdGlvbnMucHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBsb3dlcl9ib3VuZF8xLmRlZmF1bHQodGhpcy5fcXVldWUsIGVsZW1lbnQsIChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnNwbGljZShpbmRleCwgMCwgZWxlbWVudCk7XG4gICAgfVxuICAgIGRlcXVldWUoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICByZXR1cm4gaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLnJ1bjtcbiAgICB9XG4gICAgZmlsdGVyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5wcmlvcml0eSA9PT0gb3B0aW9ucy5wcmlvcml0eSkubWFwKChlbGVtZW50KSA9PiBlbGVtZW50LnJ1bik7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUubGVuZ3RoO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFByaW9yaXR5UXVldWU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbmNvbnN0IHBfdGltZW91dF8xID0gcmVxdWlyZShcInAtdGltZW91dFwiKTtcbmNvbnN0IHByaW9yaXR5X3F1ZXVlXzEgPSByZXF1aXJlKFwiLi9wcmlvcml0eS1xdWV1ZVwiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbmNvbnN0IGVtcHR5ID0gKCkgPT4geyB9O1xuY29uc3QgdGltZW91dEVycm9yID0gbmV3IHBfdGltZW91dF8xLlRpbWVvdXRFcnJvcigpO1xuLyoqXG5Qcm9taXNlIHF1ZXVlIHdpdGggY29uY3VycmVuY3kgY29udHJvbC5cbiovXG5jbGFzcyBQUXVldWUgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxFbmQgPSAwO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHkgPSBlbXB0eTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSBlbXB0eTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGNhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ6IGZhbHNlLCBpbnRlcnZhbENhcDogSW5maW5pdHksIGludGVydmFsOiAwLCBjb25jdXJyZW5jeTogSW5maW5pdHksIGF1dG9TdGFydDogdHJ1ZSwgcXVldWVDbGFzczogcHJpb3JpdHlfcXVldWVfMS5kZWZhdWx0IH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbENhcCA9PT0gJ251bWJlcicgJiYgb3B0aW9ucy5pbnRlcnZhbENhcCA+PSAxKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxDYXBcXGAgdG8gYmUgYSBudW1iZXIgZnJvbSAxIGFuZCB1cCwgZ290IFxcYCR7KF9iID0gKF9hID0gb3B0aW9ucy5pbnRlcnZhbENhcCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnfVxcYCAoJHt0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbENhcH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCB8fCAhKE51bWJlci5pc0Zpbml0ZShvcHRpb25zLmludGVydmFsKSAmJiBvcHRpb25zLmludGVydmFsID49IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBpbnRlcnZhbFxcYCB0byBiZSBhIGZpbml0ZSBudW1iZXIgPj0gMCwgZ290IFxcYCR7KF9kID0gKF9jID0gb3B0aW9ucy5pbnRlcnZhbCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvU3RyaW5nKCkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnfVxcYCAoJHt0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudCA9IG9wdGlvbnMuY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudDtcbiAgICAgICAgdGhpcy5faXNJbnRlcnZhbElnbm9yZWQgPSBvcHRpb25zLmludGVydmFsQ2FwID09PSBJbmZpbml0eSB8fCBvcHRpb25zLmludGVydmFsID09PSAwO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbENhcCA9IG9wdGlvbnMuaW50ZXJ2YWxDYXA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gb3B0aW9ucy5pbnRlcnZhbDtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBuZXcgb3B0aW9ucy5xdWV1ZUNsYXNzKCk7XG4gICAgICAgIHRoaXMuX3F1ZXVlQ2xhc3MgPSBvcHRpb25zLnF1ZXVlQ2xhc3M7XG4gICAgICAgIHRoaXMuY29uY3VycmVuY3kgPSBvcHRpb25zLmNvbmN1cnJlbmN5O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB0aGlzLl90aHJvd09uVGltZW91dCA9IG9wdGlvbnMudGhyb3dPblRpbWVvdXQgPT09IHRydWU7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gb3B0aW9ucy5hdXRvU3RhcnQgPT09IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgX2RvZXNJbnRlcnZhbEFsbG93QW5vdGhlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkIHx8IHRoaXMuX2ludGVydmFsQ291bnQgPCB0aGlzLl9pbnRlcnZhbENhcDtcbiAgICB9XG4gICAgZ2V0IF9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudCA8IHRoaXMuX2NvbmN1cnJlbmN5O1xuICAgIH1cbiAgICBfbmV4dCgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50LS07XG4gICAgICAgIHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCk7XG4gICAgICAgIHRoaXMuZW1pdCgnbmV4dCcpO1xuICAgIH1cbiAgICBfcmVzb2x2ZVByb21pc2VzKCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHkoKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gZW1wdHk7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlSWRsZSA9IGVtcHR5O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdpZGxlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uUmVzdW1lSW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMuX29uSW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKTtcbiAgICAgICAgdGhpcy5fdGltZW91dElkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBfaXNJbnRlcnZhbFBhdXNlZCgpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLl9pbnRlcnZhbEVuZCAtIG5vdztcbiAgICAgICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBBY3QgYXMgdGhlIGludGVydmFsIHdhcyBkb25lXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byByZXN1bWUgaXQgaGVyZSBiZWNhdXNlIGl0IHdpbGwgYmUgcmVzdW1lZCBvbiBsaW5lIDE2MFxuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVydmFsQ291bnQgPSAodGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudCkgPyB0aGlzLl9wZW5kaW5nQ291bnQgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0IGFzIHRoZSBpbnRlcnZhbCBpcyBwZW5kaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVvdXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25SZXN1bWVJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX3RyeVRvU3RhcnRBbm90aGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fcXVldWUuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgY2FuIGNsZWFyIHRoZSBpbnRlcnZhbCAoXCJwYXVzZVwiKVxuICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBjYW4gcmVkbyBpdCBsYXRlciAoXCJyZXN1bWVcIilcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbElkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvbWlzZXMoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5Jbml0aWFsaXplSW50ZXJ2YWwgPSAhdGhpcy5faXNJbnRlcnZhbFBhdXNlZCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RvZXNJbnRlcnZhbEFsbG93QW5vdGhlciAmJiB0aGlzLl9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IHRoaXMuX3F1ZXVlLmRlcXVldWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWpvYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgam9iKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbkluaXRpYWxpemVJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplSW50ZXJ2YWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9pbml0aWFsaXplSW50ZXJ2YWxJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkIHx8IHRoaXMuX2ludGVydmFsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkludGVydmFsKCk7XG4gICAgICAgIH0sIHRoaXMuX2ludGVydmFsKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxFbmQgPSBEYXRlLm5vdygpICsgdGhpcy5faW50ZXJ2YWw7XG4gICAgfVxuICAgIF9vbkludGVydmFsKCkge1xuICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxDb3VudCA9PT0gMCAmJiB0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgdGhpcy5faW50ZXJ2YWxJZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCA9IHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQgPyB0aGlzLl9wZW5kaW5nQ291bnQgOiAwO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRXhlY3V0ZXMgYWxsIHF1ZXVlZCBmdW5jdGlvbnMgdW50aWwgaXQgcmVhY2hlcyB0aGUgbGltaXQuXG4gICAgKi9cbiAgICBfcHJvY2Vzc1F1ZXVlKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICAgICAgd2hpbGUgKHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCkpIHsgfVxuICAgIH1cbiAgICBnZXQgY29uY3VycmVuY3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25jdXJyZW5jeTtcbiAgICB9XG4gICAgc2V0IGNvbmN1cnJlbmN5KG5ld0NvbmN1cnJlbmN5KSB7XG4gICAgICAgIGlmICghKHR5cGVvZiBuZXdDb25jdXJyZW5jeSA9PT0gJ251bWJlcicgJiYgbmV3Q29uY3VycmVuY3kgPj0gMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGNvbmN1cnJlbmN5XFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAke25ld0NvbmN1cnJlbmN5fVxcYCAoJHt0eXBlb2YgbmV3Q29uY3VycmVuY3l9KWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmN1cnJlbmN5ID0gbmV3Q29uY3VycmVuY3k7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NRdWV1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICBBZGRzIGEgc3luYyBvciBhc3luYyB0YXNrIHRvIHRoZSBxdWV1ZS4gQWx3YXlzIHJldHVybnMgYSBwcm9taXNlLlxuICAgICovXG4gICAgYXN5bmMgYWRkKGZuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50Kys7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gKHRoaXMuX3RpbWVvdXQgPT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnRpbWVvdXQgPT09IHVuZGVmaW5lZCkgPyBmbigpIDogcF90aW1lb3V0XzEuZGVmYXVsdChQcm9taXNlLnJlc29sdmUoZm4oKSksIChvcHRpb25zLnRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IHRoaXMuX3RpbWVvdXQgOiBvcHRpb25zLnRpbWVvdXQpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50aHJvd09uVGltZW91dCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fdGhyb3dPblRpbWVvdXQgOiBvcHRpb25zLnRocm93T25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRpbWVvdXRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhd2FpdCBvcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmVucXVldWUocnVuLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FkZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2FtZSBhcyBgLmFkZCgpYCwgYnV0IGFjY2VwdHMgYW4gYXJyYXkgb2Ygc3luYyBvciBhc3luYyBmdW5jdGlvbnMuXG5cbiAgICBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBmdW5jdGlvbnMgYXJlIHJlc29sdmVkLlxuICAgICovXG4gICAgYXN5bmMgYWRkQWxsKGZ1bmN0aW9ucywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZnVuY3Rpb25zLm1hcChhc3luYyAoZnVuY3Rpb25fKSA9PiB0aGlzLmFkZChmdW5jdGlvbl8sIG9wdGlvbnMpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFN0YXJ0IChvciByZXN1bWUpIGV4ZWN1dGluZyBlbnF1ZXVlZCB0YXNrcyB3aXRoaW4gY29uY3VycmVuY3kgbGltaXQuIE5vIG5lZWQgdG8gY2FsbCB0aGlzIGlmIHF1ZXVlIGlzIG5vdCBwYXVzZWQgKHZpYSBgb3B0aW9ucy5hdXRvU3RhcnQgPSBmYWxzZWAgb3IgYnkgYC5wYXVzZSgpYCBtZXRob2QuKVxuICAgICovXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NRdWV1ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgUHV0IHF1ZXVlIGV4ZWN1dGlvbiBvbiBob2xkLlxuICAgICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2xlYXIgdGhlIHF1ZXVlLlxuICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gbmV3IHRoaXMuX3F1ZXVlQ2xhc3MoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4gVXNlZnVsIGlmIHlvdSBmb3IgZXhhbXBsZSBhZGQgYWRkaXRpb25hbCBpdGVtcyBhdCBhIGxhdGVyIHRpbWUuXG5cbiAgICBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBzZXR0bGVzIHdoZW4gdGhlIHF1ZXVlIGJlY29tZXMgZW1wdHkuXG4gICAgKi9cbiAgICBhc3luYyBvbkVtcHR5KCkge1xuICAgICAgICAvLyBJbnN0YW50bHkgcmVzb2x2ZSBpZiB0aGUgcXVldWUgaXMgZW1wdHlcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Jlc29sdmUgPSB0aGlzLl9yZXNvbHZlRW1wdHk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHkgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBkaWZmZXJlbmNlIHdpdGggYC5vbkVtcHR5YCBpcyB0aGF0IGAub25JZGxlYCBndWFyYW50ZWVzIHRoYXQgYWxsIHdvcmsgZnJvbSB0aGUgcXVldWUgaGFzIGZpbmlzaGVkLiBgLm9uRW1wdHlgIG1lcmVseSBzaWduYWxzIHRoYXQgdGhlIHF1ZXVlIGlzIGVtcHR5LCBidXQgaXQgY291bGQgbWVhbiB0aGF0IHNvbWUgcHJvbWlzZXMgaGF2ZW4ndCBjb21wbGV0ZWQgeWV0LlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgc2V0dGxlcyB3aGVuIHRoZSBxdWV1ZSBiZWNvbWVzIGVtcHR5LCBhbmQgYWxsIHByb21pc2VzIGhhdmUgY29tcGxldGVkOyBgcXVldWUuc2l6ZSA9PT0gMCAmJiBxdWV1ZS5wZW5kaW5nID09PSAwYC5cbiAgICAqL1xuICAgIGFzeW5jIG9uSWRsZSgpIHtcbiAgICAgICAgLy8gSW5zdGFudGx5IHJlc29sdmUgaWYgbm9uZSBwZW5kaW5nIGFuZCBpZiBub3RoaW5nIGVsc2UgaXMgcXVldWVkXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgdGhpcy5fcXVldWUuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUmVzb2x2ZSA9IHRoaXMuX3Jlc29sdmVJZGxlO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNpemUgb2YgdGhlIHF1ZXVlLlxuICAgICovXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICBTaXplIG9mIHRoZSBxdWV1ZSwgZmlsdGVyZWQgYnkgdGhlIGdpdmVuIG9wdGlvbnMuXG5cbiAgICBGb3IgZXhhbXBsZSwgdGhpcyBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZSBudW1iZXIgb2YgaXRlbXMgcmVtYWluaW5nIGluIHRoZSBxdWV1ZSB3aXRoIGEgc3BlY2lmaWMgcHJpb3JpdHkgbGV2ZWwuXG4gICAgKi9cbiAgICBzaXplQnkob3B0aW9ucykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1mbi1yZWZlcmVuY2UtaW4taXRlcmF0b3JcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmZpbHRlcihvcHRpb25zKS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgIE51bWJlciBvZiBwZW5kaW5nIHByb21pc2VzLlxuICAgICovXG4gICAgZ2V0IHBlbmRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHF1ZXVlIGlzIGN1cnJlbnRseSBwYXVzZWQuXG4gICAgKi9cbiAgICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZDtcbiAgICB9XG4gICAgZ2V0IHRpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICBTZXQgdGhlIHRpbWVvdXQgZm9yIGZ1dHVyZSBvcGVyYXRpb25zLlxuICAgICovXG4gICAgc2V0IHRpbWVvdXQobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBtaWxsaXNlY29uZHM7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUFF1ZXVlO1xuIiwgImltcG9ydCB7IGNyZWF0ZVJwY0NsaWVudCB9IGZyb20gJ0BkY2wvcnBjJ1xuaW1wb3J0IHsgV2ViV29ya2VyVHJhbnNwb3J0IH0gZnJvbSAnQGRjbC9ycGMvZGlzdC90cmFuc3BvcnRzL1dlYldvcmtlcidcbmltcG9ydCB7IHN0YXJ0U2NlbmVSdW50aW1lIH0gZnJvbSAnLi9TY2VuZVJ1bnRpbWUnXG5cbmNyZWF0ZVJwY0NsaWVudChXZWJXb3JrZXJUcmFuc3BvcnQoc2VsZikpXG4gIC50aGVuKHN0YXJ0U2NlbmVSdW50aW1lKVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuIiwgImltcG9ydCB7IExvYWRhYmxlQXBpcyB9IGZyb20gXCIuL2NsaWVudFwiXG5pbXBvcnQgeyBjb21wb25lbnRTZXJpYWxpemVPcHQsIGluaXRNZXNzYWdlc0ZpbmlzaGVkLCBudW1iZXJUb0lkU3RvcmUsIHJlc29sdmVNYXBwaW5nIH0gZnJvbSBcIi4vVXRpbHNcIlxuaW1wb3J0IHsgY3VzdG9tRXZhbCwgcHJlcGFyZVNhbmRib3hDb250ZXh0IH0gZnJvbSBcIi4vc2FuZGJveFwiXG5pbXBvcnQgeyBScGNDbGllbnQgfSBmcm9tIFwiQGRjbC9ycGMvZGlzdC90eXBlc1wiXG5pbXBvcnQgeyBQZXJtaXNzaW9uSXRlbSB9IGZyb20gXCJAZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvcGVybWlzc2lvbnMuZ2VuXCJcblxuaW1wb3J0IHsgY3JlYXRlRGVjZW50cmFsYW5kSW50ZXJmYWNlLCBEZWNlbnRyYWxhbmRJbnRlcmZhY2VPcHRpb25zIH0gZnJvbSBcIi4vcnVudGltZS9EZWNlbnRyYWxhbmRJbnRlcmZhY2VcIlxuaW1wb3J0IHsgc2V0dXBGcHNUaHJvdHRsaW5nIH0gZnJvbSBcIi4vcnVudGltZS9TZXR1cEZwc1Rocm90dGxpbmdcIlxuXG5pbXBvcnQgeyBEZXZUb29sc0FkYXB0ZXIgfSBmcm9tIFwiLi9ydW50aW1lL0RldlRvb2xzQWRhcHRlclwiXG5pbXBvcnQgeyBSdW50aW1lRXZlbnRDYWxsYmFjaywgUnVudGltZUV2ZW50LCBTY2VuZVJ1bnRpbWVFdmVudFN0YXRlLCBFdmVudERhdGFUb1J1bnRpbWVFdmVudCB9IGZyb20gXCIuL3J1bnRpbWUvRXZlbnRzXCJcbmltcG9ydCB0eXBlIHsgU2NlbmUgfSBmcm9tIFwiQGRjbC9zY2hlbWFzL2Rpc3QvcGxhdGZvcm0vc2NlbmUvaW5kZXhcIlxuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIHBvc2l0aW9uIFwiLTEsNVwiID0+IHsgeDogLTEsIHk6IDUgfVxuICovXG5mdW5jdGlvbiBwYXJzZVBhcmNlbFBvc2l0aW9uKHBvc2l0aW9uOiBzdHJpbmcpIHtcbiAgY29uc3QgW3gsIHldID0gcG9zaXRpb25cbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KC9cXHMqLFxccyovKVxuICAgIC5tYXAoKCQpID0+IHBhcnNlSW50KCQsIDEwKSlcbiAgcmV0dXJuIHsgeCwgeSB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydFNjZW5lUnVudGltZShjbGllbnQ6IFJwY0NsaWVudCkge1xuICBjb25zdCB3b3JrZXJOYW1lID0gc2VsZi5uYW1lXG4gIGNvbnN0IGNsaWVudFBvcnQgPSBhd2FpdCBjbGllbnQuY3JlYXRlUG9ydChgc2NlbmUtJHt3b3JrZXJOYW1lfWApXG5cbiAgY29uc3QgW0VuZ2luZUFwaSwgRW52aXJvbm1lbnRBcGksIFBlcm1pc3Npb25zLCBEZXZUb29sc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgTG9hZGFibGVBcGlzLkVuZ2luZUFwaShjbGllbnRQb3J0KSxcbiAgICBMb2FkYWJsZUFwaXMuRW52aXJvbm1lbnRBcGkoY2xpZW50UG9ydCksXG4gICAgTG9hZGFibGVBcGlzLlBlcm1pc3Npb25zKGNsaWVudFBvcnQpLFxuICAgIExvYWRhYmxlQXBpcy5EZXZUb29scyhjbGllbnRQb3J0KSxcbiAgXSlcblxuICBjb25zdCBbY2FuVXNlV2Vic29ja2V0LCBjYW5Vc2VGZXRjaF0gPSAoXG4gICAgYXdhaXQgUGVybWlzc2lvbnMuaGFzTWFueVBlcm1pc3Npb25zKHtcbiAgICAgIHBlcm1pc3Npb25zOiBbUGVybWlzc2lvbkl0ZW0uUElfVVNFX1dFQlNPQ0tFVCwgUGVybWlzc2lvbkl0ZW0uUElfVVNFX0ZFVENIXSxcbiAgICB9KVxuICApLmhhc01hbnlQZXJtaXNzaW9uXG5cbiAgY29uc3QgZGV2VG9vbHNBZGFwdGVyID0gbmV3IERldlRvb2xzQWRhcHRlcihEZXZUb29scylcbiAgY29uc3QgZXZlbnRTdGF0ZTogU2NlbmVSdW50aW1lRXZlbnRTdGF0ZSA9IHsgYWxsb3dPcGVuRXh0ZXJuYWxVcmw6IGZhbHNlIH1cbiAgY29uc3Qgb25FdmVudEZ1bmN0aW9uczogUnVudGltZUV2ZW50Q2FsbGJhY2tbXSA9IFtdXG4gIGNvbnN0IG9uVXBkYXRlRnVuY3Rpb25zOiAoKGR0OiBudW1iZXIpID0+IHZvaWQpW10gPSBbXVxuICBjb25zdCBvblN0YXJ0RnVuY3Rpb25zOiAoKCkgPT4gdm9pZClbXSA9IFtdXG4gIGNvbnN0IGJhdGNoRXZlbnRzOiBEZWNlbnRyYWxhbmRJbnRlcmZhY2VPcHRpb25zW1wiYmF0Y2hFdmVudHNcIl0gPSB7XG4gICAgZXZlbnRzOiBbXSxcbiAgfVxuXG4gIGNvbnN0IGJvb3RzdHJhcERhdGEgPSBhd2FpdCBFbnZpcm9ubWVudEFwaS5nZXRCb290c3RyYXBEYXRhKHt9KVxuICBjb25zdCBmdWxsRGF0YTogU2NlbmUgPSBKU09OLnBhcnNlKGJvb3RzdHJhcERhdGEuZW50aXR5Py5tZXRhZGF0YUpzb24gfHwgXCJ7fVwiKVxuICBjb25zdCBpc1ByZXZpZXcgPSBhd2FpdCBFbnZpcm9ubWVudEFwaS5pc1ByZXZpZXdNb2RlKHt9KVxuICBjb25zdCB1bnNhZmVBbGxvd2VkID0gYXdhaXQgRW52aXJvbm1lbnRBcGkuYXJlVW5zYWZlUmVxdWVzdEFsbG93ZWQoe30pXG5cbiAgY29uc3QgZXhwbG9yZXJDb25maWd1cmF0aW9uID0gYXdhaXQgRW52aXJvbm1lbnRBcGkuZ2V0RXhwbG9yZXJDb25maWd1cmF0aW9uKHt9KVxuXG4gIGlmICghZnVsbERhdGEgfHwgIWZ1bGxEYXRhLm1haW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGJvb3N0cmFwIGRhdGFgKVxuICB9XG5cbiAgY29uc3QgbWFwcGluZ05hbWUgPSBmdWxsRGF0YS5tYWluXG4gIGNvbnN0IG1hcHBpbmcgPSBib290c3RyYXBEYXRhLmVudGl0eT8uY29udGVudC5maW5kKCgkKSA9PiAkLmZpbGUgPT09IG1hcHBpbmdOYW1lKVxuXG4gIGlmICghbWFwcGluZykge1xuICAgIGF3YWl0IEVuZ2luZUFwaS5zZW5kQmF0Y2goeyBhY3Rpb25zOiBbaW5pdE1lc3NhZ2VzRmluaXNoZWQoKV0gfSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFNESzogRXJyb3Igd2hpbGUgbG9hZGluZyBzY2VuZS4gTWFpbiBmaWxlIG1pc3NpbmcuYClcbiAgfVxuXG4gIGNvbnN0IHVybCA9IHJlc29sdmVNYXBwaW5nKG1hcHBpbmcuaGFzaCwgbWFwcGluZ05hbWUsIGJvb3RzdHJhcERhdGEuYmFzZVVybClcbiAgY29uc3QgY29kZVJlcXVlc3QgPSBhd2FpdCBmZXRjaCh1cmwpXG5cbiAgaWYgKCFjb2RlUmVxdWVzdC5vaykge1xuICAgIGF3YWl0IEVuZ2luZUFwaS5zZW5kQmF0Y2goeyBhY3Rpb25zOiBbaW5pdE1lc3NhZ2VzRmluaXNoZWQoKV0gfSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgU0RLOiBFcnJvciB3aGlsZSBsb2FkaW5nICR7dXJsfSAoJHttYXBwaW5nTmFtZX0gLT4gJHttYXBwaW5nPy5maWxlfToke21hcHBpbmc/Lmhhc2h9KSB0aGUgbWFwcGluZyB3YXMgbm90IGZvdW5kYFxuICAgIClcbiAgfVxuXG4gIGNvbXBvbmVudFNlcmlhbGl6ZU9wdC51c2VCaW5hcnlUcmFuc2Zvcm0gPSBleHBsb3JlckNvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbnNbXCJlbmFibGVCaW5hcnlUcmFuc2Zvcm1cIl0gPT09IFwidHJ1ZVwiXG5cbiAgbGV0IGRpZFN0YXJ0ID0gZmFsc2VcbiAgbGV0IHVwZGF0ZUludGVydmFsTXM6IG51bWJlciA9IDEwMDAgLyAzMFxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRCYXRjaEFuZFByb2Nlc3NFdmVudHMoKSB7XG4gICAgY29uc3QgYWN0aW9ucyA9IGJhdGNoRXZlbnRzLmV2ZW50c1xuXG4gICAgaWYgKGFjdGlvbnMubGVuZ3RoKSB7XG4gICAgICBiYXRjaEV2ZW50cy5ldmVudHMgPSBbXVxuICAgIH1cblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IEVuZ2luZUFwaS5zZW5kQmF0Y2goeyBhY3Rpb25zIH0pXG4gICAgZm9yIChjb25zdCBlIG9mIHJlcy5ldmVudHMpIHtcbiAgICAgIGV2ZW50UmVjZWl2ZXIoRXZlbnREYXRhVG9SdW50aW1lRXZlbnQoZSkpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXZlbnRSZWNlaXZlcihldmVudDogUnVudGltZUV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IFwicmF5Y2FzdFJlc3BvbnNlXCIpIHtcbiAgICAgIGNvbnN0IGlkQXNOdW1iZXIgPSBwYXJzZUludChldmVudC5kYXRhLnF1ZXJ5SWQsIDEwKVxuICAgICAgaWYgKG51bWJlclRvSWRTdG9yZVtpZEFzTnVtYmVyXSkge1xuICAgICAgICBldmVudC5kYXRhLnF1ZXJ5SWQgPSBudW1iZXJUb0lkU3RvcmVbaWRBc051bWJlcl0udG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZGlkU3RhcnQgJiYgZXZlbnQudHlwZSA9PT0gXCJzY2VuZVN0YXJ0XCIpIHtcbiAgICAgIGRpZFN0YXJ0ID0gdHJ1ZVxuICAgICAgZm9yIChjb25zdCBzdGFydEZ1bmN0aW9uQ2Igb2Ygb25TdGFydEZ1bmN0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHN0YXJ0RnVuY3Rpb25DYigpXG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgIGRldlRvb2xzQWRhcHRlci5lcnJvcihlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzUG9pbnRlckV2ZW50KGV2ZW50KSkge1xuICAgICAgZXZlbnRTdGF0ZS5hbGxvd09wZW5FeHRlcm5hbFVybCA9IHRydWVcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNiIG9mIG9uRXZlbnRGdW5jdGlvbnMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNiKGV2ZW50KVxuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgZGV2VG9vbHNBZGFwdGVyLmVycm9yKGVycilcbiAgICAgIH1cbiAgICB9XG4gICAgZXZlbnRTdGF0ZS5hbGxvd09wZW5FeHRlcm5hbFVybCA9IGZhbHNlXG4gIH1cblxuICBsZXQgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuXG4gIGZ1bmN0aW9uIHJlc2NoZWR1bGUoKSB7XG4gICAgY29uc3QgbXMgPSBNYXRoLm1heCgodXBkYXRlSW50ZXJ2YWxNcyAtIChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KSkgfCAwLCAwKVxuICAgIHNldFRpbWVvdXQobWFpbkxvb3AsIG1zKVxuICB9XG5cbiAgZnVuY3Rpb24gbWFpbkxvb3AoKSB7XG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICBjb25zdCBkdE1pbGxpcyA9IG5vdyAtIHN0YXJ0XG4gICAgc3RhcnQgPSBub3dcblxuICAgIGNvbnN0IGR0U2VjcyA9IGR0TWlsbGlzIC8gMTAwMFxuXG4gICAgZm9yIChjb25zdCB0cmlnZ2VyIG9mIG9uVXBkYXRlRnVuY3Rpb25zKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0cmlnZ2VyKGR0U2VjcylcbiAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICBkZXZUb29sc0FkYXB0ZXIuZXJyb3IoZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZW5kQmF0Y2hBbmRQcm9jZXNzRXZlbnRzKCkuY2F0Y2goZGV2VG9vbHNBZGFwdGVyLmVycm9yKS5maW5hbGx5KHJlc2NoZWR1bGUpXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHNvdXJjZUNvZGUgPSBhd2FpdCBjb2RlUmVxdWVzdC50ZXh0KClcblxuICAgIGNvbnN0IGRjbCA9IGNyZWF0ZURlY2VudHJhbGFuZEludGVyZmFjZSh7XG4gICAgICBjbGllbnRQb3J0LFxuICAgICAgb25FcnJvcjogKGVycjogRXJyb3IpID0+IGRldlRvb2xzQWRhcHRlci5lcnJvcihlcnIpLFxuICAgICAgb25Mb2c6ICguLi5hcmdzOiBhbnkpID0+IGRldlRvb2xzQWRhcHRlci5sb2coLi4uYXJncyksXG4gICAgICBzY2VuZUlkOiBib290c3RyYXBEYXRhLmlkLFxuICAgICAgZXZlbnRTdGF0ZSxcbiAgICAgIGJhdGNoRXZlbnRzLFxuICAgICAgRW5naW5lQXBpLFxuICAgICAgb25FdmVudEZ1bmN0aW9ucyxcbiAgICAgIG9uU3RhcnRGdW5jdGlvbnMsXG4gICAgICBvblVwZGF0ZUZ1bmN0aW9ucyxcbiAgICB9KVxuXG4gICAgLy8gY3JlYXRlIHRoZSBjb250ZXh0IGZvciB0aGUgc2NlbmVcbiAgICBjb25zdCBydW50aW1lRXhlY3V0aW9uQ29udGV4dCA9IHByZXBhcmVTYW5kYm94Q29udGV4dCh7XG4gICAgICBkY2wsXG4gICAgICBjYW5Vc2VGZXRjaCxcbiAgICAgIGNhblVzZVdlYnNvY2tldCxcbiAgICAgIGxvZzogZGNsLmxvZyxcbiAgICAgIHByZXZpZXdNb2RlOiBpc1ByZXZpZXcuaXNQcmV2aWV3IHx8IHVuc2FmZUFsbG93ZWQuc3RhdHVzLFxuICAgIH0pXG5cbiAgICBpZiAoYm9vdHN0cmFwRGF0YS51c2VGUFNUaHJvdHRsaW5nID09PSB0cnVlKSB7XG4gICAgICBzZXR1cEZwc1Rocm90dGxpbmcoZGNsLCBmdWxsRGF0YS5zY2VuZS5wYXJjZWxzLm1hcChwYXJzZVBhcmNlbFBvc2l0aW9uKSwgKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHVwZGF0ZUludGVydmFsTXMgPSBuZXdWYWx1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBydW4gdGhlIGNvZGUgb2YgdGhlIHNjZW5lXG4gICAgYXdhaXQgY3VzdG9tRXZhbChzb3VyY2VDb2RlLCBydW50aW1lRXhlY3V0aW9uQ29udGV4dClcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYXdhaXQgRW5naW5lQXBpLnNlbmRCYXRjaCh7IGFjdGlvbnM6IFtpbml0TWVzc2FnZXNGaW5pc2hlZCgpXSB9KVxuXG4gICAgZGV2VG9vbHNBZGFwdGVyLmVycm9yKG5ldyBFcnJvcihgU2NlbmVSdW50aW1lOiBFcnJvciB3aGlsZSBldmFsdWF0aW5nIHRoZSBzY2VuZSAke3dvcmtlck5hbWV9YCkpXG5cbiAgICAvLyBUaGUgZGV2VG9vbHNBZGFwdGVyLmVycm9yIGlzbid0IGEgYXN5bmMgZnVuY3Rpb25cbiAgICAvLyAgYW5kIHRoZSBwb3J0IGNhbiBiZSBjbG9zZWQgYmVjYXVzZSB0aGUgZmluaXNoaW5nIG9mIHRoZSB3b3JrZXJcbiAgICBhd2FpdCBzbGVlcCgxMDApXG5cbiAgICB0aHJvdyBlcnJcbiAgfVxuICAvLyB0aGVuIG5vdGlmeSB0aGUga2VybmVsIHRoYXQgdGhlIGluaXRpYWwgc2NlbmUgd2FzIGxvYWRlZFxuICBiYXRjaEV2ZW50cy5ldmVudHMucHVzaChpbml0TWVzc2FnZXNGaW5pc2hlZCgpKVxuXG4gIC8vIHdhaXQgZm9yIGRpZFN0YXJ0PXRydWVcbiAgZG8ge1xuICAgIGF3YWl0IHNlbmRCYXRjaEFuZFByb2Nlc3NFdmVudHMoKVxuICB9IHdoaWxlICghZGlkU3RhcnQgJiYgKGF3YWl0IHNsZWVwKDEwMCkpKVxuXG4gIC8vIGZpbmFsbHksIHN0YXJ0IGV2ZW50IGxvb3BcbiAgbWFpbkxvb3AoKVxuXG4gIC8vIHNodXRkb3duXG59XG5cbmZ1bmN0aW9uIGlzUG9pbnRlckV2ZW50KGV2ZW50OiBSdW50aW1lRXZlbnQpOiBib29sZWFuIHtcbiAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgY2FzZSBcInV1aWRFdmVudFwiOlxuICAgICAgcmV0dXJuIGV2ZW50LmRhdGE/LnBheWxvYWQ/LmJ1dHRvbklkICE9PSB1bmRlZmluZWRcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2xlZXAobXM6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBNYXRoLm1heChtcyB8IDAsIDApKSlcbiAgcmV0dXJuIHRydWVcbn1cbiIsICJpbXBvcnQgeyBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlQ2xpZW50IH0gZnJvbSAnLi9Db21tdW5pY2F0aW9uc0NvbnRyb2xsZXInXG5pbXBvcnQgeyBjcmVhdGVEZXZUb29sc1NlcnZpY2VDbGllbnQgfSBmcm9tICcuL0RldlRvb2xzJ1xuaW1wb3J0IHsgY3JlYXRlRW5naW5lQXBpU2VydmljZUNsaWVudCB9IGZyb20gJy4vRW5naW5lQXBpJ1xuaW1wb3J0IHsgRW52aXJvbm1lbnRBcGlTZXJ2aWNlQ2xpZW50IH0gZnJvbSAnLi9FbnZpcm9ubWVudEFwaSdcbmltcG9ydCB7IEV0aGVyZXVtQ29udHJvbGxlclNlcnZpY2VDbGllbnQgfSBmcm9tICcuL0V0aGVyZXVtQ29udHJvbGxlcidcbmltcG9ydCB7IGNyZWF0ZUV4cGVyaW1lbnRhbEFwaVNlcnZpY2VDbGllbnQgfSBmcm9tICcuL0V4cGVyaW1lbnRhbEFwaSdcbmltcG9ydCB7IFBhcmNlbElkZW50aXR5U2VydmljZUNsaWVudCB9IGZyb20gJy4vUGFyY2VsSWRlbnRpdHknXG5pbXBvcnQgeyBjcmVhdGVQZXJtaXNzaW9uc1NlcnZpY2VDbGllbnQgfSBmcm9tICcuL1Blcm1pc3Npb25zJ1xuaW1wb3J0IHsgUGxheWVyc1NlcnZpY2VDbGllbnQgfSBmcm9tICcuL1BsYXllcnMnXG5pbXBvcnQgeyBQb3J0YWJsZUV4cGVyaWVuY2VTZXJ2aWNlQ2xpZW50IH0gZnJvbSAnLi9Qb3J0YWJsZUV4cGVyaWVuY2VzJ1xuaW1wb3J0IHsgUmVzdHJpY3RlZEFjdGlvbnNTZXJ2aWNlQ2xpZW50IH0gZnJvbSAnLi9SZXN0cmljdGVkQWN0aW9ucydcbmltcG9ydCB7IFNpZ25lZEZldGNoU2VydmljZUNsaWVudCB9IGZyb20gJy4vU2lnbmVkRmV0Y2gnXG5pbXBvcnQgeyBjcmVhdGVTb2NpYWxDb250cm9sbGVyU2VydmljZUNsaWVudCB9IGZyb20gJy4vU29jaWFsQ29udHJvbGxlcidcbmltcG9ydCB7IFVzZXJBY3Rpb25Nb2R1bGVTZXJ2aWNlQ2xpZW50IH0gZnJvbSAnLi9Vc2VyQWN0aW9uTW9kdWxlJ1xuaW1wb3J0IHsgVXNlcklkZW50aXR5U2VydmljZUNsaWVudCB9IGZyb20gJy4vVXNlcklkZW50aXR5J1xuaW1wb3J0IHsgY3JlYXRlTGVnYWN5V2ViM1Byb3ZpZGVyIH0gZnJvbSAnLi9XZWIzUHJvdmlkZXInXG5cbmV4cG9ydCBjb25zdCBMb2FkYWJsZUFwaXMgPSB7XG4gIERldlRvb2xzOiBjcmVhdGVEZXZUb29sc1NlcnZpY2VDbGllbnQsXG4gIEVuZ2luZUFwaTogY3JlYXRlRW5naW5lQXBpU2VydmljZUNsaWVudCxcbiAgRXhwZXJpbWVudGFsQXBpOiBjcmVhdGVFeHBlcmltZW50YWxBcGlTZXJ2aWNlQ2xpZW50LFxuICBQZXJtaXNzaW9uczogY3JlYXRlUGVybWlzc2lvbnNTZXJ2aWNlQ2xpZW50LFxuXG4gIFNpZ25lZEZldGNoOiBTaWduZWRGZXRjaFNlcnZpY2VDbGllbnQuY3JlYXRlLFxuICBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXI6IENvbW11bmljYXRpb25zQ29udHJvbGxlclNlcnZpY2VDbGllbnQuY3JlYXRlLFxuICBFbnZpcm9ubWVudEFwaTogRW52aXJvbm1lbnRBcGlTZXJ2aWNlQ2xpZW50LmNyZWF0ZSxcbiAgRXRoZXJldW1Db250cm9sbGVyOiBFdGhlcmV1bUNvbnRyb2xsZXJTZXJ2aWNlQ2xpZW50LmNyZWF0ZSxcbiAgUGFyY2VsSWRlbnRpdHk6IFBhcmNlbElkZW50aXR5U2VydmljZUNsaWVudC5jcmVhdGUsXG4gIFBsYXllcnM6IFBsYXllcnNTZXJ2aWNlQ2xpZW50LmNyZWF0ZSxcbiAgUG9ydGFibGVFeHBlcmllbmNlOiBQb3J0YWJsZUV4cGVyaWVuY2VTZXJ2aWNlQ2xpZW50LmNyZWF0ZSxcbiAgUmVzdHJpY3RlZEFjdGlvbnM6IFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZUNsaWVudC5jcmVhdGUsXG4gIFVzZXJBY3Rpb25Nb2R1bGU6IFVzZXJBY3Rpb25Nb2R1bGVTZXJ2aWNlQ2xpZW50LmNyZWF0ZSxcbiAgVXNlcklkZW50aXR5OiBVc2VySWRlbnRpdHlTZXJ2aWNlQ2xpZW50LmNyZWF0ZSxcblxuICAvLyBMZWdhY3lcbiAgTGVnYWN5U2lnbmVkRmV0Y2g6IFNpZ25lZEZldGNoU2VydmljZUNsaWVudC5jcmVhdGVMZWdhY3ksXG4gIExlZ2FjeUNvbW11bmljYXRpb25zQ29udHJvbGxlcjogQ29tbXVuaWNhdGlvbnNDb250cm9sbGVyU2VydmljZUNsaWVudC5jcmVhdGVMZWdhY3ksXG4gIExlZ2FjeUVudmlyb25tZW50QVBJOiBFbnZpcm9ubWVudEFwaVNlcnZpY2VDbGllbnQuY3JlYXRlTGVnYWN5LFxuICBMZWdhY3lFdGhlcmV1bUNvbnRyb2xsZXI6IEV0aGVyZXVtQ29udHJvbGxlclNlcnZpY2VDbGllbnQuY3JlYXRlTGVnYWN5LFxuICBMZWdhY3lQYXJjZWxJZGVudGl0eTogUGFyY2VsSWRlbnRpdHlTZXJ2aWNlQ2xpZW50LmNyZWF0ZUxlZ2FjeSxcbiAgTGVnYWN5UGxheWVyczogUGxheWVyc1NlcnZpY2VDbGllbnQuY3JlYXRlTGVnYWN5LFxuICBMZWdhY3lQb3J0YWJsZUV4cGVyaWVuY2U6IFBvcnRhYmxlRXhwZXJpZW5jZVNlcnZpY2VDbGllbnQuY3JlYXRlTGVnYWN5LFxuXG4gIC8vIFRPRE86IHZhbGlkYXRlIHdoaWNoIG9mIHRoZSBmb2xsb3dpbmcgaXMgYWN0dWFsbHkgdXNlZC5cbiAgTGVnYWN5UmVzdHJpY3RlZEFjdGlvbnM6IFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZUNsaWVudC5jcmVhdGVMZWdhY3ksXG4gIExlZ2FjeVJlc3RyaWN0ZWRBY3Rpb25Nb2R1bGU6IFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZUNsaWVudC5jcmVhdGVMZWdhY3ksXG5cbiAgTGVnYWN5VXNlckFjdGlvbk1vZHVsZTogVXNlckFjdGlvbk1vZHVsZVNlcnZpY2VDbGllbnQuY3JlYXRlTGVnYWN5LFxuICAvLyBUaGlzIGlzIFVzZXJJZGVudGl0eSBpbiB0aGUgaG9zdC1zaWRlXG4gIExlZ2FjeUlkZW50aXR5OiBVc2VySWRlbnRpdHlTZXJ2aWNlQ2xpZW50LmNyZWF0ZUxlZ2FjeSxcblxuICAvLyBUaGlzIGlzIHJlcXVpcmVkIGJ5IHRoZSBzY2VuZXNcbiAgWydMZWdhY3l3ZWIzLXByb3ZpZGVyJ106IGNyZWF0ZUxlZ2FjeVdlYjNQcm92aWRlcixcblxuICBMZWdhY3lTb2NpYWxDb250cm9sbGVyOiBjcmVhdGVTb2NpYWxDb250cm9sbGVyU2VydmljZUNsaWVudFxufVxuXG5leHBvcnQgdHlwZSBJTG9hZGVkTW9kdWxlczxUPiA9IHtcbiAgW0sgaW4ga2V5b2YgVF0/OiBUW0tdIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPyBBd2FpdGVkPFJldHVyblR5cGU8VFtLXT4+IDogbmV2ZXJcbn1cblxuZXhwb3J0IHR5cGUgTG9hZGVkTW9kdWxlcyA9IElMb2FkZWRNb2R1bGVzPHR5cGVvZiBMb2FkYWJsZUFwaXM+XG4iLCAiaW1wb3J0ICogYXMgY29kZWdlbiBmcm9tICdAZGNsL3JwYy9kaXN0L2NvZGVnZW4nXG5pbXBvcnQgeyBScGNDbGllbnRQb3J0IH0gZnJvbSAnQGRjbC9ycGMvZGlzdC90eXBlcydcbmltcG9ydCB7IENvbW11bmljYXRpb25zQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2NvbW11bmljYXRpb25zX2NvbnRyb2xsZXIuZ2VuJ1xuXG5leHBvcnQgbmFtZXNwYWNlIENvbW11bmljYXRpb25zQ29udHJvbGxlclNlcnZpY2VDbGllbnQge1xuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlPENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIHJldHVybiBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIENvbW11bmljYXRpb25zQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uPihcbiAgICAgIGNsaWVudFBvcnQsXG4gICAgICBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvblxuICAgIClcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMZWdhY3k8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTZXJ2aWNlID0gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbj4oXG4gICAgICBjbGllbnRQb3J0LFxuICAgICAgQ29tbXVuaWNhdGlvbnNDb250cm9sbGVyU2VydmljZURlZmluaXRpb25cbiAgICApXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm9yaWdpbmFsU2VydmljZSxcbiAgICAgIGFzeW5jIHNlbmQobWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IG9yaWdpbmFsU2VydmljZS5zZW5kKHsgbWVzc2FnZSB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcblxuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhbFNlbmRSZXF1ZXN0IHtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWxTZW5kUmVzcG9uc2Uge1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVhbFNlbmRSZXF1ZXN0KCk6IFJlYWxTZW5kUmVxdWVzdCB7XG4gIHJldHVybiB7IG1lc3NhZ2U6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlYWxTZW5kUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFJlYWxTZW5kUmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2UgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFJlYWxTZW5kUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFsU2VuZFJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUmVhbFNlbmRSZXF1ZXN0IHtcbiAgICByZXR1cm4geyBtZXNzYWdlOiBpc1NldChvYmplY3QubWVzc2FnZSkgPyBTdHJpbmcob2JqZWN0Lm1lc3NhZ2UpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBSZWFsU2VuZFJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubWVzc2FnZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubWVzc2FnZSA9IG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UmVhbFNlbmRSZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IFJlYWxTZW5kUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFsU2VuZFJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLm1lc3NhZ2UgPSBvYmplY3QubWVzc2FnZSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVJlYWxTZW5kUmVzcG9uc2UoKTogUmVhbFNlbmRSZXNwb25zZSB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlYWxTZW5kUmVzcG9uc2UgPSB7XG4gIGVuY29kZShfOiBSZWFsU2VuZFJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBSZWFsU2VuZFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlYWxTZW5kUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IFJlYWxTZW5kUmVzcG9uc2Uge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogUmVhbFNlbmRSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UmVhbFNlbmRSZXNwb25zZT4sIEk+PihfOiBJKTogUmVhbFNlbmRSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFsU2VuZFJlc3BvbnNlKCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5leHBvcnQgdHlwZSBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbiA9IHR5cGVvZiBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydCBjb25zdCBDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbiA9IHtcbiAgbmFtZTogXCJDb21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlXCIsXG4gIGZ1bGxOYW1lOiBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpcy5Db21tdW5pY2F0aW9uc0NvbnRyb2xsZXJTZXJ2aWNlXCIsXG4gIG1ldGhvZHM6IHtcbiAgICBzZW5kOiB7XG4gICAgICBuYW1lOiBcIlNlbmRcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBSZWFsU2VuZFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogUmVhbFNlbmRSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCAqIGFzIGNvZGVnZW4gZnJvbSAnQGRjbC9ycGMvZGlzdC9jb2RlZ2VuJ1xuaW1wb3J0IHsgUnBjQ2xpZW50UG9ydCB9IGZyb20gJ0BkY2wvcnBjL2Rpc3QvdHlwZXMnXG5pbXBvcnQgeyBEZXZUb29sc1NlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2Rldl90b29scy5nZW4nXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZXZUb29sc1NlcnZpY2VDbGllbnQ8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gIGNvbnN0IG9yaWdpbmFsU2VydmljZSA9IGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgRGV2VG9vbHNTZXJ2aWNlRGVmaW5pdGlvbj4oY2xpZW50UG9ydCwgRGV2VG9vbHNTZXJ2aWNlRGVmaW5pdGlvbilcblxuICByZXR1cm4gb3JpZ2luYWxTZXJ2aWNlXG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZXZUb29sc0JvZHkge1xuICB0eXBlOiBzdHJpbmc7XG4gIGpzb25QYXlsb2FkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRSZXNwb25zZSB7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VEZXZUb29sc0JvZHkoKTogRGV2VG9vbHNCb2R5IHtcbiAgcmV0dXJuIHsgdHlwZTogXCJcIiwganNvblBheWxvYWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IERldlRvb2xzQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IERldlRvb2xzQm9keSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnR5cGUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5qc29uUGF5bG9hZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuanNvblBheWxvYWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IERldlRvb2xzQm9keSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEZXZUb29sc0JvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuanNvblBheWxvYWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IERldlRvb2xzQm9keSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IFN0cmluZyhvYmplY3QudHlwZSkgOiBcIlwiLFxuICAgICAganNvblBheWxvYWQ6IGlzU2V0KG9iamVjdC5qc29uUGF5bG9hZCkgPyBTdHJpbmcob2JqZWN0Lmpzb25QYXlsb2FkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogRGV2VG9vbHNCb2R5KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnR5cGUgPSBtZXNzYWdlLnR5cGUpO1xuICAgIG1lc3NhZ2UuanNvblBheWxvYWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmpzb25QYXlsb2FkID0gbWVzc2FnZS5qc29uUGF5bG9hZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8RGV2VG9vbHNCb2R5PiwgST4+KG9iamVjdDogSSk6IERldlRvb2xzQm9keSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEZXZUb29sc0JvZHkoKTtcbiAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuanNvblBheWxvYWQgPSBvYmplY3QuanNvblBheWxvYWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VFdmVudFJlc3BvbnNlKCk6IEV2ZW50UmVzcG9uc2Uge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBFdmVudFJlc3BvbnNlID0ge1xuICBlbmNvZGUoXzogRXZlbnRSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogRXZlbnRSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFdmVudFJlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBFdmVudFJlc3BvbnNlIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IEV2ZW50UmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEV2ZW50UmVzcG9uc2U+LCBJPj4oXzogSSk6IEV2ZW50UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRXZlbnRSZXNwb25zZSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgRGV2VG9vbHNTZXJ2aWNlRGVmaW5pdGlvbiA9IHR5cGVvZiBEZXZUb29sc1NlcnZpY2VEZWZpbml0aW9uO1xuZXhwb3J0IGNvbnN0IERldlRvb2xzU2VydmljZURlZmluaXRpb24gPSB7XG4gIG5hbWU6IFwiRGV2VG9vbHNTZXJ2aWNlXCIsXG4gIGZ1bGxOYW1lOiBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpcy5EZXZUb29sc1NlcnZpY2VcIixcbiAgbWV0aG9kczoge1xuICAgIGV2ZW50OiB7XG4gICAgICBuYW1lOiBcIkV2ZW50XCIsXG4gICAgICByZXF1ZXN0VHlwZTogRGV2VG9vbHNCb2R5LFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IEV2ZW50UmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHsgRW5naW5lQXBpU2VydmljZURlZmluaXRpb24gfSBmcm9tICdAZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvZW5naW5lX2FwaS5nZW4nXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbmdpbmVBcGlTZXJ2aWNlQ2xpZW50PENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICBjb25zdCBvcmlnaW5hbFNlcnZpY2UgPSBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIEVuZ2luZUFwaVNlcnZpY2VEZWZpbml0aW9uPihcbiAgICBjbGllbnRQb3J0LFxuICAgIEVuZ2luZUFwaVNlcnZpY2VEZWZpbml0aW9uXG4gIClcbiAgcmV0dXJuIG9yaWdpbmFsU2VydmljZVxufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcblxuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzXCI7XG5cbmV4cG9ydCBlbnVtIFF1ZXJ5VHlwZSB7XG4gIFFUX0lOVkFMSURfUVVFUllfVFlQRSA9IDAsXG4gIFFUX0hJVF9GSVJTVCA9IDEsXG4gIFFUX0hJVF9BTEwgPSAyLFxuICBRVF9ISVRfRklSU1RfQVZBVEFSID0gMyxcbiAgUVRfSElUX0FMTF9BVkFUQVJTID0gNCxcbiAgVU5SRUNPR05JWkVEID0gLTEsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVR5cGVGcm9tSlNPTihvYmplY3Q6IGFueSk6IFF1ZXJ5VHlwZSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgXCJRVF9JTlZBTElEX1FVRVJZX1RZUEVcIjpcbiAgICAgIHJldHVybiBRdWVyeVR5cGUuUVRfSU5WQUxJRF9RVUVSWV9UWVBFO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiUVRfSElUX0ZJUlNUXCI6XG4gICAgICByZXR1cm4gUXVlcnlUeXBlLlFUX0hJVF9GSVJTVDtcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIlFUX0hJVF9BTExcIjpcbiAgICAgIHJldHVybiBRdWVyeVR5cGUuUVRfSElUX0FMTDtcbiAgICBjYXNlIDM6XG4gICAgY2FzZSBcIlFUX0hJVF9GSVJTVF9BVkFUQVJcIjpcbiAgICAgIHJldHVybiBRdWVyeVR5cGUuUVRfSElUX0ZJUlNUX0FWQVRBUjtcbiAgICBjYXNlIDQ6XG4gICAgY2FzZSBcIlFUX0hJVF9BTExfQVZBVEFSU1wiOlxuICAgICAgcmV0dXJuIFF1ZXJ5VHlwZS5RVF9ISVRfQUxMX0FWQVRBUlM7XG4gICAgY2FzZSAtMTpcbiAgICBjYXNlIFwiVU5SRUNPR05JWkVEXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBRdWVyeVR5cGUuVU5SRUNPR05JWkVEO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVR5cGVUb0pTT04ob2JqZWN0OiBRdWVyeVR5cGUpOiBzdHJpbmcge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgUXVlcnlUeXBlLlFUX0lOVkFMSURfUVVFUllfVFlQRTpcbiAgICAgIHJldHVybiBcIlFUX0lOVkFMSURfUVVFUllfVFlQRVwiO1xuICAgIGNhc2UgUXVlcnlUeXBlLlFUX0hJVF9GSVJTVDpcbiAgICAgIHJldHVybiBcIlFUX0hJVF9GSVJTVFwiO1xuICAgIGNhc2UgUXVlcnlUeXBlLlFUX0hJVF9BTEw6XG4gICAgICByZXR1cm4gXCJRVF9ISVRfQUxMXCI7XG4gICAgY2FzZSBRdWVyeVR5cGUuUVRfSElUX0ZJUlNUX0FWQVRBUjpcbiAgICAgIHJldHVybiBcIlFUX0hJVF9GSVJTVF9BVkFUQVJcIjtcbiAgICBjYXNlIFF1ZXJ5VHlwZS5RVF9ISVRfQUxMX0FWQVRBUlM6XG4gICAgICByZXR1cm4gXCJRVF9ISVRfQUxMX0FWQVRBUlNcIjtcbiAgICBjYXNlIFF1ZXJ5VHlwZS5VTlJFQ09HTklaRUQ6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlVOUkVDT0dOSVpFRFwiO1xuICB9XG59XG5cbmV4cG9ydCBlbnVtIEVBVHlwZSB7XG4gIEVBVF9JTlZBTElEX0VBX1RZUEUgPSAwLFxuICBFQVRfT1BFTl9FWFRFUk5BTF9VUkwgPSAxLFxuICBFQVRfT1BFTl9ORlRfRElBTE9HID0gMixcbiAgRUFUX0NSRUFURV9FTlRJVFkgPSAzLFxuICBFQVRfUkVNT1ZFX0VOVElUWSA9IDQsXG4gIEVBVF9VUERBVEVfRU5USVRZX0NPTVBPTkVOVCA9IDUsXG4gIEVBVF9BVFRBQ0hfRU5USVRZX0NPTVBPTkVOVCA9IDYsXG4gIEVBVF9DT01QT05FTlRfUkVNT1ZFRCA9IDcsXG4gIEVBVF9TRVRfRU5USVRZX1BBUkVOVCA9IDgsXG4gIEVBVF9RVUVSWSA9IDksXG4gIEVBVF9DT01QT05FTlRfQ1JFQVRFRCA9IDEwLFxuICBFQVRfQ09NUE9ORU5UX0RJU1BPU0VEID0gMTEsXG4gIEVBVF9DT01QT05FTlRfVVBEQVRFRCA9IDEyLFxuICBFQVRfSU5JVF9NRVNTQUdFU19GSU5JU0hFRCA9IDEzLFxuICBVTlJFQ09HTklaRUQgPSAtMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVBVHlwZUZyb21KU09OKG9iamVjdDogYW55KTogRUFUeXBlIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIkVBVF9JTlZBTElEX0VBX1RZUEVcIjpcbiAgICAgIHJldHVybiBFQVR5cGUuRUFUX0lOVkFMSURfRUFfVFlQRTtcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIkVBVF9PUEVOX0VYVEVSTkFMX1VSTFwiOlxuICAgICAgcmV0dXJuIEVBVHlwZS5FQVRfT1BFTl9FWFRFUk5BTF9VUkw7XG4gICAgY2FzZSAyOlxuICAgIGNhc2UgXCJFQVRfT1BFTl9ORlRfRElBTE9HXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9PUEVOX05GVF9ESUFMT0c7XG4gICAgY2FzZSAzOlxuICAgIGNhc2UgXCJFQVRfQ1JFQVRFX0VOVElUWVwiOlxuICAgICAgcmV0dXJuIEVBVHlwZS5FQVRfQ1JFQVRFX0VOVElUWTtcbiAgICBjYXNlIDQ6XG4gICAgY2FzZSBcIkVBVF9SRU1PVkVfRU5USVRZXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9SRU1PVkVfRU5USVRZO1xuICAgIGNhc2UgNTpcbiAgICBjYXNlIFwiRUFUX1VQREFURV9FTlRJVFlfQ09NUE9ORU5UXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9VUERBVEVfRU5USVRZX0NPTVBPTkVOVDtcbiAgICBjYXNlIDY6XG4gICAgY2FzZSBcIkVBVF9BVFRBQ0hfRU5USVRZX0NPTVBPTkVOVFwiOlxuICAgICAgcmV0dXJuIEVBVHlwZS5FQVRfQVRUQUNIX0VOVElUWV9DT01QT05FTlQ7XG4gICAgY2FzZSA3OlxuICAgIGNhc2UgXCJFQVRfQ09NUE9ORU5UX1JFTU9WRURcIjpcbiAgICAgIHJldHVybiBFQVR5cGUuRUFUX0NPTVBPTkVOVF9SRU1PVkVEO1xuICAgIGNhc2UgODpcbiAgICBjYXNlIFwiRUFUX1NFVF9FTlRJVFlfUEFSRU5UXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9TRVRfRU5USVRZX1BBUkVOVDtcbiAgICBjYXNlIDk6XG4gICAgY2FzZSBcIkVBVF9RVUVSWVwiOlxuICAgICAgcmV0dXJuIEVBVHlwZS5FQVRfUVVFUlk7XG4gICAgY2FzZSAxMDpcbiAgICBjYXNlIFwiRUFUX0NPTVBPTkVOVF9DUkVBVEVEXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9DT01QT05FTlRfQ1JFQVRFRDtcbiAgICBjYXNlIDExOlxuICAgIGNhc2UgXCJFQVRfQ09NUE9ORU5UX0RJU1BPU0VEXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9DT01QT05FTlRfRElTUE9TRUQ7XG4gICAgY2FzZSAxMjpcbiAgICBjYXNlIFwiRUFUX0NPTVBPTkVOVF9VUERBVEVEXCI6XG4gICAgICByZXR1cm4gRUFUeXBlLkVBVF9DT01QT05FTlRfVVBEQVRFRDtcbiAgICBjYXNlIDEzOlxuICAgIGNhc2UgXCJFQVRfSU5JVF9NRVNTQUdFU19GSU5JU0hFRFwiOlxuICAgICAgcmV0dXJuIEVBVHlwZS5FQVRfSU5JVF9NRVNTQUdFU19GSU5JU0hFRDtcbiAgICBjYXNlIC0xOlxuICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEVBVHlwZS5VTlJFQ09HTklaRUQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVBVHlwZVRvSlNPTihvYmplY3Q6IEVBVHlwZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSBFQVR5cGUuRUFUX0lOVkFMSURfRUFfVFlQRTpcbiAgICAgIHJldHVybiBcIkVBVF9JTlZBTElEX0VBX1RZUEVcIjtcbiAgICBjYXNlIEVBVHlwZS5FQVRfT1BFTl9FWFRFUk5BTF9VUkw6XG4gICAgICByZXR1cm4gXCJFQVRfT1BFTl9FWFRFUk5BTF9VUkxcIjtcbiAgICBjYXNlIEVBVHlwZS5FQVRfT1BFTl9ORlRfRElBTE9HOlxuICAgICAgcmV0dXJuIFwiRUFUX09QRU5fTkZUX0RJQUxPR1wiO1xuICAgIGNhc2UgRUFUeXBlLkVBVF9DUkVBVEVfRU5USVRZOlxuICAgICAgcmV0dXJuIFwiRUFUX0NSRUFURV9FTlRJVFlcIjtcbiAgICBjYXNlIEVBVHlwZS5FQVRfUkVNT1ZFX0VOVElUWTpcbiAgICAgIHJldHVybiBcIkVBVF9SRU1PVkVfRU5USVRZXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX1VQREFURV9FTlRJVFlfQ09NUE9ORU5UOlxuICAgICAgcmV0dXJuIFwiRUFUX1VQREFURV9FTlRJVFlfQ09NUE9ORU5UXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX0FUVEFDSF9FTlRJVFlfQ09NUE9ORU5UOlxuICAgICAgcmV0dXJuIFwiRUFUX0FUVEFDSF9FTlRJVFlfQ09NUE9ORU5UXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX0NPTVBPTkVOVF9SRU1PVkVEOlxuICAgICAgcmV0dXJuIFwiRUFUX0NPTVBPTkVOVF9SRU1PVkVEXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX1NFVF9FTlRJVFlfUEFSRU5UOlxuICAgICAgcmV0dXJuIFwiRUFUX1NFVF9FTlRJVFlfUEFSRU5UXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX1FVRVJZOlxuICAgICAgcmV0dXJuIFwiRUFUX1FVRVJZXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX0NPTVBPTkVOVF9DUkVBVEVEOlxuICAgICAgcmV0dXJuIFwiRUFUX0NPTVBPTkVOVF9DUkVBVEVEXCI7XG4gICAgY2FzZSBFQVR5cGUuRUFUX0NPTVBPTkVOVF9ESVNQT1NFRDpcbiAgICAgIHJldHVybiBcIkVBVF9DT01QT05FTlRfRElTUE9TRURcIjtcbiAgICBjYXNlIEVBVHlwZS5FQVRfQ09NUE9ORU5UX1VQREFURUQ6XG4gICAgICByZXR1cm4gXCJFQVRfQ09NUE9ORU5UX1VQREFURURcIjtcbiAgICBjYXNlIEVBVHlwZS5FQVRfSU5JVF9NRVNTQUdFU19GSU5JU0hFRDpcbiAgICAgIHJldHVybiBcIkVBVF9JTklUX01FU1NBR0VTX0ZJTklTSEVEXCI7XG4gICAgY2FzZSBFQVR5cGUuVU5SRUNPR05JWkVEOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJVTlJFQ09HTklaRURcIjtcbiAgfVxufVxuXG4vKiogRXZlbnRzICovXG5leHBvcnQgZW51bSBFdmVudERhdGFUeXBlIHtcbiAgRURUX0dFTkVSSUMgPSAwLFxuICBFRFRfUE9TSVRJT05fQ0hBTkdFRCA9IDEsXG4gIEVEVF9ST1RBVElPTl9DSEFOR0VEID0gMixcbiAgVU5SRUNPR05JWkVEID0gLTEsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBldmVudERhdGFUeXBlRnJvbUpTT04ob2JqZWN0OiBhbnkpOiBFdmVudERhdGFUeXBlIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIkVEVF9HRU5FUklDXCI6XG4gICAgICByZXR1cm4gRXZlbnREYXRhVHlwZS5FRFRfR0VORVJJQztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIkVEVF9QT1NJVElPTl9DSEFOR0VEXCI6XG4gICAgICByZXR1cm4gRXZlbnREYXRhVHlwZS5FRFRfUE9TSVRJT05fQ0hBTkdFRDtcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIkVEVF9ST1RBVElPTl9DSEFOR0VEXCI6XG4gICAgICByZXR1cm4gRXZlbnREYXRhVHlwZS5FRFRfUk9UQVRJT05fQ0hBTkdFRDtcbiAgICBjYXNlIC0xOlxuICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEV2ZW50RGF0YVR5cGUuVU5SRUNPR05JWkVEO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBldmVudERhdGFUeXBlVG9KU09OKG9iamVjdDogRXZlbnREYXRhVHlwZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSBFdmVudERhdGFUeXBlLkVEVF9HRU5FUklDOlxuICAgICAgcmV0dXJuIFwiRURUX0dFTkVSSUNcIjtcbiAgICBjYXNlIEV2ZW50RGF0YVR5cGUuRURUX1BPU0lUSU9OX0NIQU5HRUQ6XG4gICAgICByZXR1cm4gXCJFRFRfUE9TSVRJT05fQ0hBTkdFRFwiO1xuICAgIGNhc2UgRXZlbnREYXRhVHlwZS5FRFRfUk9UQVRJT05fQ0hBTkdFRDpcbiAgICAgIHJldHVybiBcIkVEVF9ST1RBVElPTl9DSEFOR0VEXCI7XG4gICAgY2FzZSBFdmVudERhdGFUeXBlLlVOUkVDT0dOSVpFRDpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiVU5SRUNPR05JWkVEXCI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBPcGVuRXh0ZXJuYWxVcmxCb2R5IHtcbiAgdXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3Blbk5GVERpYWxvZ0JvZHkge1xuICBhc3NldENvbnRyYWN0QWRkcmVzczogc3RyaW5nO1xuICB0b2tlbklkOiBzdHJpbmc7XG4gIGNvbW1lbnQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRW50aXR5Qm9keSB7XG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVtb3ZlRW50aXR5Qm9keSB7XG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keSB7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIGNsYXNzSWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBqc29uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXR0YWNoRW50aXR5Q29tcG9uZW50Qm9keSB7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRSZW1vdmVkQm9keSB7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXRFbnRpdHlQYXJlbnRCb2R5IHtcbiAgZW50aXR5SWQ6IHN0cmluZztcbiAgcGFyZW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeUJvZHkge1xuICBxdWVyeUlkOiBRdWVyeVR5cGU7XG4gIHBheWxvYWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRDcmVhdGVkQm9keSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNsYXNzSWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudERpc3Bvc2VkQm9keSB7XG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50VXBkYXRlZEJvZHkge1xuICBpZDogc3RyaW5nO1xuICBqc29uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5pdE1lc3NhZ2VzRmluaXNoZWRCb2R5IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXlsb2FkIHtcbiAgb3BlbkV4dGVybmFsVXJsPzogT3BlbkV4dGVybmFsVXJsQm9keSB8IHVuZGVmaW5lZDtcbiAgb3Blbk5mdERpYWxvZz86IE9wZW5ORlREaWFsb2dCb2R5IHwgdW5kZWZpbmVkO1xuICBjcmVhdGVFbnRpdHk/OiBDcmVhdGVFbnRpdHlCb2R5IHwgdW5kZWZpbmVkO1xuICByZW1vdmVFbnRpdHk/OiBSZW1vdmVFbnRpdHlCb2R5IHwgdW5kZWZpbmVkO1xuICB1cGRhdGVFbnRpdHlDb21wb25lbnQ/OiBVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5IHwgdW5kZWZpbmVkO1xuICBhdHRhY2hFbnRpdHlDb21wb25lbnQ/OiBBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5IHwgdW5kZWZpbmVkO1xuICBjb21wb25lbnRSZW1vdmVkPzogQ29tcG9uZW50UmVtb3ZlZEJvZHkgfCB1bmRlZmluZWQ7XG4gIHNldEVudGl0eVBhcmVudD86IFNldEVudGl0eVBhcmVudEJvZHkgfCB1bmRlZmluZWQ7XG4gIHF1ZXJ5PzogUXVlcnlCb2R5IHwgdW5kZWZpbmVkO1xuICBjb21wb25lbnRDcmVhdGVkPzogQ29tcG9uZW50Q3JlYXRlZEJvZHkgfCB1bmRlZmluZWQ7XG4gIGNvbXBvbmVudERpc3Bvc2VkPzogQ29tcG9uZW50RGlzcG9zZWRCb2R5IHwgdW5kZWZpbmVkO1xuICBjb21wb25lbnRVcGRhdGVkPzogQ29tcG9uZW50VXBkYXRlZEJvZHkgfCB1bmRlZmluZWQ7XG4gIGluaXRNZXNzYWdlc0ZpbmlzaGVkPzogSW5pdE1lc3NhZ2VzRmluaXNoZWRCb2R5IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eUFjdGlvbiB7XG4gIHR5cGU6IEVBVHlwZTtcbiAgdGFnPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBwYXlsb2FkOiBQYXlsb2FkIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hbnlFbnRpdHlBY3Rpb24ge1xuICBhY3Rpb25zOiBFbnRpdHlBY3Rpb25bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZW5kQmF0Y2hSZXNwb25zZSB7XG4gIGV2ZW50czogRXZlbnREYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5zdWJzY3JpYmVSZXF1ZXN0IHtcbiAgZXZlbnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliZVJlcXVlc3Qge1xuICBldmVudElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaWJlUmVzcG9uc2Uge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuc3Vic2NyaWJlUmVzcG9uc2Uge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyaWNQYXlsb2FkIHtcbiAgZXZlbnRJZDogc3RyaW5nO1xuICBldmVudERhdGE6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWFkT25seVZlY3RvcjMge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRPbmx5UXVhdGVybmlvbiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB6OiBudW1iZXI7XG4gIHc6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3NpdGlvbkNoYW5nZWRQYXlsb2FkIHtcbiAgcG9zaXRpb246IFJlYWRPbmx5VmVjdG9yMyB8IHVuZGVmaW5lZDtcbiAgY2FtZXJhUG9zaXRpb246IFJlYWRPbmx5VmVjdG9yMyB8IHVuZGVmaW5lZDtcbiAgcGxheWVySGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm90YXRpb25DaGFuZ2VkUGF5bG9hZCB7XG4gIHJvdGF0aW9uOiBSZWFkT25seVZlY3RvcjMgfCB1bmRlZmluZWQ7XG4gIHF1YXRlcm5pb246IFJlYWRPbmx5UXVhdGVybmlvbiB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudERhdGEge1xuICB0eXBlOiBFdmVudERhdGFUeXBlO1xuICBnZW5lcmljPzogR2VuZXJpY1BheWxvYWQgfCB1bmRlZmluZWQ7XG4gIHBvc2l0aW9uQ2hhbmdlZD86IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQgfCB1bmRlZmluZWQ7XG4gIHJvdGF0aW9uQ2hhbmdlZD86IFJvdGF0aW9uQ2hhbmdlZFBheWxvYWQgfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VPcGVuRXh0ZXJuYWxVcmxCb2R5KCk6IE9wZW5FeHRlcm5hbFVybEJvZHkge1xuICByZXR1cm4geyB1cmw6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IE9wZW5FeHRlcm5hbFVybEJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBPcGVuRXh0ZXJuYWxVcmxCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UudXJsICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS51cmwpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IE9wZW5FeHRlcm5hbFVybEJvZHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlT3BlbkV4dGVybmFsVXJsQm9keSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS51cmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IE9wZW5FeHRlcm5hbFVybEJvZHkge1xuICAgIHJldHVybiB7IHVybDogaXNTZXQob2JqZWN0LnVybCkgPyBTdHJpbmcob2JqZWN0LnVybCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IE9wZW5FeHRlcm5hbFVybEJvZHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UudXJsICE9PSB1bmRlZmluZWQgJiYgKG9iai51cmwgPSBtZXNzYWdlLnVybCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8T3BlbkV4dGVybmFsVXJsQm9keT4sIEk+PihvYmplY3Q6IEkpOiBPcGVuRXh0ZXJuYWxVcmxCb2R5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU9wZW5FeHRlcm5hbFVybEJvZHkoKTtcbiAgICBtZXNzYWdlLnVybCA9IG9iamVjdC51cmwgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VPcGVuTkZURGlhbG9nQm9keSgpOiBPcGVuTkZURGlhbG9nQm9keSB7XG4gIHJldHVybiB7IGFzc2V0Q29udHJhY3RBZGRyZXNzOiBcIlwiLCB0b2tlbklkOiBcIlwiLCBjb21tZW50OiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IE9wZW5ORlREaWFsb2dCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogT3Blbk5GVERpYWxvZ0JvZHksIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5hc3NldENvbnRyYWN0QWRkcmVzcyAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuYXNzZXRDb250cmFjdEFkZHJlc3MpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b2tlbklkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS50b2tlbklkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY29tbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5jb21tZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBPcGVuTkZURGlhbG9nQm9keSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VPcGVuTkZURGlhbG9nQm9keSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5hc3NldENvbnRyYWN0QWRkcmVzcyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudG9rZW5JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuY29tbWVudCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogT3Blbk5GVERpYWxvZ0JvZHkge1xuICAgIHJldHVybiB7XG4gICAgICBhc3NldENvbnRyYWN0QWRkcmVzczogaXNTZXQob2JqZWN0LmFzc2V0Q29udHJhY3RBZGRyZXNzKSA/IFN0cmluZyhvYmplY3QuYXNzZXRDb250cmFjdEFkZHJlc3MpIDogXCJcIixcbiAgICAgIHRva2VuSWQ6IGlzU2V0KG9iamVjdC50b2tlbklkKSA/IFN0cmluZyhvYmplY3QudG9rZW5JZCkgOiBcIlwiLFxuICAgICAgY29tbWVudDogaXNTZXQob2JqZWN0LmNvbW1lbnQpID8gU3RyaW5nKG9iamVjdC5jb21tZW50KSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBPcGVuTkZURGlhbG9nQm9keSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5hc3NldENvbnRyYWN0QWRkcmVzcyAhPT0gdW5kZWZpbmVkICYmIChvYmouYXNzZXRDb250cmFjdEFkZHJlc3MgPSBtZXNzYWdlLmFzc2V0Q29udHJhY3RBZGRyZXNzKTtcbiAgICBtZXNzYWdlLnRva2VuSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRva2VuSWQgPSBtZXNzYWdlLnRva2VuSWQpO1xuICAgIG1lc3NhZ2UuY29tbWVudCAhPT0gdW5kZWZpbmVkICYmIChvYmouY29tbWVudCA9IG1lc3NhZ2UuY29tbWVudCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8T3Blbk5GVERpYWxvZ0JvZHk+LCBJPj4ob2JqZWN0OiBJKTogT3Blbk5GVERpYWxvZ0JvZHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlT3Blbk5GVERpYWxvZ0JvZHkoKTtcbiAgICBtZXNzYWdlLmFzc2V0Q29udHJhY3RBZGRyZXNzID0gb2JqZWN0LmFzc2V0Q29udHJhY3RBZGRyZXNzID8/IFwiXCI7XG4gICAgbWVzc2FnZS50b2tlbklkID0gb2JqZWN0LnRva2VuSWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmNvbW1lbnQgPSBvYmplY3QuY29tbWVudCA/PyB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlQ3JlYXRlRW50aXR5Qm9keSgpOiBDcmVhdGVFbnRpdHlCb2R5IHtcbiAgcmV0dXJuIHsgaWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IENyZWF0ZUVudGl0eUJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBDcmVhdGVFbnRpdHlCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBDcmVhdGVFbnRpdHlCb2R5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNyZWF0ZUVudGl0eUJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IENyZWF0ZUVudGl0eUJvZHkge1xuICAgIHJldHVybiB7IGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IENyZWF0ZUVudGl0eUJvZHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gbWVzc2FnZS5pZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8Q3JlYXRlRW50aXR5Qm9keT4sIEk+PihvYmplY3Q6IEkpOiBDcmVhdGVFbnRpdHlCb2R5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNyZWF0ZUVudGl0eUJvZHkoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVtb3ZlRW50aXR5Qm9keSgpOiBSZW1vdmVFbnRpdHlCb2R5IHtcbiAgcmV0dXJuIHsgaWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlbW92ZUVudGl0eUJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBSZW1vdmVFbnRpdHlCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBSZW1vdmVFbnRpdHlCb2R5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlbW92ZUVudGl0eUJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFJlbW92ZUVudGl0eUJvZHkge1xuICAgIHJldHVybiB7IGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFJlbW92ZUVudGl0eUJvZHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gbWVzc2FnZS5pZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UmVtb3ZlRW50aXR5Qm9keT4sIEk+PihvYmplY3Q6IEkpOiBSZW1vdmVFbnRpdHlCb2R5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlbW92ZUVudGl0eUJvZHkoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keSgpOiBVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5IHtcbiAgcmV0dXJuIHsgZW50aXR5SWQ6IFwiXCIsIGNsYXNzSWQ6IDAsIG5hbWU6IFwiXCIsIGpzb246IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFVwZGF0ZUVudGl0eUNvbXBvbmVudEJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZW50aXR5SWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmVudGl0eUlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2xhc3NJZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5jbGFzc0lkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmpzb24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmpzb24pO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFVwZGF0ZUVudGl0eUNvbXBvbmVudEJvZHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5lbnRpdHlJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuY2xhc3NJZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5qc29uID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW50aXR5SWQ6IGlzU2V0KG9iamVjdC5lbnRpdHlJZCkgPyBTdHJpbmcob2JqZWN0LmVudGl0eUlkKSA6IFwiXCIsXG4gICAgICBjbGFzc0lkOiBpc1NldChvYmplY3QuY2xhc3NJZCkgPyBOdW1iZXIob2JqZWN0LmNsYXNzSWQpIDogMCxcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAganNvbjogaXNTZXQob2JqZWN0Lmpzb24pID8gU3RyaW5nKG9iamVjdC5qc29uKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5lbnRpdHlJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZW50aXR5SWQgPSBtZXNzYWdlLmVudGl0eUlkKTtcbiAgICBtZXNzYWdlLmNsYXNzSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNsYXNzSWQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuY2xhc3NJZCkpO1xuICAgIG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFtZSA9IG1lc3NhZ2UubmFtZSk7XG4gICAgbWVzc2FnZS5qc29uICE9PSB1bmRlZmluZWQgJiYgKG9iai5qc29uID0gbWVzc2FnZS5qc29uKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5PiwgST4+KG9iamVjdDogSSk6IFVwZGF0ZUVudGl0eUNvbXBvbmVudEJvZHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keSgpO1xuICAgIG1lc3NhZ2UuZW50aXR5SWQgPSBvYmplY3QuZW50aXR5SWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmNsYXNzSWQgPSBvYmplY3QuY2xhc3NJZCA/PyAwO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS5qc29uID0gb2JqZWN0Lmpzb24gPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5KCk6IEF0dGFjaEVudGl0eUNvbXBvbmVudEJvZHkge1xuICByZXR1cm4geyBlbnRpdHlJZDogXCJcIiwgbmFtZTogXCJcIiwgaWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEF0dGFjaEVudGl0eUNvbXBvbmVudEJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZW50aXR5SWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmVudGl0eUlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogQXR0YWNoRW50aXR5Q29tcG9uZW50Qm9keSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogQXR0YWNoRW50aXR5Q29tcG9uZW50Qm9keSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudGl0eUlkOiBpc1NldChvYmplY3QuZW50aXR5SWQpID8gU3RyaW5nKG9iamVjdC5lbnRpdHlJZCkgOiBcIlwiLFxuICAgICAgbmFtZTogaXNTZXQob2JqZWN0Lm5hbWUpID8gU3RyaW5nKG9iamVjdC5uYW1lKSA6IFwiXCIsXG4gICAgICBpZDogaXNTZXQob2JqZWN0LmlkKSA/IFN0cmluZyhvYmplY3QuaWQpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmVudGl0eUlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5lbnRpdHlJZCA9IG1lc3NhZ2UuZW50aXR5SWQpO1xuICAgIG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFtZSA9IG1lc3NhZ2UubmFtZSk7XG4gICAgbWVzc2FnZS5pZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaWQgPSBtZXNzYWdlLmlkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5PiwgST4+KG9iamVjdDogSSk6IEF0dGFjaEVudGl0eUNvbXBvbmVudEJvZHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQXR0YWNoRW50aXR5Q29tcG9uZW50Qm9keSgpO1xuICAgIG1lc3NhZ2UuZW50aXR5SWQgPSBvYmplY3QuZW50aXR5SWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaWQgPSBvYmplY3QuaWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb25lbnRSZW1vdmVkQm9keSgpOiBDb21wb25lbnRSZW1vdmVkQm9keSB7XG4gIHJldHVybiB7IGVudGl0eUlkOiBcIlwiLCBuYW1lOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBDb21wb25lbnRSZW1vdmVkQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IENvbXBvbmVudFJlbW92ZWRCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZW50aXR5SWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmVudGl0eUlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogQ29tcG9uZW50UmVtb3ZlZEJvZHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9uZW50UmVtb3ZlZEJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuZW50aXR5SWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IENvbXBvbmVudFJlbW92ZWRCb2R5IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW50aXR5SWQ6IGlzU2V0KG9iamVjdC5lbnRpdHlJZCkgPyBTdHJpbmcob2JqZWN0LmVudGl0eUlkKSA6IFwiXCIsXG4gICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBDb21wb25lbnRSZW1vdmVkQm9keSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5lbnRpdHlJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZW50aXR5SWQgPSBtZXNzYWdlLmVudGl0eUlkKTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPENvbXBvbmVudFJlbW92ZWRCb2R5PiwgST4+KG9iamVjdDogSSk6IENvbXBvbmVudFJlbW92ZWRCb2R5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvbmVudFJlbW92ZWRCb2R5KCk7XG4gICAgbWVzc2FnZS5lbnRpdHlJZCA9IG9iamVjdC5lbnRpdHlJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU2V0RW50aXR5UGFyZW50Qm9keSgpOiBTZXRFbnRpdHlQYXJlbnRCb2R5IHtcbiAgcmV0dXJuIHsgZW50aXR5SWQ6IFwiXCIsIHBhcmVudElkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBTZXRFbnRpdHlQYXJlbnRCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogU2V0RW50aXR5UGFyZW50Qm9keSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmVudGl0eUlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5wYXJlbnRJZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU2V0RW50aXR5UGFyZW50Qm9keSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTZXRFbnRpdHlQYXJlbnRCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5wYXJlbnRJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogU2V0RW50aXR5UGFyZW50Qm9keSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudGl0eUlkOiBpc1NldChvYmplY3QuZW50aXR5SWQpID8gU3RyaW5nKG9iamVjdC5lbnRpdHlJZCkgOiBcIlwiLFxuICAgICAgcGFyZW50SWQ6IGlzU2V0KG9iamVjdC5wYXJlbnRJZCkgPyBTdHJpbmcob2JqZWN0LnBhcmVudElkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU2V0RW50aXR5UGFyZW50Qm9keSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5lbnRpdHlJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZW50aXR5SWQgPSBtZXNzYWdlLmVudGl0eUlkKTtcbiAgICBtZXNzYWdlLnBhcmVudElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXJlbnRJZCA9IG1lc3NhZ2UucGFyZW50SWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNldEVudGl0eVBhcmVudEJvZHk+LCBJPj4ob2JqZWN0OiBJKTogU2V0RW50aXR5UGFyZW50Qm9keSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTZXRFbnRpdHlQYXJlbnRCb2R5KCk7XG4gICAgbWVzc2FnZS5lbnRpdHlJZCA9IG9iamVjdC5lbnRpdHlJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucGFyZW50SWQgPSBvYmplY3QucGFyZW50SWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeUJvZHkoKTogUXVlcnlCb2R5IHtcbiAgcmV0dXJuIHsgcXVlcnlJZDogMCwgcGF5bG9hZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUXVlcnlCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUXVlcnlCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucXVlcnlJZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnF1ZXJ5SWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5wYXlsb2FkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBRdWVyeUJvZHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnF1ZXJ5SWQgPSByZWFkZXIuaW50MzIoKSBhcyBhbnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFF1ZXJ5Qm9keSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5SWQ6IGlzU2V0KG9iamVjdC5xdWVyeUlkKSA/IHF1ZXJ5VHlwZUZyb21KU09OKG9iamVjdC5xdWVyeUlkKSA6IDAsXG4gICAgICBwYXlsb2FkOiBpc1NldChvYmplY3QucGF5bG9hZCkgPyBTdHJpbmcob2JqZWN0LnBheWxvYWQpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBRdWVyeUJvZHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucXVlcnlJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucXVlcnlJZCA9IHF1ZXJ5VHlwZVRvSlNPTihtZXNzYWdlLnF1ZXJ5SWQpKTtcbiAgICBtZXNzYWdlLnBheWxvYWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFF1ZXJ5Qm9keT4sIEk+PihvYmplY3Q6IEkpOiBRdWVyeUJvZHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlCb2R5KCk7XG4gICAgbWVzc2FnZS5xdWVyeUlkID0gb2JqZWN0LnF1ZXJ5SWQgPz8gMDtcbiAgICBtZXNzYWdlLnBheWxvYWQgPSBvYmplY3QucGF5bG9hZCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbXBvbmVudENyZWF0ZWRCb2R5KCk6IENvbXBvbmVudENyZWF0ZWRCb2R5IHtcbiAgcmV0dXJuIHsgaWQ6IFwiXCIsIGNsYXNzSWQ6IDAsIG5hbWU6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IENvbXBvbmVudENyZWF0ZWRCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogQ29tcG9uZW50Q3JlYXRlZEJvZHksIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jbGFzc0lkICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmNsYXNzSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBDb21wb25lbnRDcmVhdGVkQm9keSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wb25lbnRDcmVhdGVkQm9keSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuY2xhc3NJZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBDb21wb25lbnRDcmVhdGVkQm9keSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiLFxuICAgICAgY2xhc3NJZDogaXNTZXQob2JqZWN0LmNsYXNzSWQpID8gTnVtYmVyKG9iamVjdC5jbGFzc0lkKSA6IDAsXG4gICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBDb21wb25lbnRDcmVhdGVkQm9keSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5pZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaWQgPSBtZXNzYWdlLmlkKTtcbiAgICBtZXNzYWdlLmNsYXNzSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNsYXNzSWQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuY2xhc3NJZCkpO1xuICAgIG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFtZSA9IG1lc3NhZ2UubmFtZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8Q29tcG9uZW50Q3JlYXRlZEJvZHk+LCBJPj4ob2JqZWN0OiBJKTogQ29tcG9uZW50Q3JlYXRlZEJvZHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9uZW50Q3JlYXRlZEJvZHkoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5jbGFzc0lkID0gb2JqZWN0LmNsYXNzSWQgPz8gMDtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbXBvbmVudERpc3Bvc2VkQm9keSgpOiBDb21wb25lbnREaXNwb3NlZEJvZHkge1xuICByZXR1cm4geyBpZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgQ29tcG9uZW50RGlzcG9zZWRCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogQ29tcG9uZW50RGlzcG9zZWRCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBDb21wb25lbnREaXNwb3NlZEJvZHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9uZW50RGlzcG9zZWRCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBDb21wb25lbnREaXNwb3NlZEJvZHkge1xuICAgIHJldHVybiB7IGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IENvbXBvbmVudERpc3Bvc2VkQm9keSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5pZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaWQgPSBtZXNzYWdlLmlkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxDb21wb25lbnREaXNwb3NlZEJvZHk+LCBJPj4ob2JqZWN0OiBJKTogQ29tcG9uZW50RGlzcG9zZWRCb2R5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvbmVudERpc3Bvc2VkQm9keSgpO1xuICAgIG1lc3NhZ2UuaWQgPSBvYmplY3QuaWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb25lbnRVcGRhdGVkQm9keSgpOiBDb21wb25lbnRVcGRhdGVkQm9keSB7XG4gIHJldHVybiB7IGlkOiBcIlwiLCBqc29uOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBDb21wb25lbnRVcGRhdGVkQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IENvbXBvbmVudFVwZGF0ZWRCb2R5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuanNvbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuanNvbik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogQ29tcG9uZW50VXBkYXRlZEJvZHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29tcG9uZW50VXBkYXRlZEJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmpzb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IENvbXBvbmVudFVwZGF0ZWRCb2R5IHtcbiAgICByZXR1cm4geyBpZDogaXNTZXQob2JqZWN0LmlkKSA/IFN0cmluZyhvYmplY3QuaWQpIDogXCJcIiwganNvbjogaXNTZXQob2JqZWN0Lmpzb24pID8gU3RyaW5nKG9iamVjdC5qc29uKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogQ29tcG9uZW50VXBkYXRlZEJvZHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gbWVzc2FnZS5pZCk7XG4gICAgbWVzc2FnZS5qc29uICE9PSB1bmRlZmluZWQgJiYgKG9iai5qc29uID0gbWVzc2FnZS5qc29uKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxDb21wb25lbnRVcGRhdGVkQm9keT4sIEk+PihvYmplY3Q6IEkpOiBDb21wb25lbnRVcGRhdGVkQm9keSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wb25lbnRVcGRhdGVkQm9keSgpO1xuICAgIG1lc3NhZ2UuaWQgPSBvYmplY3QuaWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmpzb24gPSBvYmplY3QuanNvbiA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keSgpOiBJbml0TWVzc2FnZXNGaW5pc2hlZEJvZHkge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBJbml0TWVzc2FnZXNGaW5pc2hlZEJvZHkgPSB7XG4gIGVuY29kZShfOiBJbml0TWVzc2FnZXNGaW5pc2hlZEJvZHksIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VJbml0TWVzc2FnZXNGaW5pc2hlZEJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBJbml0TWVzc2FnZXNGaW5pc2hlZEJvZHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keT4sIEk+PihfOiBJKTogSW5pdE1lc3NhZ2VzRmluaXNoZWRCb2R5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBheWxvYWQoKTogUGF5bG9hZCB7XG4gIHJldHVybiB7XG4gICAgb3BlbkV4dGVybmFsVXJsOiB1bmRlZmluZWQsXG4gICAgb3Blbk5mdERpYWxvZzogdW5kZWZpbmVkLFxuICAgIGNyZWF0ZUVudGl0eTogdW5kZWZpbmVkLFxuICAgIHJlbW92ZUVudGl0eTogdW5kZWZpbmVkLFxuICAgIHVwZGF0ZUVudGl0eUNvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgIGF0dGFjaEVudGl0eUNvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgIGNvbXBvbmVudFJlbW92ZWQ6IHVuZGVmaW5lZCxcbiAgICBzZXRFbnRpdHlQYXJlbnQ6IHVuZGVmaW5lZCxcbiAgICBxdWVyeTogdW5kZWZpbmVkLFxuICAgIGNvbXBvbmVudENyZWF0ZWQ6IHVuZGVmaW5lZCxcbiAgICBjb21wb25lbnREaXNwb3NlZDogdW5kZWZpbmVkLFxuICAgIGNvbXBvbmVudFVwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgICBpbml0TWVzc2FnZXNGaW5pc2hlZDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgUGF5bG9hZCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBheWxvYWQsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5vcGVuRXh0ZXJuYWxVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgT3BlbkV4dGVybmFsVXJsQm9keS5lbmNvZGUobWVzc2FnZS5vcGVuRXh0ZXJuYWxVcmwsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wZW5OZnREaWFsb2cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgT3Blbk5GVERpYWxvZ0JvZHkuZW5jb2RlKG1lc3NhZ2Uub3Blbk5mdERpYWxvZywgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY3JlYXRlRW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIENyZWF0ZUVudGl0eUJvZHkuZW5jb2RlKG1lc3NhZ2UuY3JlYXRlRW50aXR5LCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZW1vdmVFbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUmVtb3ZlRW50aXR5Qm9keS5lbmNvZGUobWVzc2FnZS5yZW1vdmVFbnRpdHksIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnVwZGF0ZUVudGl0eUNvbXBvbmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5LmVuY29kZShtZXNzYWdlLnVwZGF0ZUVudGl0eUNvbXBvbmVudCwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYXR0YWNoRW50aXR5Q29tcG9uZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIEF0dGFjaEVudGl0eUNvbXBvbmVudEJvZHkuZW5jb2RlKG1lc3NhZ2UuYXR0YWNoRW50aXR5Q29tcG9uZW50LCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb21wb25lbnRSZW1vdmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIENvbXBvbmVudFJlbW92ZWRCb2R5LmVuY29kZShtZXNzYWdlLmNvbXBvbmVudFJlbW92ZWQsIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNldEVudGl0eVBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBTZXRFbnRpdHlQYXJlbnRCb2R5LmVuY29kZShtZXNzYWdlLnNldEVudGl0eVBhcmVudCwgd3JpdGVyLnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUXVlcnlCb2R5LmVuY29kZShtZXNzYWdlLnF1ZXJ5LCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb21wb25lbnRDcmVhdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIENvbXBvbmVudENyZWF0ZWRCb2R5LmVuY29kZShtZXNzYWdlLmNvbXBvbmVudENyZWF0ZWQsIHdyaXRlci51aW50MzIoODIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbXBvbmVudERpc3Bvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIENvbXBvbmVudERpc3Bvc2VkQm9keS5lbmNvZGUobWVzc2FnZS5jb21wb25lbnREaXNwb3NlZCwgd3JpdGVyLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY29tcG9uZW50VXBkYXRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBDb21wb25lbnRVcGRhdGVkQm9keS5lbmNvZGUobWVzc2FnZS5jb21wb25lbnRVcGRhdGVkLCB3cml0ZXIudWludDMyKDk4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pbml0TWVzc2FnZXNGaW5pc2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBJbml0TWVzc2FnZXNGaW5pc2hlZEJvZHkuZW5jb2RlKG1lc3NhZ2UuaW5pdE1lc3NhZ2VzRmluaXNoZWQsIHdyaXRlci51aW50MzIoMTA2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBheWxvYWQge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGF5bG9hZCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5vcGVuRXh0ZXJuYWxVcmwgPSBPcGVuRXh0ZXJuYWxVcmxCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLm9wZW5OZnREaWFsb2cgPSBPcGVuTkZURGlhbG9nQm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5jcmVhdGVFbnRpdHkgPSBDcmVhdGVFbnRpdHlCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLnJlbW92ZUVudGl0eSA9IFJlbW92ZUVudGl0eUJvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2UudXBkYXRlRW50aXR5Q29tcG9uZW50ID0gVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5hdHRhY2hFbnRpdHlDb21wb25lbnQgPSBBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLmNvbXBvbmVudFJlbW92ZWQgPSBDb21wb25lbnRSZW1vdmVkQm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5zZXRFbnRpdHlQYXJlbnQgPSBTZXRFbnRpdHlQYXJlbnRCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLnF1ZXJ5ID0gUXVlcnlCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5jb21wb25lbnRDcmVhdGVkID0gQ29tcG9uZW50Q3JlYXRlZEJvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLmNvbXBvbmVudERpc3Bvc2VkID0gQ29tcG9uZW50RGlzcG9zZWRCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5jb21wb25lbnRVcGRhdGVkID0gQ29tcG9uZW50VXBkYXRlZEJvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBtZXNzYWdlLmluaXRNZXNzYWdlc0ZpbmlzaGVkID0gSW5pdE1lc3NhZ2VzRmluaXNoZWRCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBheWxvYWQge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuRXh0ZXJuYWxVcmw6IGlzU2V0KG9iamVjdC5vcGVuRXh0ZXJuYWxVcmwpID8gT3BlbkV4dGVybmFsVXJsQm9keS5mcm9tSlNPTihvYmplY3Qub3BlbkV4dGVybmFsVXJsKSA6IHVuZGVmaW5lZCxcbiAgICAgIG9wZW5OZnREaWFsb2c6IGlzU2V0KG9iamVjdC5vcGVuTmZ0RGlhbG9nKSA/IE9wZW5ORlREaWFsb2dCb2R5LmZyb21KU09OKG9iamVjdC5vcGVuTmZ0RGlhbG9nKSA6IHVuZGVmaW5lZCxcbiAgICAgIGNyZWF0ZUVudGl0eTogaXNTZXQob2JqZWN0LmNyZWF0ZUVudGl0eSkgPyBDcmVhdGVFbnRpdHlCb2R5LmZyb21KU09OKG9iamVjdC5jcmVhdGVFbnRpdHkpIDogdW5kZWZpbmVkLFxuICAgICAgcmVtb3ZlRW50aXR5OiBpc1NldChvYmplY3QucmVtb3ZlRW50aXR5KSA/IFJlbW92ZUVudGl0eUJvZHkuZnJvbUpTT04ob2JqZWN0LnJlbW92ZUVudGl0eSkgOiB1bmRlZmluZWQsXG4gICAgICB1cGRhdGVFbnRpdHlDb21wb25lbnQ6IGlzU2V0KG9iamVjdC51cGRhdGVFbnRpdHlDb21wb25lbnQpXG4gICAgICAgID8gVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keS5mcm9tSlNPTihvYmplY3QudXBkYXRlRW50aXR5Q29tcG9uZW50KVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGF0dGFjaEVudGl0eUNvbXBvbmVudDogaXNTZXQob2JqZWN0LmF0dGFjaEVudGl0eUNvbXBvbmVudClcbiAgICAgICAgPyBBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5LmZyb21KU09OKG9iamVjdC5hdHRhY2hFbnRpdHlDb21wb25lbnQpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgY29tcG9uZW50UmVtb3ZlZDogaXNTZXQob2JqZWN0LmNvbXBvbmVudFJlbW92ZWQpXG4gICAgICAgID8gQ29tcG9uZW50UmVtb3ZlZEJvZHkuZnJvbUpTT04ob2JqZWN0LmNvbXBvbmVudFJlbW92ZWQpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc2V0RW50aXR5UGFyZW50OiBpc1NldChvYmplY3Quc2V0RW50aXR5UGFyZW50KSA/IFNldEVudGl0eVBhcmVudEJvZHkuZnJvbUpTT04ob2JqZWN0LnNldEVudGl0eVBhcmVudCkgOiB1bmRlZmluZWQsXG4gICAgICBxdWVyeTogaXNTZXQob2JqZWN0LnF1ZXJ5KSA/IFF1ZXJ5Qm9keS5mcm9tSlNPTihvYmplY3QucXVlcnkpIDogdW5kZWZpbmVkLFxuICAgICAgY29tcG9uZW50Q3JlYXRlZDogaXNTZXQob2JqZWN0LmNvbXBvbmVudENyZWF0ZWQpXG4gICAgICAgID8gQ29tcG9uZW50Q3JlYXRlZEJvZHkuZnJvbUpTT04ob2JqZWN0LmNvbXBvbmVudENyZWF0ZWQpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgY29tcG9uZW50RGlzcG9zZWQ6IGlzU2V0KG9iamVjdC5jb21wb25lbnREaXNwb3NlZClcbiAgICAgICAgPyBDb21wb25lbnREaXNwb3NlZEJvZHkuZnJvbUpTT04ob2JqZWN0LmNvbXBvbmVudERpc3Bvc2VkKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGNvbXBvbmVudFVwZGF0ZWQ6IGlzU2V0KG9iamVjdC5jb21wb25lbnRVcGRhdGVkKVxuICAgICAgICA/IENvbXBvbmVudFVwZGF0ZWRCb2R5LmZyb21KU09OKG9iamVjdC5jb21wb25lbnRVcGRhdGVkKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGluaXRNZXNzYWdlc0ZpbmlzaGVkOiBpc1NldChvYmplY3QuaW5pdE1lc3NhZ2VzRmluaXNoZWQpXG4gICAgICAgID8gSW5pdE1lc3NhZ2VzRmluaXNoZWRCb2R5LmZyb21KU09OKG9iamVjdC5pbml0TWVzc2FnZXNGaW5pc2hlZClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUGF5bG9hZCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5vcGVuRXh0ZXJuYWxVcmwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5vcGVuRXh0ZXJuYWxVcmwgPSBtZXNzYWdlLm9wZW5FeHRlcm5hbFVybCA/IE9wZW5FeHRlcm5hbFVybEJvZHkudG9KU09OKG1lc3NhZ2Uub3BlbkV4dGVybmFsVXJsKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5vcGVuTmZ0RGlhbG9nICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoub3Blbk5mdERpYWxvZyA9IG1lc3NhZ2Uub3Blbk5mdERpYWxvZyA/IE9wZW5ORlREaWFsb2dCb2R5LnRvSlNPTihtZXNzYWdlLm9wZW5OZnREaWFsb2cpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmNyZWF0ZUVudGl0eSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmNyZWF0ZUVudGl0eSA9IG1lc3NhZ2UuY3JlYXRlRW50aXR5ID8gQ3JlYXRlRW50aXR5Qm9keS50b0pTT04obWVzc2FnZS5jcmVhdGVFbnRpdHkpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnJlbW92ZUVudGl0eSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnJlbW92ZUVudGl0eSA9IG1lc3NhZ2UucmVtb3ZlRW50aXR5ID8gUmVtb3ZlRW50aXR5Qm9keS50b0pTT04obWVzc2FnZS5yZW1vdmVFbnRpdHkpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnVwZGF0ZUVudGl0eUNvbXBvbmVudCAhPT0gdW5kZWZpbmVkICYmIChvYmoudXBkYXRlRW50aXR5Q29tcG9uZW50ID0gbWVzc2FnZS51cGRhdGVFbnRpdHlDb21wb25lbnRcbiAgICAgID8gVXBkYXRlRW50aXR5Q29tcG9uZW50Qm9keS50b0pTT04obWVzc2FnZS51cGRhdGVFbnRpdHlDb21wb25lbnQpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5hdHRhY2hFbnRpdHlDb21wb25lbnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmF0dGFjaEVudGl0eUNvbXBvbmVudCA9IG1lc3NhZ2UuYXR0YWNoRW50aXR5Q29tcG9uZW50XG4gICAgICA/IEF0dGFjaEVudGl0eUNvbXBvbmVudEJvZHkudG9KU09OKG1lc3NhZ2UuYXR0YWNoRW50aXR5Q29tcG9uZW50KVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY29tcG9uZW50UmVtb3ZlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouY29tcG9uZW50UmVtb3ZlZCA9IG1lc3NhZ2UuY29tcG9uZW50UmVtb3ZlZFxuICAgICAgPyBDb21wb25lbnRSZW1vdmVkQm9keS50b0pTT04obWVzc2FnZS5jb21wb25lbnRSZW1vdmVkKVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uuc2V0RW50aXR5UGFyZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouc2V0RW50aXR5UGFyZW50ID0gbWVzc2FnZS5zZXRFbnRpdHlQYXJlbnQgPyBTZXRFbnRpdHlQYXJlbnRCb2R5LnRvSlNPTihtZXNzYWdlLnNldEVudGl0eVBhcmVudCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucXVlcnkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnF1ZXJ5ID0gbWVzc2FnZS5xdWVyeSA/IFF1ZXJ5Qm9keS50b0pTT04obWVzc2FnZS5xdWVyeSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY29tcG9uZW50Q3JlYXRlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouY29tcG9uZW50Q3JlYXRlZCA9IG1lc3NhZ2UuY29tcG9uZW50Q3JlYXRlZFxuICAgICAgPyBDb21wb25lbnRDcmVhdGVkQm9keS50b0pTT04obWVzc2FnZS5jb21wb25lbnRDcmVhdGVkKVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY29tcG9uZW50RGlzcG9zZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbXBvbmVudERpc3Bvc2VkID0gbWVzc2FnZS5jb21wb25lbnREaXNwb3NlZFxuICAgICAgPyBDb21wb25lbnREaXNwb3NlZEJvZHkudG9KU09OKG1lc3NhZ2UuY29tcG9uZW50RGlzcG9zZWQpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5jb21wb25lbnRVcGRhdGVkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb21wb25lbnRVcGRhdGVkID0gbWVzc2FnZS5jb21wb25lbnRVcGRhdGVkXG4gICAgICA/IENvbXBvbmVudFVwZGF0ZWRCb2R5LnRvSlNPTihtZXNzYWdlLmNvbXBvbmVudFVwZGF0ZWQpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5pbml0TWVzc2FnZXNGaW5pc2hlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5pdE1lc3NhZ2VzRmluaXNoZWQgPSBtZXNzYWdlLmluaXRNZXNzYWdlc0ZpbmlzaGVkXG4gICAgICA/IEluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keS50b0pTT04obWVzc2FnZS5pbml0TWVzc2FnZXNGaW5pc2hlZClcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQYXlsb2FkPiwgST4+KG9iamVjdDogSSk6IFBheWxvYWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGF5bG9hZCgpO1xuICAgIG1lc3NhZ2Uub3BlbkV4dGVybmFsVXJsID0gKG9iamVjdC5vcGVuRXh0ZXJuYWxVcmwgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub3BlbkV4dGVybmFsVXJsICE9PSBudWxsKVxuICAgICAgPyBPcGVuRXh0ZXJuYWxVcmxCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5vcGVuRXh0ZXJuYWxVcmwpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLm9wZW5OZnREaWFsb2cgPSAob2JqZWN0Lm9wZW5OZnREaWFsb2cgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub3Blbk5mdERpYWxvZyAhPT0gbnVsbClcbiAgICAgID8gT3Blbk5GVERpYWxvZ0JvZHkuZnJvbVBhcnRpYWwob2JqZWN0Lm9wZW5OZnREaWFsb2cpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmNyZWF0ZUVudGl0eSA9IChvYmplY3QuY3JlYXRlRW50aXR5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNyZWF0ZUVudGl0eSAhPT0gbnVsbClcbiAgICAgID8gQ3JlYXRlRW50aXR5Qm9keS5mcm9tUGFydGlhbChvYmplY3QuY3JlYXRlRW50aXR5KVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5yZW1vdmVFbnRpdHkgPSAob2JqZWN0LnJlbW92ZUVudGl0eSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZW1vdmVFbnRpdHkgIT09IG51bGwpXG4gICAgICA/IFJlbW92ZUVudGl0eUJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LnJlbW92ZUVudGl0eSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UudXBkYXRlRW50aXR5Q29tcG9uZW50ID1cbiAgICAgIChvYmplY3QudXBkYXRlRW50aXR5Q29tcG9uZW50ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnVwZGF0ZUVudGl0eUNvbXBvbmVudCAhPT0gbnVsbClcbiAgICAgICAgPyBVcGRhdGVFbnRpdHlDb21wb25lbnRCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC51cGRhdGVFbnRpdHlDb21wb25lbnQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuYXR0YWNoRW50aXR5Q29tcG9uZW50ID1cbiAgICAgIChvYmplY3QuYXR0YWNoRW50aXR5Q29tcG9uZW50ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmF0dGFjaEVudGl0eUNvbXBvbmVudCAhPT0gbnVsbClcbiAgICAgICAgPyBBdHRhY2hFbnRpdHlDb21wb25lbnRCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5hdHRhY2hFbnRpdHlDb21wb25lbnQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuY29tcG9uZW50UmVtb3ZlZCA9IChvYmplY3QuY29tcG9uZW50UmVtb3ZlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb21wb25lbnRSZW1vdmVkICE9PSBudWxsKVxuICAgICAgPyBDb21wb25lbnRSZW1vdmVkQm9keS5mcm9tUGFydGlhbChvYmplY3QuY29tcG9uZW50UmVtb3ZlZClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uuc2V0RW50aXR5UGFyZW50ID0gKG9iamVjdC5zZXRFbnRpdHlQYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2V0RW50aXR5UGFyZW50ICE9PSBudWxsKVxuICAgICAgPyBTZXRFbnRpdHlQYXJlbnRCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5zZXRFbnRpdHlQYXJlbnQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnF1ZXJ5ID0gKG9iamVjdC5xdWVyeSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5xdWVyeSAhPT0gbnVsbClcbiAgICAgID8gUXVlcnlCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5xdWVyeSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuY29tcG9uZW50Q3JlYXRlZCA9IChvYmplY3QuY29tcG9uZW50Q3JlYXRlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb21wb25lbnRDcmVhdGVkICE9PSBudWxsKVxuICAgICAgPyBDb21wb25lbnRDcmVhdGVkQm9keS5mcm9tUGFydGlhbChvYmplY3QuY29tcG9uZW50Q3JlYXRlZClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuY29tcG9uZW50RGlzcG9zZWQgPSAob2JqZWN0LmNvbXBvbmVudERpc3Bvc2VkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbXBvbmVudERpc3Bvc2VkICE9PSBudWxsKVxuICAgICAgPyBDb21wb25lbnREaXNwb3NlZEJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LmNvbXBvbmVudERpc3Bvc2VkKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5jb21wb25lbnRVcGRhdGVkID0gKG9iamVjdC5jb21wb25lbnRVcGRhdGVkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbXBvbmVudFVwZGF0ZWQgIT09IG51bGwpXG4gICAgICA/IENvbXBvbmVudFVwZGF0ZWRCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5jb21wb25lbnRVcGRhdGVkKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5pbml0TWVzc2FnZXNGaW5pc2hlZCA9IChvYmplY3QuaW5pdE1lc3NhZ2VzRmluaXNoZWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaW5pdE1lc3NhZ2VzRmluaXNoZWQgIT09IG51bGwpXG4gICAgICA/IEluaXRNZXNzYWdlc0ZpbmlzaGVkQm9keS5mcm9tUGFydGlhbChvYmplY3QuaW5pdE1lc3NhZ2VzRmluaXNoZWQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VFbnRpdHlBY3Rpb24oKTogRW50aXR5QWN0aW9uIHtcbiAgcmV0dXJuIHsgdHlwZTogMCwgdGFnOiB1bmRlZmluZWQsIHBheWxvYWQ6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgRW50aXR5QWN0aW9uID0ge1xuICBlbmNvZGUobWVzc2FnZTogRW50aXR5QWN0aW9uLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50YWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudGFnKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQYXlsb2FkLmVuY29kZShtZXNzYWdlLnBheWxvYWQsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogRW50aXR5QWN0aW9uIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUVudGl0eUFjdGlvbigpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLmludDMyKCkgYXMgYW55O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS50YWcgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQgPSBQYXlsb2FkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEVudGl0eUFjdGlvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IGVBVHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDAsXG4gICAgICB0YWc6IGlzU2V0KG9iamVjdC50YWcpID8gU3RyaW5nKG9iamVjdC50YWcpIDogdW5kZWZpbmVkLFxuICAgICAgcGF5bG9hZDogaXNTZXQob2JqZWN0LnBheWxvYWQpID8gUGF5bG9hZC5mcm9tSlNPTihvYmplY3QucGF5bG9hZCkgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogRW50aXR5QWN0aW9uKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnR5cGUgPSBlQVR5cGVUb0pTT04obWVzc2FnZS50eXBlKSk7XG4gICAgbWVzc2FnZS50YWcgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRhZyA9IG1lc3NhZ2UudGFnKTtcbiAgICBtZXNzYWdlLnBheWxvYWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQgPyBQYXlsb2FkLnRvSlNPTihtZXNzYWdlLnBheWxvYWQpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxFbnRpdHlBY3Rpb24+LCBJPj4ob2JqZWN0OiBJKTogRW50aXR5QWN0aW9uIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUVudGl0eUFjdGlvbigpO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgbWVzc2FnZS50YWcgPSBvYmplY3QudGFnID8/IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnBheWxvYWQgPSAob2JqZWN0LnBheWxvYWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGF5bG9hZCAhPT0gbnVsbClcbiAgICAgID8gUGF5bG9hZC5mcm9tUGFydGlhbChvYmplY3QucGF5bG9hZClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZU1hbnlFbnRpdHlBY3Rpb24oKTogTWFueUVudGl0eUFjdGlvbiB7XG4gIHJldHVybiB7IGFjdGlvbnM6IFtdIH07XG59XG5cbmV4cG9ydCBjb25zdCBNYW55RW50aXR5QWN0aW9uID0ge1xuICBlbmNvZGUobWVzc2FnZTogTWFueUVudGl0eUFjdGlvbiwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmFjdGlvbnMpIHtcbiAgICAgIEVudGl0eUFjdGlvbi5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogTWFueUVudGl0eUFjdGlvbiB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNYW55RW50aXR5QWN0aW9uKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmFjdGlvbnMucHVzaChFbnRpdHlBY3Rpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IE1hbnlFbnRpdHlBY3Rpb24ge1xuICAgIHJldHVybiB7IGFjdGlvbnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5hY3Rpb25zKSA/IG9iamVjdC5hY3Rpb25zLm1hcCgoZTogYW55KSA9PiBFbnRpdHlBY3Rpb24uZnJvbUpTT04oZSkpIDogW10gfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogTWFueUVudGl0eUFjdGlvbik6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgaWYgKG1lc3NhZ2UuYWN0aW9ucykge1xuICAgICAgb2JqLmFjdGlvbnMgPSBtZXNzYWdlLmFjdGlvbnMubWFwKChlKSA9PiBlID8gRW50aXR5QWN0aW9uLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5hY3Rpb25zID0gW107XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPE1hbnlFbnRpdHlBY3Rpb24+LCBJPj4ob2JqZWN0OiBJKTogTWFueUVudGl0eUFjdGlvbiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNYW55RW50aXR5QWN0aW9uKCk7XG4gICAgbWVzc2FnZS5hY3Rpb25zID0gb2JqZWN0LmFjdGlvbnM/Lm1hcCgoZSkgPT4gRW50aXR5QWN0aW9uLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTZW5kQmF0Y2hSZXNwb25zZSgpOiBTZW5kQmF0Y2hSZXNwb25zZSB7XG4gIHJldHVybiB7IGV2ZW50czogW10gfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNlbmRCYXRjaFJlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogU2VuZEJhdGNoUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5ldmVudHMpIHtcbiAgICAgIEV2ZW50RGF0YS5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU2VuZEJhdGNoUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZEJhdGNoUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRzLnB1c2goRXZlbnREYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTZW5kQmF0Y2hSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgZXZlbnRzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZXZlbnRzKSA/IG9iamVjdC5ldmVudHMubWFwKChlOiBhbnkpID0+IEV2ZW50RGF0YS5mcm9tSlNPTihlKSkgOiBbXSB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBTZW5kQmF0Y2hSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRzKSB7XG4gICAgICBvYmouZXZlbnRzID0gbWVzc2FnZS5ldmVudHMubWFwKChlKSA9PiBlID8gRXZlbnREYXRhLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5ldmVudHMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8U2VuZEJhdGNoUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogU2VuZEJhdGNoUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZEJhdGNoUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmV2ZW50cyA9IG9iamVjdC5ldmVudHM/Lm1hcCgoZSkgPT4gRXZlbnREYXRhLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VVbnN1YnNjcmliZVJlcXVlc3QoKTogVW5zdWJzY3JpYmVSZXF1ZXN0IHtcbiAgcmV0dXJuIHsgZXZlbnRJZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgVW5zdWJzY3JpYmVSZXF1ZXN0ID0ge1xuICBlbmNvZGUobWVzc2FnZTogVW5zdWJzY3JpYmVSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZXZlbnRJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZXZlbnRJZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogVW5zdWJzY3JpYmVSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVVuc3Vic2NyaWJlUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5ldmVudElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBVbnN1YnNjcmliZVJlcXVlc3Qge1xuICAgIHJldHVybiB7IGV2ZW50SWQ6IGlzU2V0KG9iamVjdC5ldmVudElkKSA/IFN0cmluZyhvYmplY3QuZXZlbnRJZCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFVuc3Vic2NyaWJlUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5ldmVudElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5ldmVudElkID0gbWVzc2FnZS5ldmVudElkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxVbnN1YnNjcmliZVJlcXVlc3Q+LCBJPj4ob2JqZWN0OiBJKTogVW5zdWJzY3JpYmVSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVVuc3Vic2NyaWJlUmVxdWVzdCgpO1xuICAgIG1lc3NhZ2UuZXZlbnRJZCA9IG9iamVjdC5ldmVudElkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU3Vic2NyaWJlUmVxdWVzdCgpOiBTdWJzY3JpYmVSZXF1ZXN0IHtcbiAgcmV0dXJuIHsgZXZlbnRJZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgU3Vic2NyaWJlUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFN1YnNjcmliZVJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5ldmVudElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5ldmVudElkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBTdWJzY3JpYmVSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN1YnNjcmliZVJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuZXZlbnRJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogU3Vic2NyaWJlUmVxdWVzdCB7XG4gICAgcmV0dXJuIHsgZXZlbnRJZDogaXNTZXQob2JqZWN0LmV2ZW50SWQpID8gU3RyaW5nKG9iamVjdC5ldmVudElkKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU3Vic2NyaWJlUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5ldmVudElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5ldmVudElkID0gbWVzc2FnZS5ldmVudElkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxTdWJzY3JpYmVSZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IFN1YnNjcmliZVJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3Vic2NyaWJlUmVxdWVzdCgpO1xuICAgIG1lc3NhZ2UuZXZlbnRJZCA9IG9iamVjdC5ldmVudElkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU3Vic2NyaWJlUmVzcG9uc2UoKTogU3Vic2NyaWJlUmVzcG9uc2Uge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBTdWJzY3JpYmVSZXNwb25zZSA9IHtcbiAgZW5jb2RlKF86IFN1YnNjcmliZVJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBTdWJzY3JpYmVSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdWJzY3JpYmVSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogU3Vic2NyaWJlUmVzcG9uc2Uge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogU3Vic2NyaWJlUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFN1YnNjcmliZVJlc3BvbnNlPiwgST4+KF86IEkpOiBTdWJzY3JpYmVSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdWJzY3JpYmVSZXNwb25zZSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVVuc3Vic2NyaWJlUmVzcG9uc2UoKTogVW5zdWJzY3JpYmVSZXNwb25zZSB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaWJlUmVzcG9uc2UgPSB7XG4gIGVuY29kZShfOiBVbnN1YnNjcmliZVJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBVbnN1YnNjcmliZVJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVVuc3Vic2NyaWJlUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IFVuc3Vic2NyaWJlUmVzcG9uc2Uge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogVW5zdWJzY3JpYmVSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8VW5zdWJzY3JpYmVSZXNwb25zZT4sIEk+PihfOiBJKTogVW5zdWJzY3JpYmVSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VVbnN1YnNjcmliZVJlc3BvbnNlKCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2VuZXJpY1BheWxvYWQoKTogR2VuZXJpY1BheWxvYWQge1xuICByZXR1cm4geyBldmVudElkOiBcIlwiLCBldmVudERhdGE6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdlbmVyaWNQYXlsb2FkID0ge1xuICBlbmNvZGUobWVzc2FnZTogR2VuZXJpY1BheWxvYWQsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5ldmVudElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5ldmVudElkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZXZlbnREYXRhICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5ldmVudERhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdlbmVyaWNQYXlsb2FkIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdlbmVyaWNQYXlsb2FkKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50SWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50RGF0YSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2VuZXJpY1BheWxvYWQge1xuICAgIHJldHVybiB7XG4gICAgICBldmVudElkOiBpc1NldChvYmplY3QuZXZlbnRJZCkgPyBTdHJpbmcob2JqZWN0LmV2ZW50SWQpIDogXCJcIixcbiAgICAgIGV2ZW50RGF0YTogaXNTZXQob2JqZWN0LmV2ZW50RGF0YSkgPyBTdHJpbmcob2JqZWN0LmV2ZW50RGF0YSkgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdlbmVyaWNQYXlsb2FkKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmV2ZW50SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmV2ZW50SWQgPSBtZXNzYWdlLmV2ZW50SWQpO1xuICAgIG1lc3NhZ2UuZXZlbnREYXRhICE9PSB1bmRlZmluZWQgJiYgKG9iai5ldmVudERhdGEgPSBtZXNzYWdlLmV2ZW50RGF0YSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2VuZXJpY1BheWxvYWQ+LCBJPj4ob2JqZWN0OiBJKTogR2VuZXJpY1BheWxvYWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2VuZXJpY1BheWxvYWQoKTtcbiAgICBtZXNzYWdlLmV2ZW50SWQgPSBvYmplY3QuZXZlbnRJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuZXZlbnREYXRhID0gb2JqZWN0LmV2ZW50RGF0YSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVJlYWRPbmx5VmVjdG9yMygpOiBSZWFkT25seVZlY3RvcjMge1xuICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBSZWFkT25seVZlY3RvcjMgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBSZWFkT25seVZlY3RvcjMsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS56ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnopO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFJlYWRPbmx5VmVjdG9yMyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFkT25seVZlY3RvcjMoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnogPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUmVhZE9ubHlWZWN0b3IzIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogaXNTZXQob2JqZWN0LngpID8gTnVtYmVyKG9iamVjdC54KSA6IDAsXG4gICAgICB5OiBpc1NldChvYmplY3QueSkgPyBOdW1iZXIob2JqZWN0LnkpIDogMCxcbiAgICAgIHo6IGlzU2V0KG9iamVjdC56KSA/IE51bWJlcihvYmplY3QueikgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFJlYWRPbmx5VmVjdG9yMyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS54ICE9PSB1bmRlZmluZWQgJiYgKG9iai54ID0gbWVzc2FnZS54KTtcbiAgICBtZXNzYWdlLnkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnkgPSBtZXNzYWdlLnkpO1xuICAgIG1lc3NhZ2UueiAhPT0gdW5kZWZpbmVkICYmIChvYmoueiA9IG1lc3NhZ2Uueik7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UmVhZE9ubHlWZWN0b3IzPiwgST4+KG9iamVjdDogSSk6IFJlYWRPbmx5VmVjdG9yMyB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFkT25seVZlY3RvcjMoKTtcbiAgICBtZXNzYWdlLnggPSBvYmplY3QueCA/PyAwO1xuICAgIG1lc3NhZ2UueSA9IG9iamVjdC55ID8/IDA7XG4gICAgbWVzc2FnZS56ID0gb2JqZWN0LnogPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZWFkT25seVF1YXRlcm5pb24oKTogUmVhZE9ubHlRdWF0ZXJuaW9uIHtcbiAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCwgdzogMCB9O1xufVxuXG5leHBvcnQgY29uc3QgUmVhZE9ubHlRdWF0ZXJuaW9uID0ge1xuICBlbmNvZGUobWVzc2FnZTogUmVhZE9ubHlRdWF0ZXJuaW9uLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS53KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBSZWFkT25seVF1YXRlcm5pb24ge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVhZE9ubHlRdWF0ZXJuaW9uKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLncgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUmVhZE9ubHlRdWF0ZXJuaW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogaXNTZXQob2JqZWN0LngpID8gTnVtYmVyKG9iamVjdC54KSA6IDAsXG4gICAgICB5OiBpc1NldChvYmplY3QueSkgPyBOdW1iZXIob2JqZWN0LnkpIDogMCxcbiAgICAgIHo6IGlzU2V0KG9iamVjdC56KSA/IE51bWJlcihvYmplY3QueikgOiAwLFxuICAgICAgdzogaXNTZXQob2JqZWN0LncpID8gTnVtYmVyKG9iamVjdC53KSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUmVhZE9ubHlRdWF0ZXJuaW9uKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnggIT09IHVuZGVmaW5lZCAmJiAob2JqLnggPSBtZXNzYWdlLngpO1xuICAgIG1lc3NhZ2UueSAhPT0gdW5kZWZpbmVkICYmIChvYmoueSA9IG1lc3NhZ2UueSk7XG4gICAgbWVzc2FnZS56ICE9PSB1bmRlZmluZWQgJiYgKG9iai56ID0gbWVzc2FnZS56KTtcbiAgICBtZXNzYWdlLncgIT09IHVuZGVmaW5lZCAmJiAob2JqLncgPSBtZXNzYWdlLncpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFJlYWRPbmx5UXVhdGVybmlvbj4sIEk+PihvYmplY3Q6IEkpOiBSZWFkT25seVF1YXRlcm5pb24ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVhZE9ubHlRdWF0ZXJuaW9uKCk7XG4gICAgbWVzc2FnZS54ID0gb2JqZWN0LnggPz8gMDtcbiAgICBtZXNzYWdlLnkgPSBvYmplY3QueSA/PyAwO1xuICAgIG1lc3NhZ2UueiA9IG9iamVjdC56ID8/IDA7XG4gICAgbWVzc2FnZS53ID0gb2JqZWN0LncgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQb3NpdGlvbkNoYW5nZWRQYXlsb2FkKCk6IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQge1xuICByZXR1cm4geyBwb3NpdGlvbjogdW5kZWZpbmVkLCBjYW1lcmFQb3NpdGlvbjogdW5kZWZpbmVkLCBwbGF5ZXJIZWlnaHQ6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQb3NpdGlvbkNoYW5nZWRQYXlsb2FkLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgUmVhZE9ubHlWZWN0b3IzLmVuY29kZShtZXNzYWdlLnBvc2l0aW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jYW1lcmFQb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBSZWFkT25seVZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuY2FtZXJhUG9zaXRpb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBsYXllckhlaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5wbGF5ZXJIZWlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUG9zaXRpb25DaGFuZ2VkUGF5bG9hZCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbiA9IFJlYWRPbmx5VmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5jYW1lcmFQb3NpdGlvbiA9IFJlYWRPbmx5VmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5wbGF5ZXJIZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUG9zaXRpb25DaGFuZ2VkUGF5bG9hZCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uOiBpc1NldChvYmplY3QucG9zaXRpb24pID8gUmVhZE9ubHlWZWN0b3IzLmZyb21KU09OKG9iamVjdC5wb3NpdGlvbikgOiB1bmRlZmluZWQsXG4gICAgICBjYW1lcmFQb3NpdGlvbjogaXNTZXQob2JqZWN0LmNhbWVyYVBvc2l0aW9uKSA/IFJlYWRPbmx5VmVjdG9yMy5mcm9tSlNPTihvYmplY3QuY2FtZXJhUG9zaXRpb24pIDogdW5kZWZpbmVkLFxuICAgICAgcGxheWVySGVpZ2h0OiBpc1NldChvYmplY3QucGxheWVySGVpZ2h0KSA/IE51bWJlcihvYmplY3QucGxheWVySGVpZ2h0KSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUG9zaXRpb25DaGFuZ2VkUGF5bG9hZCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnBvc2l0aW9uID0gbWVzc2FnZS5wb3NpdGlvbiA/IFJlYWRPbmx5VmVjdG9yMy50b0pTT04obWVzc2FnZS5wb3NpdGlvbikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY2FtZXJhUG9zaXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5jYW1lcmFQb3NpdGlvbiA9IG1lc3NhZ2UuY2FtZXJhUG9zaXRpb24gPyBSZWFkT25seVZlY3RvcjMudG9KU09OKG1lc3NhZ2UuY2FtZXJhUG9zaXRpb24pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBsYXllckhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGxheWVySGVpZ2h0ID0gbWVzc2FnZS5wbGF5ZXJIZWlnaHQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQ+LCBJPj4ob2JqZWN0OiBJKTogUG9zaXRpb25DaGFuZ2VkUGF5bG9hZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQb3NpdGlvbkNoYW5nZWRQYXlsb2FkKCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvbiA9IChvYmplY3QucG9zaXRpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucG9zaXRpb24gIT09IG51bGwpXG4gICAgICA/IFJlYWRPbmx5VmVjdG9yMy5mcm9tUGFydGlhbChvYmplY3QucG9zaXRpb24pXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmNhbWVyYVBvc2l0aW9uID0gKG9iamVjdC5jYW1lcmFQb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jYW1lcmFQb3NpdGlvbiAhPT0gbnVsbClcbiAgICAgID8gUmVhZE9ubHlWZWN0b3IzLmZyb21QYXJ0aWFsKG9iamVjdC5jYW1lcmFQb3NpdGlvbilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UucGxheWVySGVpZ2h0ID0gb2JqZWN0LnBsYXllckhlaWdodCA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVJvdGF0aW9uQ2hhbmdlZFBheWxvYWQoKTogUm90YXRpb25DaGFuZ2VkUGF5bG9hZCB7XG4gIHJldHVybiB7IHJvdGF0aW9uOiB1bmRlZmluZWQsIHF1YXRlcm5pb246IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgUm90YXRpb25DaGFuZ2VkUGF5bG9hZCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFJvdGF0aW9uQ2hhbmdlZFBheWxvYWQsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBSZWFkT25seVZlY3RvcjMuZW5jb2RlKG1lc3NhZ2Uucm90YXRpb24sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnF1YXRlcm5pb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgUmVhZE9ubHlRdWF0ZXJuaW9uLmVuY29kZShtZXNzYWdlLnF1YXRlcm5pb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUm90YXRpb25DaGFuZ2VkUGF5bG9hZCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSb3RhdGlvbkNoYW5nZWRQYXlsb2FkKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnJvdGF0aW9uID0gUmVhZE9ubHlWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnF1YXRlcm5pb24gPSBSZWFkT25seVF1YXRlcm5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUm90YXRpb25DaGFuZ2VkUGF5bG9hZCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdGF0aW9uOiBpc1NldChvYmplY3Qucm90YXRpb24pID8gUmVhZE9ubHlWZWN0b3IzLmZyb21KU09OKG9iamVjdC5yb3RhdGlvbikgOiB1bmRlZmluZWQsXG4gICAgICBxdWF0ZXJuaW9uOiBpc1NldChvYmplY3QucXVhdGVybmlvbikgPyBSZWFkT25seVF1YXRlcm5pb24uZnJvbUpTT04ob2JqZWN0LnF1YXRlcm5pb24pIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFJvdGF0aW9uQ2hhbmdlZFBheWxvYWQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uucm90YXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5yb3RhdGlvbiA9IG1lc3NhZ2Uucm90YXRpb24gPyBSZWFkT25seVZlY3RvcjMudG9KU09OKG1lc3NhZ2Uucm90YXRpb24pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnF1YXRlcm5pb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5xdWF0ZXJuaW9uID0gbWVzc2FnZS5xdWF0ZXJuaW9uID8gUmVhZE9ubHlRdWF0ZXJuaW9uLnRvSlNPTihtZXNzYWdlLnF1YXRlcm5pb24pIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxSb3RhdGlvbkNoYW5nZWRQYXlsb2FkPiwgST4+KG9iamVjdDogSSk6IFJvdGF0aW9uQ2hhbmdlZFBheWxvYWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUm90YXRpb25DaGFuZ2VkUGF5bG9hZCgpO1xuICAgIG1lc3NhZ2Uucm90YXRpb24gPSAob2JqZWN0LnJvdGF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJvdGF0aW9uICE9PSBudWxsKVxuICAgICAgPyBSZWFkT25seVZlY3RvcjMuZnJvbVBhcnRpYWwob2JqZWN0LnJvdGF0aW9uKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5xdWF0ZXJuaW9uID0gKG9iamVjdC5xdWF0ZXJuaW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnF1YXRlcm5pb24gIT09IG51bGwpXG4gICAgICA/IFJlYWRPbmx5UXVhdGVybmlvbi5mcm9tUGFydGlhbChvYmplY3QucXVhdGVybmlvbilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUV2ZW50RGF0YSgpOiBFdmVudERhdGEge1xuICByZXR1cm4geyB0eXBlOiAwLCBnZW5lcmljOiB1bmRlZmluZWQsIHBvc2l0aW9uQ2hhbmdlZDogdW5kZWZpbmVkLCByb3RhdGlvbkNoYW5nZWQ6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgRXZlbnREYXRhID0ge1xuICBlbmNvZGUobWVzc2FnZTogRXZlbnREYXRhLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5nZW5lcmljICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIEdlbmVyaWNQYXlsb2FkLmVuY29kZShtZXNzYWdlLmdlbmVyaWMsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uQ2hhbmdlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQb3NpdGlvbkNoYW5nZWRQYXlsb2FkLmVuY29kZShtZXNzYWdlLnBvc2l0aW9uQ2hhbmdlZCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uucm90YXRpb25DaGFuZ2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFJvdGF0aW9uQ2hhbmdlZFBheWxvYWQuZW5jb2RlKG1lc3NhZ2Uucm90YXRpb25DaGFuZ2VkLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEV2ZW50RGF0YSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFdmVudERhdGEoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpIGFzIGFueTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuZ2VuZXJpYyA9IEdlbmVyaWNQYXlsb2FkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uQ2hhbmdlZCA9IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2Uucm90YXRpb25DaGFuZ2VkID0gUm90YXRpb25DaGFuZ2VkUGF5bG9hZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBFdmVudERhdGEge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBldmVudERhdGFUeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMCxcbiAgICAgIGdlbmVyaWM6IGlzU2V0KG9iamVjdC5nZW5lcmljKSA/IEdlbmVyaWNQYXlsb2FkLmZyb21KU09OKG9iamVjdC5nZW5lcmljKSA6IHVuZGVmaW5lZCxcbiAgICAgIHBvc2l0aW9uQ2hhbmdlZDogaXNTZXQob2JqZWN0LnBvc2l0aW9uQ2hhbmdlZClcbiAgICAgICAgPyBQb3NpdGlvbkNoYW5nZWRQYXlsb2FkLmZyb21KU09OKG9iamVjdC5wb3NpdGlvbkNoYW5nZWQpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgcm90YXRpb25DaGFuZ2VkOiBpc1NldChvYmplY3Qucm90YXRpb25DaGFuZ2VkKVxuICAgICAgICA/IFJvdGF0aW9uQ2hhbmdlZFBheWxvYWQuZnJvbUpTT04ob2JqZWN0LnJvdGF0aW9uQ2hhbmdlZClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogRXZlbnREYXRhKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnR5cGUgPSBldmVudERhdGFUeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgIG1lc3NhZ2UuZ2VuZXJpYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmdlbmVyaWMgPSBtZXNzYWdlLmdlbmVyaWMgPyBHZW5lcmljUGF5bG9hZC50b0pTT04obWVzc2FnZS5nZW5lcmljKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvbkNoYW5nZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uQ2hhbmdlZCA9IG1lc3NhZ2UucG9zaXRpb25DaGFuZ2VkXG4gICAgICA/IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQudG9KU09OKG1lc3NhZ2UucG9zaXRpb25DaGFuZ2VkKVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uucm90YXRpb25DaGFuZ2VkICE9PSB1bmRlZmluZWQgJiYgKG9iai5yb3RhdGlvbkNoYW5nZWQgPSBtZXNzYWdlLnJvdGF0aW9uQ2hhbmdlZFxuICAgICAgPyBSb3RhdGlvbkNoYW5nZWRQYXlsb2FkLnRvSlNPTihtZXNzYWdlLnJvdGF0aW9uQ2hhbmdlZClcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxFdmVudERhdGE+LCBJPj4ob2JqZWN0OiBJKTogRXZlbnREYXRhIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUV2ZW50RGF0YSgpO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgbWVzc2FnZS5nZW5lcmljID0gKG9iamVjdC5nZW5lcmljICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmdlbmVyaWMgIT09IG51bGwpXG4gICAgICA/IEdlbmVyaWNQYXlsb2FkLmZyb21QYXJ0aWFsKG9iamVjdC5nZW5lcmljKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5wb3NpdGlvbkNoYW5nZWQgPSAob2JqZWN0LnBvc2l0aW9uQ2hhbmdlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3NpdGlvbkNoYW5nZWQgIT09IG51bGwpXG4gICAgICA/IFBvc2l0aW9uQ2hhbmdlZFBheWxvYWQuZnJvbVBhcnRpYWwob2JqZWN0LnBvc2l0aW9uQ2hhbmdlZClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uucm90YXRpb25DaGFuZ2VkID0gKG9iamVjdC5yb3RhdGlvbkNoYW5nZWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qucm90YXRpb25DaGFuZ2VkICE9PSBudWxsKVxuICAgICAgPyBSb3RhdGlvbkNoYW5nZWRQYXlsb2FkLmZyb21QYXJ0aWFsKG9iamVjdC5yb3RhdGlvbkNoYW5nZWQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIEVuZ2luZUFwaVNlcnZpY2VEZWZpbml0aW9uID0gdHlwZW9mIEVuZ2luZUFwaVNlcnZpY2VEZWZpbml0aW9uO1xuZXhwb3J0IGNvbnN0IEVuZ2luZUFwaVNlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIkVuZ2luZUFwaVNlcnZpY2VcIixcbiAgZnVsbE5hbWU6IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzLkVuZ2luZUFwaVNlcnZpY2VcIixcbiAgbWV0aG9kczoge1xuICAgIHNlbmRCYXRjaDoge1xuICAgICAgbmFtZTogXCJTZW5kQmF0Y2hcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBNYW55RW50aXR5QWN0aW9uLFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IFNlbmRCYXRjaFJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBzdWJzY3JpYmU6IHtcbiAgICAgIG5hbWU6IFwiU3Vic2NyaWJlXCIsXG4gICAgICByZXF1ZXN0VHlwZTogU3Vic2NyaWJlUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBTdWJzY3JpYmVSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgdW5zdWJzY3JpYmU6IHtcbiAgICAgIG5hbWU6IFwiVW5zdWJzY3JpYmVcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBVbnN1YnNjcmliZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogVW5zdWJzY3JpYmVSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCAqIGFzIGNvZGVnZW4gZnJvbSAnQGRjbC9ycGMvZGlzdC9jb2RlZ2VuJ1xuaW1wb3J0IHsgUnBjQ2xpZW50UG9ydCB9IGZyb20gJ0BkY2wvcnBjL2Rpc3QvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFNjZW5lIH0gZnJvbSAnQGRjbC9zY2hlbWFzL2Rpc3QvcGxhdGZvcm0vc2NlbmUvaW5kZXgnXG5pbXBvcnQgdHlwZSB7IENvbnRlbnRNYXBwaW5nIH0gZnJvbSAnQGRjbC9zY2hlbWFzL2Rpc3QvbWlzYy9jb250ZW50LW1hcHBpbmcnXG5pbXBvcnQgeyBFbnZpcm9ubWVudEFwaVNlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2Vudmlyb25tZW50X2FwaS5nZW4nXG5cbmV4cG9ydCB0eXBlIFJlYWxtID0ge1xuICBkb21haW46IHN0cmluZ1xuICAvKiogQGRlcHJlY2F0ZWQgdXNlIHJvb20gaW5zdGVhZCAqL1xuICBsYXllcjogc3RyaW5nXG4gIHJvb206IHN0cmluZ1xuICBzZXJ2ZXJOYW1lOiBzdHJpbmdcbiAgZGlzcGxheU5hbWU6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBFeHBsb3JlckNvbmZpZ3VyYXRpb24gPSB7XG4gIGNsaWVudFVyaTogc3RyaW5nXG4gIGNvbmZpZ3VyYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPlxufVxuXG5leHBvcnQgY29uc3QgZW51bSBQbGF0Zm9ybSB7XG4gIERFU0tUT1AgPSAnZGVza3RvcCcsXG4gIEJST1dTRVIgPSAnYnJvd3Nlcidcbn1cblxuZXhwb3J0IHR5cGUgQm9vdHN0cmFwRGF0YSA9IHtcbiAgc2NlbmVJZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBtYWluOiBzdHJpbmdcbiAgYmFzZVVybDogc3RyaW5nXG4gIG1hcHBpbmdzOiBDb250ZW50TWFwcGluZ1tdXG4gIHVzZUZQU1Rocm90dGxpbmc6IGJvb2xlYW5cbiAgZGF0YTogU2NlbmVcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBFbnZpcm9ubWVudEFwaVNlcnZpY2VDbGllbnQge1xuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlPENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIHJldHVybiBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIEVudmlyb25tZW50QXBpU2VydmljZURlZmluaXRpb24+KGNsaWVudFBvcnQsIEVudmlyb25tZW50QXBpU2VydmljZURlZmluaXRpb24pXG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlTGVnYWN5PENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIGNvbnN0IG9yaWdpbmFsU2VydmljZSA9IGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgRW52aXJvbm1lbnRBcGlTZXJ2aWNlRGVmaW5pdGlvbj4oXG4gICAgICBjbGllbnRQb3J0LFxuICAgICAgRW52aXJvbm1lbnRBcGlTZXJ2aWNlRGVmaW5pdGlvblxuICAgIClcbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3JpZ2luYWxTZXJ2aWNlLFxuXG4gICAgICBhc3luYyBnZXRCb290c3RyYXBEYXRhKCk6IFByb21pc2U8Qm9vdHN0cmFwRGF0YT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBvcmlnaW5hbFNlcnZpY2UuZ2V0Qm9vdHN0cmFwRGF0YSh7fSlcbiAgICAgICAgY29uc3Qgc2NlbmVNZXRhZGF0YTogU2NlbmUgPSBKU09OLnBhcnNlKHJlcy5lbnRpdHk/Lm1ldGFkYXRhSnNvbiB8fCAne30nKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjZW5lSWQ6IHJlcy5pZCxcbiAgICAgICAgICBuYW1lOiBzY2VuZU1ldGFkYXRhLmRpc3BsYXk/LnRpdGxlIHx8ICdVbm5hbWVkJyxcbiAgICAgICAgICBtYWluOiBzY2VuZU1ldGFkYXRhLm1haW4sXG4gICAgICAgICAgYmFzZVVybDogcmVzLmJhc2VVcmwsXG4gICAgICAgICAgbWFwcGluZ3M6IHJlcy5lbnRpdHk/LmNvbnRlbnQgfHwgW10sXG4gICAgICAgICAgdXNlRlBTVGhyb3R0bGluZzogcmVzLnVzZUZQU1Rocm90dGxpbmcsXG4gICAgICAgICAgZGF0YTogc2NlbmVNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgaWYgdGhlIGZlYXR1cmUgZmxhZyB1bnNhZmUtcmVxdWVzdCBpcyBvblxuICAgICAgICovXG4gICAgICBhc3luYyBhcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCBvcmlnaW5hbFNlcnZpY2UuYXJlVW5zYWZlUmVxdWVzdEFsbG93ZWQoe30pKS5zdGF0dXNcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBjb25uZWN0ZWQgcmVhbG1cbiAgICAgICAqL1xuICAgICAgYXN5bmMgZ2V0Q3VycmVudFJlYWxtKCk6IFByb21pc2U8UmVhbG0gfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLmdldEN1cnJlbnRSZWFsbSh7fSlcbiAgICAgICAgcmV0dXJuIHJlcy5jdXJyZW50UmVhbG1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzY2VuZSBpcyBydW5uaW5nIGluIHByZXZpZXcgbW9kZSBvciBub3RcbiAgICAgICAqL1xuICAgICAgYXN5bmMgaXNQcmV2aWV3TW9kZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLmlzUHJldmlld01vZGUoe30pXG4gICAgICAgIHJldHVybiByZXMuaXNQcmV2aWV3XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgZXhwbG9yZXIgY29uZmlndXJhdGlvbiBhbmQgZW52aXJvbm1lbnQgaW5mb3JtYXRpb25cbiAgICAgICAqL1xuICAgICAgYXN5bmMgZ2V0RXhwbG9yZXJDb25maWd1cmF0aW9uKCk6IFByb21pc2U8RXhwbG9yZXJDb25maWd1cmF0aW9uPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBvcmlnaW5hbFNlcnZpY2UuZ2V0RXhwbG9yZXJDb25maWd1cmF0aW9uKHt9KVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHdoYXQgcGxhdGZvcm0gaXMgcnVubmluZyB0aGUgc2NlbmVcbiAgICAgICAqL1xuICAgICAgYXN5bmMgZ2V0UGxhdGZvcm0oKTogUHJvbWlzZTxQbGF0Zm9ybT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IG9yaWdpbmFsU2VydmljZS5nZXRQbGF0Zm9ybSh7fSkpLnBsYXRmb3JtIGFzIFBsYXRmb3JtXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgRGVjZW50cmFsYW5kJ3MgdGltZVxuICAgICAgICovXG4gICAgICBhc3luYyBnZXREZWNlbnRyYWxhbmRUaW1lKCk6IFByb21pc2U8eyBzZWNvbmRzOiBudW1iZXIgfT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLmdldERlY2VudHJhbGFuZFRpbWUoe30pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29udGVudE1hcHBpbmcgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbnRlbnRfbWFwcGluZy5nZW5cIjtcblxuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWluaW1hbFJ1bm5hYmxlRW50aXR5IHtcbiAgY29udGVudDogQ29udGVudE1hcHBpbmdbXTtcbiAgbWV0YWRhdGFKc29uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9vdHN0cmFwRGF0YVJlc3BvbnNlIHtcbiAgaWQ6IHN0cmluZztcbiAgYmFzZVVybDogc3RyaW5nO1xuICBlbnRpdHk6IE1pbmltYWxSdW5uYWJsZUVudGl0eSB8IHVuZGVmaW5lZDtcbiAgdXNlRlBTVGhyb3R0bGluZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmV2aWV3TW9kZVJlc3BvbnNlIHtcbiAgaXNQcmV2aWV3OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVzcG9uc2Uge1xuICBzdGF0dXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UGxhdGZvcm1SZXNwb25zZSB7XG4gIHBsYXRmb3JtOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW52aXJvbm1lbnRSZWFsbSB7XG4gIGRvbWFpbjogc3RyaW5nO1xuICBsYXllcjogc3RyaW5nO1xuICByb29tOiBzdHJpbmc7XG4gIHNlcnZlck5hbWU6IHN0cmluZztcbiAgZGlzcGxheU5hbWU6IHN0cmluZztcbiAgcHJvdG9jb2w6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRDdXJyZW50UmVhbG1SZXNwb25zZSB7XG4gIGN1cnJlbnRSZWFsbT86IEVudmlyb25tZW50UmVhbG0gfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2Uge1xuICBjbGllbnRVcmk6IHN0cmluZztcbiAgY29uZmlndXJhdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2VfQ29uZmlndXJhdGlvbnNFbnRyeSB7XG4gIGtleTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldERlY2VudHJhbGFuZFRpbWVSZXNwb25zZSB7XG4gIHNlY29uZHM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRCb290c3RyYXBEYXRhUmVxdWVzdCB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXNQcmV2aWV3TW9kZVJlcXVlc3Qge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFBsYXRmb3JtUmVxdWVzdCB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJlVW5zYWZlUmVxdWVzdEFsbG93ZWRSZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRDdXJyZW50UmVhbG1SZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXREZWNlbnRyYWxhbmRUaW1lUmVxdWVzdCB7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNaW5pbWFsUnVubmFibGVFbnRpdHkoKTogTWluaW1hbFJ1bm5hYmxlRW50aXR5IHtcbiAgcmV0dXJuIHsgY29udGVudDogW10sIG1ldGFkYXRhSnNvbjogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgTWluaW1hbFJ1bm5hYmxlRW50aXR5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogTWluaW1hbFJ1bm5hYmxlRW50aXR5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgQ29udGVudE1hcHBpbmcuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXRhZGF0YUpzb24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLm1ldGFkYXRhSnNvbik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogTWluaW1hbFJ1bm5hYmxlRW50aXR5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1pbmltYWxSdW5uYWJsZUVudGl0eSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5jb250ZW50LnB1c2goQ29udGVudE1hcHBpbmcuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLm1ldGFkYXRhSnNvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogTWluaW1hbFJ1bm5hYmxlRW50aXR5IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udGVudDogQXJyYXkuaXNBcnJheShvYmplY3Q/LmNvbnRlbnQpID8gb2JqZWN0LmNvbnRlbnQubWFwKChlOiBhbnkpID0+IENvbnRlbnRNYXBwaW5nLmZyb21KU09OKGUpKSA6IFtdLFxuICAgICAgbWV0YWRhdGFKc29uOiBpc1NldChvYmplY3QubWV0YWRhdGFKc29uKSA/IFN0cmluZyhvYmplY3QubWV0YWRhdGFKc29uKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogTWluaW1hbFJ1bm5hYmxlRW50aXR5KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBpZiAobWVzc2FnZS5jb250ZW50KSB7XG4gICAgICBvYmouY29udGVudCA9IG1lc3NhZ2UuY29udGVudC5tYXAoKGUpID0+IGUgPyBDb250ZW50TWFwcGluZy50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmouY29udGVudCA9IFtdO1xuICAgIH1cbiAgICBtZXNzYWdlLm1ldGFkYXRhSnNvbiAhPT0gdW5kZWZpbmVkICYmIChvYmoubWV0YWRhdGFKc29uID0gbWVzc2FnZS5tZXRhZGF0YUpzb24pO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPE1pbmltYWxSdW5uYWJsZUVudGl0eT4sIEk+PihvYmplY3Q6IEkpOiBNaW5pbWFsUnVubmFibGVFbnRpdHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWluaW1hbFJ1bm5hYmxlRW50aXR5KCk7XG4gICAgbWVzc2FnZS5jb250ZW50ID0gb2JqZWN0LmNvbnRlbnQ/Lm1hcCgoZSkgPT4gQ29udGVudE1hcHBpbmcuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgIG1lc3NhZ2UubWV0YWRhdGFKc29uID0gb2JqZWN0Lm1ldGFkYXRhSnNvbiA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUJvb3RzdHJhcERhdGFSZXNwb25zZSgpOiBCb290c3RyYXBEYXRhUmVzcG9uc2Uge1xuICByZXR1cm4geyBpZDogXCJcIiwgYmFzZVVybDogXCJcIiwgZW50aXR5OiB1bmRlZmluZWQsIHVzZUZQU1Rocm90dGxpbmc6IGZhbHNlIH07XG59XG5cbmV4cG9ydCBjb25zdCBCb290c3RyYXBEYXRhUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBCb290c3RyYXBEYXRhUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5iYXNlVXJsICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5iYXNlVXJsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIE1pbmltYWxSdW5uYWJsZUVudGl0eS5lbmNvZGUobWVzc2FnZS5lbnRpdHksIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnVzZUZQU1Rocm90dGxpbmcgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS51c2VGUFNUaHJvdHRsaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBCb290c3RyYXBEYXRhUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQm9vdHN0cmFwRGF0YVJlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5iYXNlVXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5lbnRpdHkgPSBNaW5pbWFsUnVubmFibGVFbnRpdHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2UudXNlRlBTVGhyb3R0bGluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEJvb3RzdHJhcERhdGFSZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiLFxuICAgICAgYmFzZVVybDogaXNTZXQob2JqZWN0LmJhc2VVcmwpID8gU3RyaW5nKG9iamVjdC5iYXNlVXJsKSA6IFwiXCIsXG4gICAgICBlbnRpdHk6IGlzU2V0KG9iamVjdC5lbnRpdHkpID8gTWluaW1hbFJ1bm5hYmxlRW50aXR5LmZyb21KU09OKG9iamVjdC5lbnRpdHkpIDogdW5kZWZpbmVkLFxuICAgICAgdXNlRlBTVGhyb3R0bGluZzogaXNTZXQob2JqZWN0LnVzZUZQU1Rocm90dGxpbmcpID8gQm9vbGVhbihvYmplY3QudXNlRlBTVGhyb3R0bGluZykgOiBmYWxzZSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBCb290c3RyYXBEYXRhUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gbWVzc2FnZS5pZCk7XG4gICAgbWVzc2FnZS5iYXNlVXJsICE9PSB1bmRlZmluZWQgJiYgKG9iai5iYXNlVXJsID0gbWVzc2FnZS5iYXNlVXJsKTtcbiAgICBtZXNzYWdlLmVudGl0eSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmVudGl0eSA9IG1lc3NhZ2UuZW50aXR5ID8gTWluaW1hbFJ1bm5hYmxlRW50aXR5LnRvSlNPTihtZXNzYWdlLmVudGl0eSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UudXNlRlBTVGhyb3R0bGluZyAhPT0gdW5kZWZpbmVkICYmIChvYmoudXNlRlBTVGhyb3R0bGluZyA9IG1lc3NhZ2UudXNlRlBTVGhyb3R0bGluZyk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8Qm9vdHN0cmFwRGF0YVJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IEJvb3RzdHJhcERhdGFSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCb290c3RyYXBEYXRhUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5iYXNlVXJsID0gb2JqZWN0LmJhc2VVcmwgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmVudGl0eSA9IChvYmplY3QuZW50aXR5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVudGl0eSAhPT0gbnVsbClcbiAgICAgID8gTWluaW1hbFJ1bm5hYmxlRW50aXR5LmZyb21QYXJ0aWFsKG9iamVjdC5lbnRpdHkpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnVzZUZQU1Rocm90dGxpbmcgPSBvYmplY3QudXNlRlBTVGhyb3R0bGluZyA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQcmV2aWV3TW9kZVJlc3BvbnNlKCk6IFByZXZpZXdNb2RlUmVzcG9uc2Uge1xuICByZXR1cm4geyBpc1ByZXZpZXc6IGZhbHNlIH07XG59XG5cbmV4cG9ydCBjb25zdCBQcmV2aWV3TW9kZVJlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUHJldmlld01vZGVSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlzUHJldmlldyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UuaXNQcmV2aWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQcmV2aWV3TW9kZVJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVByZXZpZXdNb2RlUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaXNQcmV2aWV3ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUHJldmlld01vZGVSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgaXNQcmV2aWV3OiBpc1NldChvYmplY3QuaXNQcmV2aWV3KSA/IEJvb2xlYW4ob2JqZWN0LmlzUHJldmlldykgOiBmYWxzZSB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQcmV2aWV3TW9kZVJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmlzUHJldmlldyAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNQcmV2aWV3ID0gbWVzc2FnZS5pc1ByZXZpZXcpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFByZXZpZXdNb2RlUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogUHJldmlld01vZGVSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQcmV2aWV3TW9kZVJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5pc1ByZXZpZXcgPSBvYmplY3QuaXNQcmV2aWV3ID8/IGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVzcG9uc2UoKTogQXJlVW5zYWZlUmVxdWVzdEFsbG93ZWRSZXNwb25zZSB7XG4gIHJldHVybiB7IHN0YXR1czogZmFsc2UgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5zdGF0dXMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQXJlVW5zYWZlUmVxdWVzdEFsbG93ZWRSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5zdGF0dXMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBzdGF0dXM6IGlzU2V0KG9iamVjdC5zdGF0dXMpID8gQm9vbGVhbihvYmplY3Quc3RhdHVzKSA6IGZhbHNlIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uuc3RhdHVzICE9PSB1bmRlZmluZWQgJiYgKG9iai5zdGF0dXMgPSBtZXNzYWdlLnN0YXR1cyk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8QXJlVW5zYWZlUmVxdWVzdEFsbG93ZWRSZXNwb25zZT4sIEk+PihcbiAgICBvYmplY3Q6IEksXG4gICk6IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQXJlVW5zYWZlUmVxdWVzdEFsbG93ZWRSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2Uuc3RhdHVzID0gb2JqZWN0LnN0YXR1cyA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRQbGF0Zm9ybVJlc3BvbnNlKCk6IEdldFBsYXRmb3JtUmVzcG9uc2Uge1xuICByZXR1cm4geyBwbGF0Zm9ybTogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0UGxhdGZvcm1SZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldFBsYXRmb3JtUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5wbGF0Zm9ybSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucGxhdGZvcm0pO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFBsYXRmb3JtUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0UGxhdGZvcm1SZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5wbGF0Zm9ybSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0UGxhdGZvcm1SZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgcGxhdGZvcm06IGlzU2V0KG9iamVjdC5wbGF0Zm9ybSkgPyBTdHJpbmcob2JqZWN0LnBsYXRmb3JtKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogR2V0UGxhdGZvcm1SZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wbGF0Zm9ybSAhPT0gdW5kZWZpbmVkICYmIChvYmoucGxhdGZvcm0gPSBtZXNzYWdlLnBsYXRmb3JtKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRQbGF0Zm9ybVJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IEdldFBsYXRmb3JtUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0UGxhdGZvcm1SZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UucGxhdGZvcm0gPSBvYmplY3QucGxhdGZvcm0gPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VFbnZpcm9ubWVudFJlYWxtKCk6IEVudmlyb25tZW50UmVhbG0ge1xuICByZXR1cm4geyBkb21haW46IFwiXCIsIGxheWVyOiBcIlwiLCByb29tOiBcIlwiLCBzZXJ2ZXJOYW1lOiBcIlwiLCBkaXNwbGF5TmFtZTogXCJcIiwgcHJvdG9jb2w6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEVudmlyb25tZW50UmVhbG0gPSB7XG4gIGVuY29kZShtZXNzYWdlOiBFbnZpcm9ubWVudFJlYWxtLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZG9tYWluICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5kb21haW4pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5sYXllciAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubGF5ZXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yb29tICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5yb29tKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2VydmVyTmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2Uuc2VydmVyTmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmRpc3BsYXlOYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS5kaXNwbGF5TmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnByb3RvY29sICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUwKS5zdHJpbmcobWVzc2FnZS5wcm90b2NvbCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogRW52aXJvbm1lbnRSZWFsbSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFbnZpcm9ubWVudFJlYWxtKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmRvbWFpbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UubGF5ZXIgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnJvb20gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLnNlcnZlck5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLmRpc3BsYXlOYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5wcm90b2NvbCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogRW52aXJvbm1lbnRSZWFsbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRvbWFpbjogaXNTZXQob2JqZWN0LmRvbWFpbikgPyBTdHJpbmcob2JqZWN0LmRvbWFpbikgOiBcIlwiLFxuICAgICAgbGF5ZXI6IGlzU2V0KG9iamVjdC5sYXllcikgPyBTdHJpbmcob2JqZWN0LmxheWVyKSA6IFwiXCIsXG4gICAgICByb29tOiBpc1NldChvYmplY3Qucm9vbSkgPyBTdHJpbmcob2JqZWN0LnJvb20pIDogXCJcIixcbiAgICAgIHNlcnZlck5hbWU6IGlzU2V0KG9iamVjdC5zZXJ2ZXJOYW1lKSA/IFN0cmluZyhvYmplY3Quc2VydmVyTmFtZSkgOiBcIlwiLFxuICAgICAgZGlzcGxheU5hbWU6IGlzU2V0KG9iamVjdC5kaXNwbGF5TmFtZSkgPyBTdHJpbmcob2JqZWN0LmRpc3BsYXlOYW1lKSA6IFwiXCIsXG4gICAgICBwcm90b2NvbDogaXNTZXQob2JqZWN0LnByb3RvY29sKSA/IFN0cmluZyhvYmplY3QucHJvdG9jb2wpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBFbnZpcm9ubWVudFJlYWxtKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmRvbWFpbiAhPT0gdW5kZWZpbmVkICYmIChvYmouZG9tYWluID0gbWVzc2FnZS5kb21haW4pO1xuICAgIG1lc3NhZ2UubGF5ZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxheWVyID0gbWVzc2FnZS5sYXllcik7XG4gICAgbWVzc2FnZS5yb29tICE9PSB1bmRlZmluZWQgJiYgKG9iai5yb29tID0gbWVzc2FnZS5yb29tKTtcbiAgICBtZXNzYWdlLnNlcnZlck5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNlcnZlck5hbWUgPSBtZXNzYWdlLnNlcnZlck5hbWUpO1xuICAgIG1lc3NhZ2UuZGlzcGxheU5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmRpc3BsYXlOYW1lID0gbWVzc2FnZS5kaXNwbGF5TmFtZSk7XG4gICAgbWVzc2FnZS5wcm90b2NvbCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvdG9jb2wgPSBtZXNzYWdlLnByb3RvY29sKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxFbnZpcm9ubWVudFJlYWxtPiwgST4+KG9iamVjdDogSSk6IEVudmlyb25tZW50UmVhbG0ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRW52aXJvbm1lbnRSZWFsbSgpO1xuICAgIG1lc3NhZ2UuZG9tYWluID0gb2JqZWN0LmRvbWFpbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubGF5ZXIgPSBvYmplY3QubGF5ZXIgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnJvb20gPSBvYmplY3Qucm9vbSA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uuc2VydmVyTmFtZSA9IG9iamVjdC5zZXJ2ZXJOYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS5kaXNwbGF5TmFtZSA9IG9iamVjdC5kaXNwbGF5TmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucHJvdG9jb2wgPSBvYmplY3QucHJvdG9jb2wgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRDdXJyZW50UmVhbG1SZXNwb25zZSgpOiBHZXRDdXJyZW50UmVhbG1SZXNwb25zZSB7XG4gIHJldHVybiB7IGN1cnJlbnRSZWFsbTogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBHZXRDdXJyZW50UmVhbG1SZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldEN1cnJlbnRSZWFsbVJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuY3VycmVudFJlYWxtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIEVudmlyb25tZW50UmVhbG0uZW5jb2RlKG1lc3NhZ2UuY3VycmVudFJlYWxtLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldEN1cnJlbnRSZWFsbVJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEN1cnJlbnRSZWFsbVJlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRSZWFsbSA9IEVudmlyb25tZW50UmVhbG0uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0Q3VycmVudFJlYWxtUmVzcG9uc2Uge1xuICAgIHJldHVybiB7IGN1cnJlbnRSZWFsbTogaXNTZXQob2JqZWN0LmN1cnJlbnRSZWFsbSkgPyBFbnZpcm9ubWVudFJlYWxtLmZyb21KU09OKG9iamVjdC5jdXJyZW50UmVhbG0pIDogdW5kZWZpbmVkIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdldEN1cnJlbnRSZWFsbVJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmN1cnJlbnRSZWFsbSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmN1cnJlbnRSZWFsbSA9IG1lc3NhZ2UuY3VycmVudFJlYWxtID8gRW52aXJvbm1lbnRSZWFsbS50b0pTT04obWVzc2FnZS5jdXJyZW50UmVhbG0pIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRDdXJyZW50UmVhbG1SZXNwb25zZT4sIEk+PihvYmplY3Q6IEkpOiBHZXRDdXJyZW50UmVhbG1SZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRDdXJyZW50UmVhbG1SZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UuY3VycmVudFJlYWxtID0gKG9iamVjdC5jdXJyZW50UmVhbG0gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY3VycmVudFJlYWxtICE9PSBudWxsKVxuICAgICAgPyBFbnZpcm9ubWVudFJlYWxtLmZyb21QYXJ0aWFsKG9iamVjdC5jdXJyZW50UmVhbG0pXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZSgpOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZSB7XG4gIHJldHVybiB7IGNsaWVudFVyaTogXCJcIiwgY29uZmlndXJhdGlvbnM6IHt9IH07XG59XG5cbmV4cG9ydCBjb25zdCBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuY2xpZW50VXJpICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5jbGllbnRVcmkpO1xuICAgIH1cbiAgICBPYmplY3QuZW50cmllcyhtZXNzYWdlLmNvbmZpZ3VyYXRpb25zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlX0NvbmZpZ3VyYXRpb25zRW50cnkuZW5jb2RlKHsga2V5OiBrZXkgYXMgYW55LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpXG4gICAgICAgIC5sZGVsaW0oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmNsaWVudFVyaSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGNvbnN0IGVudHJ5MiA9IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlX0NvbmZpZ3VyYXRpb25zRW50cnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBpZiAoZW50cnkyLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuY29uZmlndXJhdGlvbnNbZW50cnkyLmtleV0gPSBlbnRyeTIudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsaWVudFVyaTogaXNTZXQob2JqZWN0LmNsaWVudFVyaSkgPyBTdHJpbmcob2JqZWN0LmNsaWVudFVyaSkgOiBcIlwiLFxuICAgICAgY29uZmlndXJhdGlvbnM6IGlzT2JqZWN0KG9iamVjdC5jb25maWd1cmF0aW9ucylcbiAgICAgICAgPyBPYmplY3QuZW50cmllcyhvYmplY3QuY29uZmlndXJhdGlvbnMpLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9PigoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBhY2Nba2V5XSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pXG4gICAgICAgIDoge30sXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuY2xpZW50VXJpICE9PSB1bmRlZmluZWQgJiYgKG9iai5jbGllbnRVcmkgPSBtZXNzYWdlLmNsaWVudFVyaSk7XG4gICAgb2JqLmNvbmZpZ3VyYXRpb25zID0ge307XG4gICAgaWYgKG1lc3NhZ2UuY29uZmlndXJhdGlvbnMpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UuY29uZmlndXJhdGlvbnMpLmZvckVhY2goKFtrLCB2XSkgPT4ge1xuICAgICAgICBvYmouY29uZmlndXJhdGlvbnNba10gPSB2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlPiwgST4+KFxuICAgIG9iamVjdDogSSxcbiAgKTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmNsaWVudFVyaSA9IG9iamVjdC5jbGllbnRVcmkgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmNvbmZpZ3VyYXRpb25zID0gT2JqZWN0LmVudHJpZXMob2JqZWN0LmNvbmZpZ3VyYXRpb25zID8/IHt9KS5yZWR1Y2U8eyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfT4oXG4gICAgICAoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBhY2Nba2V5XSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7fSxcbiAgICApO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlX0NvbmZpZ3VyYXRpb25zRW50cnkoKTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2VfQ29uZmlndXJhdGlvbnNFbnRyeSB7XG4gIHJldHVybiB7IGtleTogXCJcIiwgdmFsdWU6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlX0NvbmZpZ3VyYXRpb25zRW50cnkgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZV9Db25maWd1cmF0aW9uc0VudHJ5LFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCksXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmtleSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uua2V5KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZV9Db25maWd1cmF0aW9uc0VudHJ5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlX0NvbmZpZ3VyYXRpb25zRW50cnkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2VfQ29uZmlndXJhdGlvbnNFbnRyeSB7XG4gICAgcmV0dXJuIHsga2V5OiBpc1NldChvYmplY3Qua2V5KSA/IFN0cmluZyhvYmplY3Qua2V5KSA6IFwiXCIsIHZhbHVlOiBpc1NldChvYmplY3QudmFsdWUpID8gU3RyaW5nKG9iamVjdC52YWx1ZSkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlc3BvbnNlX0NvbmZpZ3VyYXRpb25zRW50cnkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5rZXkgPSBtZXNzYWdlLmtleSk7XG4gICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZV9Db25maWd1cmF0aW9uc0VudHJ5PiwgST4+KFxuICAgIG9iamVjdDogSSxcbiAgKTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2VfQ29uZmlndXJhdGlvbnNFbnRyeSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXNwb25zZV9Db25maWd1cmF0aW9uc0VudHJ5KCk7XG4gICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5ID8/IFwiXCI7XG4gICAgbWVzc2FnZS52YWx1ZSA9IG9iamVjdC52YWx1ZSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldERlY2VudHJhbGFuZFRpbWVSZXNwb25zZSgpOiBHZXREZWNlbnRyYWxhbmRUaW1lUmVzcG9uc2Uge1xuICByZXR1cm4geyBzZWNvbmRzOiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBHZXREZWNlbnRyYWxhbmRUaW1lUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBHZXREZWNlbnRyYWxhbmRUaW1lUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5zZWNvbmRzICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2Uuc2Vjb25kcyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0RGVjZW50cmFsYW5kVGltZVJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldERlY2VudHJhbGFuZFRpbWVSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5zZWNvbmRzID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEdldERlY2VudHJhbGFuZFRpbWVSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgc2Vjb25kczogaXNTZXQob2JqZWN0LnNlY29uZHMpID8gTnVtYmVyKG9iamVjdC5zZWNvbmRzKSA6IDAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogR2V0RGVjZW50cmFsYW5kVGltZVJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnNlY29uZHMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNlY29uZHMgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uuc2Vjb25kcykpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldERlY2VudHJhbGFuZFRpbWVSZXNwb25zZT4sIEk+PihvYmplY3Q6IEkpOiBHZXREZWNlbnRyYWxhbmRUaW1lUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0RGVjZW50cmFsYW5kVGltZVJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5zZWNvbmRzID0gb2JqZWN0LnNlY29uZHMgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRCb290c3RyYXBEYXRhUmVxdWVzdCgpOiBHZXRCb290c3RyYXBEYXRhUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldEJvb3RzdHJhcERhdGFSZXF1ZXN0ID0ge1xuICBlbmNvZGUoXzogR2V0Qm9vdHN0cmFwRGF0YVJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldEJvb3RzdHJhcERhdGFSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEJvb3RzdHJhcERhdGFSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBHZXRCb290c3RyYXBEYXRhUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBHZXRCb290c3RyYXBEYXRhUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0Qm9vdHN0cmFwRGF0YVJlcXVlc3Q+LCBJPj4oXzogSSk6IEdldEJvb3RzdHJhcERhdGFSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEJvb3RzdHJhcERhdGFSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlSXNQcmV2aWV3TW9kZVJlcXVlc3QoKTogSXNQcmV2aWV3TW9kZVJlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBJc1ByZXZpZXdNb2RlUmVxdWVzdCA9IHtcbiAgZW5jb2RlKF86IElzUHJldmlld01vZGVSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBJc1ByZXZpZXdNb2RlUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VJc1ByZXZpZXdNb2RlUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogSXNQcmV2aWV3TW9kZVJlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogSXNQcmV2aWV3TW9kZVJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPElzUHJldmlld01vZGVSZXF1ZXN0PiwgST4+KF86IEkpOiBJc1ByZXZpZXdNb2RlUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VJc1ByZXZpZXdNb2RlUmVxdWVzdCgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFBsYXRmb3JtUmVxdWVzdCgpOiBHZXRQbGF0Zm9ybVJlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBHZXRQbGF0Zm9ybVJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBHZXRQbGF0Zm9ybVJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFBsYXRmb3JtUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRQbGF0Zm9ybVJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEdldFBsYXRmb3JtUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBHZXRQbGF0Zm9ybVJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFBsYXRmb3JtUmVxdWVzdD4sIEk+PihfOiBJKTogR2V0UGxhdGZvcm1SZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBsYXRmb3JtUmVxdWVzdCgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVxdWVzdCgpOiBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVxdWVzdD4sIEk+PihfOiBJKTogQXJlVW5zYWZlUmVxdWVzdEFsbG93ZWRSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVxdWVzdCgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldEN1cnJlbnRSZWFsbVJlcXVlc3QoKTogR2V0Q3VycmVudFJlYWxtUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldEN1cnJlbnRSZWFsbVJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBHZXRDdXJyZW50UmVhbG1SZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRDdXJyZW50UmVhbG1SZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEN1cnJlbnRSZWFsbVJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEdldEN1cnJlbnRSZWFsbVJlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogR2V0Q3VycmVudFJlYWxtUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0Q3VycmVudFJlYWxtUmVxdWVzdD4sIEk+PihfOiBJKTogR2V0Q3VycmVudFJlYWxtUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRDdXJyZW50UmVhbG1SZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVxdWVzdCgpOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXF1ZXN0IHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVxdWVzdCA9IHtcbiAgZW5jb2RlKF86IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXF1ZXN0PiwgST4+KF86IEkpOiBHZXRFeHBsb3JlckNvbmZpZ3VyYXRpb25SZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlcXVlc3QoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXREZWNlbnRyYWxhbmRUaW1lUmVxdWVzdCgpOiBHZXREZWNlbnRyYWxhbmRUaW1lUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldERlY2VudHJhbGFuZFRpbWVSZXF1ZXN0ID0ge1xuICBlbmNvZGUoXzogR2V0RGVjZW50cmFsYW5kVGltZVJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldERlY2VudHJhbGFuZFRpbWVSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldERlY2VudHJhbGFuZFRpbWVSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBHZXREZWNlbnRyYWxhbmRUaW1lUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBHZXREZWNlbnRyYWxhbmRUaW1lUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0RGVjZW50cmFsYW5kVGltZVJlcXVlc3Q+LCBJPj4oXzogSSk6IEdldERlY2VudHJhbGFuZFRpbWVSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldERlY2VudHJhbGFuZFRpbWVSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5leHBvcnQgdHlwZSBFbnZpcm9ubWVudEFwaVNlcnZpY2VEZWZpbml0aW9uID0gdHlwZW9mIEVudmlyb25tZW50QXBpU2VydmljZURlZmluaXRpb247XG5leHBvcnQgY29uc3QgRW52aXJvbm1lbnRBcGlTZXJ2aWNlRGVmaW5pdGlvbiA9IHtcbiAgbmFtZTogXCJFbnZpcm9ubWVudEFwaVNlcnZpY2VcIixcbiAgZnVsbE5hbWU6IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzLkVudmlyb25tZW50QXBpU2VydmljZVwiLFxuICBtZXRob2RzOiB7XG4gICAgZ2V0Qm9vdHN0cmFwRGF0YToge1xuICAgICAgbmFtZTogXCJHZXRCb290c3RyYXBEYXRhXCIsXG4gICAgICByZXF1ZXN0VHlwZTogR2V0Qm9vdHN0cmFwRGF0YVJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogQm9vdHN0cmFwRGF0YVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBpc1ByZXZpZXdNb2RlOiB7XG4gICAgICBuYW1lOiBcIklzUHJldmlld01vZGVcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBJc1ByZXZpZXdNb2RlUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBQcmV2aWV3TW9kZVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBnZXRQbGF0Zm9ybToge1xuICAgICAgbmFtZTogXCJHZXRQbGF0Zm9ybVwiLFxuICAgICAgcmVxdWVzdFR5cGU6IEdldFBsYXRmb3JtUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBHZXRQbGF0Zm9ybVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBhcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZDoge1xuICAgICAgbmFtZTogXCJBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFwiLFxuICAgICAgcmVxdWVzdFR5cGU6IEFyZVVuc2FmZVJlcXVlc3RBbGxvd2VkUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBBcmVVbnNhZmVSZXF1ZXN0QWxsb3dlZFJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBnZXRDdXJyZW50UmVhbG06IHtcbiAgICAgIG5hbWU6IFwiR2V0Q3VycmVudFJlYWxtXCIsXG4gICAgICByZXF1ZXN0VHlwZTogR2V0Q3VycmVudFJlYWxtUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBHZXRDdXJyZW50UmVhbG1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgZ2V0RXhwbG9yZXJDb25maWd1cmF0aW9uOiB7XG4gICAgICBuYW1lOiBcIkdldEV4cGxvcmVyQ29uZmlndXJhdGlvblwiLFxuICAgICAgcmVxdWVzdFR5cGU6IEdldEV4cGxvcmVyQ29uZmlndXJhdGlvblJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogR2V0RXhwbG9yZXJDb25maWd1cmF0aW9uUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICAgIGdldERlY2VudHJhbGFuZFRpbWU6IHtcbiAgICAgIG5hbWU6IFwiR2V0RGVjZW50cmFsYW5kVGltZVwiLFxuICAgICAgcmVxdWVzdFR5cGU6IEdldERlY2VudHJhbGFuZFRpbWVSZXF1ZXN0LFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IEdldERlY2VudHJhbGFuZFRpbWVSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudE1hcHBpbmcge1xuICBmaWxlOiBzdHJpbmc7XG4gIGhhc2g6IHN0cmluZztcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbnRlbnRNYXBwaW5nKCk6IENvbnRlbnRNYXBwaW5nIHtcbiAgcmV0dXJuIHsgZmlsZTogXCJcIiwgaGFzaDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgQ29udGVudE1hcHBpbmcgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBDb250ZW50TWFwcGluZywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmZpbGUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmZpbGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNoICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5oYXNoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBDb250ZW50TWFwcGluZyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb250ZW50TWFwcGluZygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5maWxlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBDb250ZW50TWFwcGluZyB7XG4gICAgcmV0dXJuIHsgZmlsZTogaXNTZXQob2JqZWN0LmZpbGUpID8gU3RyaW5nKG9iamVjdC5maWxlKSA6IFwiXCIsIGhhc2g6IGlzU2V0KG9iamVjdC5oYXNoKSA/IFN0cmluZyhvYmplY3QuaGFzaCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IENvbnRlbnRNYXBwaW5nKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmZpbGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmZpbGUgPSBtZXNzYWdlLmZpbGUpO1xuICAgIG1lc3NhZ2UuaGFzaCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGFzaCA9IG1lc3NhZ2UuaGFzaCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8Q29udGVudE1hcHBpbmc+LCBJPj4ob2JqZWN0OiBJKTogQ29udGVudE1hcHBpbmcge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29udGVudE1hcHBpbmcoKTtcbiAgICBtZXNzYWdlLmZpbGUgPSBvYmplY3QuZmlsZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCAqIGFzIGNvZGVnZW4gZnJvbSAnQGRjbC9ycGMvZGlzdC9jb2RlZ2VuJ1xuaW1wb3J0IHsgUnBjQ2xpZW50UG9ydCB9IGZyb20gJ0BkY2wvcnBjL2Rpc3QvdHlwZXMnXG5pbXBvcnQgeyBFdGhlcmV1bUNvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9ldGhlcmV1bV9jb250cm9sbGVyLmdlbidcblxuZXhwb3J0IHR5cGUgUlBDU2VuZGFibGVNZXNzYWdlID0ge1xuICBqc29ucnBjOiAnMi4wJ1xuICBpZDogbnVtYmVyXG4gIG1ldGhvZDogc3RyaW5nXG4gIHBhcmFtczogYW55W11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlRGljdCB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZ1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEV0aGVyZXVtQ29udHJvbGxlclNlcnZpY2VDbGllbnQge1xuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlPENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIHJldHVybiBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIEV0aGVyZXVtQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uPihcbiAgICAgIGNsaWVudFBvcnQsXG4gICAgICBFdGhlcmV1bUNvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvblxuICAgIClcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMZWdhY3k8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTZXJ2aWNlID0gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBFdGhlcmV1bUNvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbj4oXG4gICAgICBjbGllbnRQb3J0LFxuICAgICAgRXRoZXJldW1Db250cm9sbGVyU2VydmljZURlZmluaXRpb25cbiAgICApXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3JpZ2luYWxTZXJ2aWNlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlcXVpcmVzIGEgZ2VuZXJpYyBwYXltZW50IGluIEVUSCBvciBFUkMyMC5cbiAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gW3RvQWRkcmVzc10gLSBORlQgYXNzZXQgaWQuXG4gICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFthbW91bnRdIC0gRXhhY3QgYW1vdW50IG9mIHRoZSBvcmRlci5cbiAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gW2N1cnJlbmN5XSAtIEVUSCBvciBFUkMyMCBzdXBwb3J0ZWQgdG9rZW4gc3ltYm9sXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIHJlcXVpcmVQYXltZW50KHRvQWRkcmVzczogc3RyaW5nLCBhbW91bnQ6IG51bWJlciwgY3VycmVuY3k6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLnJlcXVpcmVQYXltZW50KHsgdG9BZGRyZXNzLCBhbW91bnQsIGN1cnJlbmN5IH0pXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlLmpzb25BbnlSZXNwb25zZSlcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVGFrZXMgYSBkaWN0aW9uYXJ5LCBjb252ZXJ0cyBpdCB0byBzdHJpbmcgd2l0aCBjb3JyZWN0IGZvcm1hdCBhbmQgc2lnbnMgaXQuXG4gICAgICAgKiBAcGFyYW0gIHttZXNzYWdlVG9TaWdufSBbTWVzc2FnZURpY3RdIC0gTWVzc2FnZSBpbiBhbiBvYmplY3QgZm9ybWF0LlxuICAgICAgICogQHJldHVybiB7b2JqZWN0fSAtIFByb21pc2Ugb2YgbWVzc2FnZSBhbmQgc2lnbmF0dXJlIGluIGFuIG9iamVjdC5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgc2lnbk1lc3NhZ2UoXG4gICAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VEaWN0XG4gICAgICApOiBQcm9taXNlPHsgbWVzc2FnZTogc3RyaW5nOyBoZXhFbmNvZGVkTWVzc2FnZTogc3RyaW5nOyBzaWduYXR1cmU6IHN0cmluZyB9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBvcmlnaW5hbFNlcnZpY2Uuc2lnbk1lc3NhZ2UoeyBtZXNzYWdlIH0pXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRha2VzIGEgbWVzc2FnZSBzdHJpbmcsIHBhcnNlcyBpdCBhbmQgY29udmVydHMgdG8gb2JqZWN0LlxuICAgICAgICogQHBhcmFtICB7bWVzc2FnZX0gW3N0cmluZ10gLSBNZXNzYWdlIGluIGEgc3RyaW5nIGZvcm1hdC5cbiAgICAgICAqIEByZXR1cm4ge29iamVjdH0gLSBQcm9taXNlIG9mIG1lc3NhZ2UgYXMgYSBNZXNzYWdlRGljdC5cbiAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICovXG4gICAgICBhc3luYyBjb252ZXJ0TWVzc2FnZVRvT2JqZWN0KG1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8TWVzc2FnZURpY3Q+IHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCBvcmlnaW5hbFNlcnZpY2UuY29udmVydE1lc3NhZ2VUb09iamVjdCh7IG1lc3NhZ2UgfSkpLmRpY3RcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBidWlsZCBhIEV0aGVyZXVtIHByb3ZpZGVyXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIHNlbmRBc3luYyhtZXNzYWdlOiBSUENTZW5kYWJsZU1lc3NhZ2UpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShcbiAgICAgICAgICAoXG4gICAgICAgICAgICBhd2FpdCBvcmlnaW5hbFNlcnZpY2Uuc2VuZEFzeW5jKHtcbiAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgIG1ldGhvZDogbWVzc2FnZS5tZXRob2QsXG4gICAgICAgICAgICAgIGpzb25QYXJhbXM6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UucGFyYW1zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApLmpzb25BbnlSZXNwb25zZVxuICAgICAgICApXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIHVzZXIncyBwdWJsaWMga2V5IChhZGRyZXNzKVxuICAgICAgICovXG4gICAgICBhc3luYyBnZXRVc2VyQWNjb3VudCgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IG9yaWdpbmFsU2VydmljZS5nZXRVc2VyQWNjb3VudCh7fSkpLmFkZHJlc3MhXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBSZXF1aXJlUGF5bWVudFJlcXVlc3Qge1xuICB0b0FkZHJlc3M6IHN0cmluZztcbiAgYW1vdW50OiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWlyZVBheW1lbnRSZXNwb25zZSB7XG4gIGpzb25BbnlSZXNwb25zZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25NZXNzYWdlUmVxdWVzdCB7XG4gIG1lc3NhZ2U6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbk1lc3NhZ2VSZXF1ZXN0X01lc3NhZ2VFbnRyeSB7XG4gIGtleTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25NZXNzYWdlUmVzcG9uc2Uge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGhleEVuY29kZWRNZXNzYWdlOiBzdHJpbmc7XG4gIHNpZ25hdHVyZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXF1ZXN0IHtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZSB7XG4gIGRpY3Q6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlX0RpY3RFbnRyeSB7XG4gIGtleTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRBc3luY1JlcXVlc3Qge1xuICBpZDogbnVtYmVyO1xuICBtZXRob2Q6IHN0cmluZztcbiAganNvblBhcmFtczogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRBc3luY1Jlc3BvbnNlIHtcbiAganNvbkFueVJlc3BvbnNlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VXNlckFjY291bnRSZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRVc2VyQWNjb3VudFJlc3BvbnNlIHtcbiAgYWRkcmVzcz86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVpcmVQYXltZW50UmVxdWVzdCgpOiBSZXF1aXJlUGF5bWVudFJlcXVlc3Qge1xuICByZXR1cm4geyB0b0FkZHJlc3M6IFwiXCIsIGFtb3VudDogMCwgY3VycmVuY3k6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlcXVpcmVQYXltZW50UmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFJlcXVpcmVQYXltZW50UmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnRvQWRkcmVzcyAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudG9BZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYW1vdW50ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmFtb3VudCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmN1cnJlbmN5ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5jdXJyZW5jeSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUmVxdWlyZVBheW1lbnRSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVpcmVQYXltZW50UmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS50b0FkZHJlc3MgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmFtb3VudCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5jdXJyZW5jeSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUmVxdWlyZVBheW1lbnRSZXF1ZXN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9BZGRyZXNzOiBpc1NldChvYmplY3QudG9BZGRyZXNzKSA/IFN0cmluZyhvYmplY3QudG9BZGRyZXNzKSA6IFwiXCIsXG4gICAgICBhbW91bnQ6IGlzU2V0KG9iamVjdC5hbW91bnQpID8gTnVtYmVyKG9iamVjdC5hbW91bnQpIDogMCxcbiAgICAgIGN1cnJlbmN5OiBpc1NldChvYmplY3QuY3VycmVuY3kpID8gU3RyaW5nKG9iamVjdC5jdXJyZW5jeSkgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFJlcXVpcmVQYXltZW50UmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS50b0FkZHJlc3MgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRvQWRkcmVzcyA9IG1lc3NhZ2UudG9BZGRyZXNzKTtcbiAgICBtZXNzYWdlLmFtb3VudCAhPT0gdW5kZWZpbmVkICYmIChvYmouYW1vdW50ID0gbWVzc2FnZS5hbW91bnQpO1xuICAgIG1lc3NhZ2UuY3VycmVuY3kgIT09IHVuZGVmaW5lZCAmJiAob2JqLmN1cnJlbmN5ID0gbWVzc2FnZS5jdXJyZW5jeSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UmVxdWlyZVBheW1lbnRSZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IFJlcXVpcmVQYXltZW50UmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1aXJlUGF5bWVudFJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLnRvQWRkcmVzcyA9IG9iamVjdC50b0FkZHJlc3MgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmFtb3VudCA9IG9iamVjdC5hbW91bnQgPz8gMDtcbiAgICBtZXNzYWdlLmN1cnJlbmN5ID0gb2JqZWN0LmN1cnJlbmN5ID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVxdWlyZVBheW1lbnRSZXNwb25zZSgpOiBSZXF1aXJlUGF5bWVudFJlc3BvbnNlIHtcbiAgcmV0dXJuIHsganNvbkFueVJlc3BvbnNlOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBSZXF1aXJlUGF5bWVudFJlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUmVxdWlyZVBheW1lbnRSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmpzb25BbnlSZXNwb25zZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuanNvbkFueVJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBSZXF1aXJlUGF5bWVudFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVpcmVQYXltZW50UmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuanNvbkFueVJlc3BvbnNlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBSZXF1aXJlUGF5bWVudFJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBqc29uQW55UmVzcG9uc2U6IGlzU2V0KG9iamVjdC5qc29uQW55UmVzcG9uc2UpID8gU3RyaW5nKG9iamVjdC5qc29uQW55UmVzcG9uc2UpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBSZXF1aXJlUGF5bWVudFJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmpzb25BbnlSZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIChvYmouanNvbkFueVJlc3BvbnNlID0gbWVzc2FnZS5qc29uQW55UmVzcG9uc2UpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFJlcXVpcmVQYXltZW50UmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogUmVxdWlyZVBheW1lbnRSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1aXJlUGF5bWVudFJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5qc29uQW55UmVzcG9uc2UgPSBvYmplY3QuanNvbkFueVJlc3BvbnNlID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU2lnbk1lc3NhZ2VSZXF1ZXN0KCk6IFNpZ25NZXNzYWdlUmVxdWVzdCB7XG4gIHJldHVybiB7IG1lc3NhZ2U6IHt9IH07XG59XG5cbmV4cG9ydCBjb25zdCBTaWduTWVzc2FnZVJlcXVlc3QgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTaWduTWVzc2FnZVJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBPYmplY3QuZW50cmllcyhtZXNzYWdlLm1lc3NhZ2UpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgU2lnbk1lc3NhZ2VSZXF1ZXN0X01lc3NhZ2VFbnRyeS5lbmNvZGUoeyBrZXk6IGtleSBhcyBhbnksIHZhbHVlIH0sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBTaWduTWVzc2FnZVJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbk1lc3NhZ2VSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjb25zdCBlbnRyeTEgPSBTaWduTWVzc2FnZVJlcXVlc3RfTWVzc2FnZUVudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgaWYgKGVudHJ5MS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2VbZW50cnkxLmtleV0gPSBlbnRyeTEudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTaWduTWVzc2FnZVJlcXVlc3Qge1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiBpc09iamVjdChvYmplY3QubWVzc2FnZSlcbiAgICAgICAgPyBPYmplY3QuZW50cmllcyhvYmplY3QubWVzc2FnZSkucmVkdWNlPHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0+KChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgIGFjY1trZXldID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiB7fSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBTaWduTWVzc2FnZVJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG9iai5tZXNzYWdlID0ge307XG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZSkge1xuICAgICAgT2JqZWN0LmVudHJpZXMobWVzc2FnZS5tZXNzYWdlKS5mb3JFYWNoKChbaywgdl0pID0+IHtcbiAgICAgICAgb2JqLm1lc3NhZ2Vba10gPSB2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNpZ25NZXNzYWdlUmVxdWVzdD4sIEk+PihvYmplY3Q6IEkpOiBTaWduTWVzc2FnZVJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbk1lc3NhZ2VSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS5tZXNzYWdlID0gT2JqZWN0LmVudHJpZXMob2JqZWN0Lm1lc3NhZ2UgPz8ge30pLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9PigoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjY1trZXldID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVNpZ25NZXNzYWdlUmVxdWVzdF9NZXNzYWdlRW50cnkoKTogU2lnbk1lc3NhZ2VSZXF1ZXN0X01lc3NhZ2VFbnRyeSB7XG4gIHJldHVybiB7IGtleTogXCJcIiwgdmFsdWU6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNpZ25NZXNzYWdlUmVxdWVzdF9NZXNzYWdlRW50cnkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTaWduTWVzc2FnZVJlcXVlc3RfTWVzc2FnZUVudHJ5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uua2V5ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5rZXkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFNpZ25NZXNzYWdlUmVxdWVzdF9NZXNzYWdlRW50cnkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbk1lc3NhZ2VSZXF1ZXN0X01lc3NhZ2VFbnRyeSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTaWduTWVzc2FnZVJlcXVlc3RfTWVzc2FnZUVudHJ5IHtcbiAgICByZXR1cm4geyBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gU3RyaW5nKG9iamVjdC5rZXkpIDogXCJcIiwgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU2lnbk1lc3NhZ2VSZXF1ZXN0X01lc3NhZ2VFbnRyeSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IG1lc3NhZ2Uua2V5KTtcbiAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IG1lc3NhZ2UudmFsdWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNpZ25NZXNzYWdlUmVxdWVzdF9NZXNzYWdlRW50cnk+LCBJPj4oXG4gICAgb2JqZWN0OiBJLFxuICApOiBTaWduTWVzc2FnZVJlcXVlc3RfTWVzc2FnZUVudHJ5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNpZ25NZXNzYWdlUmVxdWVzdF9NZXNzYWdlRW50cnkoKTtcbiAgICBtZXNzYWdlLmtleSA9IG9iamVjdC5rZXkgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU2lnbk1lc3NhZ2VSZXNwb25zZSgpOiBTaWduTWVzc2FnZVJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgbWVzc2FnZTogXCJcIiwgaGV4RW5jb2RlZE1lc3NhZ2U6IFwiXCIsIHNpZ25hdHVyZTogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgU2lnbk1lc3NhZ2VSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFNpZ25NZXNzYWdlUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5tZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGV4RW5jb2RlZE1lc3NhZ2UgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmhleEVuY29kZWRNZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5zaWduYXR1cmUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFNpZ25NZXNzYWdlUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbk1lc3NhZ2VSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5tZXNzYWdlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5oZXhFbmNvZGVkTWVzc2FnZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTaWduTWVzc2FnZVJlc3BvbnNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogaXNTZXQob2JqZWN0Lm1lc3NhZ2UpID8gU3RyaW5nKG9iamVjdC5tZXNzYWdlKSA6IFwiXCIsXG4gICAgICBoZXhFbmNvZGVkTWVzc2FnZTogaXNTZXQob2JqZWN0LmhleEVuY29kZWRNZXNzYWdlKSA/IFN0cmluZyhvYmplY3QuaGV4RW5jb2RlZE1lc3NhZ2UpIDogXCJcIixcbiAgICAgIHNpZ25hdHVyZTogaXNTZXQob2JqZWN0LnNpZ25hdHVyZSkgPyBTdHJpbmcob2JqZWN0LnNpZ25hdHVyZSkgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFNpZ25NZXNzYWdlUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubWVzc2FnZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubWVzc2FnZSA9IG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgbWVzc2FnZS5oZXhFbmNvZGVkTWVzc2FnZSAhPT0gdW5kZWZpbmVkICYmIChvYmouaGV4RW5jb2RlZE1lc3NhZ2UgPSBtZXNzYWdlLmhleEVuY29kZWRNZXNzYWdlKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2lnbmF0dXJlID0gbWVzc2FnZS5zaWduYXR1cmUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNpZ25NZXNzYWdlUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogU2lnbk1lc3NhZ2VSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaWduTWVzc2FnZVJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5tZXNzYWdlID0gb2JqZWN0Lm1lc3NhZ2UgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmhleEVuY29kZWRNZXNzYWdlID0gb2JqZWN0LmhleEVuY29kZWRNZXNzYWdlID8/IFwiXCI7XG4gICAgbWVzc2FnZS5zaWduYXR1cmUgPSBvYmplY3Quc2lnbmF0dXJlID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3QoKTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3Qge1xuICByZXR1cm4geyBtZXNzYWdlOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3Qge1xuICAgIHJldHVybiB7IG1lc3NhZ2U6IGlzU2V0KG9iamVjdC5tZXNzYWdlKSA/IFN0cmluZyhvYmplY3QubWVzc2FnZSkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJiAob2JqLm1lc3NhZ2UgPSBtZXNzYWdlLm1lc3NhZ2UpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXF1ZXN0PiwgST4+KFxuICAgIG9iamVjdDogSSxcbiAgKTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLm1lc3NhZ2UgPSBvYmplY3QubWVzc2FnZSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZSgpOiBDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVzcG9uc2Uge1xuICByZXR1cm4geyBkaWN0OiB7fSB9O1xufVxuXG5leHBvcnQgY29uc3QgQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgT2JqZWN0LmVudHJpZXMobWVzc2FnZS5kaWN0KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZV9EaWN0RW50cnkuZW5jb2RlKHsga2V5OiBrZXkgYXMgYW55LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH0pO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgY29uc3QgZW50cnkxID0gQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlX0RpY3RFbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGlmIChlbnRyeTEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVzc2FnZS5kaWN0W2VudHJ5MS5rZXldID0gZW50cnkxLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGljdDogaXNPYmplY3Qob2JqZWN0LmRpY3QpXG4gICAgICAgID8gT2JqZWN0LmVudHJpZXMob2JqZWN0LmRpY3QpLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9PigoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBhY2Nba2V5XSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pXG4gICAgICAgIDoge30sXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBvYmouZGljdCA9IHt9O1xuICAgIGlmIChtZXNzYWdlLmRpY3QpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UuZGljdCkuZm9yRWFjaCgoW2ssIHZdKSA9PiB7XG4gICAgICAgIG9iai5kaWN0W2tdID0gdjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVzcG9uc2U+LCBJPj4oXG4gICAgb2JqZWN0OiBJLFxuICApOiBDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5kaWN0ID0gT2JqZWN0LmVudHJpZXMob2JqZWN0LmRpY3QgPz8ge30pLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9PigoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjY1trZXldID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZV9EaWN0RW50cnkoKTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlX0RpY3RFbnRyeSB7XG4gIHJldHVybiB7IGtleTogXCJcIiwgdmFsdWU6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZV9EaWN0RW50cnkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVzcG9uc2VfRGljdEVudHJ5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uua2V5ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5rZXkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZV9EaWN0RW50cnkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlX0RpY3RFbnRyeSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVzcG9uc2VfRGljdEVudHJ5IHtcbiAgICByZXR1cm4geyBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gU3RyaW5nKG9iamVjdC5rZXkpIDogXCJcIiwgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlX0RpY3RFbnRyeSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IG1lc3NhZ2Uua2V5KTtcbiAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IG1lc3NhZ2UudmFsdWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPENvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZV9EaWN0RW50cnk+LCBJPj4oXG4gICAgb2JqZWN0OiBJLFxuICApOiBDb252ZXJ0TWVzc2FnZVRvT2JqZWN0UmVzcG9uc2VfRGljdEVudHJ5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnZlcnRNZXNzYWdlVG9PYmplY3RSZXNwb25zZV9EaWN0RW50cnkoKTtcbiAgICBtZXNzYWdlLmtleSA9IG9iamVjdC5rZXkgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU2VuZEFzeW5jUmVxdWVzdCgpOiBTZW5kQXN5bmNSZXF1ZXN0IHtcbiAgcmV0dXJuIHsgaWQ6IDAsIG1ldGhvZDogXCJcIiwganNvblBhcmFtczogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgU2VuZEFzeW5jUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFNlbmRBc3luY1JlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubWV0aG9kICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5tZXRob2QpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5qc29uUGFyYW1zICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5qc29uUGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBTZW5kQXN5bmNSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNlbmRBc3luY1JlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UubWV0aG9kID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5qc29uUGFyYW1zID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTZW5kQXN5bmNSZXF1ZXN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGlzU2V0KG9iamVjdC5pZCkgPyBOdW1iZXIob2JqZWN0LmlkKSA6IDAsXG4gICAgICBtZXRob2Q6IGlzU2V0KG9iamVjdC5tZXRob2QpID8gU3RyaW5nKG9iamVjdC5tZXRob2QpIDogXCJcIixcbiAgICAgIGpzb25QYXJhbXM6IGlzU2V0KG9iamVjdC5qc29uUGFyYW1zKSA/IFN0cmluZyhvYmplY3QuanNvblBhcmFtcykgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFNlbmRBc3luY1JlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gTWF0aC5yb3VuZChtZXNzYWdlLmlkKSk7XG4gICAgbWVzc2FnZS5tZXRob2QgIT09IHVuZGVmaW5lZCAmJiAob2JqLm1ldGhvZCA9IG1lc3NhZ2UubWV0aG9kKTtcbiAgICBtZXNzYWdlLmpzb25QYXJhbXMgIT09IHVuZGVmaW5lZCAmJiAob2JqLmpzb25QYXJhbXMgPSBtZXNzYWdlLmpzb25QYXJhbXMpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNlbmRBc3luY1JlcXVlc3Q+LCBJPj4ob2JqZWN0OiBJKTogU2VuZEFzeW5jUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTZW5kQXN5bmNSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS5pZCA9IG9iamVjdC5pZCA/PyAwO1xuICAgIG1lc3NhZ2UubWV0aG9kID0gb2JqZWN0Lm1ldGhvZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuanNvblBhcmFtcyA9IG9iamVjdC5qc29uUGFyYW1zID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU2VuZEFzeW5jUmVzcG9uc2UoKTogU2VuZEFzeW5jUmVzcG9uc2Uge1xuICByZXR1cm4geyBqc29uQW55UmVzcG9uc2U6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNlbmRBc3luY1Jlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogU2VuZEFzeW5jUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5qc29uQW55UmVzcG9uc2UgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmpzb25BbnlSZXNwb25zZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU2VuZEFzeW5jUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZEFzeW5jUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuanNvbkFueVJlc3BvbnNlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTZW5kQXN5bmNSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsganNvbkFueVJlc3BvbnNlOiBpc1NldChvYmplY3QuanNvbkFueVJlc3BvbnNlKSA/IFN0cmluZyhvYmplY3QuanNvbkFueVJlc3BvbnNlKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU2VuZEFzeW5jUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuanNvbkFueVJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgKG9iai5qc29uQW55UmVzcG9uc2UgPSBtZXNzYWdlLmpzb25BbnlSZXNwb25zZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8U2VuZEFzeW5jUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogU2VuZEFzeW5jUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZEFzeW5jUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmpzb25BbnlSZXNwb25zZSA9IG9iamVjdC5qc29uQW55UmVzcG9uc2UgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRVc2VyQWNjb3VudFJlcXVlc3QoKTogR2V0VXNlckFjY291bnRSZXF1ZXN0IHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0VXNlckFjY291bnRSZXF1ZXN0ID0ge1xuICBlbmNvZGUoXzogR2V0VXNlckFjY291bnRSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRVc2VyQWNjb3VudFJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0VXNlckFjY291bnRSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBHZXRVc2VyQWNjb3VudFJlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogR2V0VXNlckFjY291bnRSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRVc2VyQWNjb3VudFJlcXVlc3Q+LCBJPj4oXzogSSk6IEdldFVzZXJBY2NvdW50UmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRVc2VyQWNjb3VudFJlcXVlc3QoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRVc2VyQWNjb3VudFJlc3BvbnNlKCk6IEdldFVzZXJBY2NvdW50UmVzcG9uc2Uge1xuICByZXR1cm4geyBhZGRyZXNzOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldFVzZXJBY2NvdW50UmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBHZXRVc2VyQWNjb3VudFJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuYWRkcmVzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5hZGRyZXNzKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRVc2VyQWNjb3VudFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFVzZXJBY2NvdW50UmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuYWRkcmVzcyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0VXNlckFjY291bnRSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgYWRkcmVzczogaXNTZXQob2JqZWN0LmFkZHJlc3MpID8gU3RyaW5nKG9iamVjdC5hZGRyZXNzKSA6IHVuZGVmaW5lZCB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBHZXRVc2VyQWNjb3VudFJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmFkZHJlc3MgIT09IHVuZGVmaW5lZCAmJiAob2JqLmFkZHJlc3MgPSBtZXNzYWdlLmFkZHJlc3MpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFVzZXJBY2NvdW50UmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogR2V0VXNlckFjY291bnRSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRVc2VyQWNjb3VudFJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5hZGRyZXNzID0gb2JqZWN0LmFkZHJlc3MgPz8gdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgRXRoZXJldW1Db250cm9sbGVyU2VydmljZURlZmluaXRpb24gPSB0eXBlb2YgRXRoZXJldW1Db250cm9sbGVyU2VydmljZURlZmluaXRpb247XG5leHBvcnQgY29uc3QgRXRoZXJldW1Db250cm9sbGVyU2VydmljZURlZmluaXRpb24gPSB7XG4gIG5hbWU6IFwiRXRoZXJldW1Db250cm9sbGVyU2VydmljZVwiLFxuICBmdWxsTmFtZTogXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXMuRXRoZXJldW1Db250cm9sbGVyU2VydmljZVwiLFxuICBtZXRob2RzOiB7XG4gICAgcmVxdWlyZVBheW1lbnQ6IHtcbiAgICAgIG5hbWU6IFwiUmVxdWlyZVBheW1lbnRcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBSZXF1aXJlUGF5bWVudFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogUmVxdWlyZVBheW1lbnRSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgc2lnbk1lc3NhZ2U6IHtcbiAgICAgIG5hbWU6IFwiU2lnbk1lc3NhZ2VcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBTaWduTWVzc2FnZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogU2lnbk1lc3NhZ2VSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgY29udmVydE1lc3NhZ2VUb09iamVjdDoge1xuICAgICAgbmFtZTogXCJDb252ZXJ0TWVzc2FnZVRvT2JqZWN0XCIsXG4gICAgICByZXF1ZXN0VHlwZTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogQ29udmVydE1lc3NhZ2VUb09iamVjdFJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBzZW5kQXN5bmM6IHtcbiAgICAgIG5hbWU6IFwiU2VuZEFzeW5jXCIsXG4gICAgICByZXF1ZXN0VHlwZTogU2VuZEFzeW5jUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBTZW5kQXN5bmNSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgZ2V0VXNlckFjY291bnQ6IHtcbiAgICAgIG5hbWU6IFwiR2V0VXNlckFjY291bnRcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBHZXRVc2VyQWNjb3VudFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogR2V0VXNlckFjY291bnRSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0ICogYXMgY29kZWdlbiBmcm9tICdAZGNsL3JwYy9kaXN0L2NvZGVnZW4nXG5pbXBvcnQgeyBScGNDbGllbnRQb3J0IH0gZnJvbSAnQGRjbC9ycGMvZGlzdC90eXBlcydcbmltcG9ydCB7IEV4cGVyaW1lbnRhbEFwaVNlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2V4cGVyaW1lbnRhbF9hcGkuZ2VuJ1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhwZXJpbWVudGFsQXBpU2VydmljZUNsaWVudDxDb250ZXh0IGV4dGVuZHMge30+KGNsaWVudFBvcnQ6IFJwY0NsaWVudFBvcnQpIHtcbiAgcmV0dXJuIGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgRXhwZXJpbWVudGFsQXBpU2VydmljZURlZmluaXRpb24+KGNsaWVudFBvcnQsIEV4cGVyaW1lbnRhbEFwaVNlcnZpY2VEZWZpbml0aW9uKVxufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcblxuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFRvUmVuZGVyZXJSZXF1ZXN0IHtcbiAgZGF0YTogVWludDhBcnJheTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZW5kVG9SZXNwb25zZSB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUZyb21SZW5kZXJlclJlcXVlc3Qge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXNwb25zZSB7XG4gIGRhdGE6IFVpbnQ4QXJyYXlbXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZVNlbmRUb1JlbmRlcmVyUmVxdWVzdCgpOiBTZW5kVG9SZW5kZXJlclJlcXVlc3Qge1xuICByZXR1cm4geyBkYXRhOiBuZXcgVWludDhBcnJheSgpIH07XG59XG5cbmV4cG9ydCBjb25zdCBTZW5kVG9SZW5kZXJlclJlcXVlc3QgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTZW5kVG9SZW5kZXJlclJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5kYXRhLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBTZW5kVG9SZW5kZXJlclJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZFRvUmVuZGVyZXJSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmRhdGEgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogU2VuZFRvUmVuZGVyZXJSZXF1ZXN0IHtcbiAgICByZXR1cm4geyBkYXRhOiBpc1NldChvYmplY3QuZGF0YSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmRhdGEpIDogbmV3IFVpbnQ4QXJyYXkoKSB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBTZW5kVG9SZW5kZXJlclJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmRhdGEgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmRhdGEgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8U2VuZFRvUmVuZGVyZXJSZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IFNlbmRUb1JlbmRlcmVyUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTZW5kVG9SZW5kZXJlclJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLmRhdGEgPSBvYmplY3QuZGF0YSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVNlbmRUb1Jlc3BvbnNlKCk6IFNlbmRUb1Jlc3BvbnNlIHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgU2VuZFRvUmVzcG9uc2UgPSB7XG4gIGVuY29kZShfOiBTZW5kVG9SZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU2VuZFRvUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZFRvUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IFNlbmRUb1Jlc3BvbnNlIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IFNlbmRUb1Jlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxTZW5kVG9SZXNwb25zZT4sIEk+PihfOiBJKTogU2VuZFRvUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2VuZFRvUmVzcG9uc2UoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNZXNzYWdlRnJvbVJlbmRlcmVyUmVxdWVzdCgpOiBNZXNzYWdlRnJvbVJlbmRlcmVyUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXF1ZXN0ID0ge1xuICBlbmNvZGUoXzogTWVzc2FnZUZyb21SZW5kZXJlclJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1lc3NhZ2VGcm9tUmVuZGVyZXJSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBNZXNzYWdlRnJvbVJlbmRlcmVyUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBNZXNzYWdlRnJvbVJlbmRlcmVyUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8TWVzc2FnZUZyb21SZW5kZXJlclJlcXVlc3Q+LCBJPj4oXzogSSk6IE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1lc3NhZ2VGcm9tUmVuZGVyZXJSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlTWVzc2FnZUZyb21SZW5kZXJlclJlc3BvbnNlKCk6IE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXNwb25zZSB7XG4gIHJldHVybiB7IGRhdGE6IFtdIH07XG59XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlRnJvbVJlbmRlcmVyUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBNZXNzYWdlRnJvbVJlbmRlcmVyUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5kYXRhKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyh2ISk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogTWVzc2FnZUZyb21SZW5kZXJlclJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1lc3NhZ2VGcm9tUmVuZGVyZXJSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5kYXRhLnB1c2gocmVhZGVyLmJ5dGVzKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBNZXNzYWdlRnJvbVJlbmRlcmVyUmVzcG9uc2Uge1xuICAgIHJldHVybiB7IGRhdGE6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5kYXRhKSA/IG9iamVjdC5kYXRhLm1hcCgoZTogYW55KSA9PiBieXRlc0Zyb21CYXNlNjQoZSkpIDogW10gfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogTWVzc2FnZUZyb21SZW5kZXJlclJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBpZiAobWVzc2FnZS5kYXRhKSB7XG4gICAgICBvYmouZGF0YSA9IG1lc3NhZ2UuZGF0YS5tYXAoKGUpID0+IGJhc2U2NEZyb21CeXRlcyhlICE9PSB1bmRlZmluZWQgPyBlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmouZGF0YSA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxNZXNzYWdlRnJvbVJlbmRlcmVyUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogTWVzc2FnZUZyb21SZW5kZXJlclJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1lc3NhZ2VGcm9tUmVuZGVyZXJSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UuZGF0YSA9IG9iamVjdC5kYXRhPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgRXhwZXJpbWVudGFsQXBpU2VydmljZURlZmluaXRpb24gPSB0eXBlb2YgRXhwZXJpbWVudGFsQXBpU2VydmljZURlZmluaXRpb247XG5leHBvcnQgY29uc3QgRXhwZXJpbWVudGFsQXBpU2VydmljZURlZmluaXRpb24gPSB7XG4gIG5hbWU6IFwiRXhwZXJpbWVudGFsQXBpU2VydmljZVwiLFxuICBmdWxsTmFtZTogXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXMuRXhwZXJpbWVudGFsQXBpU2VydmljZVwiLFxuICBtZXRob2RzOiB7XG4gICAgc2VuZFRvUmVuZGVyZXI6IHtcbiAgICAgIG5hbWU6IFwiU2VuZFRvUmVuZGVyZXJcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBTZW5kVG9SZW5kZXJlclJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogU2VuZFRvUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICAgIG1lc3NhZ2VGcm9tUmVuZGVyZXI6IHtcbiAgICAgIG5hbWU6IFwiTWVzc2FnZUZyb21SZW5kZXJlclwiLFxuICAgICAgcmVxdWVzdFR5cGU6IE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXF1ZXN0LFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IE1lc3NhZ2VGcm9tUmVuZGVyZXJSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG5kZWNsYXJlIHZhciBzZWxmOiBhbnkgfCB1bmRlZmluZWQ7XG5kZWNsYXJlIHZhciB3aW5kb3c6IGFueSB8IHVuZGVmaW5lZDtcbmRlY2xhcmUgdmFyIGdsb2JhbDogYW55IHwgdW5kZWZpbmVkO1xudmFyIGdsb2JhbFRoaXM6IGFueSA9ICgoKSA9PiB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICB9XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cbiAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5cbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBpZiAoZ2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCBcImJhc2U2NFwiKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYmluID0gZ2xvYmFsVGhpcy5hdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnI6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBpZiAoZ2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShhcnIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJpbjogc3RyaW5nW10gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuYnRvYShiaW4uam9pbihcIlwiKSk7XG4gIH1cbn1cblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBTY2VuZSB9IGZyb20gJ0BkY2wvc2NoZW1hcy9kaXN0L3BsYXRmb3JtL3NjZW5lL2luZGV4J1xuaW1wb3J0IHR5cGUgeyBDb250ZW50TWFwcGluZyB9IGZyb20gJ0BkY2wvc2NoZW1hcy9kaXN0L21pc2MvY29udGVudC1tYXBwaW5nJ1xuaW1wb3J0IHsgUGFyY2VsSWRlbnRpdHlTZXJ2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9wYXJjZWxfaWRlbnRpdHkuZ2VuJ1xuXG5leHBvcnQgdHlwZSBNYXBwaW5nc1Jlc3BvbnNlID0ge1xuICBwYXJjZWxfaWQ6IHN0cmluZ1xuICByb290X2NpZDogc3RyaW5nXG4gIGNvbnRlbnRzOiBBcnJheTxDb250ZW50TWFwcGluZz5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTGFuZCB7XG4gIC8qKlxuICAgKiBzY2VuZUlkOiBOb3cgaXQgaXMgZWl0aGVyIGFuIGludGVybmFsIGlkZW50aWZpZXIgb3IgdGhlIHJvb3RDSUQuXG4gICAqIEluIHRoZSBmdXR1cmUgd2lsbCBjaGFuZ2UgdG8gdGhlIHNjZW5lQ0lEXG4gICAqL1xuICBzY2VuZUlkOiBzdHJpbmdcbiAgc2NlbmVKc29uRGF0YTogU2NlbmVcbiAgYmFzZVVybDogc3RyaW5nXG4gIGJhc2VVcmxCdW5kbGVzOiBzdHJpbmdcbiAgbWFwcGluZ3NSZXNwb25zZTogTWFwcGluZ3NSZXNwb25zZVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFBhcmNlbElkZW50aXR5U2VydmljZUNsaWVudCB7XG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGU8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gICAgcmV0dXJuIGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgUGFyY2VsSWRlbnRpdHlTZXJ2aWNlRGVmaW5pdGlvbj4oY2xpZW50UG9ydCwgUGFyY2VsSWRlbnRpdHlTZXJ2aWNlRGVmaW5pdGlvbilcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMZWdhY3k8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTZXJ2aWNlID0gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBQYXJjZWxJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uPihcbiAgICAgIGNsaWVudFBvcnQsXG4gICAgICBQYXJjZWxJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uXG4gICAgKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm9yaWdpbmFsU2VydmljZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBhbmQgdGhlIGRlZmluaXRpb24gb2YgYSBwYXJjZWxcbiAgICAgICAqL1xuICAgICAgYXN5bmMgZ2V0UGFyY2VsKCk6IFByb21pc2U8eyBsYW5kOiBJTGFuZDsgY2lkOiBzdHJpbmcgfT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLmdldFBhcmNlbCh7fSlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsYW5kOiB7XG4gICAgICAgICAgICBzY2VuZUlkOiBkYXRhLmxhbmQ/LnNjZW5lSWQgfHwgJycsXG4gICAgICAgICAgICBzY2VuZUpzb25EYXRhOiBKU09OLnBhcnNlKGRhdGEubGFuZD8uc2NlbmVKc29uRGF0YSB8fCAne30nKSxcbiAgICAgICAgICAgIGJhc2VVcmw6IGRhdGEubGFuZD8uYmFzZVVybCB8fCAnJyxcbiAgICAgICAgICAgIGJhc2VVcmxCdW5kbGVzOiBkYXRhLmxhbmQ/LmJhc2VVcmxCdW5kbGVzIHx8ICcnLFxuICAgICAgICAgICAgbWFwcGluZ3NSZXNwb25zZToge1xuICAgICAgICAgICAgICByb290X2NpZDogZGF0YS5sYW5kPy5tYXBwaW5nc1Jlc3BvbnNlPy5yb290Q2lkIHx8ICcnLFxuICAgICAgICAgICAgICBwYXJjZWxfaWQ6IGRhdGEubGFuZD8ubWFwcGluZ3NSZXNwb25zZT8ucGFyY2VsSWQgfHwgJycsXG4gICAgICAgICAgICAgIGNvbnRlbnRzOiBkYXRhLmxhbmQ/Lm1hcHBpbmdzUmVzcG9uc2U/LmNvbnRlbnRzIHx8IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaWQ6IGRhdGEuY2lkXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgc2NlbmUgaWRcbiAgICAgICAqL1xuICAgICAgYXN5bmMgZ2V0U2NlbmVJZCgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLmdldFNjZW5lSWQoe30pXG4gICAgICAgIHJldHVybiBkYXRhLnNjZW5lSWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb250ZW50TWFwcGluZyB9IGZyb20gXCIuLi8uLi9jb21tb24vY29udGVudF9tYXBwaW5nLmdlblwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNYXBwaW5nc1Jlc3BvbnNlIHtcbiAgcGFyY2VsSWQ6IHN0cmluZztcbiAgcm9vdENpZDogc3RyaW5nO1xuICBjb250ZW50czogQ29udGVudE1hcHBpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYW5kIHtcbiAgc2NlbmVJZDogc3RyaW5nO1xuICBzY2VuZUpzb25EYXRhOiBzdHJpbmc7XG4gIGJhc2VVcmw6IHN0cmluZztcbiAgYmFzZVVybEJ1bmRsZXM6IHN0cmluZztcbiAgbWFwcGluZ3NSZXNwb25zZTogTWFwcGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRQYXJjZWxSZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRQYXJjZWxSZXNwb25zZSB7XG4gIGxhbmQ6IExhbmQgfCB1bmRlZmluZWQ7XG4gIGNpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFNjZW5lSWRSZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRTY2VuZUlkUmVzcG9uc2Uge1xuICBzY2VuZUlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0SXNFbXB0eVJlcXVlc3Qge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldElzRW1wdHlSZXNwb25zZSB7XG4gIGlzRW1wdHk6IGJvb2xlYW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNYXBwaW5nc1Jlc3BvbnNlKCk6IE1hcHBpbmdzUmVzcG9uc2Uge1xuICByZXR1cm4geyBwYXJjZWxJZDogXCJcIiwgcm9vdENpZDogXCJcIiwgY29udGVudHM6IFtdIH07XG59XG5cbmV4cG9ydCBjb25zdCBNYXBwaW5nc1Jlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogTWFwcGluZ3NSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnBhcmNlbElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wYXJjZWxJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJvb3RDaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnJvb3RDaWQpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5jb250ZW50cykge1xuICAgICAgQ29udGVudE1hcHBpbmcuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IE1hcHBpbmdzUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWFwcGluZ3NSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5wYXJjZWxJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2Uucm9vdENpZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuY29udGVudHMucHVzaChDb250ZW50TWFwcGluZy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogTWFwcGluZ3NSZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmNlbElkOiBpc1NldChvYmplY3QucGFyY2VsSWQpID8gU3RyaW5nKG9iamVjdC5wYXJjZWxJZCkgOiBcIlwiLFxuICAgICAgcm9vdENpZDogaXNTZXQob2JqZWN0LnJvb3RDaWQpID8gU3RyaW5nKG9iamVjdC5yb290Q2lkKSA6IFwiXCIsXG4gICAgICBjb250ZW50czogQXJyYXkuaXNBcnJheShvYmplY3Q/LmNvbnRlbnRzKSA/IG9iamVjdC5jb250ZW50cy5tYXAoKGU6IGFueSkgPT4gQ29udGVudE1hcHBpbmcuZnJvbUpTT04oZSkpIDogW10sXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogTWFwcGluZ3NSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wYXJjZWxJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFyY2VsSWQgPSBtZXNzYWdlLnBhcmNlbElkKTtcbiAgICBtZXNzYWdlLnJvb3RDaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnJvb3RDaWQgPSBtZXNzYWdlLnJvb3RDaWQpO1xuICAgIGlmIChtZXNzYWdlLmNvbnRlbnRzKSB7XG4gICAgICBvYmouY29udGVudHMgPSBtZXNzYWdlLmNvbnRlbnRzLm1hcCgoZSkgPT4gZSA/IENvbnRlbnRNYXBwaW5nLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5jb250ZW50cyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxNYXBwaW5nc1Jlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IE1hcHBpbmdzUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWFwcGluZ3NSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UucGFyY2VsSWQgPSBvYmplY3QucGFyY2VsSWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnJvb3RDaWQgPSBvYmplY3Qucm9vdENpZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuY29udGVudHMgPSBvYmplY3QuY29udGVudHM/Lm1hcCgoZSkgPT4gQ29udGVudE1hcHBpbmcuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUxhbmQoKTogTGFuZCB7XG4gIHJldHVybiB7IHNjZW5lSWQ6IFwiXCIsIHNjZW5lSnNvbkRhdGE6IFwiXCIsIGJhc2VVcmw6IFwiXCIsIGJhc2VVcmxCdW5kbGVzOiBcIlwiLCBtYXBwaW5nc1Jlc3BvbnNlOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IExhbmQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBMYW5kLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uuc2NlbmVJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc2NlbmVJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNjZW5lSnNvbkRhdGEgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnNjZW5lSnNvbkRhdGEpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5iYXNlVXJsICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5iYXNlVXJsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYmFzZVVybEJ1bmRsZXMgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmJhc2VVcmxCdW5kbGVzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubWFwcGluZ3NSZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBNYXBwaW5nc1Jlc3BvbnNlLmVuY29kZShtZXNzYWdlLm1hcHBpbmdzUmVzcG9uc2UsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogTGFuZCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VMYW5kKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnNjZW5lSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnNjZW5lSnNvbkRhdGEgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmJhc2VVcmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmJhc2VVcmxCdW5kbGVzID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS5tYXBwaW5nc1Jlc3BvbnNlID0gTWFwcGluZ3NSZXNwb25zZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBMYW5kIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NlbmVJZDogaXNTZXQob2JqZWN0LnNjZW5lSWQpID8gU3RyaW5nKG9iamVjdC5zY2VuZUlkKSA6IFwiXCIsXG4gICAgICBzY2VuZUpzb25EYXRhOiBpc1NldChvYmplY3Quc2NlbmVKc29uRGF0YSkgPyBTdHJpbmcob2JqZWN0LnNjZW5lSnNvbkRhdGEpIDogXCJcIixcbiAgICAgIGJhc2VVcmw6IGlzU2V0KG9iamVjdC5iYXNlVXJsKSA/IFN0cmluZyhvYmplY3QuYmFzZVVybCkgOiBcIlwiLFxuICAgICAgYmFzZVVybEJ1bmRsZXM6IGlzU2V0KG9iamVjdC5iYXNlVXJsQnVuZGxlcykgPyBTdHJpbmcob2JqZWN0LmJhc2VVcmxCdW5kbGVzKSA6IFwiXCIsXG4gICAgICBtYXBwaW5nc1Jlc3BvbnNlOiBpc1NldChvYmplY3QubWFwcGluZ3NSZXNwb25zZSkgPyBNYXBwaW5nc1Jlc3BvbnNlLmZyb21KU09OKG9iamVjdC5tYXBwaW5nc1Jlc3BvbnNlKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBMYW5kKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnNjZW5lSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNjZW5lSWQgPSBtZXNzYWdlLnNjZW5lSWQpO1xuICAgIG1lc3NhZ2Uuc2NlbmVKc29uRGF0YSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2NlbmVKc29uRGF0YSA9IG1lc3NhZ2Uuc2NlbmVKc29uRGF0YSk7XG4gICAgbWVzc2FnZS5iYXNlVXJsICE9PSB1bmRlZmluZWQgJiYgKG9iai5iYXNlVXJsID0gbWVzc2FnZS5iYXNlVXJsKTtcbiAgICBtZXNzYWdlLmJhc2VVcmxCdW5kbGVzICE9PSB1bmRlZmluZWQgJiYgKG9iai5iYXNlVXJsQnVuZGxlcyA9IG1lc3NhZ2UuYmFzZVVybEJ1bmRsZXMpO1xuICAgIG1lc3NhZ2UubWFwcGluZ3NSZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLm1hcHBpbmdzUmVzcG9uc2UgPSBtZXNzYWdlLm1hcHBpbmdzUmVzcG9uc2UgPyBNYXBwaW5nc1Jlc3BvbnNlLnRvSlNPTihtZXNzYWdlLm1hcHBpbmdzUmVzcG9uc2UpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxMYW5kPiwgST4+KG9iamVjdDogSSk6IExhbmQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTGFuZCgpO1xuICAgIG1lc3NhZ2Uuc2NlbmVJZCA9IG9iamVjdC5zY2VuZUlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5zY2VuZUpzb25EYXRhID0gb2JqZWN0LnNjZW5lSnNvbkRhdGEgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmJhc2VVcmwgPSBvYmplY3QuYmFzZVVybCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuYmFzZVVybEJ1bmRsZXMgPSBvYmplY3QuYmFzZVVybEJ1bmRsZXMgPz8gXCJcIjtcbiAgICBtZXNzYWdlLm1hcHBpbmdzUmVzcG9uc2UgPSAob2JqZWN0Lm1hcHBpbmdzUmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWFwcGluZ3NSZXNwb25zZSAhPT0gbnVsbClcbiAgICAgID8gTWFwcGluZ3NSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QubWFwcGluZ3NSZXNwb25zZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFBhcmNlbFJlcXVlc3QoKTogR2V0UGFyY2VsUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldFBhcmNlbFJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBHZXRQYXJjZWxSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRQYXJjZWxSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBhcmNlbFJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEdldFBhcmNlbFJlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogR2V0UGFyY2VsUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0UGFyY2VsUmVxdWVzdD4sIEk+PihfOiBJKTogR2V0UGFyY2VsUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRQYXJjZWxSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0UGFyY2VsUmVzcG9uc2UoKTogR2V0UGFyY2VsUmVzcG9uc2Uge1xuICByZXR1cm4geyBsYW5kOiB1bmRlZmluZWQsIGNpZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0UGFyY2VsUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBHZXRQYXJjZWxSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmxhbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgTGFuZC5lbmNvZGUobWVzc2FnZS5sYW5kLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmNpZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0UGFyY2VsUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0UGFyY2VsUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UubGFuZCA9IExhbmQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuY2lkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBHZXRQYXJjZWxSZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhbmQ6IGlzU2V0KG9iamVjdC5sYW5kKSA/IExhbmQuZnJvbUpTT04ob2JqZWN0LmxhbmQpIDogdW5kZWZpbmVkLFxuICAgICAgY2lkOiBpc1NldChvYmplY3QuY2lkKSA/IFN0cmluZyhvYmplY3QuY2lkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogR2V0UGFyY2VsUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubGFuZCAhPT0gdW5kZWZpbmVkICYmIChvYmoubGFuZCA9IG1lc3NhZ2UubGFuZCA/IExhbmQudG9KU09OKG1lc3NhZ2UubGFuZCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY2lkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaWQgPSBtZXNzYWdlLmNpZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0UGFyY2VsUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogR2V0UGFyY2VsUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0UGFyY2VsUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmxhbmQgPSAob2JqZWN0LmxhbmQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGFuZCAhPT0gbnVsbCkgPyBMYW5kLmZyb21QYXJ0aWFsKG9iamVjdC5sYW5kKSA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmNpZCA9IG9iamVjdC5jaWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRTY2VuZUlkUmVxdWVzdCgpOiBHZXRTY2VuZUlkUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldFNjZW5lSWRSZXF1ZXN0ID0ge1xuICBlbmNvZGUoXzogR2V0U2NlbmVJZFJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFNjZW5lSWRSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFNjZW5lSWRSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBHZXRTY2VuZUlkUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBHZXRTY2VuZUlkUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0U2NlbmVJZFJlcXVlc3Q+LCBJPj4oXzogSSk6IEdldFNjZW5lSWRSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFNjZW5lSWRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0U2NlbmVJZFJlc3BvbnNlKCk6IEdldFNjZW5lSWRSZXNwb25zZSB7XG4gIHJldHVybiB7IHNjZW5lSWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldFNjZW5lSWRSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldFNjZW5lSWRSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnNjZW5lSWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNjZW5lSWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFNjZW5lSWRSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRTY2VuZUlkUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uuc2NlbmVJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0U2NlbmVJZFJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBzY2VuZUlkOiBpc1NldChvYmplY3Quc2NlbmVJZCkgPyBTdHJpbmcob2JqZWN0LnNjZW5lSWQpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBHZXRTY2VuZUlkUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uuc2NlbmVJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouc2NlbmVJZCA9IG1lc3NhZ2Uuc2NlbmVJZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0U2NlbmVJZFJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IEdldFNjZW5lSWRSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRTY2VuZUlkUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLnNjZW5lSWQgPSBvYmplY3Quc2NlbmVJZCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldElzRW1wdHlSZXF1ZXN0KCk6IEdldElzRW1wdHlSZXF1ZXN0IHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0SXNFbXB0eVJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBHZXRJc0VtcHR5UmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0SXNFbXB0eVJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0SXNFbXB0eVJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEdldElzRW1wdHlSZXF1ZXN0IHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IEdldElzRW1wdHlSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRJc0VtcHR5UmVxdWVzdD4sIEk+PihfOiBJKTogR2V0SXNFbXB0eVJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0SXNFbXB0eVJlcXVlc3QoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRJc0VtcHR5UmVzcG9uc2UoKTogR2V0SXNFbXB0eVJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgaXNFbXB0eTogZmFsc2UgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldElzRW1wdHlSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldElzRW1wdHlSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlzRW1wdHkgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmlzRW1wdHkpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldElzRW1wdHlSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRJc0VtcHR5UmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaXNFbXB0eSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEdldElzRW1wdHlSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgaXNFbXB0eTogaXNTZXQob2JqZWN0LmlzRW1wdHkpID8gQm9vbGVhbihvYmplY3QuaXNFbXB0eSkgOiBmYWxzZSB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBHZXRJc0VtcHR5UmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaXNFbXB0eSAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNFbXB0eSA9IG1lc3NhZ2UuaXNFbXB0eSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0SXNFbXB0eVJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IEdldElzRW1wdHlSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRJc0VtcHR5UmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmlzRW1wdHkgPSBvYmplY3QuaXNFbXB0eSA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFBhcmNlbElkZW50aXR5U2VydmljZURlZmluaXRpb24gPSB0eXBlb2YgUGFyY2VsSWRlbnRpdHlTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydCBjb25zdCBQYXJjZWxJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIlBhcmNlbElkZW50aXR5U2VydmljZVwiLFxuICBmdWxsTmFtZTogXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXMuUGFyY2VsSWRlbnRpdHlTZXJ2aWNlXCIsXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRQYXJjZWw6IHtcbiAgICAgIG5hbWU6IFwiR2V0UGFyY2VsXCIsXG4gICAgICByZXF1ZXN0VHlwZTogR2V0UGFyY2VsUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBHZXRQYXJjZWxSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgZ2V0U2NlbmVJZDoge1xuICAgICAgbmFtZTogXCJHZXRTY2VuZUlkXCIsXG4gICAgICByZXF1ZXN0VHlwZTogR2V0U2NlbmVJZFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogR2V0U2NlbmVJZFJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBnZXRJc0VtcHR5OiB7XG4gICAgICBuYW1lOiBcIkdldElzRW1wdHlcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBHZXRJc0VtcHR5UmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBHZXRJc0VtcHR5UmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHsgUGVybWlzc2lvbnNTZXJ2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9wZXJtaXNzaW9ucy5nZW4nXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQZXJtaXNzaW9uc1NlcnZpY2VDbGllbnQ8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gIHJldHVybiBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIFBlcm1pc3Npb25zU2VydmljZURlZmluaXRpb24+KGNsaWVudFBvcnQsIFBlcm1pc3Npb25zU2VydmljZURlZmluaXRpb24pXG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXNcIjtcblxuZXhwb3J0IGVudW0gUGVybWlzc2lvbkl0ZW0ge1xuICBQSV9BTExPV19UT19NT1ZFX1BMQVlFUl9JTlNJREVfU0NFTkUgPSAwLFxuICBQSV9BTExPV19UT19UUklHR0VSX0FWQVRBUl9FTU9URSA9IDEsXG4gIFBJX1VTRV9XRUIzX0FQSSA9IDIsXG4gIFBJX1VTRV9XRUJTT0NLRVQgPSAzLFxuICBQSV9VU0VfRkVUQ0ggPSA0LFxuICBVTlJFQ09HTklaRUQgPSAtMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcm1pc3Npb25JdGVtRnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQZXJtaXNzaW9uSXRlbSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgXCJQSV9BTExPV19UT19NT1ZFX1BMQVlFUl9JTlNJREVfU0NFTkVcIjpcbiAgICAgIHJldHVybiBQZXJtaXNzaW9uSXRlbS5QSV9BTExPV19UT19NT1ZFX1BMQVlFUl9JTlNJREVfU0NFTkU7XG4gICAgY2FzZSAxOlxuICAgIGNhc2UgXCJQSV9BTExPV19UT19UUklHR0VSX0FWQVRBUl9FTU9URVwiOlxuICAgICAgcmV0dXJuIFBlcm1pc3Npb25JdGVtLlBJX0FMTE9XX1RPX1RSSUdHRVJfQVZBVEFSX0VNT1RFO1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIFwiUElfVVNFX1dFQjNfQVBJXCI6XG4gICAgICByZXR1cm4gUGVybWlzc2lvbkl0ZW0uUElfVVNFX1dFQjNfQVBJO1xuICAgIGNhc2UgMzpcbiAgICBjYXNlIFwiUElfVVNFX1dFQlNPQ0tFVFwiOlxuICAgICAgcmV0dXJuIFBlcm1pc3Npb25JdGVtLlBJX1VTRV9XRUJTT0NLRVQ7XG4gICAgY2FzZSA0OlxuICAgIGNhc2UgXCJQSV9VU0VfRkVUQ0hcIjpcbiAgICAgIHJldHVybiBQZXJtaXNzaW9uSXRlbS5QSV9VU0VfRkVUQ0g7XG4gICAgY2FzZSAtMTpcbiAgICBjYXNlIFwiVU5SRUNPR05JWkVEXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBQZXJtaXNzaW9uSXRlbS5VTlJFQ09HTklaRUQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcm1pc3Npb25JdGVtVG9KU09OKG9iamVjdDogUGVybWlzc2lvbkl0ZW0pOiBzdHJpbmcge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgUGVybWlzc2lvbkl0ZW0uUElfQUxMT1dfVE9fTU9WRV9QTEFZRVJfSU5TSURFX1NDRU5FOlxuICAgICAgcmV0dXJuIFwiUElfQUxMT1dfVE9fTU9WRV9QTEFZRVJfSU5TSURFX1NDRU5FXCI7XG4gICAgY2FzZSBQZXJtaXNzaW9uSXRlbS5QSV9BTExPV19UT19UUklHR0VSX0FWQVRBUl9FTU9URTpcbiAgICAgIHJldHVybiBcIlBJX0FMTE9XX1RPX1RSSUdHRVJfQVZBVEFSX0VNT1RFXCI7XG4gICAgY2FzZSBQZXJtaXNzaW9uSXRlbS5QSV9VU0VfV0VCM19BUEk6XG4gICAgICByZXR1cm4gXCJQSV9VU0VfV0VCM19BUElcIjtcbiAgICBjYXNlIFBlcm1pc3Npb25JdGVtLlBJX1VTRV9XRUJTT0NLRVQ6XG4gICAgICByZXR1cm4gXCJQSV9VU0VfV0VCU09DS0VUXCI7XG4gICAgY2FzZSBQZXJtaXNzaW9uSXRlbS5QSV9VU0VfRkVUQ0g6XG4gICAgICByZXR1cm4gXCJQSV9VU0VfRkVUQ0hcIjtcbiAgICBjYXNlIFBlcm1pc3Npb25JdGVtLlVOUkVDT0dOSVpFRDpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiVU5SRUNPR05JWkVEXCI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJtaXNzaW9uUmVzcG9uc2Uge1xuICBoYXNQZXJtaXNzaW9uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhc1Blcm1pc3Npb25SZXF1ZXN0IHtcbiAgcGVybWlzc2lvbjogUGVybWlzc2lvbkl0ZW07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzTWFueVBlcm1pc3Npb25SZXF1ZXN0IHtcbiAgcGVybWlzc2lvbnM6IFBlcm1pc3Npb25JdGVtW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzTWFueVBlcm1pc3Npb25SZXNwb25zZSB7XG4gIGhhc01hbnlQZXJtaXNzaW9uOiBib29sZWFuW107XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQZXJtaXNzaW9uUmVzcG9uc2UoKTogUGVybWlzc2lvblJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgaGFzUGVybWlzc2lvbjogZmFsc2UgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBlcm1pc3Npb25SZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBlcm1pc3Npb25SZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmhhc1Blcm1pc3Npb24gPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmhhc1Blcm1pc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBlcm1pc3Npb25SZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQZXJtaXNzaW9uUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaGFzUGVybWlzc2lvbiA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBlcm1pc3Npb25SZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgaGFzUGVybWlzc2lvbjogaXNTZXQob2JqZWN0Lmhhc1Blcm1pc3Npb24pID8gQm9vbGVhbihvYmplY3QuaGFzUGVybWlzc2lvbikgOiBmYWxzZSB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQZXJtaXNzaW9uUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaGFzUGVybWlzc2lvbiAhPT0gdW5kZWZpbmVkICYmIChvYmouaGFzUGVybWlzc2lvbiA9IG1lc3NhZ2UuaGFzUGVybWlzc2lvbik7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UGVybWlzc2lvblJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IFBlcm1pc3Npb25SZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQZXJtaXNzaW9uUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmhhc1Blcm1pc3Npb24gPSBvYmplY3QuaGFzUGVybWlzc2lvbiA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VIYXNQZXJtaXNzaW9uUmVxdWVzdCgpOiBIYXNQZXJtaXNzaW9uUmVxdWVzdCB7XG4gIHJldHVybiB7IHBlcm1pc3Npb246IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEhhc1Blcm1pc3Npb25SZXF1ZXN0ID0ge1xuICBlbmNvZGUobWVzc2FnZTogSGFzUGVybWlzc2lvblJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5wZXJtaXNzaW9uICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UucGVybWlzc2lvbik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSGFzUGVybWlzc2lvblJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSGFzUGVybWlzc2lvblJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucGVybWlzc2lvbiA9IHJlYWRlci5pbnQzMigpIGFzIGFueTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogSGFzUGVybWlzc2lvblJlcXVlc3Qge1xuICAgIHJldHVybiB7IHBlcm1pc3Npb246IGlzU2V0KG9iamVjdC5wZXJtaXNzaW9uKSA/IHBlcm1pc3Npb25JdGVtRnJvbUpTT04ob2JqZWN0LnBlcm1pc3Npb24pIDogMCB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBIYXNQZXJtaXNzaW9uUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wZXJtaXNzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai5wZXJtaXNzaW9uID0gcGVybWlzc2lvbkl0ZW1Ub0pTT04obWVzc2FnZS5wZXJtaXNzaW9uKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8SGFzUGVybWlzc2lvblJlcXVlc3Q+LCBJPj4ob2JqZWN0OiBJKTogSGFzUGVybWlzc2lvblJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSGFzUGVybWlzc2lvblJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLnBlcm1pc3Npb24gPSBvYmplY3QucGVybWlzc2lvbiA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUhhc01hbnlQZXJtaXNzaW9uUmVxdWVzdCgpOiBIYXNNYW55UGVybWlzc2lvblJlcXVlc3Qge1xuICByZXR1cm4geyBwZXJtaXNzaW9uczogW10gfTtcbn1cblxuZXhwb3J0IGNvbnN0IEhhc01hbnlQZXJtaXNzaW9uUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEhhc01hbnlQZXJtaXNzaW9uUmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHdyaXRlci51aW50MzIoMTApLmZvcmsoKTtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5wZXJtaXNzaW9ucykge1xuICAgICAgd3JpdGVyLmludDMyKHYpO1xuICAgIH1cbiAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBIYXNNYW55UGVybWlzc2lvblJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSGFzTWFueVBlcm1pc3Npb25SZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikge1xuICAgICAgICAgICAgICBtZXNzYWdlLnBlcm1pc3Npb25zLnB1c2gocmVhZGVyLmludDMyKCkgYXMgYW55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZS5wZXJtaXNzaW9ucy5wdXNoKHJlYWRlci5pbnQzMigpIGFzIGFueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBIYXNNYW55UGVybWlzc2lvblJlcXVlc3Qge1xuICAgIHJldHVybiB7XG4gICAgICBwZXJtaXNzaW9uczogQXJyYXkuaXNBcnJheShvYmplY3Q/LnBlcm1pc3Npb25zKVxuICAgICAgICA/IG9iamVjdC5wZXJtaXNzaW9ucy5tYXAoKGU6IGFueSkgPT4gcGVybWlzc2lvbkl0ZW1Gcm9tSlNPTihlKSlcbiAgICAgICAgOiBbXSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBIYXNNYW55UGVybWlzc2lvblJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIGlmIChtZXNzYWdlLnBlcm1pc3Npb25zKSB7XG4gICAgICBvYmoucGVybWlzc2lvbnMgPSBtZXNzYWdlLnBlcm1pc3Npb25zLm1hcCgoZSkgPT4gcGVybWlzc2lvbkl0ZW1Ub0pTT04oZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmoucGVybWlzc2lvbnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8SGFzTWFueVBlcm1pc3Npb25SZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IEhhc01hbnlQZXJtaXNzaW9uUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VIYXNNYW55UGVybWlzc2lvblJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLnBlcm1pc3Npb25zID0gb2JqZWN0LnBlcm1pc3Npb25zPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUhhc01hbnlQZXJtaXNzaW9uUmVzcG9uc2UoKTogSGFzTWFueVBlcm1pc3Npb25SZXNwb25zZSB7XG4gIHJldHVybiB7IGhhc01hbnlQZXJtaXNzaW9uOiBbXSB9O1xufVxuXG5leHBvcnQgY29uc3QgSGFzTWFueVBlcm1pc3Npb25SZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEhhc01hbnlQZXJtaXNzaW9uUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICB3cml0ZXIudWludDMyKDEwKS5mb3JrKCk7XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuaGFzTWFueVBlcm1pc3Npb24pIHtcbiAgICAgIHdyaXRlci5ib29sKHYpO1xuICAgIH1cbiAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBIYXNNYW55UGVybWlzc2lvblJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUhhc01hbnlQZXJtaXNzaW9uUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UuaGFzTWFueVBlcm1pc3Npb24ucHVzaChyZWFkZXIuYm9vbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZS5oYXNNYW55UGVybWlzc2lvbi5wdXNoKHJlYWRlci5ib29sKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogSGFzTWFueVBlcm1pc3Npb25SZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc01hbnlQZXJtaXNzaW9uOiBBcnJheS5pc0FycmF5KG9iamVjdD8uaGFzTWFueVBlcm1pc3Npb24pXG4gICAgICAgID8gb2JqZWN0Lmhhc01hbnlQZXJtaXNzaW9uLm1hcCgoZTogYW55KSA9PiBCb29sZWFuKGUpKVxuICAgICAgICA6IFtdLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEhhc01hbnlQZXJtaXNzaW9uUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIGlmIChtZXNzYWdlLmhhc01hbnlQZXJtaXNzaW9uKSB7XG4gICAgICBvYmouaGFzTWFueVBlcm1pc3Npb24gPSBtZXNzYWdlLmhhc01hbnlQZXJtaXNzaW9uLm1hcCgoZSkgPT4gZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5oYXNNYW55UGVybWlzc2lvbiA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxIYXNNYW55UGVybWlzc2lvblJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IEhhc01hbnlQZXJtaXNzaW9uUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSGFzTWFueVBlcm1pc3Npb25SZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UuaGFzTWFueVBlcm1pc3Npb24gPSBvYmplY3QuaGFzTWFueVBlcm1pc3Npb24/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5leHBvcnQgdHlwZSBQZXJtaXNzaW9uc1NlcnZpY2VEZWZpbml0aW9uID0gdHlwZW9mIFBlcm1pc3Npb25zU2VydmljZURlZmluaXRpb247XG5leHBvcnQgY29uc3QgUGVybWlzc2lvbnNTZXJ2aWNlRGVmaW5pdGlvbiA9IHtcbiAgbmFtZTogXCJQZXJtaXNzaW9uc1NlcnZpY2VcIixcbiAgZnVsbE5hbWU6IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzLlBlcm1pc3Npb25zU2VydmljZVwiLFxuICBtZXRob2RzOiB7XG4gICAgaGFzUGVybWlzc2lvbjoge1xuICAgICAgbmFtZTogXCJIYXNQZXJtaXNzaW9uXCIsXG4gICAgICByZXF1ZXN0VHlwZTogSGFzUGVybWlzc2lvblJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogUGVybWlzc2lvblJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBoYXNNYW55UGVybWlzc2lvbnM6IHtcbiAgICAgIG5hbWU6IFwiSGFzTWFueVBlcm1pc3Npb25zXCIsXG4gICAgICByZXF1ZXN0VHlwZTogSGFzTWFueVBlcm1pc3Npb25SZXF1ZXN0LFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IEhhc01hbnlQZXJtaXNzaW9uUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHsgUGxheWVyc1NlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL3BsYXllcnMuZ2VuJ1xuaW1wb3J0IHsgVXNlckRhdGEgfSBmcm9tICcuL1VzZXJJZGVudGl0eSdcblxuZXhwb3J0IG5hbWVzcGFjZSBQbGF5ZXJzU2VydmljZUNsaWVudCB7XG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGU8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gICAgcmV0dXJuIGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgUGxheWVyc1NlcnZpY2VEZWZpbml0aW9uPihjbGllbnRQb3J0LCBQbGF5ZXJzU2VydmljZURlZmluaXRpb24pXG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlTGVnYWN5PENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIGNvbnN0IG9yaWdpbmFsU2VydmljZSA9IGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgUGxheWVyc1NlcnZpY2VEZWZpbml0aW9uPihjbGllbnRQb3J0LCBQbGF5ZXJzU2VydmljZURlZmluaXRpb24pXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3JpZ2luYWxTZXJ2aWNlLFxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm4gdGhlIHBsYXllcnMncyBkYXRhXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGdldFBsYXllckRhdGEob3B0OiB7IHVzZXJJZDogc3RyaW5nIH0pOiBQcm9taXNlPFVzZXJEYXRhIHwgbnVsbD4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlc3BvbnNlID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLmdldFBsYXllckRhdGEoeyB1c2VySWQ6IG9wdC51c2VySWQgfSlcbiAgICAgICAgaWYgKCFvcmlnaW5hbFJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ub3JpZ2luYWxSZXNwb25zZS5kYXRhLFxuICAgICAgICAgIGF2YXRhcjoge1xuICAgICAgICAgICAgLi4ub3JpZ2luYWxSZXNwb25zZS5kYXRhLmF2YXRhciEsXG4gICAgICAgICAgICBzbmFwc2hvdHM6IG9yaWdpbmFsUmVzcG9uc2UuZGF0YS5hdmF0YXIhLnNuYXBzaG90cyFcbiAgICAgICAgICB9LFxuICAgICAgICAgIHB1YmxpY0tleTogb3JpZ2luYWxSZXNwb25zZS5kYXRhLnB1YmxpY0tleSB8fCBudWxsXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJuIGFycmF5IG9mIGNvbm5lY3RlZCBwbGF5ZXJzXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGdldENvbm5lY3RlZFBsYXllcnMoKTogUHJvbWlzZTx7IHVzZXJJZDogc3RyaW5nIH1bXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IG9yaWdpbmFsU2VydmljZS5nZXRDb25uZWN0ZWRQbGF5ZXJzKHt9KSkucGxheWVyc1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm4gYXJyYXkgb2YgcGxheWVycyBpbnNpZGUgdGhlIHNjZW5lXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGdldFBsYXllcnNJblNjZW5lKCk6IFByb21pc2U8eyB1c2VySWQ6IHN0cmluZyB9W10+IHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCBvcmlnaW5hbFNlcnZpY2UuZ2V0UGxheWVyc0luU2NlbmUoe30pKS5wbGF5ZXJzXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVXNlckRhdGEgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3Nkay91c2VyX2RhdGEuZ2VuXCI7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllciB7XG4gIHVzZXJJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllcnNHZXRVc2VyRGF0YVJlc3BvbnNlIHtcbiAgZGF0YT86IFVzZXJEYXRhIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllckxpc3RSZXNwb25zZSB7XG4gIHBsYXllcnM6IFBsYXllcltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFBsYXllckRhdGFSZXF1ZXN0IHtcbiAgdXNlcklkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UGxheWVyc0luU2NlbmVSZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCB7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQbGF5ZXIoKTogUGxheWVyIHtcbiAgcmV0dXJuIHsgdXNlcklkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXIgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQbGF5ZXIsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS51c2VySWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnVzZXJJZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUGxheWVyIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBsYXllcigpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS51c2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBsYXllciB7XG4gICAgcmV0dXJuIHsgdXNlcklkOiBpc1NldChvYmplY3QudXNlcklkKSA/IFN0cmluZyhvYmplY3QudXNlcklkKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUGxheWVyKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnVzZXJJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoudXNlcklkID0gbWVzc2FnZS51c2VySWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBsYXllcj4sIEk+PihvYmplY3Q6IEkpOiBQbGF5ZXIge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGxheWVyKCk7XG4gICAgbWVzc2FnZS51c2VySWQgPSBvYmplY3QudXNlcklkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUGxheWVyc0dldFVzZXJEYXRhUmVzcG9uc2UoKTogUGxheWVyc0dldFVzZXJEYXRhUmVzcG9uc2Uge1xuICByZXR1cm4geyBkYXRhOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBsYXllcnNHZXRVc2VyRGF0YVJlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUGxheWVyc0dldFVzZXJEYXRhUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFVzZXJEYXRhLmVuY29kZShtZXNzYWdlLmRhdGEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUGxheWVyc0dldFVzZXJEYXRhUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGxheWVyc0dldFVzZXJEYXRhUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IFVzZXJEYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBsYXllcnNHZXRVc2VyRGF0YVJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBkYXRhOiBpc1NldChvYmplY3QuZGF0YSkgPyBVc2VyRGF0YS5mcm9tSlNPTihvYmplY3QuZGF0YSkgOiB1bmRlZmluZWQgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUGxheWVyc0dldFVzZXJEYXRhUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkICYmIChvYmouZGF0YSA9IG1lc3NhZ2UuZGF0YSA/IFVzZXJEYXRhLnRvSlNPTihtZXNzYWdlLmRhdGEpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQbGF5ZXJzR2V0VXNlckRhdGFSZXNwb25zZT4sIEk+PihvYmplY3Q6IEkpOiBQbGF5ZXJzR2V0VXNlckRhdGFSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQbGF5ZXJzR2V0VXNlckRhdGFSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UuZGF0YSA9IChvYmplY3QuZGF0YSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5kYXRhICE9PSBudWxsKSA/IFVzZXJEYXRhLmZyb21QYXJ0aWFsKG9iamVjdC5kYXRhKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQbGF5ZXJMaXN0UmVzcG9uc2UoKTogUGxheWVyTGlzdFJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgcGxheWVyczogW10gfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBsYXllckxpc3RSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBsYXllckxpc3RSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnBsYXllcnMpIHtcbiAgICAgIFBsYXllci5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUGxheWVyTGlzdFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBsYXllckxpc3RSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5wbGF5ZXJzLnB1c2goUGxheWVyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQbGF5ZXJMaXN0UmVzcG9uc2Uge1xuICAgIHJldHVybiB7IHBsYXllcnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5wbGF5ZXJzKSA/IG9iamVjdC5wbGF5ZXJzLm1hcCgoZTogYW55KSA9PiBQbGF5ZXIuZnJvbUpTT04oZSkpIDogW10gfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUGxheWVyTGlzdFJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBpZiAobWVzc2FnZS5wbGF5ZXJzKSB7XG4gICAgICBvYmoucGxheWVycyA9IG1lc3NhZ2UucGxheWVycy5tYXAoKGUpID0+IGUgPyBQbGF5ZXIudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqLnBsYXllcnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UGxheWVyTGlzdFJlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IFBsYXllckxpc3RSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQbGF5ZXJMaXN0UmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLnBsYXllcnMgPSBvYmplY3QucGxheWVycz8ubWFwKChlKSA9PiBQbGF5ZXIuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFBsYXllckRhdGFSZXF1ZXN0KCk6IEdldFBsYXllckRhdGFSZXF1ZXN0IHtcbiAgcmV0dXJuIHsgdXNlcklkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBHZXRQbGF5ZXJEYXRhUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldFBsYXllckRhdGFSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UudXNlcklkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS51c2VySWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFBsYXllckRhdGFSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBsYXllckRhdGFSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnVzZXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0UGxheWVyRGF0YVJlcXVlc3Qge1xuICAgIHJldHVybiB7IHVzZXJJZDogaXNTZXQob2JqZWN0LnVzZXJJZCkgPyBTdHJpbmcob2JqZWN0LnVzZXJJZCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdldFBsYXllckRhdGFSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnVzZXJJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoudXNlcklkID0gbWVzc2FnZS51c2VySWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFBsYXllckRhdGFSZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IEdldFBsYXllckRhdGFSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBsYXllckRhdGFSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS51c2VySWQgPSBvYmplY3QudXNlcklkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0UGxheWVyc0luU2NlbmVSZXF1ZXN0KCk6IEdldFBsYXllcnNJblNjZW5lUmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldFBsYXllcnNJblNjZW5lUmVxdWVzdCA9IHtcbiAgZW5jb2RlKF86IEdldFBsYXllcnNJblNjZW5lUmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0UGxheWVyc0luU2NlbmVSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBsYXllcnNJblNjZW5lUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogR2V0UGxheWVyc0luU2NlbmVSZXF1ZXN0IHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IEdldFBsYXllcnNJblNjZW5lUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8R2V0UGxheWVyc0luU2NlbmVSZXF1ZXN0PiwgST4+KF86IEkpOiBHZXRQbGF5ZXJzSW5TY2VuZVJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0UGxheWVyc0luU2NlbmVSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0Q29ubmVjdGVkUGxheWVyc1JlcXVlc3QoKTogR2V0Q29ubmVjdGVkUGxheWVyc1JlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCA9IHtcbiAgZW5jb2RlKF86IEdldENvbm5lY3RlZFBsYXllcnNSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogR2V0Q29ubmVjdGVkUGxheWVyc1JlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogR2V0Q29ubmVjdGVkUGxheWVyc1JlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldENvbm5lY3RlZFBsYXllcnNSZXF1ZXN0PiwgST4+KF86IEkpOiBHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgUGxheWVyc1NlcnZpY2VEZWZpbml0aW9uID0gdHlwZW9mIFBsYXllcnNTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydCBjb25zdCBQbGF5ZXJzU2VydmljZURlZmluaXRpb24gPSB7XG4gIG5hbWU6IFwiUGxheWVyc1NlcnZpY2VcIixcbiAgZnVsbE5hbWU6IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzLlBsYXllcnNTZXJ2aWNlXCIsXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRQbGF5ZXJEYXRhOiB7XG4gICAgICBuYW1lOiBcIkdldFBsYXllckRhdGFcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBHZXRQbGF5ZXJEYXRhUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBQbGF5ZXJzR2V0VXNlckRhdGFSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgZ2V0UGxheWVyc0luU2NlbmU6IHtcbiAgICAgIG5hbWU6IFwiR2V0UGxheWVyc0luU2NlbmVcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBHZXRQbGF5ZXJzSW5TY2VuZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogUGxheWVyTGlzdFJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBnZXRDb25uZWN0ZWRQbGF5ZXJzOiB7XG4gICAgICBuYW1lOiBcIkdldENvbm5lY3RlZFBsYXllcnNcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBHZXRDb25uZWN0ZWRQbGF5ZXJzUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBQbGF5ZXJMaXN0UmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImRlY2VudHJhbGFuZC5jb21tb24uc2RrXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RzIHtcbiAgZmFjZTI1Njogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXZhdGFyRm9yVXNlckRhdGEge1xuICBib2R5U2hhcGU6IHN0cmluZztcbiAgc2tpbkNvbG9yOiBzdHJpbmc7XG4gIGhhaXJDb2xvcjogc3RyaW5nO1xuICBleWVDb2xvcjogc3RyaW5nO1xuICB3ZWFyYWJsZXM6IHN0cmluZ1tdO1xuICBzbmFwc2hvdHM6IFNuYXBzaG90cyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyRGF0YSB7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIHB1YmxpY0tleT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgaGFzQ29ubmVjdGVkV2ViMzogYm9vbGVhbjtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHZlcnNpb246IG51bWJlcjtcbiAgYXZhdGFyOiBBdmF0YXJGb3JVc2VyRGF0YSB8IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZVNuYXBzaG90cygpOiBTbmFwc2hvdHMge1xuICByZXR1cm4geyBmYWNlMjU2OiBcIlwiLCBib2R5OiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBTbmFwc2hvdHMgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTbmFwc2hvdHMsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5mYWNlMjU2ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5mYWNlMjU2KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYm9keSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuYm9keSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU25hcHNob3RzIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNuYXBzaG90cygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5mYWNlMjU2ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5ib2R5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTbmFwc2hvdHMge1xuICAgIHJldHVybiB7XG4gICAgICBmYWNlMjU2OiBpc1NldChvYmplY3QuZmFjZTI1NikgPyBTdHJpbmcob2JqZWN0LmZhY2UyNTYpIDogXCJcIixcbiAgICAgIGJvZHk6IGlzU2V0KG9iamVjdC5ib2R5KSA/IFN0cmluZyhvYmplY3QuYm9keSkgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFNuYXBzaG90cyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5mYWNlMjU2ICE9PSB1bmRlZmluZWQgJiYgKG9iai5mYWNlMjU2ID0gbWVzc2FnZS5mYWNlMjU2KTtcbiAgICBtZXNzYWdlLmJvZHkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmJvZHkgPSBtZXNzYWdlLmJvZHkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNuYXBzaG90cz4sIEk+PihvYmplY3Q6IEkpOiBTbmFwc2hvdHMge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU25hcHNob3RzKCk7XG4gICAgbWVzc2FnZS5mYWNlMjU2ID0gb2JqZWN0LmZhY2UyNTYgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmJvZHkgPSBvYmplY3QuYm9keSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUF2YXRhckZvclVzZXJEYXRhKCk6IEF2YXRhckZvclVzZXJEYXRhIHtcbiAgcmV0dXJuIHsgYm9keVNoYXBlOiBcIlwiLCBza2luQ29sb3I6IFwiXCIsIGhhaXJDb2xvcjogXCJcIiwgZXllQ29sb3I6IFwiXCIsIHdlYXJhYmxlczogW10sIHNuYXBzaG90czogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBBdmF0YXJGb3JVc2VyRGF0YSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEF2YXRhckZvclVzZXJEYXRhLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuYm9keVNoYXBlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5ib2R5U2hhcGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5za2luQ29sb3IgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnNraW5Db2xvcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhhaXJDb2xvciAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuaGFpckNvbG9yKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZXllQ29sb3IgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmV5ZUNvbG9yKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uud2VhcmFibGVzKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcodiEpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zbmFwc2hvdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgU25hcHNob3RzLmVuY29kZShtZXNzYWdlLnNuYXBzaG90cywgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBBdmF0YXJGb3JVc2VyRGF0YSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBdmF0YXJGb3JVc2VyRGF0YSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5ib2R5U2hhcGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnNraW5Db2xvciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuaGFpckNvbG9yID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5leWVDb2xvciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2Uud2VhcmFibGVzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uuc25hcHNob3RzID0gU25hcHNob3RzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEF2YXRhckZvclVzZXJEYXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9keVNoYXBlOiBpc1NldChvYmplY3QuYm9keVNoYXBlKSA/IFN0cmluZyhvYmplY3QuYm9keVNoYXBlKSA6IFwiXCIsXG4gICAgICBza2luQ29sb3I6IGlzU2V0KG9iamVjdC5za2luQ29sb3IpID8gU3RyaW5nKG9iamVjdC5za2luQ29sb3IpIDogXCJcIixcbiAgICAgIGhhaXJDb2xvcjogaXNTZXQob2JqZWN0LmhhaXJDb2xvcikgPyBTdHJpbmcob2JqZWN0LmhhaXJDb2xvcikgOiBcIlwiLFxuICAgICAgZXllQ29sb3I6IGlzU2V0KG9iamVjdC5leWVDb2xvcikgPyBTdHJpbmcob2JqZWN0LmV5ZUNvbG9yKSA6IFwiXCIsXG4gICAgICB3ZWFyYWJsZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py53ZWFyYWJsZXMpID8gb2JqZWN0LndlYXJhYmxlcy5tYXAoKGU6IGFueSkgPT4gU3RyaW5nKGUpKSA6IFtdLFxuICAgICAgc25hcHNob3RzOiBpc1NldChvYmplY3Quc25hcHNob3RzKSA/IFNuYXBzaG90cy5mcm9tSlNPTihvYmplY3Quc25hcHNob3RzKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBBdmF0YXJGb3JVc2VyRGF0YSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5ib2R5U2hhcGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmJvZHlTaGFwZSA9IG1lc3NhZ2UuYm9keVNoYXBlKTtcbiAgICBtZXNzYWdlLnNraW5Db2xvciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2tpbkNvbG9yID0gbWVzc2FnZS5za2luQ29sb3IpO1xuICAgIG1lc3NhZ2UuaGFpckNvbG9yICE9PSB1bmRlZmluZWQgJiYgKG9iai5oYWlyQ29sb3IgPSBtZXNzYWdlLmhhaXJDb2xvcik7XG4gICAgbWVzc2FnZS5leWVDb2xvciAhPT0gdW5kZWZpbmVkICYmIChvYmouZXllQ29sb3IgPSBtZXNzYWdlLmV5ZUNvbG9yKTtcbiAgICBpZiAobWVzc2FnZS53ZWFyYWJsZXMpIHtcbiAgICAgIG9iai53ZWFyYWJsZXMgPSBtZXNzYWdlLndlYXJhYmxlcy5tYXAoKGUpID0+IGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmoud2VhcmFibGVzID0gW107XG4gICAgfVxuICAgIG1lc3NhZ2Uuc25hcHNob3RzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouc25hcHNob3RzID0gbWVzc2FnZS5zbmFwc2hvdHMgPyBTbmFwc2hvdHMudG9KU09OKG1lc3NhZ2Uuc25hcHNob3RzKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8QXZhdGFyRm9yVXNlckRhdGE+LCBJPj4ob2JqZWN0OiBJKTogQXZhdGFyRm9yVXNlckRhdGEge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQXZhdGFyRm9yVXNlckRhdGEoKTtcbiAgICBtZXNzYWdlLmJvZHlTaGFwZSA9IG9iamVjdC5ib2R5U2hhcGUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnNraW5Db2xvciA9IG9iamVjdC5za2luQ29sb3IgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmhhaXJDb2xvciA9IG9iamVjdC5oYWlyQ29sb3IgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmV5ZUNvbG9yID0gb2JqZWN0LmV5ZUNvbG9yID8/IFwiXCI7XG4gICAgbWVzc2FnZS53ZWFyYWJsZXMgPSBvYmplY3Qud2VhcmFibGVzPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgIG1lc3NhZ2Uuc25hcHNob3RzID0gKG9iamVjdC5zbmFwc2hvdHMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc25hcHNob3RzICE9PSBudWxsKVxuICAgICAgPyBTbmFwc2hvdHMuZnJvbVBhcnRpYWwob2JqZWN0LnNuYXBzaG90cylcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVVzZXJEYXRhKCk6IFVzZXJEYXRhIHtcbiAgcmV0dXJuIHsgZGlzcGxheU5hbWU6IFwiXCIsIHB1YmxpY0tleTogdW5kZWZpbmVkLCBoYXNDb25uZWN0ZWRXZWIzOiBmYWxzZSwgdXNlcklkOiBcIlwiLCB2ZXJzaW9uOiAwLCBhdmF0YXI6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgVXNlckRhdGEgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBVc2VyRGF0YSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmRpc3BsYXlOYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5kaXNwbGF5TmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnB1YmxpY0tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5wdWJsaWNLZXkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNDb25uZWN0ZWRXZWIzID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UuaGFzQ29ubmVjdGVkV2ViMyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnVzZXJJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UudXNlcklkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmVyc2lvbiAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS52ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYXZhdGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIEF2YXRhckZvclVzZXJEYXRhLmVuY29kZShtZXNzYWdlLmF2YXRhciwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBVc2VyRGF0YSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VVc2VyRGF0YSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5kaXNwbGF5TmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucHVibGljS2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5oYXNDb25uZWN0ZWRXZWIzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2UudXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBtZXNzYWdlLmF2YXRhciA9IEF2YXRhckZvclVzZXJEYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFVzZXJEYXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlzcGxheU5hbWU6IGlzU2V0KG9iamVjdC5kaXNwbGF5TmFtZSkgPyBTdHJpbmcob2JqZWN0LmRpc3BsYXlOYW1lKSA6IFwiXCIsXG4gICAgICBwdWJsaWNLZXk6IGlzU2V0KG9iamVjdC5wdWJsaWNLZXkpID8gU3RyaW5nKG9iamVjdC5wdWJsaWNLZXkpIDogdW5kZWZpbmVkLFxuICAgICAgaGFzQ29ubmVjdGVkV2ViMzogaXNTZXQob2JqZWN0Lmhhc0Nvbm5lY3RlZFdlYjMpID8gQm9vbGVhbihvYmplY3QuaGFzQ29ubmVjdGVkV2ViMykgOiBmYWxzZSxcbiAgICAgIHVzZXJJZDogaXNTZXQob2JqZWN0LnVzZXJJZCkgPyBTdHJpbmcob2JqZWN0LnVzZXJJZCkgOiBcIlwiLFxuICAgICAgdmVyc2lvbjogaXNTZXQob2JqZWN0LnZlcnNpb24pID8gTnVtYmVyKG9iamVjdC52ZXJzaW9uKSA6IDAsXG4gICAgICBhdmF0YXI6IGlzU2V0KG9iamVjdC5hdmF0YXIpID8gQXZhdGFyRm9yVXNlckRhdGEuZnJvbUpTT04ob2JqZWN0LmF2YXRhcikgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogVXNlckRhdGEpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZGlzcGxheU5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmRpc3BsYXlOYW1lID0gbWVzc2FnZS5kaXNwbGF5TmFtZSk7XG4gICAgbWVzc2FnZS5wdWJsaWNLZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnB1YmxpY0tleSA9IG1lc3NhZ2UucHVibGljS2V5KTtcbiAgICBtZXNzYWdlLmhhc0Nvbm5lY3RlZFdlYjMgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhhc0Nvbm5lY3RlZFdlYjMgPSBtZXNzYWdlLmhhc0Nvbm5lY3RlZFdlYjMpO1xuICAgIG1lc3NhZ2UudXNlcklkICE9PSB1bmRlZmluZWQgJiYgKG9iai51c2VySWQgPSBtZXNzYWdlLnVzZXJJZCk7XG4gICAgbWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai52ZXJzaW9uID0gTWF0aC5yb3VuZChtZXNzYWdlLnZlcnNpb24pKTtcbiAgICBtZXNzYWdlLmF2YXRhciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmF2YXRhciA9IG1lc3NhZ2UuYXZhdGFyID8gQXZhdGFyRm9yVXNlckRhdGEudG9KU09OKG1lc3NhZ2UuYXZhdGFyKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8VXNlckRhdGE+LCBJPj4ob2JqZWN0OiBJKTogVXNlckRhdGEge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXNlckRhdGEoKTtcbiAgICBtZXNzYWdlLmRpc3BsYXlOYW1lID0gb2JqZWN0LmRpc3BsYXlOYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS5wdWJsaWNLZXkgPSBvYmplY3QucHVibGljS2V5ID8/IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmhhc0Nvbm5lY3RlZFdlYjMgPSBvYmplY3QuaGFzQ29ubmVjdGVkV2ViMyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnVzZXJJZCA9IG9iamVjdC51c2VySWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZlcnNpb24gPSBvYmplY3QudmVyc2lvbiA/PyAwO1xuICAgIG1lc3NhZ2UuYXZhdGFyID0gKG9iamVjdC5hdmF0YXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYXZhdGFyICE9PSBudWxsKVxuICAgICAgPyBBdmF0YXJGb3JVc2VyRGF0YS5mcm9tUGFydGlhbChvYmplY3QuYXZhdGFyKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCAqIGFzIGNvZGVnZW4gZnJvbSAnQGRjbC9ycGMvZGlzdC9jb2RlZ2VuJ1xuaW1wb3J0IHsgUnBjQ2xpZW50UG9ydCB9IGZyb20gJ0BkY2wvcnBjL2Rpc3QvdHlwZXMnXG5pbXBvcnQgeyBQb3J0YWJsZUV4cGVyaWVuY2VzU2VydmljZURlZmluaXRpb24gfSBmcm9tICdAZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvcG9ydGFibGVfZXhwZXJpZW5jZXMuZ2VuJ1xuXG50eXBlIFBvcnRhYmxlRXhwZXJpZW5jZVVybiA9IHN0cmluZ1xudHlwZSBQb3J0YWJsZUV4cGVyaWVuY2VIYW5kbGUgPSB7XG4gIHBpZDogUG9ydGFibGVFeHBlcmllbmNlVXJuXG4gIHBhcmVudENpZDogc3RyaW5nIC8vIElkZW50aWZpZXIgb2Ygd2hvIHRyaWdnZXJlZCB0aGUgUEUgdG8gYWxsb3cgdG8ga2lsbCBpdCBvbmx5IHRvIHdobyBjcmVhdGVkIGl0XG59XG50eXBlIFBvcnRhYmxlRXhwZXJpZW5jZUxvYWRlZCA9IHtcbiAgcG9ydGFibGVFeHBlcmllbmNlczogUG9ydGFibGVFeHBlcmllbmNlSGFuZGxlW11cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQb3J0YWJsZUV4cGVyaWVuY2VTZXJ2aWNlQ2xpZW50IHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZTxDb250ZXh0IGV4dGVuZHMge30+KGNsaWVudFBvcnQ6IFJwY0NsaWVudFBvcnQpIHtcbiAgICByZXR1cm4gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBQb3J0YWJsZUV4cGVyaWVuY2VzU2VydmljZURlZmluaXRpb24+KFxuICAgICAgY2xpZW50UG9ydCxcbiAgICAgIFBvcnRhYmxlRXhwZXJpZW5jZXNTZXJ2aWNlRGVmaW5pdGlvblxuICAgIClcbiAgfVxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlTGVnYWN5PENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIGNvbnN0IG9yaWdpbmFsU2VydmljZSA9IGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgUG9ydGFibGVFeHBlcmllbmNlc1NlcnZpY2VEZWZpbml0aW9uPihcbiAgICAgIGNsaWVudFBvcnQsXG4gICAgICBQb3J0YWJsZUV4cGVyaWVuY2VzU2VydmljZURlZmluaXRpb25cbiAgICApXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3JpZ2luYWxTZXJ2aWNlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFN0YXJ0cyBhIHBvcnRhYmxlIGV4cGVyaWVuY2UuXG4gICAgICAgKiBAcGFyYW0gIHtTcGF3blBvcnRhYmxlRXhwZXJpZW5jZVBhcmFtZXRlcnN9IFtwaWRdIC0gSW5mb3JtYXRpb24gdG8gaWRlbnRpZnkgdGhlIFBFXG4gICAgICAgKlxuICAgICAgICogUmV0dXJucyB0aGUgaGFuZGxlIG9mIHRoZSBwb3J0YWJsZSBleHBlcmllbmNlLlxuICAgICAgICovXG4gICAgICBhc3luYyBzcGF3bihwaWQ6IFBvcnRhYmxlRXhwZXJpZW5jZVVybik6IFByb21pc2U8UG9ydGFibGVFeHBlcmllbmNlSGFuZGxlPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBvcmlnaW5hbFNlcnZpY2Uuc3Bhd24oeyBwaWQgfSlcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU3RvcHMgYSBwb3J0YWJsZSBleHBlcmllbmNlLiBPbmx5IHRoZSBleGVjdXRvciB0aGF0IHNwYXduZWQgdGhlIHBvcnRhYmxlIGV4cGVyaWVuY2UgaGFzIHBlcm1pc3Npb24gdG8ga2lsbCBpdC5cbiAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gW3BpZF0gLSBUaGUgcG9ydGFibGUgZXhwZXJpZW5jZSBwcm9jZXNzIGlkXG4gICAgICAgKlxuICAgICAgICogUmV0dXJucyB0cnVlIGlmIHdhcyBhYmxlIHRvIGtpbGwgdGhlIHBvcnRhYmxlIGV4cGVyaWVuY2UsIGZhbHNlIGlmIG5vdC5cbiAgICAgICAqL1xuICAgICAgYXN5bmMga2lsbChwaWQ6IFBvcnRhYmxlRXhwZXJpZW5jZVVybik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IG9yaWdpbmFsU2VydmljZS5raWxsKHsgcGlkIH0pKS5zdGF0dXNcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU3RvcHMgYSBwb3J0YWJsZSBleHBlcmllbmNlIGZyb20gdGhlIGN1cnJlbnQgcnVubmluZyBwb3J0YWJsZSBzY2VuZS5cbiAgICAgICAqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgd2FzIGFibGUgdG8ga2lsbCB0aGUgcG9ydGFibGUgZXhwZXJpZW5jZSwgZmFsc2UgaWYgbm90LlxuICAgICAgICovXG4gICAgICBhc3luYyBleGl0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IG9yaWdpbmFsU2VydmljZS5leGl0KHt9KSkuc3RhdHVzXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBSZXR1cm5zIGN1cnJlbnQgcG9ydGFibGUgZXhwZXJpZW5jZXMgbG9hZGVkIHdpdGggaWRzIGFuZCBwYXJlbnRDaWRcbiAgICAgICAqL1xuICAgICAgYXN5bmMgZ2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZCgpOiBQcm9taXNlPFBvcnRhYmxlRXhwZXJpZW5jZUxvYWRlZD4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBvcnRhYmxlRXhwZXJpZW5jZXM6IChhd2FpdCBvcmlnaW5hbFNlcnZpY2UuZ2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZCh7fSkpLmxvYWRlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBLaWxsUmVxdWVzdCB7XG4gIHBpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtpbGxSZXNwb25zZSB7XG4gIHN0YXR1czogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTcGF3blJlcXVlc3Qge1xuICBwaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTcGF3blJlc3BvbnNlIHtcbiAgcGlkOiBzdHJpbmc7XG4gIHBhcmVudENpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB4UmVxdWVzdCB7XG4gIHBpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXF1ZXN0IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkUmVzcG9uc2Uge1xuICBsb2FkZWQ6IFNwYXduUmVzcG9uc2VbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFeGl0UmVxdWVzdCB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhpdFJlc3BvbnNlIHtcbiAgc3RhdHVzOiBib29sZWFuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCYXNlS2lsbFJlcXVlc3QoKTogS2lsbFJlcXVlc3Qge1xuICByZXR1cm4geyBwaWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEtpbGxSZXF1ZXN0ID0ge1xuICBlbmNvZGUobWVzc2FnZTogS2lsbFJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5waWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnBpZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogS2lsbFJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlS2lsbFJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucGlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBLaWxsUmVxdWVzdCB7XG4gICAgcmV0dXJuIHsgcGlkOiBpc1NldChvYmplY3QucGlkKSA/IFN0cmluZyhvYmplY3QucGlkKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogS2lsbFJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucGlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5waWQgPSBtZXNzYWdlLnBpZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8S2lsbFJlcXVlc3Q+LCBJPj4ob2JqZWN0OiBJKTogS2lsbFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlS2lsbFJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLnBpZCA9IG9iamVjdC5waWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VLaWxsUmVzcG9uc2UoKTogS2lsbFJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgc3RhdHVzOiBmYWxzZSB9O1xufVxuXG5leHBvcnQgY29uc3QgS2lsbFJlc3BvbnNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogS2lsbFJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5zdGF0dXMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEtpbGxSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VLaWxsUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uuc3RhdHVzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogS2lsbFJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBzdGF0dXM6IGlzU2V0KG9iamVjdC5zdGF0dXMpID8gQm9vbGVhbihvYmplY3Quc3RhdHVzKSA6IGZhbHNlIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEtpbGxSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5zdGF0dXMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnN0YXR1cyA9IG1lc3NhZ2Uuc3RhdHVzKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxLaWxsUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogS2lsbFJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUtpbGxSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2Uuc3RhdHVzID0gb2JqZWN0LnN0YXR1cyA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTcGF3blJlcXVlc3QoKTogU3Bhd25SZXF1ZXN0IHtcbiAgcmV0dXJuIHsgcGlkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBTcGF3blJlcXVlc3QgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTcGF3blJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5waWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnBpZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU3Bhd25SZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNwYXduUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5waWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFNwYXduUmVxdWVzdCB7XG4gICAgcmV0dXJuIHsgcGlkOiBpc1NldChvYmplY3QucGlkKSA/IFN0cmluZyhvYmplY3QucGlkKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU3Bhd25SZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnBpZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGlkID0gbWVzc2FnZS5waWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNwYXduUmVxdWVzdD4sIEk+PihvYmplY3Q6IEkpOiBTcGF3blJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3Bhd25SZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS5waWQgPSBvYmplY3QucGlkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU3Bhd25SZXNwb25zZSgpOiBTcGF3blJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgcGlkOiBcIlwiLCBwYXJlbnRDaWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNwYXduUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTcGF3blJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucGlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5waWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXJlbnRDaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnBhcmVudENpZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU3Bhd25SZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTcGF3blJlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnBpZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50Q2lkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTcGF3blJlc3BvbnNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGlkOiBpc1NldChvYmplY3QucGlkKSA/IFN0cmluZyhvYmplY3QucGlkKSA6IFwiXCIsXG4gICAgICBwYXJlbnRDaWQ6IGlzU2V0KG9iamVjdC5wYXJlbnRDaWQpID8gU3RyaW5nKG9iamVjdC5wYXJlbnRDaWQpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBTcGF3blJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnBpZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGlkID0gbWVzc2FnZS5waWQpO1xuICAgIG1lc3NhZ2UucGFyZW50Q2lkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXJlbnRDaWQgPSBtZXNzYWdlLnBhcmVudENpZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8U3Bhd25SZXNwb25zZT4sIEk+PihvYmplY3Q6IEkpOiBTcGF3blJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNwYXduUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLnBpZCA9IG9iamVjdC5waWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBhcmVudENpZCA9IG9iamVjdC5wYXJlbnRDaWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQeFJlcXVlc3QoKTogUHhSZXF1ZXN0IHtcbiAgcmV0dXJuIHsgcGlkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQeFJlcXVlc3QgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQeFJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5waWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnBpZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUHhSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVB4UmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5waWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFB4UmVxdWVzdCB7XG4gICAgcmV0dXJuIHsgcGlkOiBpc1NldChvYmplY3QucGlkKSA/IFN0cmluZyhvYmplY3QucGlkKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUHhSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnBpZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGlkID0gbWVzc2FnZS5waWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFB4UmVxdWVzdD4sIEk+PihvYmplY3Q6IEkpOiBQeFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUHhSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS5waWQgPSBvYmplY3QucGlkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlcXVlc3QoKTogR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkUmVxdWVzdCA9IHtcbiAgZW5jb2RlKF86IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXF1ZXN0PiwgST4+KFxuICAgIF86IEksXG4gICk6IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlc3BvbnNlKCk6IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZSB7XG4gIHJldHVybiB7IGxvYWRlZDogW10gfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmxvYWRlZCkge1xuICAgICAgU3Bhd25SZXNwb25zZS5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5sb2FkZWQucHVzaChTcGF3blJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkUmVzcG9uc2Uge1xuICAgIHJldHVybiB7IGxvYWRlZDogQXJyYXkuaXNBcnJheShvYmplY3Q/LmxvYWRlZCkgPyBvYmplY3QubG9hZGVkLm1hcCgoZTogYW55KSA9PiBTcGF3blJlc3BvbnNlLmZyb21KU09OKGUpKSA6IFtdIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgaWYgKG1lc3NhZ2UubG9hZGVkKSB7XG4gICAgICBvYmoubG9hZGVkID0gbWVzc2FnZS5sb2FkZWQubWFwKChlKSA9PiBlID8gU3Bhd25SZXNwb25zZS50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmoubG9hZGVkID0gW107XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZT4sIEk+PihcbiAgICBvYmplY3Q6IEksXG4gICk6IEdldFBvcnRhYmxlRXhwZXJpZW5jZXNMb2FkZWRSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkUmVzcG9uc2UoKTtcbiAgICBtZXNzYWdlLmxvYWRlZCA9IG9iamVjdC5sb2FkZWQ/Lm1hcCgoZSkgPT4gU3Bhd25SZXNwb25zZS5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlRXhpdFJlcXVlc3QoKTogRXhpdFJlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBFeGl0UmVxdWVzdCA9IHtcbiAgZW5jb2RlKF86IEV4aXRSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBFeGl0UmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFeGl0UmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogRXhpdFJlcXVlc3Qge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogRXhpdFJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEV4aXRSZXF1ZXN0PiwgST4+KF86IEkpOiBFeGl0UmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFeGl0UmVxdWVzdCgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUV4aXRSZXNwb25zZSgpOiBFeGl0UmVzcG9uc2Uge1xuICByZXR1cm4geyBzdGF0dXM6IGZhbHNlIH07XG59XG5cbmV4cG9ydCBjb25zdCBFeGl0UmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBFeGl0UmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLnN0YXR1cyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogRXhpdFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUV4aXRSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5zdGF0dXMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBFeGl0UmVzcG9uc2Uge1xuICAgIHJldHVybiB7IHN0YXR1czogaXNTZXQob2JqZWN0LnN0YXR1cykgPyBCb29sZWFuKG9iamVjdC5zdGF0dXMpIDogZmFsc2UgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogRXhpdFJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnN0YXR1cyAhPT0gdW5kZWZpbmVkICYmIChvYmouc3RhdHVzID0gbWVzc2FnZS5zdGF0dXMpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEV4aXRSZXNwb25zZT4sIEk+PihvYmplY3Q6IEkpOiBFeGl0UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRXhpdFJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5zdGF0dXMgPSBvYmplY3Quc3RhdHVzID8/IGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgUG9ydGFibGVFeHBlcmllbmNlc1NlcnZpY2VEZWZpbml0aW9uID0gdHlwZW9mIFBvcnRhYmxlRXhwZXJpZW5jZXNTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydCBjb25zdCBQb3J0YWJsZUV4cGVyaWVuY2VzU2VydmljZURlZmluaXRpb24gPSB7XG4gIG5hbWU6IFwiUG9ydGFibGVFeHBlcmllbmNlc1NlcnZpY2VcIixcbiAgZnVsbE5hbWU6IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzLlBvcnRhYmxlRXhwZXJpZW5jZXNTZXJ2aWNlXCIsXG4gIG1ldGhvZHM6IHtcbiAgICBzcGF3bjoge1xuICAgICAgbmFtZTogXCJTcGF3blwiLFxuICAgICAgcmVxdWVzdFR5cGU6IFNwYXduUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBTcGF3blJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgICBraWxsOiB7XG4gICAgICBuYW1lOiBcIktpbGxcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBLaWxsUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBLaWxsUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICAgIGV4aXQ6IHtcbiAgICAgIG5hbWU6IFwiRXhpdFwiLFxuICAgICAgcmVxdWVzdFR5cGU6IEV4aXRSZXF1ZXN0LFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IEV4aXRSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgZ2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZDoge1xuICAgICAgbmFtZTogXCJHZXRQb3J0YWJsZUV4cGVyaWVuY2VzTG9hZGVkXCIsXG4gICAgICByZXF1ZXN0VHlwZTogR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogR2V0UG9ydGFibGVFeHBlcmllbmNlc0xvYWRlZFJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfSxcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbnR5cGUgQnVpbHRpbiA9IERhdGUgfCBGdW5jdGlvbiB8IFVpbnQ4QXJyYXkgfCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBEZWVwUGFydGlhbDxUPiA9IFQgZXh0ZW5kcyBCdWlsdGluID8gVFxuICA6IFQgZXh0ZW5kcyBBcnJheTxpbmZlciBVPiA/IEFycmF5PERlZXBQYXJ0aWFsPFU+PiA6IFQgZXh0ZW5kcyBSZWFkb25seUFycmF5PGluZmVyIFU+ID8gUmVhZG9ubHlBcnJheTxEZWVwUGFydGlhbDxVPj5cbiAgOiBUIGV4dGVuZHMgeyAkY2FzZTogc3RyaW5nIH0gPyB7IFtLIGluIGtleW9mIE9taXQ8VCwgXCIkY2FzZVwiPl0/OiBEZWVwUGFydGlhbDxUW0tdPiB9ICYgeyAkY2FzZTogVFtcIiRjYXNlXCJdIH1cbiAgOiBUIGV4dGVuZHMge30gPyB7IFtLIGluIGtleW9mIFRdPzogRGVlcFBhcnRpYWw8VFtLXT4gfVxuICA6IFBhcnRpYWw8VD47XG5cbnR5cGUgS2V5c09mVW5pb248VD4gPSBUIGV4dGVuZHMgVCA/IGtleW9mIFQgOiBuZXZlcjtcbmV4cG9ydCB0eXBlIEV4YWN0PFAsIEkgZXh0ZW5kcyBQPiA9IFAgZXh0ZW5kcyBCdWlsdGluID8gUFxuICA6IFAgJiB7IFtLIGluIGtleW9mIFBdOiBFeGFjdDxQW0tdLCBJW0tdPiB9ICYgeyBbSyBpbiBFeGNsdWRlPGtleW9mIEksIEtleXNPZlVuaW9uPFA+Pl06IG5ldmVyIH07XG5cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0ICogYXMgY29kZWdlbiBmcm9tICdAZGNsL3JwYy9kaXN0L2NvZGVnZW4nXG5pbXBvcnQgeyBScGNDbGllbnRQb3J0IH0gZnJvbSAnQGRjbC9ycGMvZGlzdC90eXBlcydcbmltcG9ydCB7IFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZURlZmluaXRpb24gfSBmcm9tICdAZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvcmVzdHJpY3RlZF9hY3Rpb25zLmdlbidcblxuZXhwb3J0IHR5cGUgUG9zaXRpb25UeXBlID0geyB4OiBudW1iZXI7IHk6IG51bWJlcjsgejogbnVtYmVyIH1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXN0cmljdGVkQWN0aW9uc1NlcnZpY2VDbGllbnQge1xuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlPENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIHJldHVybiBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZURlZmluaXRpb24+KFxuICAgICAgY2xpZW50UG9ydCxcbiAgICAgIFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZURlZmluaXRpb25cbiAgICApXG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlTGVnYWN5PENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIGNvbnN0IG9yaWdpbmFsU2VydmljZSA9IGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgUmVzdHJpY3RlZEFjdGlvbnNTZXJ2aWNlRGVmaW5pdGlvbj4oXG4gICAgICBjbGllbnRQb3J0LFxuICAgICAgUmVzdHJpY3RlZEFjdGlvbnNTZXJ2aWNlRGVmaW5pdGlvblxuICAgIClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5vcmlnaW5hbFNlcnZpY2UsXG4gICAgICAvKipcbiAgICAgICAqIG1vdmUgcGxheWVyIHRvIGEgcG9zaXRpb24gaW5zaWRlIHRoZSBzY2VuZVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBwb3NpdGlvbiBQb3NpdGlvblR5cGVcbiAgICAgICAqIEBwYXJhbSBjYW1lcmFUYXJnZXQgUG9zaXRpb25UeXBlXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIG1vdmVQbGF5ZXJUbyhuZXdQb3NpdGlvbjogUG9zaXRpb25UeXBlLCBjYW1lcmFUYXJnZXQ/OiBQb3NpdGlvblR5cGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLm1vdmVQbGF5ZXJUbyh7XG4gICAgICAgICAgbmV3UmVsYXRpdmVQb3NpdGlvbjogbmV3UG9zaXRpb24sXG4gICAgICAgICAgY2FtZXJhVGFyZ2V0OiBjYW1lcmFUYXJnZXQgfHwgdW5kZWZpbmVkXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiB0cmlnZ2VyIGFuIGVtb3RlIG9uIHRoZSBjdXJyZW50IHBsYXllclxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBlbW90ZSB0aGUgZW1vdGUgdG8gcGVyZm9ybVxuICAgICAgICovXG4gICAgICBhc3luYyB0cmlnZ2VyRW1vdGUoZW1vdGU6IHsgcHJlZGVmaW5lZDogc3RyaW5nIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLnRyaWdnZXJFbW90ZSh7IHByZWRlZmluZWRFbW90ZTogZW1vdGUucHJlZGVmaW5lZCB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcblxuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yMyB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB6OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW92ZVBsYXllclRvUmVzcG9uc2Uge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdmVQbGF5ZXJUb1JlcXVlc3Qge1xuICBuZXdSZWxhdGl2ZVBvc2l0aW9uOiBWZWN0b3IzIHwgdW5kZWZpbmVkO1xuICBjYW1lcmFUYXJnZXQ/OiBWZWN0b3IzIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyaWdnZXJFbW90ZVJlc3BvbnNlIHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmlnZ2VyRW1vdGVSZXF1ZXN0IHtcbiAgcHJlZGVmaW5lZEVtb3RlOiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWZWN0b3IzKCk6IFZlY3RvcjMge1xuICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBWZWN0b3IzID0ge1xuICBlbmNvZGUobWVzc2FnZTogVmVjdG9yMywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UueCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnogIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uueik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZWN0b3IzKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFZlY3RvcjMge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBpc1NldChvYmplY3QueCkgPyBOdW1iZXIob2JqZWN0LngpIDogMCxcbiAgICAgIHk6IGlzU2V0KG9iamVjdC55KSA/IE51bWJlcihvYmplY3QueSkgOiAwLFxuICAgICAgejogaXNTZXQob2JqZWN0LnopID8gTnVtYmVyKG9iamVjdC56KSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogVmVjdG9yMyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS54ICE9PSB1bmRlZmluZWQgJiYgKG9iai54ID0gbWVzc2FnZS54KTtcbiAgICBtZXNzYWdlLnkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnkgPSBtZXNzYWdlLnkpO1xuICAgIG1lc3NhZ2UueiAhPT0gdW5kZWZpbmVkICYmIChvYmoueiA9IG1lc3NhZ2Uueik7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8VmVjdG9yMz4sIEk+PihvYmplY3Q6IEkpOiBWZWN0b3IzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlY3RvcjMoKTtcbiAgICBtZXNzYWdlLnggPSBvYmplY3QueCA/PyAwO1xuICAgIG1lc3NhZ2UueSA9IG9iamVjdC55ID8/IDA7XG4gICAgbWVzc2FnZS56ID0gb2JqZWN0LnogPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNb3ZlUGxheWVyVG9SZXNwb25zZSgpOiBNb3ZlUGxheWVyVG9SZXNwb25zZSB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IE1vdmVQbGF5ZXJUb1Jlc3BvbnNlID0ge1xuICBlbmNvZGUoXzogTW92ZVBsYXllclRvUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IE1vdmVQbGF5ZXJUb1Jlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1vdmVQbGF5ZXJUb1Jlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBNb3ZlUGxheWVyVG9SZXNwb25zZSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBNb3ZlUGxheWVyVG9SZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8TW92ZVBsYXllclRvUmVzcG9uc2U+LCBJPj4oXzogSSk6IE1vdmVQbGF5ZXJUb1Jlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1vdmVQbGF5ZXJUb1Jlc3BvbnNlKCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlTW92ZVBsYXllclRvUmVxdWVzdCgpOiBNb3ZlUGxheWVyVG9SZXF1ZXN0IHtcbiAgcmV0dXJuIHsgbmV3UmVsYXRpdmVQb3NpdGlvbjogdW5kZWZpbmVkLCBjYW1lcmFUYXJnZXQ6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgTW92ZVBsYXllclRvUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IE1vdmVQbGF5ZXJUb1JlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5uZXdSZWxhdGl2ZVBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UubmV3UmVsYXRpdmVQb3NpdGlvbiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2FtZXJhVGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuY2FtZXJhVGFyZ2V0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IE1vdmVQbGF5ZXJUb1JlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTW92ZVBsYXllclRvUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5uZXdSZWxhdGl2ZVBvc2l0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5jYW1lcmFUYXJnZXQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IE1vdmVQbGF5ZXJUb1JlcXVlc3Qge1xuICAgIHJldHVybiB7XG4gICAgICBuZXdSZWxhdGl2ZVBvc2l0aW9uOiBpc1NldChvYmplY3QubmV3UmVsYXRpdmVQb3NpdGlvbikgPyBWZWN0b3IzLmZyb21KU09OKG9iamVjdC5uZXdSZWxhdGl2ZVBvc2l0aW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgIGNhbWVyYVRhcmdldDogaXNTZXQob2JqZWN0LmNhbWVyYVRhcmdldCkgPyBWZWN0b3IzLmZyb21KU09OKG9iamVjdC5jYW1lcmFUYXJnZXQpIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IE1vdmVQbGF5ZXJUb1JlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubmV3UmVsYXRpdmVQb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLm5ld1JlbGF0aXZlUG9zaXRpb24gPSBtZXNzYWdlLm5ld1JlbGF0aXZlUG9zaXRpb24gPyBWZWN0b3IzLnRvSlNPTihtZXNzYWdlLm5ld1JlbGF0aXZlUG9zaXRpb24pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmNhbWVyYVRhcmdldCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmNhbWVyYVRhcmdldCA9IG1lc3NhZ2UuY2FtZXJhVGFyZ2V0ID8gVmVjdG9yMy50b0pTT04obWVzc2FnZS5jYW1lcmFUYXJnZXQpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxNb3ZlUGxheWVyVG9SZXF1ZXN0PiwgST4+KG9iamVjdDogSSk6IE1vdmVQbGF5ZXJUb1JlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTW92ZVBsYXllclRvUmVxdWVzdCgpO1xuICAgIG1lc3NhZ2UubmV3UmVsYXRpdmVQb3NpdGlvbiA9IChvYmplY3QubmV3UmVsYXRpdmVQb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5uZXdSZWxhdGl2ZVBvc2l0aW9uICE9PSBudWxsKVxuICAgICAgPyBWZWN0b3IzLmZyb21QYXJ0aWFsKG9iamVjdC5uZXdSZWxhdGl2ZVBvc2l0aW9uKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5jYW1lcmFUYXJnZXQgPSAob2JqZWN0LmNhbWVyYVRhcmdldCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jYW1lcmFUYXJnZXQgIT09IG51bGwpXG4gICAgICA/IFZlY3RvcjMuZnJvbVBhcnRpYWwob2JqZWN0LmNhbWVyYVRhcmdldClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVRyaWdnZXJFbW90ZVJlc3BvbnNlKCk6IFRyaWdnZXJFbW90ZVJlc3BvbnNlIHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgVHJpZ2dlckVtb3RlUmVzcG9uc2UgPSB7XG4gIGVuY29kZShfOiBUcmlnZ2VyRW1vdGVSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogVHJpZ2dlckVtb3RlUmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHJpZ2dlckVtb3RlUmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IFRyaWdnZXJFbW90ZVJlc3BvbnNlIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IFRyaWdnZXJFbW90ZVJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxUcmlnZ2VyRW1vdGVSZXNwb25zZT4sIEk+PihfOiBJKTogVHJpZ2dlckVtb3RlUmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHJpZ2dlckVtb3RlUmVzcG9uc2UoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUcmlnZ2VyRW1vdGVSZXF1ZXN0KCk6IFRyaWdnZXJFbW90ZVJlcXVlc3Qge1xuICByZXR1cm4geyBwcmVkZWZpbmVkRW1vdGU6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFRyaWdnZXJFbW90ZVJlcXVlc3QgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBUcmlnZ2VyRW1vdGVSZXF1ZXN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucHJlZGVmaW5lZEVtb3RlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wcmVkZWZpbmVkRW1vdGUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFRyaWdnZXJFbW90ZVJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHJpZ2dlckVtb3RlUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5wcmVkZWZpbmVkRW1vdGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFRyaWdnZXJFbW90ZVJlcXVlc3Qge1xuICAgIHJldHVybiB7IHByZWRlZmluZWRFbW90ZTogaXNTZXQob2JqZWN0LnByZWRlZmluZWRFbW90ZSkgPyBTdHJpbmcob2JqZWN0LnByZWRlZmluZWRFbW90ZSkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFRyaWdnZXJFbW90ZVJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucHJlZGVmaW5lZEVtb3RlICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcmVkZWZpbmVkRW1vdGUgPSBtZXNzYWdlLnByZWRlZmluZWRFbW90ZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8VHJpZ2dlckVtb3RlUmVxdWVzdD4sIEk+PihvYmplY3Q6IEkpOiBUcmlnZ2VyRW1vdGVSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRyaWdnZXJFbW90ZVJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLnByZWRlZmluZWRFbW90ZSA9IG9iamVjdC5wcmVkZWZpbmVkRW1vdGUgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZURlZmluaXRpb24gPSB0eXBlb2YgUmVzdHJpY3RlZEFjdGlvbnNTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydCBjb25zdCBSZXN0cmljdGVkQWN0aW9uc1NlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIlJlc3RyaWN0ZWRBY3Rpb25zU2VydmljZVwiLFxuICBmdWxsTmFtZTogXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXMuUmVzdHJpY3RlZEFjdGlvbnNTZXJ2aWNlXCIsXG4gIG1ldGhvZHM6IHtcbiAgICBtb3ZlUGxheWVyVG86IHtcbiAgICAgIG5hbWU6IFwiTW92ZVBsYXllclRvXCIsXG4gICAgICByZXF1ZXN0VHlwZTogTW92ZVBsYXllclRvUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBNb3ZlUGxheWVyVG9SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgdHJpZ2dlckVtb3RlOiB7XG4gICAgICBuYW1lOiBcIlRyaWdnZXJFbW90ZVwiLFxuICAgICAgcmVxdWVzdFR5cGU6IFRyaWdnZXJFbW90ZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogVHJpZ2dlckVtb3RlUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHsgU2lnbmVkRmV0Y2hTZXJ2aWNlRGVmaW5pdGlvbiwgRmxhdEZldGNoSW5pdCB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9zaWduZWRfZmV0Y2guZ2VuJ1xuXG5leHBvcnQgdHlwZSBPcmlnaW5hbEZsYXRGZXRjaFJlc3BvbnNlID0ge1xuICBvazogYm9vbGVhblxuICBzdGF0dXM6IG51bWJlclxuICBzdGF0dXNUZXh0OiBzdHJpbmdcbiAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPlxuICBqc29uPzogYW55XG4gIHRleHQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgQm9keVR5cGUgPSAnanNvbicgfCAndGV4dCdcblxuZXhwb3J0IHR5cGUgT3JpZ2luYWxGbGF0RmV0Y2hJbml0ID0gUmVxdWVzdEluaXQgJiB7IHJlc3BvbnNlQm9keVR5cGU/OiBCb2R5VHlwZSB9XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2lnbmVkRmV0Y2hTZXJ2aWNlQ2xpZW50IHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZTxDb250ZXh0IGV4dGVuZHMge30+KGNsaWVudFBvcnQ6IFJwY0NsaWVudFBvcnQpIHtcbiAgICByZXR1cm4gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBTaWduZWRGZXRjaFNlcnZpY2VEZWZpbml0aW9uPihjbGllbnRQb3J0LCBTaWduZWRGZXRjaFNlcnZpY2VEZWZpbml0aW9uKVxuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxlZ2FjeTxDb250ZXh0IGV4dGVuZHMge30+KGNsaWVudFBvcnQ6IFJwY0NsaWVudFBvcnQpIHtcbiAgICBjb25zdCBvcmlnaW5hbFNlcnZpY2UgPSBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIFNpZ25lZEZldGNoU2VydmljZURlZmluaXRpb24+KFxuICAgICAgY2xpZW50UG9ydCxcbiAgICAgIFNpZ25lZEZldGNoU2VydmljZURlZmluaXRpb25cbiAgICApXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3JpZ2luYWxTZXJ2aWNlLFxuICAgICAgYXN5bmMgc2lnbmVkRmV0Y2godXJsOiBzdHJpbmcsIG9yaWdpbmFsSW5pdD86IE9yaWdpbmFsRmxhdEZldGNoSW5pdCk6IFByb21pc2U8T3JpZ2luYWxGbGF0RmV0Y2hSZXNwb25zZT4ge1xuICAgICAgICBsZXQgaW5pdDogRmxhdEZldGNoSW5pdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuICAgICAgICBpZiAob3JpZ2luYWxJbml0KSB7XG4gICAgICAgICAgaW5pdCA9IHsgaGVhZGVyczoge30gfVxuICAgICAgICAgIGlmIChvcmlnaW5hbEluaXQuaGVhZGVycyAmJiB0eXBlb2Ygb3JpZ2luYWxJbml0LmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpbml0LmhlYWRlcnMgPSBvcmlnaW5hbEluaXQuaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvcmlnaW5hbEluaXQuYm9keSAmJiB0eXBlb2Ygb3JpZ2luYWxJbml0LmJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbml0LmJvZHkgPSBvcmlnaW5hbEluaXQuYm9keVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob3JpZ2luYWxJbml0Lm1ldGhvZCAmJiB0eXBlb2Ygb3JpZ2luYWxJbml0Lm1ldGhvZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGluaXQubWV0aG9kID0gb3JpZ2luYWxJbml0Lm1ldGhvZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZUJvZHlUeXBlID0gb3JpZ2luYWxJbml0Py5yZXNwb25zZUJvZHlUeXBlIHx8ICd0ZXh0J1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcmlnaW5hbFNlcnZpY2Uuc2lnbmVkRmV0Y2goeyB1cmwsIGluaXQgfSlcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG9rOiByZXN1bHQub2ssXG4gICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3VsdC5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICAgIGpzb246IHJlc3BvbnNlQm9keVR5cGUgPT09ICdqc29uJyA/IEpTT04ucGFyc2UocmVzdWx0LmJvZHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHRleHQ6IHJlc3BvbnNlQm9keVR5cGUgPT09ICd0ZXh0JyA/IHJlc3VsdC5ib2R5IDogdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsYXRGZXRjaEluaXQge1xuICBtZXRob2Q/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGJvZHk/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhdEZldGNoSW5pdF9IZWFkZXJzRW50cnkge1xuICBrZXk6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGbGF0RmV0Y2hSZXNwb25zZSB7XG4gIG9rOiBib29sZWFuO1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICBib2R5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5IHtcbiAga2V5OiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmVkRmV0Y2hSZXF1ZXN0IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGluaXQ/OiBGbGF0RmV0Y2hJbml0IHwgdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCYXNlRmxhdEZldGNoSW5pdCgpOiBGbGF0RmV0Y2hJbml0IHtcbiAgcmV0dXJuIHsgbWV0aG9kOiB1bmRlZmluZWQsIGJvZHk6IHVuZGVmaW5lZCwgaGVhZGVyczoge30gfTtcbn1cblxuZXhwb3J0IGNvbnN0IEZsYXRGZXRjaEluaXQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBGbGF0RmV0Y2hJbml0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UubWV0aG9kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm1ldGhvZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuYm9keSk7XG4gICAgfVxuICAgIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UuaGVhZGVycykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBGbGF0RmV0Y2hJbml0X0hlYWRlcnNFbnRyeS5lbmNvZGUoeyBrZXk6IGtleSBhcyBhbnksIHZhbHVlIH0sIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBGbGF0RmV0Y2hJbml0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUZsYXRGZXRjaEluaXQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UubWV0aG9kID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5ib2R5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY29uc3QgZW50cnkzID0gRmxhdEZldGNoSW5pdF9IZWFkZXJzRW50cnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBpZiAoZW50cnkzLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaGVhZGVyc1tlbnRyeTMua2V5XSA9IGVudHJ5My52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEZsYXRGZXRjaEluaXQge1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IGlzU2V0KG9iamVjdC5tZXRob2QpID8gU3RyaW5nKG9iamVjdC5tZXRob2QpIDogdW5kZWZpbmVkLFxuICAgICAgYm9keTogaXNTZXQob2JqZWN0LmJvZHkpID8gU3RyaW5nKG9iamVjdC5ib2R5KSA6IHVuZGVmaW5lZCxcbiAgICAgIGhlYWRlcnM6IGlzT2JqZWN0KG9iamVjdC5oZWFkZXJzKVxuICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG9iamVjdC5oZWFkZXJzKS5yZWR1Y2U8eyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfT4oKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgYWNjW2tleV0gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IHt9LFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEZsYXRGZXRjaEluaXQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubWV0aG9kICE9PSB1bmRlZmluZWQgJiYgKG9iai5tZXRob2QgPSBtZXNzYWdlLm1ldGhvZCk7XG4gICAgbWVzc2FnZS5ib2R5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5ib2R5ID0gbWVzc2FnZS5ib2R5KTtcbiAgICBvYmouaGVhZGVycyA9IHt9O1xuICAgIGlmIChtZXNzYWdlLmhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UuaGVhZGVycykuZm9yRWFjaCgoW2ssIHZdKSA9PiB7XG4gICAgICAgIG9iai5oZWFkZXJzW2tdID0gdjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxGbGF0RmV0Y2hJbml0PiwgST4+KG9iamVjdDogSSk6IEZsYXRGZXRjaEluaXQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRmxhdEZldGNoSW5pdCgpO1xuICAgIG1lc3NhZ2UubWV0aG9kID0gb2JqZWN0Lm1ldGhvZCA/PyB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5ib2R5ID0gb2JqZWN0LmJvZHkgPz8gdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuaGVhZGVycyA9IE9iamVjdC5lbnRyaWVzKG9iamVjdC5oZWFkZXJzID8/IHt9KS5yZWR1Y2U8eyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfT4oKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhY2Nba2V5XSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGbGF0RmV0Y2hJbml0X0hlYWRlcnNFbnRyeSgpOiBGbGF0RmV0Y2hJbml0X0hlYWRlcnNFbnRyeSB7XG4gIHJldHVybiB7IGtleTogXCJcIiwgdmFsdWU6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEZsYXRGZXRjaEluaXRfSGVhZGVyc0VudHJ5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogRmxhdEZldGNoSW5pdF9IZWFkZXJzRW50cnksIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5rZXkgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmtleSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogRmxhdEZldGNoSW5pdF9IZWFkZXJzRW50cnkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRmxhdEZldGNoSW5pdF9IZWFkZXJzRW50cnkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogRmxhdEZldGNoSW5pdF9IZWFkZXJzRW50cnkge1xuICAgIHJldHVybiB7IGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBTdHJpbmcob2JqZWN0LmtleSkgOiBcIlwiLCB2YWx1ZTogaXNTZXQob2JqZWN0LnZhbHVlKSA/IFN0cmluZyhvYmplY3QudmFsdWUpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBGbGF0RmV0Y2hJbml0X0hlYWRlcnNFbnRyeSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IG1lc3NhZ2Uua2V5KTtcbiAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IG1lc3NhZ2UudmFsdWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEZsYXRGZXRjaEluaXRfSGVhZGVyc0VudHJ5PiwgST4+KG9iamVjdDogSSk6IEZsYXRGZXRjaEluaXRfSGVhZGVyc0VudHJ5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUZsYXRGZXRjaEluaXRfSGVhZGVyc0VudHJ5KCk7XG4gICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5ID8/IFwiXCI7XG4gICAgbWVzc2FnZS52YWx1ZSA9IG9iamVjdC52YWx1ZSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUZsYXRGZXRjaFJlc3BvbnNlKCk6IEZsYXRGZXRjaFJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgb2s6IGZhbHNlLCBzdGF0dXM6IDAsIHN0YXR1c1RleHQ6IFwiXCIsIGhlYWRlcnM6IHt9LCBib2R5OiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBGbGF0RmV0Y2hSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEZsYXRGZXRjaFJlc3BvbnNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uub2sgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLm9rKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3RhdHVzICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLnN0YXR1cyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnN0YXR1c1RleHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgICBPYmplY3QuZW50cmllcyhtZXNzYWdlLmhlYWRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5LmVuY29kZSh7IGtleToga2V5IGFzIGFueSwgdmFsdWUgfSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9KTtcbiAgICBpZiAobWVzc2FnZS5ib2R5ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS5ib2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBGbGF0RmV0Y2hSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VGbGF0RmV0Y2hSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5vayA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnN0YXR1cyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5zdGF0dXNUZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgY29uc3QgZW50cnk0ID0gRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgaWYgKGVudHJ5NC52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmhlYWRlcnNbZW50cnk0LmtleV0gPSBlbnRyeTQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS5ib2R5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBGbGF0RmV0Y2hSZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9rOiBpc1NldChvYmplY3Qub2spID8gQm9vbGVhbihvYmplY3Qub2spIDogZmFsc2UsXG4gICAgICBzdGF0dXM6IGlzU2V0KG9iamVjdC5zdGF0dXMpID8gTnVtYmVyKG9iamVjdC5zdGF0dXMpIDogMCxcbiAgICAgIHN0YXR1c1RleHQ6IGlzU2V0KG9iamVjdC5zdGF0dXNUZXh0KSA/IFN0cmluZyhvYmplY3Quc3RhdHVzVGV4dCkgOiBcIlwiLFxuICAgICAgaGVhZGVyczogaXNPYmplY3Qob2JqZWN0LmhlYWRlcnMpXG4gICAgICAgID8gT2JqZWN0LmVudHJpZXMob2JqZWN0LmhlYWRlcnMpLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9PigoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBhY2Nba2V5XSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pXG4gICAgICAgIDoge30sXG4gICAgICBib2R5OiBpc1NldChvYmplY3QuYm9keSkgPyBTdHJpbmcob2JqZWN0LmJvZHkpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBGbGF0RmV0Y2hSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5vayAhPT0gdW5kZWZpbmVkICYmIChvYmoub2sgPSBtZXNzYWdlLm9rKTtcbiAgICBtZXNzYWdlLnN0YXR1cyAhPT0gdW5kZWZpbmVkICYmIChvYmouc3RhdHVzID0gTWF0aC5yb3VuZChtZXNzYWdlLnN0YXR1cykpO1xuICAgIG1lc3NhZ2Uuc3RhdHVzVGV4dCAhPT0gdW5kZWZpbmVkICYmIChvYmouc3RhdHVzVGV4dCA9IG1lc3NhZ2Uuc3RhdHVzVGV4dCk7XG4gICAgb2JqLmhlYWRlcnMgPSB7fTtcbiAgICBpZiAobWVzc2FnZS5oZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtZXNzYWdlLmhlYWRlcnMpLmZvckVhY2goKFtrLCB2XSkgPT4ge1xuICAgICAgICBvYmouaGVhZGVyc1trXSA9IHY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbWVzc2FnZS5ib2R5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5ib2R5ID0gbWVzc2FnZS5ib2R5KTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxGbGF0RmV0Y2hSZXNwb25zZT4sIEk+PihvYmplY3Q6IEkpOiBGbGF0RmV0Y2hSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VGbGF0RmV0Y2hSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2Uub2sgPSBvYmplY3Qub2sgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5zdGF0dXMgPSBvYmplY3Quc3RhdHVzID8/IDA7XG4gICAgbWVzc2FnZS5zdGF0dXNUZXh0ID0gb2JqZWN0LnN0YXR1c1RleHQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmhlYWRlcnMgPSBPYmplY3QuZW50cmllcyhvYmplY3QuaGVhZGVycyA/PyB7fSkucmVkdWNlPHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0+KChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWNjW2tleV0gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgbWVzc2FnZS5ib2R5ID0gb2JqZWN0LmJvZHkgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGbGF0RmV0Y2hSZXNwb25zZV9IZWFkZXJzRW50cnkoKTogRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5IHtcbiAgcmV0dXJuIHsga2V5OiBcIlwiLCB2YWx1ZTogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uua2V5ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5rZXkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEZsYXRGZXRjaFJlc3BvbnNlX0hlYWRlcnNFbnRyeSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VGbGF0RmV0Y2hSZXNwb25zZV9IZWFkZXJzRW50cnkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5IHtcbiAgICByZXR1cm4geyBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gU3RyaW5nKG9iamVjdC5rZXkpIDogXCJcIiwgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gbWVzc2FnZS5rZXkpO1xuICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8RmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5PiwgST4+KFxuICAgIG9iamVjdDogSSxcbiAgKTogRmxhdEZldGNoUmVzcG9uc2VfSGVhZGVyc0VudHJ5IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUZsYXRGZXRjaFJlc3BvbnNlX0hlYWRlcnNFbnRyeSgpO1xuICAgIG1lc3NhZ2Uua2V5ID0gb2JqZWN0LmtleSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWUgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaWduZWRGZXRjaFJlcXVlc3QoKTogU2lnbmVkRmV0Y2hSZXF1ZXN0IHtcbiAgcmV0dXJuIHsgdXJsOiBcIlwiLCBpbml0OiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNpZ25lZEZldGNoUmVxdWVzdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFNpZ25lZEZldGNoUmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnVybCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXJsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBGbGF0RmV0Y2hJbml0LmVuY29kZShtZXNzYWdlLmluaXQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogU2lnbmVkRmV0Y2hSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNpZ25lZEZldGNoUmVxdWVzdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS51cmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmluaXQgPSBGbGF0RmV0Y2hJbml0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFNpZ25lZEZldGNoUmVxdWVzdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVybDogaXNTZXQob2JqZWN0LnVybCkgPyBTdHJpbmcob2JqZWN0LnVybCkgOiBcIlwiLFxuICAgICAgaW5pdDogaXNTZXQob2JqZWN0LmluaXQpID8gRmxhdEZldGNoSW5pdC5mcm9tSlNPTihvYmplY3QuaW5pdCkgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU2lnbmVkRmV0Y2hSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnVybCAhPT0gdW5kZWZpbmVkICYmIChvYmoudXJsID0gbWVzc2FnZS51cmwpO1xuICAgIG1lc3NhZ2UuaW5pdCAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5pdCA9IG1lc3NhZ2UuaW5pdCA/IEZsYXRGZXRjaEluaXQudG9KU09OKG1lc3NhZ2UuaW5pdCkgOiB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFNpZ25lZEZldGNoUmVxdWVzdD4sIEk+PihvYmplY3Q6IEkpOiBTaWduZWRGZXRjaFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmVkRmV0Y2hSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS51cmwgPSBvYmplY3QudXJsID8/IFwiXCI7XG4gICAgbWVzc2FnZS5pbml0ID0gKG9iamVjdC5pbml0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmluaXQgIT09IG51bGwpXG4gICAgICA/IEZsYXRGZXRjaEluaXQuZnJvbVBhcnRpYWwob2JqZWN0LmluaXQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFNpZ25lZEZldGNoU2VydmljZURlZmluaXRpb24gPSB0eXBlb2YgU2lnbmVkRmV0Y2hTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydCBjb25zdCBTaWduZWRGZXRjaFNlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIlNpZ25lZEZldGNoU2VydmljZVwiLFxuICBmdWxsTmFtZTogXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXMuU2lnbmVkRmV0Y2hTZXJ2aWNlXCIsXG4gIG1ldGhvZHM6IHtcbiAgICBzaWduZWRGZXRjaDoge1xuICAgICAgbmFtZTogXCJTaWduZWRGZXRjaFwiLFxuICAgICAgcmVxdWVzdFR5cGU6IFNpZ25lZEZldGNoUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgcmVzcG9uc2VUeXBlOiBGbGF0RmV0Y2hSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0ICogYXMgY29kZWdlbiBmcm9tICdAZGNsL3JwYy9kaXN0L2NvZGVnZW4nXG5pbXBvcnQgeyBScGNDbGllbnRQb3J0IH0gZnJvbSAnQGRjbC9ycGMvZGlzdC90eXBlcydcbmltcG9ydCB7IFNvY2lhbENvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9zb2NpYWxfY29udHJvbGxlci5nZW4nXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTb2NpYWxDb250cm9sbGVyU2VydmljZUNsaWVudDxDb250ZXh0IGV4dGVuZHMge30+KGNsaWVudFBvcnQ6IFJwY0NsaWVudFBvcnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxTZXJ2aWNlID0gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBTb2NpYWxDb250cm9sbGVyU2VydmljZURlZmluaXRpb24+KFxuICAgIGNsaWVudFBvcnQsXG4gICAgU29jaWFsQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uXG4gIClcblxuICByZXR1cm4gb3JpZ2luYWxTZXJ2aWNlXG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJkZWNlbnRyYWxhbmQua2VybmVsLmFwaXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJbml0UmVxdWVzdCB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU29jaWFsRXZlbnQge1xuICBldmVudDogc3RyaW5nO1xuICBwYXlsb2FkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0QXZhdGFyRXZlbnRzUmVzcG9uc2Uge1xuICBldmVudHM6IFNvY2lhbEV2ZW50W107XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VJbml0UmVxdWVzdCgpOiBJbml0UmVxdWVzdCB7XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IEluaXRSZXF1ZXN0ID0ge1xuICBlbmNvZGUoXzogSW5pdFJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEluaXRSZXF1ZXN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUluaXRSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBJbml0UmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBJbml0UmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8SW5pdFJlcXVlc3Q+LCBJPj4oXzogSSk6IEluaXRSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUluaXRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlU29jaWFsRXZlbnQoKTogU29jaWFsRXZlbnQge1xuICByZXR1cm4geyBldmVudDogXCJcIiwgcGF5bG9hZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgU29jaWFsRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBTb2NpYWxFdmVudCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmV2ZW50ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5ldmVudCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBheWxvYWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnBheWxvYWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFNvY2lhbEV2ZW50IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNvY2lhbEV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBTb2NpYWxFdmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50OiBpc1NldChvYmplY3QuZXZlbnQpID8gU3RyaW5nKG9iamVjdC5ldmVudCkgOiBcIlwiLFxuICAgICAgcGF5bG9hZDogaXNTZXQob2JqZWN0LnBheWxvYWQpID8gU3RyaW5nKG9iamVjdC5wYXlsb2FkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogU29jaWFsRXZlbnQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZXZlbnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmV2ZW50ID0gbWVzc2FnZS5ldmVudCk7XG4gICAgbWVzc2FnZS5wYXlsb2FkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXlsb2FkID0gbWVzc2FnZS5wYXlsb2FkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxTb2NpYWxFdmVudD4sIEk+PihvYmplY3Q6IEkpOiBTb2NpYWxFdmVudCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTb2NpYWxFdmVudCgpO1xuICAgIG1lc3NhZ2UuZXZlbnQgPSBvYmplY3QuZXZlbnQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBheWxvYWQgPSBvYmplY3QucGF5bG9hZCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldEF2YXRhckV2ZW50c1Jlc3BvbnNlKCk6IEdldEF2YXRhckV2ZW50c1Jlc3BvbnNlIHtcbiAgcmV0dXJuIHsgZXZlbnRzOiBbXSB9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0QXZhdGFyRXZlbnRzUmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBHZXRBdmF0YXJFdmVudHNSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmV2ZW50cykge1xuICAgICAgU29jaWFsRXZlbnQuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldEF2YXRhckV2ZW50c1Jlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEF2YXRhckV2ZW50c1Jlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmV2ZW50cy5wdXNoKFNvY2lhbEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBHZXRBdmF0YXJFdmVudHNSZXNwb25zZSB7XG4gICAgcmV0dXJuIHsgZXZlbnRzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZXZlbnRzKSA/IG9iamVjdC5ldmVudHMubWFwKChlOiBhbnkpID0+IFNvY2lhbEV2ZW50LmZyb21KU09OKGUpKSA6IFtdIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdldEF2YXRhckV2ZW50c1Jlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBpZiAobWVzc2FnZS5ldmVudHMpIHtcbiAgICAgIG9iai5ldmVudHMgPSBtZXNzYWdlLmV2ZW50cy5tYXAoKGUpID0+IGUgPyBTb2NpYWxFdmVudC50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmouZXZlbnRzID0gW107XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldEF2YXRhckV2ZW50c1Jlc3BvbnNlPiwgST4+KG9iamVjdDogSSk6IEdldEF2YXRhckV2ZW50c1Jlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldEF2YXRhckV2ZW50c1Jlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5ldmVudHMgPSBvYmplY3QuZXZlbnRzPy5tYXAoKGUpID0+IFNvY2lhbEV2ZW50LmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFNvY2lhbENvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbiA9IHR5cGVvZiBTb2NpYWxDb250cm9sbGVyU2VydmljZURlZmluaXRpb247XG5leHBvcnQgY29uc3QgU29jaWFsQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIlNvY2lhbENvbnRyb2xsZXJTZXJ2aWNlXCIsXG4gIGZ1bGxOYW1lOiBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpcy5Tb2NpYWxDb250cm9sbGVyU2VydmljZVwiLFxuICBtZXRob2RzOiB7XG4gICAgcHVsbEF2YXRhckV2ZW50czoge1xuICAgICAgbmFtZTogXCJQdWxsQXZhdGFyRXZlbnRzXCIsXG4gICAgICByZXF1ZXN0VHlwZTogSW5pdFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogR2V0QXZhdGFyRXZlbnRzUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHsgVXNlckFjdGlvbk1vZHVsZVNlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL3VzZXJfYWN0aW9uX21vZHVsZS5nZW4nXG5cbmV4cG9ydCBuYW1lc3BhY2UgVXNlckFjdGlvbk1vZHVsZVNlcnZpY2VDbGllbnQge1xuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlPENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIHJldHVybiBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIFVzZXJBY3Rpb25Nb2R1bGVTZXJ2aWNlRGVmaW5pdGlvbj4oXG4gICAgICBjbGllbnRQb3J0LFxuICAgICAgVXNlckFjdGlvbk1vZHVsZVNlcnZpY2VEZWZpbml0aW9uXG4gICAgKVxuICB9XG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMZWdhY3k8Q29udGV4dCBleHRlbmRzIHt9PihjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0KSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTZXJ2aWNlID0gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBVc2VyQWN0aW9uTW9kdWxlU2VydmljZURlZmluaXRpb24+KFxuICAgICAgY2xpZW50UG9ydCxcbiAgICAgIFVzZXJBY3Rpb25Nb2R1bGVTZXJ2aWNlRGVmaW5pdGlvblxuICAgIClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5vcmlnaW5hbFNlcnZpY2UsXG4gICAgICBhc3luYyByZXF1ZXN0VGVsZXBvcnQoZGVzdGluYXRpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCBvcmlnaW5hbFNlcnZpY2UucmVxdWVzdFRlbGVwb3J0KHsgZGVzdGluYXRpb24gfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RUZWxlcG9ydFJlcXVlc3Qge1xuICBkZXN0aW5hdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RUZWxlcG9ydFJlc3BvbnNlIHtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3RUZWxlcG9ydFJlcXVlc3QoKTogUmVxdWVzdFRlbGVwb3J0UmVxdWVzdCB7XG4gIHJldHVybiB7IGRlc3RpbmF0aW9uOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBSZXF1ZXN0VGVsZXBvcnRSZXF1ZXN0ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUmVxdWVzdFRlbGVwb3J0UmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmRlc3RpbmF0aW9uICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5kZXN0aW5hdGlvbik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUmVxdWVzdFRlbGVwb3J0UmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0VGVsZXBvcnRSZXF1ZXN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmRlc3RpbmF0aW9uID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBSZXF1ZXN0VGVsZXBvcnRSZXF1ZXN0IHtcbiAgICByZXR1cm4geyBkZXN0aW5hdGlvbjogaXNTZXQob2JqZWN0LmRlc3RpbmF0aW9uKSA/IFN0cmluZyhvYmplY3QuZGVzdGluYXRpb24pIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBSZXF1ZXN0VGVsZXBvcnRSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmRlc3RpbmF0aW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai5kZXN0aW5hdGlvbiA9IG1lc3NhZ2UuZGVzdGluYXRpb24pO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFJlcXVlc3RUZWxlcG9ydFJlcXVlc3Q+LCBJPj4ob2JqZWN0OiBJKTogUmVxdWVzdFRlbGVwb3J0UmVxdWVzdCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0VGVsZXBvcnRSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS5kZXN0aW5hdGlvbiA9IG9iamVjdC5kZXN0aW5hdGlvbiA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3RUZWxlcG9ydFJlc3BvbnNlKCk6IFJlcXVlc3RUZWxlcG9ydFJlc3BvbnNlIHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgUmVxdWVzdFRlbGVwb3J0UmVzcG9uc2UgPSB7XG4gIGVuY29kZShfOiBSZXF1ZXN0VGVsZXBvcnRSZXNwb25zZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUmVxdWVzdFRlbGVwb3J0UmVzcG9uc2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdFRlbGVwb3J0UmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IFJlcXVlc3RUZWxlcG9ydFJlc3BvbnNlIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IFJlcXVlc3RUZWxlcG9ydFJlc3BvbnNlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxSZXF1ZXN0VGVsZXBvcnRSZXNwb25zZT4sIEk+PihfOiBJKTogUmVxdWVzdFRlbGVwb3J0UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdFRlbGVwb3J0UmVzcG9uc2UoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFVzZXJBY3Rpb25Nb2R1bGVTZXJ2aWNlRGVmaW5pdGlvbiA9IHR5cGVvZiBVc2VyQWN0aW9uTW9kdWxlU2VydmljZURlZmluaXRpb247XG5leHBvcnQgY29uc3QgVXNlckFjdGlvbk1vZHVsZVNlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIlVzZXJBY3Rpb25Nb2R1bGVTZXJ2aWNlXCIsXG4gIGZ1bGxOYW1lOiBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpcy5Vc2VyQWN0aW9uTW9kdWxlU2VydmljZVwiLFxuICBtZXRob2RzOiB7XG4gICAgcmVxdWVzdFRlbGVwb3J0OiB7XG4gICAgICBuYW1lOiBcIlJlcXVlc3RUZWxlcG9ydFwiLFxuICAgICAgcmVxdWVzdFR5cGU6IFJlcXVlc3RUZWxlcG9ydFJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogUmVxdWVzdFRlbGVwb3J0UmVzcG9uc2UsXG4gICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9LFxufSBhcyBjb25zdDtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb2RlZ2VuIGZyb20gJ0BkY2wvcnBjL2Rpc3QvY29kZWdlbidcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBTbmFwc2hvdHMgfSBmcm9tICdAZGNsL3NjaGVtYXMvZGlzdC9wbGF0Zm9ybS9wcm9maWxlL2F2YXRhcidcbmltcG9ydCB7IFVzZXJJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uIH0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL3VzZXJfaWRlbnRpdHkuZ2VuJ1xuXG4vKiogVEhJUyBUWVBFIElTIEFQUEVORCBPTkxZIEJFQ0FVU0UgSVQgSVMgVVNFRCBGT1IgVEhFIFNESyBBcGlzICovXG5leHBvcnQgdHlwZSBVc2VyRGF0YSA9IHtcbiAgZGlzcGxheU5hbWU6IHN0cmluZ1xuICBwdWJsaWNLZXk6IHN0cmluZyB8IG51bGxcbiAgaGFzQ29ubmVjdGVkV2ViMzogYm9vbGVhblxuICB1c2VySWQ6IHN0cmluZ1xuICB2ZXJzaW9uOiBudW1iZXJcbiAgYXZhdGFyOiBBdmF0YXJGb3JVc2VyRGF0YVxufVxuXG5leHBvcnQgdHlwZSBBdmF0YXJGb3JVc2VyRGF0YSA9IHtcbiAgYm9keVNoYXBlOiBzdHJpbmdcbiAgc2tpbkNvbG9yOiBzdHJpbmdcbiAgaGFpckNvbG9yOiBzdHJpbmdcbiAgZXllQ29sb3I6IHN0cmluZ1xuICB3ZWFyYWJsZXM6IHN0cmluZ1tdXG4gIGVtb3Rlcz86IHtcbiAgICBzbG90OiBudW1iZXJcbiAgICB1cm46IHN0cmluZ1xuICB9W11cbiAgc25hcHNob3RzOiBTbmFwc2hvdHNcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBVc2VySWRlbnRpdHlTZXJ2aWNlQ2xpZW50IHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZTxDb250ZXh0IGV4dGVuZHMge30+KGNsaWVudFBvcnQ6IFJwY0NsaWVudFBvcnQpIHtcbiAgICByZXR1cm4gY29kZWdlbi5sb2FkU2VydmljZTxDb250ZXh0LCBVc2VySWRlbnRpdHlTZXJ2aWNlRGVmaW5pdGlvbj4oY2xpZW50UG9ydCwgVXNlcklkZW50aXR5U2VydmljZURlZmluaXRpb24pXG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlTGVnYWN5PENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICAgIGNvbnN0IG9yaWdpbmFsU2VydmljZSA9IGNvZGVnZW4ubG9hZFNlcnZpY2U8Q29udGV4dCwgVXNlcklkZW50aXR5U2VydmljZURlZmluaXRpb24+KFxuICAgICAgY2xpZW50UG9ydCxcbiAgICAgIFVzZXJJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uXG4gICAgKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm9yaWdpbmFsU2VydmljZSxcbiAgICAgIGFzeW5jIGdldFVzZXJQdWJsaWNLZXkoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IHJlYWxSZXNwb25zZSA9IGF3YWl0IG9yaWdpbmFsU2VydmljZS5nZXRVc2VyUHVibGljS2V5KHt9KVxuICAgICAgICByZXR1cm4gcmVhbFJlc3BvbnNlLmFkZHJlc3MgfHwgbnVsbFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGdldFVzZXJEYXRhKCk6IFByb21pc2U8VXNlckRhdGEgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IHJlYWxSZXNwb25zZSA9IGF3YWl0IG9yaWdpbmFsU2VydmljZS5nZXRVc2VyRGF0YSh7fSlcbiAgICAgICAgaWYgKCFyZWFsUmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yZWFsUmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICBhdmF0YXI6IHtcbiAgICAgICAgICAgIC4uLnJlYWxSZXNwb25zZS5kYXRhLmF2YXRhciEsXG4gICAgICAgICAgICBzbmFwc2hvdHM6IHJlYWxSZXNwb25zZS5kYXRhLmF2YXRhciEuc25hcHNob3RzIVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHVibGljS2V5OiByZWFsUmVzcG9uc2UuZGF0YS5wdWJsaWNLZXkgfHwgbnVsbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVXNlckRhdGEgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3Nkay91c2VyX2RhdGEuZ2VuXCI7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImRlY2VudHJhbGFuZC5rZXJuZWwuYXBpc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdldFVzZXJEYXRhUmVxdWVzdCB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VXNlckRhdGFSZXNwb25zZSB7XG4gIGRhdGE/OiBVc2VyRGF0YSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRVc2VyUHVibGljS2V5UmVxdWVzdCB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VXNlclB1YmxpY0tleVJlc3BvbnNlIHtcbiAgYWRkcmVzcz86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFVzZXJEYXRhUmVxdWVzdCgpOiBHZXRVc2VyRGF0YVJlcXVlc3Qge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBHZXRVc2VyRGF0YVJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBHZXRVc2VyRGF0YVJlcXVlc3QsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFVzZXJEYXRhUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRVc2VyRGF0YVJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEdldFVzZXJEYXRhUmVxdWVzdCB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIHRvSlNPTihfOiBHZXRVc2VyRGF0YVJlcXVlc3QpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFVzZXJEYXRhUmVxdWVzdD4sIEk+PihfOiBJKTogR2V0VXNlckRhdGFSZXF1ZXN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFVzZXJEYXRhUmVxdWVzdCgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFVzZXJEYXRhUmVzcG9uc2UoKTogR2V0VXNlckRhdGFSZXNwb25zZSB7XG4gIHJldHVybiB7IGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0VXNlckRhdGFSZXNwb25zZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IEdldFVzZXJEYXRhUmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFVzZXJEYXRhLmVuY29kZShtZXNzYWdlLmRhdGEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0VXNlckRhdGFSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRVc2VyRGF0YVJlc3BvbnNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmRhdGEgPSBVc2VyRGF0YS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBHZXRVc2VyRGF0YVJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBkYXRhOiBpc1NldChvYmplY3QuZGF0YSkgPyBVc2VyRGF0YS5mcm9tSlNPTihvYmplY3QuZGF0YSkgOiB1bmRlZmluZWQgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogR2V0VXNlckRhdGFSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQgJiYgKG9iai5kYXRhID0gbWVzc2FnZS5kYXRhID8gVXNlckRhdGEudG9KU09OKG1lc3NhZ2UuZGF0YSkgOiB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEdldFVzZXJEYXRhUmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogR2V0VXNlckRhdGFSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRVc2VyRGF0YVJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5kYXRhID0gKG9iamVjdC5kYXRhICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmRhdGEgIT09IG51bGwpID8gVXNlckRhdGEuZnJvbVBhcnRpYWwob2JqZWN0LmRhdGEpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFVzZXJQdWJsaWNLZXlSZXF1ZXN0KCk6IEdldFVzZXJQdWJsaWNLZXlSZXF1ZXN0IHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgR2V0VXNlclB1YmxpY0tleVJlcXVlc3QgPSB7XG4gIGVuY29kZShfOiBHZXRVc2VyUHVibGljS2V5UmVxdWVzdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogR2V0VXNlclB1YmxpY0tleVJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0VXNlclB1YmxpY0tleVJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IEdldFVzZXJQdWJsaWNLZXlSZXF1ZXN0IHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IEdldFVzZXJQdWJsaWNLZXlSZXF1ZXN0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRVc2VyUHVibGljS2V5UmVxdWVzdD4sIEk+PihfOiBJKTogR2V0VXNlclB1YmxpY0tleVJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0VXNlclB1YmxpY0tleVJlcXVlc3QoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHZXRVc2VyUHVibGljS2V5UmVzcG9uc2UoKTogR2V0VXNlclB1YmxpY0tleVJlc3BvbnNlIHtcbiAgcmV0dXJuIHsgYWRkcmVzczogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBHZXRVc2VyUHVibGljS2V5UmVzcG9uc2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBHZXRVc2VyUHVibGljS2V5UmVzcG9uc2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEdldFVzZXJQdWJsaWNLZXlSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRVc2VyUHVibGljS2V5UmVzcG9uc2UoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuYWRkcmVzcyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogR2V0VXNlclB1YmxpY0tleVJlc3BvbnNlIHtcbiAgICByZXR1cm4geyBhZGRyZXNzOiBpc1NldChvYmplY3QuYWRkcmVzcykgPyBTdHJpbmcob2JqZWN0LmFkZHJlc3MpIDogdW5kZWZpbmVkIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEdldFVzZXJQdWJsaWNLZXlSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGRyZXNzID0gbWVzc2FnZS5hZGRyZXNzKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxHZXRVc2VyUHVibGljS2V5UmVzcG9uc2U+LCBJPj4ob2JqZWN0OiBJKTogR2V0VXNlclB1YmxpY0tleVJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFVzZXJQdWJsaWNLZXlSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UuYWRkcmVzcyA9IG9iamVjdC5hZGRyZXNzID8/IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFVzZXJJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uID0gdHlwZW9mIFVzZXJJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uO1xuZXhwb3J0IGNvbnN0IFVzZXJJZGVudGl0eVNlcnZpY2VEZWZpbml0aW9uID0ge1xuICBuYW1lOiBcIlVzZXJJZGVudGl0eVNlcnZpY2VcIixcbiAgZnVsbE5hbWU6IFwiZGVjZW50cmFsYW5kLmtlcm5lbC5hcGlzLlVzZXJJZGVudGl0eVNlcnZpY2VcIixcbiAgbWV0aG9kczoge1xuICAgIGdldFVzZXJQdWJsaWNLZXk6IHtcbiAgICAgIG5hbWU6IFwiR2V0VXNlclB1YmxpY0tleVwiLFxuICAgICAgcmVxdWVzdFR5cGU6IEdldFVzZXJQdWJsaWNLZXlSZXF1ZXN0LFxuICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICByZXNwb25zZVR5cGU6IEdldFVzZXJQdWJsaWNLZXlSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gICAgZ2V0VXNlckRhdGE6IHtcbiAgICAgIG5hbWU6IFwiR2V0VXNlckRhdGFcIixcbiAgICAgIHJlcXVlc3RUeXBlOiBHZXRVc2VyRGF0YVJlcXVlc3QsXG4gICAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogR2V0VXNlckRhdGFSZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG50eXBlIEJ1aWx0aW4gPSBEYXRlIHwgRnVuY3Rpb24gfCBVaW50OEFycmF5IHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgRGVlcFBhcnRpYWw8VD4gPSBUIGV4dGVuZHMgQnVpbHRpbiA/IFRcbiAgOiBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBBcnJheTxEZWVwUGFydGlhbDxVPj4gOiBUIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPiA/IFJlYWRvbmx5QXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIHsgJGNhc2U6IHN0cmluZyB9ID8geyBbSyBpbiBrZXlvZiBPbWl0PFQsIFwiJGNhc2VcIj5dPzogRGVlcFBhcnRpYWw8VFtLXT4gfSAmIHsgJGNhc2U6IFRbXCIkY2FzZVwiXSB9XG4gIDogVCBleHRlbmRzIHt9ID8geyBbSyBpbiBrZXlvZiBUXT86IERlZXBQYXJ0aWFsPFRbS10+IH1cbiAgOiBQYXJ0aWFsPFQ+O1xuXG50eXBlIEtleXNPZlVuaW9uPFQ+ID0gVCBleHRlbmRzIFQgPyBrZXlvZiBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBFeGFjdDxQLCBJIGV4dGVuZHMgUD4gPSBQIGV4dGVuZHMgQnVpbHRpbiA/IFBcbiAgOiBQICYgeyBbSyBpbiBrZXlvZiBQXTogRXhhY3Q8UFtLXSwgSVtLXT4gfSAmIHsgW0sgaW4gRXhjbHVkZTxrZXlvZiBJLCBLZXlzT2ZVbmlvbjxQPj5dOiBuZXZlciB9O1xuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCAqIGFzIGNvZGVnZW4gZnJvbSAnQGRjbC9ycGMvZGlzdC9jb2RlZ2VuJ1xuaW1wb3J0IHsgUnBjQ2xpZW50UG9ydCB9IGZyb20gJ0BkY2wvcnBjL2Rpc3QvdHlwZXMnXG5pbXBvcnQgeyBFdGhlcmV1bUNvbnRyb2xsZXJTZXJ2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9ldGhlcmV1bV9jb250cm9sbGVyLmdlbidcblxuZXhwb3J0IHR5cGUgUlBDU2VuZGFibGVNZXNzYWdlID0ge1xuICBqc29ucnBjOiAnMi4wJ1xuICBpZDogbnVtYmVyXG4gIG1ldGhvZDogc3RyaW5nXG4gIHBhcmFtczogYW55W11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlRGljdCB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGVnYWN5V2ViM1Byb3ZpZGVyPENvbnRleHQgZXh0ZW5kcyB7fT4oY2xpZW50UG9ydDogUnBjQ2xpZW50UG9ydCkge1xuICBjb25zdCBvcmlnaW5hbFNlcnZpY2UgPSBjb2RlZ2VuLmxvYWRTZXJ2aWNlPENvbnRleHQsIEV0aGVyZXVtQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uPihcbiAgICBjbGllbnRQb3J0LFxuICAgIEV0aGVyZXVtQ29udHJvbGxlclNlcnZpY2VEZWZpbml0aW9uXG4gIClcblxuICBhc3luYyBmdW5jdGlvbiByZXF1ZXN0KG1lc3NhZ2U6IFJQQ1NlbmRhYmxlTWVzc2FnZSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3JpZ2luYWxTZXJ2aWNlLnNlbmRBc3luYyh7XG4gICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgIG1ldGhvZDogbWVzc2FnZS5tZXRob2QsXG4gICAgICBqc29uUGFyYW1zOiBKU09OLnN0cmluZ2lmeShtZXNzYWdlLnBhcmFtcylcbiAgICB9KVxuICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlLmpzb25BbnlSZXNwb25zZSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYXN5bmMgZ2V0UHJvdmlkZXIoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8vIEBpbnRlcm5hbFxuICAgICAgICBzZW5kKG1lc3NhZ2U6IFJQQ1NlbmRhYmxlTWVzc2FnZSwgY2FsbGJhY2s/OiAoZXJyb3I6IEVycm9yIHwgbnVsbCwgcmVzdWx0PzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgICAgaWYgKG1lc3NhZ2UgJiYgY2FsbGJhY2sgJiYgY2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgcmVxdWVzdChtZXNzYWdlKVxuICAgICAgICAgICAgICAudGhlbigoeDogYW55KSA9PiBjYWxsYmFjayhudWxsLCB4KSlcbiAgICAgICAgICAgICAgLmNhdGNoKGNhbGxiYWNrKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlY2VudHJhbGFuZCBwcm92aWRlciBvbmx5IGFsbG93cyBhc3luYyBjYWxscycpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZW5kQXN5bmMobWVzc2FnZTogUlBDU2VuZGFibGVNZXNzYWdlLCBjYWxsYmFjazogKGVycm9yOiBFcnJvciB8IG51bGwsIHJlc3VsdD86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICAgIHJlcXVlc3QobWVzc2FnZSlcbiAgICAgICAgICAgIC50aGVuKCh4OiBhbnkpID0+IGNhbGxiYWNrKG51bGwsIHgpKVxuICAgICAgICAgICAgLmNhdGNoKGNhbGxiYWNrKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiB9IGZyb20gJ0BkY2wvZWNzLW1hdGgnXG5pbXBvcnQgeyBFQVR5cGUgfSBmcm9tICdAZGNsL3Byb3RvY29sL291dC10cy9kZWNlbnRyYWxhbmQva2VybmVsL2FwaXMvZW5naW5lX2FwaS5nZW4nXG5pbXBvcnQgeyBQQlRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9yZW5kZXJlci9lbmdpbmVfaW50ZXJmYWNlLmdlbidcblxudHlwZSBUcmFuc2Zvcm0gPSB7XG4gIHBvc2l0aW9uOiBWZWN0b3IzO1xuICByb3RhdGlvbjogUXVhdGVybmlvbjtcbiAgc2NhbGU6IFZlY3RvcjM7XG59XG5cbmNvbnN0IFZFQ1RPUjNfTUVNQkVSX0NBUCA9IDEwMDAwMDAgLy8gVmFsdWUgbWVhc3VyZWQgd2hlbiBnZW5lc2lzIHBsYXphIGdsaXRjaCB0cmlnZ2VyZWQgYSBwaHlzaWNzIGVuZ2luZSBicmVha2Rvd25cbmNvbnN0IHBiVHJhbnNmb3JtOiBUcmFuc2Zvcm0gPSB7XG4gIHBvc2l0aW9uOiBWZWN0b3IzLlplcm8oKSxcbiAgcm90YXRpb246IFF1YXRlcm5pb24uSWRlbnRpdHksXG4gIHNjYWxlOiBWZWN0b3IzLk9uZSgpXG59IGFzIGNvbnN0XG5cbmNvbnN0IFRSQU5TRk9STV9DTEFTU19JRCA9IDFcblxuY29uc3QgdHJhbnNmb3JtRGF0YTogQXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoNDApXG5jb25zdCB0cmFuc2Zvcm1WaWV3OiBEYXRhVmlldyA9IG5ldyBEYXRhVmlldyh0cmFuc2Zvcm1EYXRhKVxuXG5leHBvcnQgY29uc3QgY29tcG9uZW50U2VyaWFsaXplT3B0ID0ge1xuICB1c2VCaW5hcnlUcmFuc2Zvcm06IHRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUEJPYmplY3QoY2xhc3NJZDogbnVtYmVyLCBqc29uOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoY2xhc3NJZCA9PT0gVFJBTlNGT1JNX0NMQVNTX0lEKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtOiBUcmFuc2Zvcm0gPSBKU09OLnBhcnNlKGpzb24pXG4gICAgaWYgKCFjb21wb25lbnRTZXJpYWxpemVPcHQudXNlQmluYXJ5VHJhbnNmb3JtKSByZXR1cm4gc2VyaWFsaXplVHJhbnNmb3JtKHRyYW5zZm9ybSlcbiAgICBlbHNlIHJldHVybiBzZXJpYWxpemVUcmFuc2Zvcm1Ob1Byb3RvYnVmZih0cmFuc2Zvcm0pXG4gIH1cblxuICByZXR1cm4ganNvblxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVUcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBzdHJpbmcge1xuICAvLyBQb3NpdGlvblxuICAvLyBJZiB3ZSBkb24ndCBjYXAgdGhlc2UgdmVjdG9ycywgc2NlbmVzIG1heSB0cmlnZ2VyIGEgcGh5c2ljcyBicmVha2Rvd24gd2hlbiBtZXNzYWdpbmcgZW5vcm1vdXMgdmFsdWVzXG4gIHBiVHJhbnNmb3JtLnBvc2l0aW9uLnNldChcbiAgICBNYXRoLmZyb3VuZCh0cmFuc2Zvcm0ucG9zaXRpb24ueCksXG4gICAgTWF0aC5mcm91bmQodHJhbnNmb3JtLnBvc2l0aW9uLnkpLFxuICAgIE1hdGguZnJvdW5kKHRyYW5zZm9ybS5wb3NpdGlvbi56KVxuICApXG4gIGNhcFZlY3RvcihwYlRyYW5zZm9ybS5wb3NpdGlvbiwgVkVDVE9SM19NRU1CRVJfQ0FQKVxuXG4gIC8vIFJvdGF0aW9uXG4gICBwYlRyYW5zZm9ybS5yb3RhdGlvbi5jb3B5RnJvbSh0cmFuc2Zvcm0ucm90YXRpb24pXG5cbiAgLy8gU2NhbGVcbiAgcGJUcmFuc2Zvcm0uc2NhbGUuc2V0KE1hdGguZnJvdW5kKHRyYW5zZm9ybS5zY2FsZS54KSwgTWF0aC5mcm91bmQodHJhbnNmb3JtLnNjYWxlLnkpLCBNYXRoLmZyb3VuZCh0cmFuc2Zvcm0uc2NhbGUueikpXG4gIGNhcFZlY3RvcihwYlRyYW5zZm9ybS5zY2FsZSwgVkVDVE9SM19NRU1CRVJfQ0FQKVxuXG4gIGNvbnN0IGFycmF5QnVmZmVyOiBVaW50OEFycmF5ID0gUEJUcmFuc2Zvcm0uZW5jb2RlKHBiVHJhbnNmb3JtKS5maW5pc2goKVxuICByZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmFycmF5QnVmZmVyKSlcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplVHJhbnNmb3JtTm9Qcm90b2J1ZmYodHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBzdHJpbmcge1xuICAvLyBQb3NpdGlvblxuICAvLyBJZiB3ZSBkb24ndCBjYXAgdGhlc2UgdmVjdG9ycywgc2NlbmVzIG1heSB0cmlnZ2VyIGEgcGh5c2ljcyBicmVha2Rvd24gd2hlbiBtZXNzYWdpbmcgZW5vcm1vdXMgdmFsdWVzXG4gIGNvbnN0IGNhcHBlZFZlY3RvciA9IG5ldyBWZWN0b3IzKFxuICAgIE1hdGguZnJvdW5kKHRyYW5zZm9ybS5wb3NpdGlvbi54KSxcbiAgICBNYXRoLmZyb3VuZCh0cmFuc2Zvcm0ucG9zaXRpb24ueSksXG4gICAgTWF0aC5mcm91bmQodHJhbnNmb3JtLnBvc2l0aW9uLnopXG4gIClcbiAgY2FwVmVjdG9yKGNhcHBlZFZlY3RvciwgVkVDVE9SM19NRU1CRVJfQ0FQKVxuXG4gIGxldCBvZmZzZXQ6IG51bWJlciA9IDBcbiAgdHJhbnNmb3JtVmlldy5zZXRGbG9hdDMyKG9mZnNldCwgY2FwcGVkVmVjdG9yLngsIHRydWUpXG4gIHRyYW5zZm9ybVZpZXcuc2V0RmxvYXQzMigob2Zmc2V0ICs9IDQpLCBjYXBwZWRWZWN0b3IueSwgdHJ1ZSlcbiAgdHJhbnNmb3JtVmlldy5zZXRGbG9hdDMyKChvZmZzZXQgKz0gNCksIGNhcHBlZFZlY3Rvci56LCB0cnVlKVxuXG4gIC8vIFJvdGF0aW9uXG4gIHRyYW5zZm9ybVZpZXcuc2V0RmxvYXQzMigob2Zmc2V0ICs9IDQpLCB0cmFuc2Zvcm0ucm90YXRpb24ueCwgdHJ1ZSlcbiAgdHJhbnNmb3JtVmlldy5zZXRGbG9hdDMyKChvZmZzZXQgKz0gNCksIHRyYW5zZm9ybS5yb3RhdGlvbi55LCB0cnVlKVxuICB0cmFuc2Zvcm1WaWV3LnNldEZsb2F0MzIoKG9mZnNldCArPSA0KSwgdHJhbnNmb3JtLnJvdGF0aW9uLnosIHRydWUpXG4gIHRyYW5zZm9ybVZpZXcuc2V0RmxvYXQzMigob2Zmc2V0ICs9IDQpLCB0cmFuc2Zvcm0ucm90YXRpb24udywgdHJ1ZSlcblxuICAvLyBTY2FsZVxuICBjYXBwZWRWZWN0b3Iuc2V0KE1hdGguZnJvdW5kKHRyYW5zZm9ybS5zY2FsZS54KSwgTWF0aC5mcm91bmQodHJhbnNmb3JtLnNjYWxlLnkpLCBNYXRoLmZyb3VuZCh0cmFuc2Zvcm0uc2NhbGUueikpXG4gIGNhcFZlY3RvcihjYXBwZWRWZWN0b3IsIFZFQ1RPUjNfTUVNQkVSX0NBUClcbiAgdHJhbnNmb3JtVmlldy5zZXRGbG9hdDMyKChvZmZzZXQgKz0gNCksIGNhcHBlZFZlY3Rvci54LCB0cnVlKVxuICB0cmFuc2Zvcm1WaWV3LnNldEZsb2F0MzIoKG9mZnNldCArPSA0KSwgY2FwcGVkVmVjdG9yLnksIHRydWUpXG4gIHRyYW5zZm9ybVZpZXcuc2V0RmxvYXQzMigob2Zmc2V0ICs9IDQpLCBjYXBwZWRWZWN0b3IueiwgdHJ1ZSlcblxuICBjb25zdCBhcnJheUJ1ZmZlcjogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KHRyYW5zZm9ybURhdGEpXG4gIGNvbnN0IGJhc2U2NFZhbHVlID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmFycmF5QnVmZmVyKSlcbiAgcmV0dXJuIGJhc2U2NFZhbHVlXG59XG5cbmZ1bmN0aW9uIGNhcFZlY3Rvcih0YXJnZXRWZWN0b3I6IFZlY3RvcjMsIGNhcDogbnVtYmVyKSB7XG4gIGlmIChNYXRoLmFicyh0YXJnZXRWZWN0b3IueCkgPiBjYXApIHtcbiAgICB0YXJnZXRWZWN0b3IueCA9IGNhcCAqIE1hdGguc2lnbih0YXJnZXRWZWN0b3IueClcbiAgfVxuXG4gIGlmIChNYXRoLmFicyh0YXJnZXRWZWN0b3IueSkgPiBjYXApIHtcbiAgICB0YXJnZXRWZWN0b3IueSA9IGNhcCAqIE1hdGguc2lnbih0YXJnZXRWZWN0b3IueSlcbiAgfVxuXG4gIGlmIChNYXRoLmFicyh0YXJnZXRWZWN0b3IueikgPiBjYXApIHtcbiAgICB0YXJnZXRWZWN0b3IueiA9IGNhcCAqIE1hdGguc2lnbih0YXJnZXRWZWN0b3IueilcbiAgfVxufVxuXG5jb25zdCBkYXRhVXJsUkUgPSAvXmRhdGE6W14vXStcXC9bXjtdKztiYXNlNjQsL1xuY29uc3QgYmxvYlJFID0gL15ibG9iOmh0dHAvXG5cbmV4cG9ydCBjb25zdCBjb21wb25lbnROYW1lUkUgPSAvXihlbmdpbmVcXC4pL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZU1hcHBpbmcobWFwcGluZzogc3RyaW5nIHwgdW5kZWZpbmVkLCBtYXBwaW5nTmFtZTogc3RyaW5nLCBiYXNlVXJsOiBzdHJpbmcpIHtcbiAgbGV0IHVybCA9IG1hcHBpbmdOYW1lXG5cbiAgaWYgKG1hcHBpbmcpIHtcbiAgICB1cmwgPSBtYXBwaW5nXG4gIH1cblxuICBpZiAoZGF0YVVybFJFLnRlc3QodXJsKSkge1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIGlmIChibG9iUkUudGVzdCh1cmwpKSB7XG4gICAgcmV0dXJuIHVybFxuICB9XG5cbiAgcmV0dXJuIChiYXNlVXJsLmVuZHNXaXRoKCcvJykgPyBiYXNlVXJsIDogYmFzZVVybCArICcvJykgKyB1cmxcbn1cblxuLy8gTk9URShCcmlhbik6IFRoZSBpZGVhIGlzIHRvIG1hcCBhbGwgc3RyaW5nIGlkcyB1c2VkIGJ5IHRoaXMgc2NlbmUgdG8gaW50c1xuLy8gICAgICAgICAgICAgIHNvIHdlIGF2b2lkIHNlbmRpbmcvcHJvY2Vzc2luZyBiaWcgaWRzIGxpa2UgXCJ4eHh4eC14eHh4eC14eHh4eC14eHh4eFwiXG4vLyAgICAgICAgICAgICAgdGhhdCBhcmUgdXNlZCBieSBpLmUuIHJheWNhc3RpbmcgcXVlcmllcy5cbmNvbnN0IGlkVG9OdW1iZXJTdG9yZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XG5leHBvcnQgY29uc3QgbnVtYmVyVG9JZFN0b3JlOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge31cbmxldCBpZFRvTnVtYmVyU3RvcmVDb3VudGVyOiBudW1iZXIgPSAxMCAvLyBTdGFydGluZyBpbiAxMCwgdG8gbGVhdmUgcm9vbSBmb3Igc3BlY2lhbCBjYXNlcyAoc3VjaCBhcyB0aGUgcm9vdCBlbnRpdHkpXG5cbmZ1bmN0aW9uIGFkZElkVG9TdG9yYWdlKGlkOiBzdHJpbmcsIGlkQXNOdW1iZXI6IG51bWJlcikge1xuICBpZFRvTnVtYmVyU3RvcmVbaWRdID0gaWRBc051bWJlclxuICBudW1iZXJUb0lkU3RvcmVbaWRBc051bWJlcl0gPSBpZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWRBc051bWJlcihpZDogc3RyaW5nKTogbnVtYmVyIHtcbiAgaWYgKCFpZFRvTnVtYmVyU3RvcmUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgaWRUb051bWJlclN0b3JlQ291bnRlcisrXG4gICAgYWRkSWRUb1N0b3JhZ2UoaWQsIGlkVG9OdW1iZXJTdG9yZUNvdW50ZXIpXG4gICAgcmV0dXJuIGlkVG9OdW1iZXJTdG9yZUNvdW50ZXJcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaWRUb051bWJlclN0b3JlW2lkXVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0TWVzc2FnZXNGaW5pc2hlZCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBFQVR5cGUuRUFUX0lOSVRfTUVTU0FHRVNfRklOSVNIRUQsXG4gICAgdGFnOiAnc2NlbmUnLFxuICAgIHBheWxvYWQ6IHsgaW5pdE1lc3NhZ2VzRmluaXNoZWQ6IHt9IH1cbiAgfVxufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBFbXB0eSB9IGZyb20gXCIuLi8uLi9nb29nbGUvcHJvdG9idWYvZW1wdHkuZ2VuXCI7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImRlY2VudHJhbGFuZC5yZW5kZXJlclwiO1xuXG5leHBvcnQgZW51bSBQQlVJU3RhY2tPcmllbnRhdGlvbiB7XG4gIFZFUlRJQ0FMID0gMCxcbiAgSE9SSVpPTlRBTCA9IDEsXG4gIFVOUkVDT0dOSVpFRCA9IC0xLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcEJVSVN0YWNrT3JpZW50YXRpb25Gcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCVUlTdGFja09yaWVudGF0aW9uIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIlZFUlRJQ0FMXCI6XG4gICAgICByZXR1cm4gUEJVSVN0YWNrT3JpZW50YXRpb24uVkVSVElDQUw7XG4gICAgY2FzZSAxOlxuICAgIGNhc2UgXCJIT1JJWk9OVEFMXCI6XG4gICAgICByZXR1cm4gUEJVSVN0YWNrT3JpZW50YXRpb24uSE9SSVpPTlRBTDtcbiAgICBjYXNlIC0xOlxuICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFBCVUlTdGFja09yaWVudGF0aW9uLlVOUkVDT0dOSVpFRDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcEJVSVN0YWNrT3JpZW50YXRpb25Ub0pTT04ob2JqZWN0OiBQQlVJU3RhY2tPcmllbnRhdGlvbik6IHN0cmluZyB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSBQQlVJU3RhY2tPcmllbnRhdGlvbi5WRVJUSUNBTDpcbiAgICAgIHJldHVybiBcIlZFUlRJQ0FMXCI7XG4gICAgY2FzZSBQQlVJU3RhY2tPcmllbnRhdGlvbi5IT1JJWk9OVEFMOlxuICAgICAgcmV0dXJuIFwiSE9SSVpPTlRBTFwiO1xuICAgIGNhc2UgUEJVSVN0YWNrT3JpZW50YXRpb24uVU5SRUNPR05JWkVEOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJVTlJFQ09HTklaRURcIjtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQ3JlYXRlRW50aXR5IHtcbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlJlbW92ZUVudGl0eSB7XG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJTZXRFbnRpdHlQYXJlbnQge1xuICBlbnRpdHlJZDogc3RyaW5nO1xuICBwYXJlbnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQ29tcG9uZW50UmVtb3ZlZCB7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbXBvbmVudCB7XG4gIG1vZGVsPzpcbiAgICB8IHsgJGNhc2U6IFwidHJhbnNmb3JtXCI7IHRyYW5zZm9ybTogUEJUcmFuc2Zvcm0gfVxuICAgIHwgeyAkY2FzZTogXCJ1dWlkQ2FsbGJhY2tcIjsgdXVpZENhbGxiYWNrOiBQQlVVSURDYWxsYmFjayB9XG4gICAgfCB7ICRjYXNlOiBcImJveFwiOyBib3g6IFBCQm94U2hhcGUgfVxuICAgIHwgeyAkY2FzZTogXCJzcGhlcmVcIjsgc3BoZXJlOiBQQlNwaGVyZVNoYXBlIH1cbiAgICB8IHsgJGNhc2U6IFwicGxhbmVcIjsgcGxhbmU6IFBCUGxhbmVTaGFwZSB9XG4gICAgfCB7ICRjYXNlOiBcImNvbmVcIjsgY29uZTogUEJDb25lU2hhcGUgfVxuICAgIHwgeyAkY2FzZTogXCJjeWxpbmRlclwiOyBjeWxpbmRlcjogUEJDeWxpbmRlclNoYXBlIH1cbiAgICB8IHsgJGNhc2U6IFwidGV4dFwiOyB0ZXh0OiBQQlRleHRTaGFwZSB9XG4gICAgfCB7ICRjYXNlOiBcIm5mdFwiOyBuZnQ6IFBCTkZUU2hhcGUgfVxuICAgIHwgeyAkY2FzZTogXCJjb250YWluZXJSZWN0XCI7IGNvbnRhaW5lclJlY3Q6IFBCVUlDb250YWluZXJSZWN0IH1cbiAgICB8IHsgJGNhc2U6IFwiY29udGFpbmVyU3RhY2tcIjsgY29udGFpbmVyU3RhY2s6IFBCVUlDb250YWluZXJTdGFjayB9XG4gICAgfCB7ICRjYXNlOiBcInVpVGV4dFNoYXBlXCI7IHVpVGV4dFNoYXBlOiBQQlVJVGV4dFNoYXBlIH1cbiAgICB8IHsgJGNhc2U6IFwidWlJbnB1dFRleHRTaGFwZVwiOyB1aUlucHV0VGV4dFNoYXBlOiBQQlVJSW5wdXRUZXh0IH1cbiAgICB8IHsgJGNhc2U6IFwidWlJbWFnZVNoYXBlXCI7IHVpSW1hZ2VTaGFwZTogUEJVSUltYWdlIH1cbiAgICB8IHsgJGNhc2U6IFwiY2lyY2xlXCI7IGNpcmNsZTogUEJDaXJjbGVTaGFwZSB9XG4gICAgfCB7ICRjYXNlOiBcImJpbGxib2FyZFwiOyBiaWxsYm9hcmQ6IFBCQmlsbGJvYXJkIH1cbiAgICB8IHsgJGNhc2U6IFwiZ2x0ZlwiOyBnbHRmOiBQQkdMVEZTaGFwZSB9XG4gICAgfCB7ICRjYXNlOiBcIm9ialwiOyBvYmo6IFBCT0JKU2hhcGUgfVxuICAgIHwgeyAkY2FzZTogXCJhdmF0YXJcIjsgYXZhdGFyOiBQQkF2YXRhclNoYXBlIH1cbiAgICB8IHsgJGNhc2U6IFwiYmFzaWNNYXRlcmlhbFwiOyBiYXNpY01hdGVyaWFsOiBQQkJhc2ljTWF0ZXJpYWwgfVxuICAgIHwgeyAkY2FzZTogXCJ0ZXh0dXJlXCI7IHRleHR1cmU6IFBCVGV4dHVyZSB9XG4gICAgfCB7ICRjYXNlOiBcImF1ZGlvQ2xpcFwiOyBhdWRpb0NsaXA6IFBCQXVkaW9DbGlwIH1cbiAgICB8IHsgJGNhc2U6IFwiYXVkaW9Tb3VyY2VcIjsgYXVkaW9Tb3VyY2U6IFBCQXVkaW9Tb3VyY2UgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbG9yNCB7XG4gIHI6IG51bWJlcjtcbiAgZzogbnVtYmVyO1xuICBiOiBudW1iZXI7XG4gIGE6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbG9yMyB7XG4gIHI6IG51bWJlcjtcbiAgZzogbnVtYmVyO1xuICBiOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJUZXh0U2hhcGVNb2RlbCB7XG4gIGJpbGxib2FyZDogYm9vbGVhbjtcbiAgdmFsdWU6IHN0cmluZztcbiAgY29sb3I6IFBCQ29sb3IzIHwgdW5kZWZpbmVkO1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIGZvbnRTaXplOiBudW1iZXI7XG4gIGZvbnRBdXRvU2l6ZTogYm9vbGVhbjtcbiAgZm9udFdlaWdodDogc3RyaW5nO1xuICBoVGV4dEFsaWduOiBzdHJpbmc7XG4gIHZUZXh0QWxpZ246IHN0cmluZztcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIGFkYXB0V2lkdGg6IGJvb2xlYW47XG4gIGFkYXB0SGVpZ2h0OiBib29sZWFuO1xuICBwYWRkaW5nVG9wOiBudW1iZXI7XG4gIHBhZGRpbmdSaWdodDogbnVtYmVyO1xuICBwYWRkaW5nQm90dG9tOiBudW1iZXI7XG4gIHBhZGRpbmdMZWZ0OiBudW1iZXI7XG4gIGxpbmVTcGFjaW5nOiBudW1iZXI7XG4gIGxpbmVDb3VudDogbnVtYmVyO1xuICB0ZXh0V3JhcHBpbmc6IGJvb2xlYW47XG4gIHNoYWRvd0JsdXI6IG51bWJlcjtcbiAgc2hhZG93T2Zmc2V0WDogbnVtYmVyO1xuICBzaGFkb3dPZmZzZXRZOiBudW1iZXI7XG4gIHNoYWRvd0NvbG9yOiBQQkNvbG9yMyB8IHVuZGVmaW5lZDtcbiAgb3V0bGluZVdpZHRoOiBudW1iZXI7XG4gIG91dGxpbmVDb2xvcjogUEJDb2xvcjMgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJWZWN0b3IzIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHo6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlF1YXRlcm5pb24ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xuICB3OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJUcmFuc2Zvcm0ge1xuICBwb3NpdGlvbjogUEJWZWN0b3IzIHwgdW5kZWZpbmVkO1xuICByb3RhdGlvbjogUEJRdWF0ZXJuaW9uIHwgdW5kZWZpbmVkO1xuICBzY2FsZTogUEJWZWN0b3IzIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVXBkYXRlRW50aXR5Q29tcG9uZW50IHtcbiAgZW50aXR5SWQ6IHN0cmluZztcbiAgY2xhc3NJZDogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRhdGE6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbXBvbmVudENyZWF0ZWQge1xuICBpZDogc3RyaW5nO1xuICBjbGFzc2lkOiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkF0dGFjaEVudGl0eUNvbXBvbmVudCB7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbXBvbmVudERpc3Bvc2VkIHtcbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbXBvbmVudFVwZGF0ZWQge1xuICBpZDogc3RyaW5nO1xuICBqc29uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJSYXkge1xuICBvcmlnaW46IFBCVmVjdG9yMyB8IHVuZGVmaW5lZDtcbiAgZGlyZWN0aW9uOiBQQlZlY3RvcjMgfCB1bmRlZmluZWQ7XG4gIGRpc3RhbmNlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJSYXlRdWVyeSB7XG4gIHF1ZXJ5SWQ6IHN0cmluZztcbiAgcXVlcnlUeXBlOiBzdHJpbmc7XG4gIHJheTogUEJSYXkgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJRdWVyeSB7XG4gIHF1ZXJ5SWQ6IHN0cmluZztcbiAgcGF5bG9hZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCU2VuZFNjZW5lTWVzc2FnZSB7XG4gIHNjZW5lSWQ6IHN0cmluZztcbiAgdGFnOiBzdHJpbmc7XG4gIHBheWxvYWQ/OlxuICAgIHwgeyAkY2FzZTogXCJjcmVhdGVFbnRpdHlcIjsgY3JlYXRlRW50aXR5OiBQQkNyZWF0ZUVudGl0eSB9XG4gICAgfCB7ICRjYXNlOiBcInJlbW92ZUVudGl0eVwiOyByZW1vdmVFbnRpdHk6IFBCUmVtb3ZlRW50aXR5IH1cbiAgICB8IHsgJGNhc2U6IFwic2V0RW50aXR5UGFyZW50XCI7IHNldEVudGl0eVBhcmVudDogUEJTZXRFbnRpdHlQYXJlbnQgfVxuICAgIHwgeyAkY2FzZTogXCJ1cGRhdGVFbnRpdHlDb21wb25lbnRcIjsgdXBkYXRlRW50aXR5Q29tcG9uZW50OiBQQlVwZGF0ZUVudGl0eUNvbXBvbmVudCB9XG4gICAgfCB7ICRjYXNlOiBcImF0dGFjaEVudGl0eUNvbXBvbmVudFwiOyBhdHRhY2hFbnRpdHlDb21wb25lbnQ6IFBCQXR0YWNoRW50aXR5Q29tcG9uZW50IH1cbiAgICB8IHsgJGNhc2U6IFwiY29tcG9uZW50Q3JlYXRlZFwiOyBjb21wb25lbnRDcmVhdGVkOiBQQkNvbXBvbmVudENyZWF0ZWQgfVxuICAgIHwgeyAkY2FzZTogXCJjb21wb25lbnREaXNwb3NlZFwiOyBjb21wb25lbnREaXNwb3NlZDogUEJDb21wb25lbnREaXNwb3NlZCB9XG4gICAgfCB7ICRjYXNlOiBcImNvbXBvbmVudFJlbW92ZWRcIjsgY29tcG9uZW50UmVtb3ZlZDogUEJDb21wb25lbnRSZW1vdmVkIH1cbiAgICB8IHsgJGNhc2U6IFwiY29tcG9uZW50VXBkYXRlZFwiOyBjb21wb25lbnRVcGRhdGVkOiBQQkNvbXBvbmVudFVwZGF0ZWQgfVxuICAgIHwgeyAkY2FzZTogXCJxdWVyeVwiOyBxdWVyeTogUEJRdWVyeSB9XG4gICAgfCB7ICRjYXNlOiBcInNjZW5lU3RhcnRlZFwiOyBzY2VuZVN0YXJ0ZWQ6IEVtcHR5IH1cbiAgICB8IHsgJGNhc2U6IFwib3BlbkV4dGVybmFsVXJsXCI7IG9wZW5FeHRlcm5hbFVybDogUEJPcGVuRXh0ZXJuYWxVcmwgfVxuICAgIHwgeyAkY2FzZTogXCJvcGVuTkZURGlhbG9nXCI7IG9wZW5ORlREaWFsb2c6IFBCT3Blbk5GVERpYWxvZyB9O1xuICBzY2VuZU51bWJlcjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCU2V0UG9zaXRpb24ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQ29udGVudE1hcHBpbmcge1xuICBmaWxlOiBzdHJpbmc7XG4gIGhhc2g6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlBvc2l0aW9uIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJMb2FkUGFyY2VsU2NlbmVzIHtcbiAgaWQ6IHN0cmluZztcbiAgYmFzZVBvc2l0aW9uOiBQQlBvc2l0aW9uIHwgdW5kZWZpbmVkO1xuICBwYXJjZWxzOiBQQlBvc2l0aW9uW107XG4gIGNvbnRlbnRzOiBQQkNvbnRlbnRNYXBwaW5nW107XG4gIGJhc2VVcmw6IHN0cmluZztcbiAgLyoqIElMYW5kIGxhbmQgPSA2OyAqL1xuICBzY2VuZU51bWJlcjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQ3JlYXRlVUlTY2VuZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGJhc2VVcmw6IHN0cmluZztcbiAgc2NlbmVOdW1iZXI6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlVubG9hZFNjZW5lIHtcbiAgc2NlbmVJZDogc3RyaW5nO1xuICBzY2VuZU51bWJlcjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCRGNsTWVzc2FnZSB7XG4gIG1lc3NhZ2U/OlxuICAgIHwgeyAkY2FzZTogXCJzZXREZWJ1Z1wiOyBzZXREZWJ1ZzogRW1wdHkgfVxuICAgIHwgeyAkY2FzZTogXCJzZXRTY2VuZURlYnVnUGFuZWxcIjsgc2V0U2NlbmVEZWJ1Z1BhbmVsOiBFbXB0eSB9XG4gICAgfCB7ICRjYXNlOiBcInNldEVuZ2luZURlYnVnUGFuZWxcIjsgc2V0RW5naW5lRGVidWdQYW5lbDogRW1wdHkgfVxuICAgIHwgeyAkY2FzZTogXCJzZW5kU2NlbmVNZXNzYWdlXCI7IHNlbmRTY2VuZU1lc3NhZ2U6IFBCU2VuZFNjZW5lTWVzc2FnZSB9XG4gICAgfCB7ICRjYXNlOiBcImxvYWRQYXJjZWxTY2VuZXNcIjsgbG9hZFBhcmNlbFNjZW5lczogUEJMb2FkUGFyY2VsU2NlbmVzIH1cbiAgICB8IHsgJGNhc2U6IFwidW5sb2FkU2NlbmVcIjsgdW5sb2FkU2NlbmU6IFBCVW5sb2FkU2NlbmUgfVxuICAgIHwgeyAkY2FzZTogXCJzZXRQb3NpdGlvblwiOyBzZXRQb3NpdGlvbjogUEJTZXRQb3NpdGlvbiB9XG4gICAgfCB7ICRjYXNlOiBcInJlc2V0XCI7IHJlc2V0OiBFbXB0eSB9XG4gICAgfCB7ICRjYXNlOiBcImNyZWF0ZVVJU2NlbmVcIjsgY3JlYXRlVUlTY2VuZTogUEJDcmVhdGVVSVNjZW5lIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJBbmltYXRpb25TdGF0ZSB7XG4gIGNsaXA6IHN0cmluZztcbiAgbG9vcGluZzogYm9vbGVhbjtcbiAgd2VpZ2h0OiBudW1iZXI7XG4gIHBsYXlpbmc6IGJvb2xlYW47XG4gIHNob3VsZFJlc2V0OiBib29sZWFuO1xuICBzcGVlZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQW5pbWF0b3Ige1xuICB3aXRoQ29sbGlzaW9uczogYm9vbGVhbjtcbiAgdmlzaWJsZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkF1ZGlvQ2xpcCB7XG4gIHVybDogc3RyaW5nO1xuICBsb29wOiBib29sZWFuO1xuICB2b2x1bWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkF1ZGlvU291cmNlIHtcbiAgYXVkaW9DbGlwOiBQQkF1ZGlvQ2xpcCB8IHVuZGVmaW5lZDtcbiAgYXVkaW9DbGlwSWQ6IHN0cmluZztcbiAgbG9vcDogYm9vbGVhbjtcbiAgdm9sdW1lOiBudW1iZXI7XG4gIHBsYXlpbmc6IGJvb2xlYW47XG4gIHBpdGNoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJBdmF0YXJTaGFwZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGJhc2VVcmw6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBib2R5U2hhcGU6IFBCV2VhcmFibGUgfCB1bmRlZmluZWQ7XG4gIHdlYXJhYmxlczogUEJXZWFyYWJsZVtdO1xuICBza2luOiBQQlNraW4gfCB1bmRlZmluZWQ7XG4gIGhhaXI6IFBCSGFpciB8IHVuZGVmaW5lZDtcbiAgZXllczogUEJFeWVzIHwgdW5kZWZpbmVkO1xuICBleWVicm93czogUEJGYWNlIHwgdW5kZWZpbmVkO1xuICBtb3V0aDogUEJGYWNlIHwgdW5kZWZpbmVkO1xuICB1c2VEdW1teU1vZGVsOiBib29sZWFuO1xuICBleHByZXNzaW9uVHJpZ2dlcklkOiBzdHJpbmc7XG4gIGV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wOiBudW1iZXI7XG4gIGVtb3Rlczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJXZWFyYWJsZSB7XG4gIGNhdGVnb2R5OiBzdHJpbmc7XG4gIGNvbnRlbnROYW1lOiBzdHJpbmc7XG4gIGNvbnRlbnRzOiBQQkNvbnRlbnRNYXBwaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJGYWNlIHtcbiAgdGV4dHVyZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCRXllcyB7XG4gIHRleHR1cmU6IHN0cmluZztcbiAgbWFzazogc3RyaW5nO1xuICBjb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJIYWlyIHtcbiAgY29sb3I6IFBCQ29sb3I0IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCU2tpbiB7XG4gIGNvbG9yOiBQQkNvbG9yNCB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkJhc2ljTWF0ZXJpYWwge1xuICB0ZXh0dXJlOiBQQlRleHR1cmUgfCB1bmRlZmluZWQ7XG4gIGFscGhhVGVzdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQmlsbGJvYXJkIHtcbiAgeDogYm9vbGVhbjtcbiAgeTogYm9vbGVhbjtcbiAgejogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkJveFNoYXBlIHtcbiAgd2l0aENvbGxpc2lvbnM6IGJvb2xlYW47XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIHV2czogbnVtYmVyW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJDaXJjbGVTaGFwZSB7XG4gIHdpdGhDb2xsaXNpb25zOiBib29sZWFuO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICBzZWdtZW50czogbnVtYmVyO1xuICBhcmM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkNvbmVTaGFwZSB7XG4gIHdpdGhDb2xsaXNpb25zOiBib29sZWFuO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICByYWRpdXNUb3A6IG51bWJlcjtcbiAgcmFkaXVzQm90dG9tOiBudW1iZXI7XG4gIHNlZ21lbnRzSGVpZ2h0OiBudW1iZXI7XG4gIHNlZ21lbnRzUmFkaWFsOiBudW1iZXI7XG4gIG9wZW5FbmRlZDogYm9vbGVhbjtcbiAgcmFkaXVzOiBudW1iZXI7XG4gIGFyYzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCQ3lsaW5kZXJTaGFwZSB7XG4gIHdpdGhDb2xsaXNpb25zOiBib29sZWFuO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICByYWRpdXNUb3A6IG51bWJlcjtcbiAgcmFkaXVzQm90dG9tOiBudW1iZXI7XG4gIHNlZ21lbnRzSGVpZ2h0OiBudW1iZXI7XG4gIHNlZ21lbnRzUmFkaWFsOiBudW1iZXI7XG4gIG9wZW5FbmRlZDogYm9vbGVhbjtcbiAgcmFkaXVzOiBudW1iZXI7XG4gIGFyYzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCR2xvYmFsUG9pbnRlckRvd24ge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCR2xvYmFsUG9pbnRlclVwIHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQkdMVEZTaGFwZSB7XG4gIHdpdGhDb2xsaXNpb25zOiBib29sZWFuO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICBzcmM6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQk1hdGVyaWFsIHtcbiAgYWxwaGE6IG51bWJlcjtcbiAgYWxiZWRvQ29sb3I6IFBCQ29sb3IzIHwgdW5kZWZpbmVkO1xuICBlbWlzc2l2ZUNvbG9yOiBQQkNvbG9yMyB8IHVuZGVmaW5lZDtcbiAgbWV0YWxsaWM6IG51bWJlcjtcbiAgcm91Z2huZXNzOiBudW1iZXI7XG4gIGFtYmllbnRDb2xvcjogUEJDb2xvcjMgfCB1bmRlZmluZWQ7XG4gIHJlZmxlY3Rpb25Db2xvcjogUEJDb2xvcjMgfCB1bmRlZmluZWQ7XG4gIHJlZmxlY3Rpdml0eUNvbG9yOiBQQkNvbG9yMyB8IHVuZGVmaW5lZDtcbiAgZGlyZWN0SW50ZW5zaXR5OiBudW1iZXI7XG4gIG1pY3JvU3VyZmFjZTogbnVtYmVyO1xuICBlbWlzc2l2ZUludGVuc2l0eTogbnVtYmVyO1xuICBlbnZpcm9ubWVudEludGVuc2l0eTogbnVtYmVyO1xuICBzcGVjdWxhckludGVuc2l0eTogbnVtYmVyO1xuICBhbGJlZG9UZXh0dXJlOiBQQlRleHR1cmUgfCB1bmRlZmluZWQ7XG4gIGFscGhhVGV4dHVyZTogUEJUZXh0dXJlIHwgdW5kZWZpbmVkO1xuICBlbWlzc2l2ZVRleHR1cmU6IFBCVGV4dHVyZSB8IHVuZGVmaW5lZDtcbiAgYnVtcFRleHR1cmU6IFBCVGV4dHVyZSB8IHVuZGVmaW5lZDtcbiAgcmVmcmFjdGlvblRleHR1cmU6IFBCVGV4dHVyZSB8IHVuZGVmaW5lZDtcbiAgZGlzYWJsZUxpZ2h0aW5nOiBib29sZWFuO1xuICB0cmFuc3BhcmVuY3lNb2RlOiBudW1iZXI7XG4gIGhhc0FscGhhOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCTkZUU2hhcGUge1xuICB3aXRoQ29sbGlzaW9uczogYm9vbGVhbjtcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgc3JjOiBzdHJpbmc7XG4gIGNvbG9yOiBQQkNvbG9yMyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQk9CSlNoYXBlIHtcbiAgd2l0aENvbGxpc2lvbnM6IGJvb2xlYW47XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIHNyYzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCUGxhbmVTaGFwZSB7XG4gIHdpdGhDb2xsaXNpb25zOiBib29sZWFuO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgdXZzOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlNoYXBlIHtcbiAgd2l0aENvbGxpc2lvbnM6IGJvb2xlYW47XG4gIHZpc2libGU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJTcGhlcmVTaGFwZSB7XG4gIHdpdGhDb2xsaXNpb25zOiBib29sZWFuO1xuICB2aXNpYmxlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVGV4dFNoYXBlIHtcbiAgd2l0aENvbGxpc2lvbnM6IGJvb2xlYW47XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIG91dGxpbmVXaWR0aDogbnVtYmVyO1xuICBvdXRsaW5lQ29sb3I6IFBCQ29sb3IzIHwgdW5kZWZpbmVkO1xuICBjb2xvcjogUEJDb2xvcjMgfCB1bmRlZmluZWQ7XG4gIGZvbnRTaXplOiBudW1iZXI7XG4gIGZvbnRXZWlnaHQ6IHN0cmluZztcbiAgb3BhY2l0eTogbnVtYmVyO1xuICB2YWx1ZTogc3RyaW5nO1xuICBsaW5lU3BhY2luZzogc3RyaW5nO1xuICBsaW5lQ291bnQ6IG51bWJlcjtcbiAgcmVzaXplVG9GaXQ6IGJvb2xlYW47XG4gIHRleHRXcmFwcGluZzogYm9vbGVhbjtcbiAgc2hhZG93Qmx1cjogbnVtYmVyO1xuICBzaGFkb3dPZmZzZXRYOiBudW1iZXI7XG4gIHNoYWRvd09mZnNldFk6IG51bWJlcjtcbiAgc2hhZG93Q29sb3I6IFBCQ29sb3IzIHwgdW5kZWZpbmVkO1xuICB6SW5kZXg6IG51bWJlcjtcbiAgaFRleHRBbGlnbjogc3RyaW5nO1xuICB2VGV4dEFsaWduOiBzdHJpbmc7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBwYWRkaW5nVG9wOiBudW1iZXI7XG4gIHBhZGRpbmdSaWdodDogbnVtYmVyO1xuICBwYWRkaW5nQm90dG9tOiBudW1iZXI7XG4gIHBhZGRpbmdMZWZ0OiBudW1iZXI7XG4gIGlzUGlja2FibGU6IGJvb2xlYW47XG4gIGJpbGxib2FyZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlRleHR1cmUge1xuICBzcmM6IHN0cmluZztcbiAgc2FtcGxpbmdNb2RlOiBudW1iZXI7XG4gIHdyYXA6IG51bWJlcjtcbiAgaGFzQWxwaGE6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJVSUJ1dHRvbiB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgb3BhY2l0eTogbnVtYmVyO1xuICBoQWxpZ246IHN0cmluZztcbiAgdkFsaWduOiBzdHJpbmc7XG4gIHdpZHRoOiBzdHJpbmc7XG4gIGhlaWdodDogc3RyaW5nO1xuICBwb3NpdGlvblg6IHN0cmluZztcbiAgcG9zaXRpb25ZOiBzdHJpbmc7XG4gIGlzUG9pbnRlckJsb2NrZXI6IGJvb2xlYW47XG4gIHBhcmVudDogUEJVSVNoYXBlIHwgdW5kZWZpbmVkO1xuICBmb250U2l6ZTogbnVtYmVyO1xuICBmb250V2VpZ2h0OiBzdHJpbmc7XG4gIHRoaWNrbmVzczogbnVtYmVyO1xuICBjb3JuZXJSYWRpdXM6IG51bWJlcjtcbiAgY29sb3I6IFBCQ29sb3I0IHwgdW5kZWZpbmVkO1xuICBiYWNrZ3JvdW5kOiBQQkNvbG9yNCB8IHVuZGVmaW5lZDtcbiAgcGFkZGluZ1RvcDogbnVtYmVyO1xuICBwYWRkaW5nUmlnaHQ6IG51bWJlcjtcbiAgcGFkZGluZ0JvdHRvbTogbnVtYmVyO1xuICBwYWRkaW5nTGVmdDogbnVtYmVyO1xuICBzaGFkb3dCbHVyOiBudW1iZXI7XG4gIHNoYWRvd09mZnNldFg6IG51bWJlcjtcbiAgc2hhZG93T2Zmc2V0WTogbnVtYmVyO1xuICBzaGFkb3dDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlVJQ2FudmFzIHtcbiAgbmFtZTogc3RyaW5nO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIGhBbGlnbjogc3RyaW5nO1xuICB2QWxpZ246IHN0cmluZztcbiAgd2lkdGg6IHN0cmluZztcbiAgaGVpZ2h0OiBzdHJpbmc7XG4gIHBvc2l0aW9uWDogc3RyaW5nO1xuICBwb3NpdGlvblk6IHN0cmluZztcbiAgaXNQb2ludGVyQmxvY2tlcjogYm9vbGVhbjtcbiAgcGFyZW50OiBQQlVJU2hhcGUgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJVSUNvbnRhaW5lclJlY3Qge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgaEFsaWduOiBzdHJpbmc7XG4gIHZBbGlnbjogc3RyaW5nO1xuICB3aWR0aDogc3RyaW5nO1xuICBoZWlnaHQ6IHN0cmluZztcbiAgcG9zaXRpb25YOiBzdHJpbmc7XG4gIHBvc2l0aW9uWTogc3RyaW5nO1xuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuO1xuICBwYXJlbnQ6IFBCVUlTaGFwZSB8IHVuZGVmaW5lZDtcbiAgYWRhcHRXaWR0aDogYm9vbGVhbjtcbiAgYWRhcHRIZWlnaHQ6IGJvb2xlYW47XG4gIHRoaWNrbmVzczogbnVtYmVyO1xuICBjb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGFsaWdubWVudFVzZXNTaXplOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVUlDb250YWluZXJTdGFjayB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgb3BhY2l0eTogbnVtYmVyO1xuICBoQWxpZ246IHN0cmluZztcbiAgdkFsaWduOiBzdHJpbmc7XG4gIHdpZHRoOiBzdHJpbmc7XG4gIGhlaWdodDogc3RyaW5nO1xuICBwb3NpdGlvblg6IHN0cmluZztcbiAgcG9zaXRpb25ZOiBzdHJpbmc7XG4gIGlzUG9pbnRlckJsb2NrZXI6IGJvb2xlYW47XG4gIHBhcmVudDogUEJVSVNoYXBlIHwgdW5kZWZpbmVkO1xuICBhZGFwdFdpZHRoOiBib29sZWFuO1xuICBhZGFwdEhlaWdodDogYm9vbGVhbjtcbiAgY29sb3I6IFBCQ29sb3I0IHwgdW5kZWZpbmVkO1xuICBzdGFja09yaWVudGF0aW9uOiBQQlVJU3RhY2tPcmllbnRhdGlvbjtcbiAgc3BhY2luZzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVUlJbWFnZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgb3BhY2l0eTogbnVtYmVyO1xuICBoQWxpZ246IHN0cmluZztcbiAgdkFsaWduOiBzdHJpbmc7XG4gIHdpZHRoOiBzdHJpbmc7XG4gIGhlaWdodDogc3RyaW5nO1xuICBwb3NpdGlvblg6IHN0cmluZztcbiAgcG9zaXRpb25ZOiBzdHJpbmc7XG4gIGlzUG9pbnRlckJsb2NrZXI6IGJvb2xlYW47XG4gIHBhcmVudDogUEJVSVNoYXBlIHwgdW5kZWZpbmVkO1xuICBzb3VyY2VMZWZ0OiBudW1iZXI7XG4gIHNvdXJjZVRvcDogbnVtYmVyO1xuICBzb3VyY2VXaWR0aDogbnVtYmVyO1xuICBzb3VyY2VIZWlnaHQ6IG51bWJlcjtcbiAgc291cmNlOiBQQlRleHR1cmUgfCB1bmRlZmluZWQ7XG4gIHBhZGRpbmdUb3A6IG51bWJlcjtcbiAgcGFkZGluZ1JpZ2h0OiBudW1iZXI7XG4gIHBhZGRpbmdCb3R0b206IG51bWJlcjtcbiAgcGFkZGluZ0xlZnQ6IG51bWJlcjtcbiAgc2l6ZUluUGl4ZWxzOiBib29sZWFuO1xuICBvbkNsaWNrOiBQQlVVSURDYWxsYmFjayB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQlVVSURDYWxsYmFjayB7XG4gIHR5cGU6IHN0cmluZztcbiAgdXVpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVUlJbnB1dFRleHQge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgaEFsaWduOiBzdHJpbmc7XG4gIHZBbGlnbjogc3RyaW5nO1xuICB3aWR0aDogc3RyaW5nO1xuICBoZWlnaHQ6IHN0cmluZztcbiAgcG9zaXRpb25YOiBzdHJpbmc7XG4gIHBvc2l0aW9uWTogc3RyaW5nO1xuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuO1xuICBwYXJlbnQ6IFBCVUlTaGFwZSB8IHVuZGVmaW5lZDtcbiAgb3V0bGluZVdpZHRoOiBudW1iZXI7XG4gIG91dGxpbmVDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGNvbG9yOiBQQkNvbG9yNCB8IHVuZGVmaW5lZDtcbiAgdGhpY2tuZXNzOiBudW1iZXI7XG4gIGZvbnRTaXplOiBudW1iZXI7XG4gIGZvbnRXZWlnaHQ6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgcGxhY2Vob2xkZXJDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIHBsYWNlaG9sZGVyOiBzdHJpbmc7XG4gIG1hcmdpbjogbnVtYmVyO1xuICBtYXhXaWR0aDogbnVtYmVyO1xuICBoVGV4dEFsaWduOiBzdHJpbmc7XG4gIHZUZXh0QWxpZ246IHN0cmluZztcbiAgYXV0b1N0cmV0Y2hXaWR0aDogYm9vbGVhbjtcbiAgYmFja2dyb3VuZDogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGZvY3VzZWRCYWNrZ3JvdW5kOiBQQkNvbG9yNCB8IHVuZGVmaW5lZDtcbiAgdGV4dFdyYXBwaW5nOiBib29sZWFuO1xuICBzaGFkb3dCbHVyOiBudW1iZXI7XG4gIHNoYWRvd09mZnNldFg6IG51bWJlcjtcbiAgc2hhZG93T2Zmc2V0WTogbnVtYmVyO1xuICBzaGFkb3dDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIHBhZGRpbmdUb3A6IG51bWJlcjtcbiAgcGFkZGluZ1JpZ2h0OiBudW1iZXI7XG4gIHBhZGRpbmdCb3R0b206IG51bWJlcjtcbiAgcGFkZGluZ0xlZnQ6IG51bWJlcjtcbiAgb25UZXh0U3VibWl0OiBQQlVVSURDYWxsYmFjayB8IHVuZGVmaW5lZDtcbiAgb25DaGFuZ2VkOiBQQlVVSURDYWxsYmFjayB8IHVuZGVmaW5lZDtcbiAgb25Gb2N1czogUEJVVUlEQ2FsbGJhY2sgfCB1bmRlZmluZWQ7XG4gIG9uQmx1cjogUEJVVUlEQ2FsbGJhY2sgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJVSVNjcm9sbFJlY3Qge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgaEFsaWduOiBzdHJpbmc7XG4gIHZBbGlnbjogc3RyaW5nO1xuICB3aWR0aDogc3RyaW5nO1xuICBoZWlnaHQ6IHN0cmluZztcbiAgcG9zaXRpb25YOiBzdHJpbmc7XG4gIHBvc2l0aW9uWTogc3RyaW5nO1xuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuO1xuICBwYXJlbnQ6IFBCVUlTaGFwZSB8IHVuZGVmaW5lZDtcbiAgdmFsdWVYOiBudW1iZXI7XG4gIHZhbHVlWTogbnVtYmVyO1xuICBib3JkZXJDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGJhY2tncm91bmRDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGlzSG9yaXpvbnRhbDogYm9vbGVhbjtcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcbiAgcGFkZGluZ1RvcDogbnVtYmVyO1xuICBwYWRkaW5nUmlnaHQ6IG51bWJlcjtcbiAgcGFkZGluZ0JvdHRvbTogbnVtYmVyO1xuICBwYWRkaW5nTGVmdDogbnVtYmVyO1xuICBvbkNoYW5nZWQ6IFBCVVVJRENhbGxiYWNrIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVUlTaGFwZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgb3BhY2l0eTogbnVtYmVyO1xuICBoQWxpZ246IHN0cmluZztcbiAgdkFsaWduOiBzdHJpbmc7XG4gIHdpZHRoOiBzdHJpbmc7XG4gIGhlaWdodDogc3RyaW5nO1xuICBwb3NpdGlvblg6IHN0cmluZztcbiAgcG9zaXRpb25ZOiBzdHJpbmc7XG4gIGlzUG9pbnRlckJsb2NrZXI6IGJvb2xlYW47XG4gIHBhcmVudDogUEJVSVNoYXBlIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBCVUlUZXh0U2hhcGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgaEFsaWduOiBzdHJpbmc7XG4gIHZBbGlnbjogc3RyaW5nO1xuICB3aWR0aDogc3RyaW5nO1xuICBoZWlnaHQ6IHN0cmluZztcbiAgcG9zaXRpb25YOiBzdHJpbmc7XG4gIHBvc2l0aW9uWTogc3RyaW5nO1xuICBpc1BvaW50ZXJCbG9ja2VyOiBib29sZWFuO1xuICBwYXJlbnQ6IFBCVUlTaGFwZSB8IHVuZGVmaW5lZDtcbiAgb3V0bGluZVdpZHRoOiBudW1iZXI7XG4gIG91dGxpbmVDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGNvbG9yOiBQQkNvbG9yNCB8IHVuZGVmaW5lZDtcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgZm9udEF1dG9TaXplOiBib29sZWFuO1xuICBmb250V2VpZ2h0OiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIGxpbmVTcGFjaW5nOiBudW1iZXI7XG4gIGxpbmVDb3VudDogbnVtYmVyO1xuICBhZGFwdFdpZHRoOiBib29sZWFuO1xuICBhZGFwdEhlaWdodDogYm9vbGVhbjtcbiAgdGV4dFdyYXBwaW5nOiBib29sZWFuO1xuICBzaGFkb3dCbHVyOiBudW1iZXI7XG4gIHNoYWRvd09mZnNldFg6IG51bWJlcjtcbiAgc2hhZG93T2Zmc2V0WTogbnVtYmVyO1xuICBzaGFkb3dDb2xvcjogUEJDb2xvcjQgfCB1bmRlZmluZWQ7XG4gIGhUZXh0QWxpZ246IHN0cmluZztcbiAgdlRleHRBbGlnbjogc3RyaW5nO1xuICBwYWRkaW5nVG9wOiBudW1iZXI7XG4gIHBhZGRpbmdSaWdodDogbnVtYmVyO1xuICBwYWRkaW5nQm90dG9tOiBudW1iZXI7XG4gIHBhZGRpbmdMZWZ0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUEJPcGVuRXh0ZXJuYWxVcmwge1xuICB1cmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQQk9wZW5ORlREaWFsb2cge1xuICBhc3NldENvbnRyYWN0QWRkcmVzczogc3RyaW5nO1xuICB0b2tlbklkOiBzdHJpbmc7XG4gIGNvbW1lbnQ6IHN0cmluZztcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ3JlYXRlRW50aXR5KCk6IFBCQ3JlYXRlRW50aXR5IHtcbiAgcmV0dXJuIHsgaWQ6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQ3JlYXRlRW50aXR5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJDcmVhdGVFbnRpdHksIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCQ3JlYXRlRW50aXR5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ3JlYXRlRW50aXR5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNyZWF0ZUVudGl0eSB7XG4gICAgcmV0dXJuIHsgaWQ6IGlzU2V0KG9iamVjdC5pZCkgPyBTdHJpbmcob2JqZWN0LmlkKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJDcmVhdGVFbnRpdHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gbWVzc2FnZS5pZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDcmVhdGVFbnRpdHk+LCBJPj4ob2JqZWN0OiBJKTogUEJDcmVhdGVFbnRpdHkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDcmVhdGVFbnRpdHkoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJSZW1vdmVFbnRpdHkoKTogUEJSZW1vdmVFbnRpdHkge1xuICByZXR1cm4geyBpZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJSZW1vdmVFbnRpdHkgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlJlbW92ZUVudGl0eSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJSZW1vdmVFbnRpdHkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJSZW1vdmVFbnRpdHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCUmVtb3ZlRW50aXR5IHtcbiAgICByZXR1cm4geyBpZDogaXNTZXQob2JqZWN0LmlkKSA/IFN0cmluZyhvYmplY3QuaWQpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlJlbW92ZUVudGl0eSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5pZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaWQgPSBtZXNzYWdlLmlkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlJlbW92ZUVudGl0eT4sIEk+PihvYmplY3Q6IEkpOiBQQlJlbW92ZUVudGl0eSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJlbW92ZUVudGl0eSgpO1xuICAgIG1lc3NhZ2UuaWQgPSBvYmplY3QuaWQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlNldEVudGl0eVBhcmVudCgpOiBQQlNldEVudGl0eVBhcmVudCB7XG4gIHJldHVybiB7IGVudGl0eUlkOiBcIlwiLCBwYXJlbnRJZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJTZXRFbnRpdHlQYXJlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlNldEVudGl0eVBhcmVudCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmVudGl0eUlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5wYXJlbnRJZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJTZXRFbnRpdHlQYXJlbnQge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJTZXRFbnRpdHlQYXJlbnQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuZW50aXR5SWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnBhcmVudElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlNldEVudGl0eVBhcmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudGl0eUlkOiBpc1NldChvYmplY3QuZW50aXR5SWQpID8gU3RyaW5nKG9iamVjdC5lbnRpdHlJZCkgOiBcIlwiLFxuICAgICAgcGFyZW50SWQ6IGlzU2V0KG9iamVjdC5wYXJlbnRJZCkgPyBTdHJpbmcob2JqZWN0LnBhcmVudElkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJTZXRFbnRpdHlQYXJlbnQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZW50aXR5SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmVudGl0eUlkID0gbWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgbWVzc2FnZS5wYXJlbnRJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFyZW50SWQgPSBtZXNzYWdlLnBhcmVudElkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlNldEVudGl0eVBhcmVudD4sIEk+PihvYmplY3Q6IEkpOiBQQlNldEVudGl0eVBhcmVudCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlNldEVudGl0eVBhcmVudCgpO1xuICAgIG1lc3NhZ2UuZW50aXR5SWQgPSBvYmplY3QuZW50aXR5SWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBhcmVudElkID0gb2JqZWN0LnBhcmVudElkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDb21wb25lbnRSZW1vdmVkKCk6IFBCQ29tcG9uZW50UmVtb3ZlZCB7XG4gIHJldHVybiB7IGVudGl0eUlkOiBcIlwiLCBuYW1lOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkNvbXBvbmVudFJlbW92ZWQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkNvbXBvbmVudFJlbW92ZWQsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5lbnRpdHlJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZW50aXR5SWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkNvbXBvbmVudFJlbW92ZWQge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb21wb25lbnRSZW1vdmVkKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNvbXBvbmVudFJlbW92ZWQge1xuICAgIHJldHVybiB7XG4gICAgICBlbnRpdHlJZDogaXNTZXQob2JqZWN0LmVudGl0eUlkKSA/IFN0cmluZyhvYmplY3QuZW50aXR5SWQpIDogXCJcIixcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCQ29tcG9uZW50UmVtb3ZlZCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5lbnRpdHlJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZW50aXR5SWQgPSBtZXNzYWdlLmVudGl0eUlkKTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQ29tcG9uZW50UmVtb3ZlZD4sIEk+PihvYmplY3Q6IEkpOiBQQkNvbXBvbmVudFJlbW92ZWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb21wb25lbnRSZW1vdmVkKCk7XG4gICAgbWVzc2FnZS5lbnRpdHlJZCA9IG9iamVjdC5lbnRpdHlJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDb21wb25lbnQoKTogUEJDb21wb25lbnQge1xuICByZXR1cm4geyBtb2RlbDogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkNvbXBvbmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCQ29tcG9uZW50LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICBQQlRyYW5zZm9ybS5lbmNvZGUobWVzc2FnZS5tb2RlbC50cmFuc2Zvcm0sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJ1dWlkQ2FsbGJhY2tcIikge1xuICAgICAgUEJVVUlEQ2FsbGJhY2suZW5jb2RlKG1lc3NhZ2UubW9kZWwudXVpZENhbGxiYWNrLCB3cml0ZXIudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiYm94XCIpIHtcbiAgICAgIFBCQm94U2hhcGUuZW5jb2RlKG1lc3NhZ2UubW9kZWwuYm94LCB3cml0ZXIudWludDMyKDEzMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcInNwaGVyZVwiKSB7XG4gICAgICBQQlNwaGVyZVNoYXBlLmVuY29kZShtZXNzYWdlLm1vZGVsLnNwaGVyZSwgd3JpdGVyLnVpbnQzMigxMzgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJwbGFuZVwiKSB7XG4gICAgICBQQlBsYW5lU2hhcGUuZW5jb2RlKG1lc3NhZ2UubW9kZWwucGxhbmUsIHdyaXRlci51aW50MzIoMTQ2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiY29uZVwiKSB7XG4gICAgICBQQkNvbmVTaGFwZS5lbmNvZGUobWVzc2FnZS5tb2RlbC5jb25lLCB3cml0ZXIudWludDMyKDE1NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcImN5bGluZGVyXCIpIHtcbiAgICAgIFBCQ3lsaW5kZXJTaGFwZS5lbmNvZGUobWVzc2FnZS5tb2RlbC5jeWxpbmRlciwgd3JpdGVyLnVpbnQzMigxNjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgIFBCVGV4dFNoYXBlLmVuY29kZShtZXNzYWdlLm1vZGVsLnRleHQsIHdyaXRlci51aW50MzIoMTcwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwibmZ0XCIpIHtcbiAgICAgIFBCTkZUU2hhcGUuZW5jb2RlKG1lc3NhZ2UubW9kZWwubmZ0LCB3cml0ZXIudWludDMyKDE3OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcImNvbnRhaW5lclJlY3RcIikge1xuICAgICAgUEJVSUNvbnRhaW5lclJlY3QuZW5jb2RlKG1lc3NhZ2UubW9kZWwuY29udGFpbmVyUmVjdCwgd3JpdGVyLnVpbnQzMigyMDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJjb250YWluZXJTdGFja1wiKSB7XG4gICAgICBQQlVJQ29udGFpbmVyU3RhY2suZW5jb2RlKG1lc3NhZ2UubW9kZWwuY29udGFpbmVyU3RhY2ssIHdyaXRlci51aW50MzIoMjEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwidWlUZXh0U2hhcGVcIikge1xuICAgICAgUEJVSVRleHRTaGFwZS5lbmNvZGUobWVzc2FnZS5tb2RlbC51aVRleHRTaGFwZSwgd3JpdGVyLnVpbnQzMigyMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJ1aUlucHV0VGV4dFNoYXBlXCIpIHtcbiAgICAgIFBCVUlJbnB1dFRleHQuZW5jb2RlKG1lc3NhZ2UubW9kZWwudWlJbnB1dFRleHRTaGFwZSwgd3JpdGVyLnVpbnQzMigyMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJ1aUltYWdlU2hhcGVcIikge1xuICAgICAgUEJVSUltYWdlLmVuY29kZShtZXNzYWdlLm1vZGVsLnVpSW1hZ2VTaGFwZSwgd3JpdGVyLnVpbnQzMigyMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJjaXJjbGVcIikge1xuICAgICAgUEJDaXJjbGVTaGFwZS5lbmNvZGUobWVzc2FnZS5tb2RlbC5jaXJjbGUsIHdyaXRlci51aW50MzIoMjUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiYmlsbGJvYXJkXCIpIHtcbiAgICAgIFBCQmlsbGJvYXJkLmVuY29kZShtZXNzYWdlLm1vZGVsLmJpbGxib2FyZCwgd3JpdGVyLnVpbnQzMigyNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJnbHRmXCIpIHtcbiAgICAgIFBCR0xURlNoYXBlLmVuY29kZShtZXNzYWdlLm1vZGVsLmdsdGYsIHdyaXRlci51aW50MzIoNDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwib2JqXCIpIHtcbiAgICAgIFBCT0JKU2hhcGUuZW5jb2RlKG1lc3NhZ2UubW9kZWwub2JqLCB3cml0ZXIudWludDMyKDQ0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcImF2YXRhclwiKSB7XG4gICAgICBQQkF2YXRhclNoYXBlLmVuY29kZShtZXNzYWdlLm1vZGVsLmF2YXRhciwgd3JpdGVyLnVpbnQzMig0NTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJiYXNpY01hdGVyaWFsXCIpIHtcbiAgICAgIFBCQmFzaWNNYXRlcmlhbC5lbmNvZGUobWVzc2FnZS5tb2RlbC5iYXNpY01hdGVyaWFsLCB3cml0ZXIudWludDMyKDUxNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcInRleHR1cmVcIikge1xuICAgICAgUEJUZXh0dXJlLmVuY29kZShtZXNzYWdlLm1vZGVsLnRleHR1cmUsIHdyaXRlci51aW50MzIoNTQ2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiYXVkaW9DbGlwXCIpIHtcbiAgICAgIFBCQXVkaW9DbGlwLmVuY29kZShtZXNzYWdlLm1vZGVsLmF1ZGlvQ2xpcCwgd3JpdGVyLnVpbnQzMigxNjAyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiYXVkaW9Tb3VyY2VcIikge1xuICAgICAgUEJBdWRpb1NvdXJjZS5lbmNvZGUobWVzc2FnZS5tb2RlbC5hdWRpb1NvdXJjZSwgd3JpdGVyLnVpbnQzMigxNjEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCQ29tcG9uZW50IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ29tcG9uZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtOiBQQlRyYW5zZm9ybS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ1dWlkQ2FsbGJhY2tcIiwgdXVpZENhbGxiYWNrOiBQQlVVSURDYWxsYmFjay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiYm94XCIsIGJveDogUEJCb3hTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwic3BoZXJlXCIsIHNwaGVyZTogUEJTcGhlcmVTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwicGxhbmVcIiwgcGxhbmU6IFBCUGxhbmVTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiY29uZVwiLCBjb25lOiBQQkNvbmVTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiY3lsaW5kZXJcIiwgY3lsaW5kZXI6IFBCQ3lsaW5kZXJTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwidGV4dFwiLCB0ZXh0OiBQQlRleHRTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwibmZ0XCIsIG5mdDogUEJORlRTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiY29udGFpbmVyUmVjdFwiLCBjb250YWluZXJSZWN0OiBQQlVJQ29udGFpbmVyUmVjdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHtcbiAgICAgICAgICAgICRjYXNlOiBcImNvbnRhaW5lclN0YWNrXCIsXG4gICAgICAgICAgICBjb250YWluZXJTdGFjazogUEJVSUNvbnRhaW5lclN0YWNrLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ1aVRleHRTaGFwZVwiLCB1aVRleHRTaGFwZTogUEJVSVRleHRTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHtcbiAgICAgICAgICAgICRjYXNlOiBcInVpSW5wdXRUZXh0U2hhcGVcIixcbiAgICAgICAgICAgIHVpSW5wdXRUZXh0U2hhcGU6IFBCVUlJbnB1dFRleHQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcInVpSW1hZ2VTaGFwZVwiLCB1aUltYWdlU2hhcGU6IFBCVUlJbWFnZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzE6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiY2lyY2xlXCIsIGNpcmNsZTogUEJDaXJjbGVTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiYmlsbGJvYXJkXCIsIGJpbGxib2FyZDogUEJCaWxsYm9hcmQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU0OlxuICAgICAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImdsdGZcIiwgZ2x0ZjogUEJHTFRGU2hhcGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU1OlxuICAgICAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcIm9ialwiLCBvYmo6IFBCT0JKU2hhcGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU2OlxuICAgICAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImF2YXRhclwiLCBhdmF0YXI6IFBCQXZhdGFyU2hhcGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImJhc2ljTWF0ZXJpYWxcIiwgYmFzaWNNYXRlcmlhbDogUEJCYXNpY01hdGVyaWFsLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2ODpcbiAgICAgICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ0ZXh0dXJlXCIsIHRleHR1cmU6IFBCVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjAwOlxuICAgICAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImF1ZGlvQ2xpcFwiLCBhdWRpb0NsaXA6IFBCQXVkaW9DbGlwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMDE6XG4gICAgICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiYXVkaW9Tb3VyY2VcIiwgYXVkaW9Tb3VyY2U6IFBCQXVkaW9Tb3VyY2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNvbXBvbmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGVsOiBpc1NldChvYmplY3QudHJhbnNmb3JtKVxuICAgICAgICA/IHsgJGNhc2U6IFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybTogUEJUcmFuc2Zvcm0uZnJvbUpTT04ob2JqZWN0LnRyYW5zZm9ybSkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC51dWlkQ2FsbGJhY2spXG4gICAgICAgID8geyAkY2FzZTogXCJ1dWlkQ2FsbGJhY2tcIiwgdXVpZENhbGxiYWNrOiBQQlVVSURDYWxsYmFjay5mcm9tSlNPTihvYmplY3QudXVpZENhbGxiYWNrKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmJveClcbiAgICAgICAgPyB7ICRjYXNlOiBcImJveFwiLCBib3g6IFBCQm94U2hhcGUuZnJvbUpTT04ob2JqZWN0LmJveCkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5zcGhlcmUpXG4gICAgICAgID8geyAkY2FzZTogXCJzcGhlcmVcIiwgc3BoZXJlOiBQQlNwaGVyZVNoYXBlLmZyb21KU09OKG9iamVjdC5zcGhlcmUpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QucGxhbmUpXG4gICAgICAgID8geyAkY2FzZTogXCJwbGFuZVwiLCBwbGFuZTogUEJQbGFuZVNoYXBlLmZyb21KU09OKG9iamVjdC5wbGFuZSkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5jb25lKVxuICAgICAgICA/IHsgJGNhc2U6IFwiY29uZVwiLCBjb25lOiBQQkNvbmVTaGFwZS5mcm9tSlNPTihvYmplY3QuY29uZSkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5jeWxpbmRlcilcbiAgICAgICAgPyB7ICRjYXNlOiBcImN5bGluZGVyXCIsIGN5bGluZGVyOiBQQkN5bGluZGVyU2hhcGUuZnJvbUpTT04ob2JqZWN0LmN5bGluZGVyKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LnRleHQpXG4gICAgICAgID8geyAkY2FzZTogXCJ0ZXh0XCIsIHRleHQ6IFBCVGV4dFNoYXBlLmZyb21KU09OKG9iamVjdC50ZXh0KSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0Lm5mdClcbiAgICAgICAgPyB7ICRjYXNlOiBcIm5mdFwiLCBuZnQ6IFBCTkZUU2hhcGUuZnJvbUpTT04ob2JqZWN0Lm5mdCkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5jb250YWluZXJSZWN0KVxuICAgICAgICA/IHsgJGNhc2U6IFwiY29udGFpbmVyUmVjdFwiLCBjb250YWluZXJSZWN0OiBQQlVJQ29udGFpbmVyUmVjdC5mcm9tSlNPTihvYmplY3QuY29udGFpbmVyUmVjdCkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5jb250YWluZXJTdGFjaylcbiAgICAgICAgPyB7ICRjYXNlOiBcImNvbnRhaW5lclN0YWNrXCIsIGNvbnRhaW5lclN0YWNrOiBQQlVJQ29udGFpbmVyU3RhY2suZnJvbUpTT04ob2JqZWN0LmNvbnRhaW5lclN0YWNrKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LnVpVGV4dFNoYXBlKVxuICAgICAgICA/IHsgJGNhc2U6IFwidWlUZXh0U2hhcGVcIiwgdWlUZXh0U2hhcGU6IFBCVUlUZXh0U2hhcGUuZnJvbUpTT04ob2JqZWN0LnVpVGV4dFNoYXBlKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LnVpSW5wdXRUZXh0U2hhcGUpXG4gICAgICAgID8geyAkY2FzZTogXCJ1aUlucHV0VGV4dFNoYXBlXCIsIHVpSW5wdXRUZXh0U2hhcGU6IFBCVUlJbnB1dFRleHQuZnJvbUpTT04ob2JqZWN0LnVpSW5wdXRUZXh0U2hhcGUpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QudWlJbWFnZVNoYXBlKVxuICAgICAgICA/IHsgJGNhc2U6IFwidWlJbWFnZVNoYXBlXCIsIHVpSW1hZ2VTaGFwZTogUEJVSUltYWdlLmZyb21KU09OKG9iamVjdC51aUltYWdlU2hhcGUpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QuY2lyY2xlKVxuICAgICAgICA/IHsgJGNhc2U6IFwiY2lyY2xlXCIsIGNpcmNsZTogUEJDaXJjbGVTaGFwZS5mcm9tSlNPTihvYmplY3QuY2lyY2xlKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmJpbGxib2FyZClcbiAgICAgICAgPyB7ICRjYXNlOiBcImJpbGxib2FyZFwiLCBiaWxsYm9hcmQ6IFBCQmlsbGJvYXJkLmZyb21KU09OKG9iamVjdC5iaWxsYm9hcmQpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QuZ2x0ZilcbiAgICAgICAgPyB7ICRjYXNlOiBcImdsdGZcIiwgZ2x0ZjogUEJHTFRGU2hhcGUuZnJvbUpTT04ob2JqZWN0LmdsdGYpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3Qub2JqKVxuICAgICAgICA/IHsgJGNhc2U6IFwib2JqXCIsIG9iajogUEJPQkpTaGFwZS5mcm9tSlNPTihvYmplY3Qub2JqKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmF2YXRhcilcbiAgICAgICAgPyB7ICRjYXNlOiBcImF2YXRhclwiLCBhdmF0YXI6IFBCQXZhdGFyU2hhcGUuZnJvbUpTT04ob2JqZWN0LmF2YXRhcikgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5iYXNpY01hdGVyaWFsKVxuICAgICAgICA/IHsgJGNhc2U6IFwiYmFzaWNNYXRlcmlhbFwiLCBiYXNpY01hdGVyaWFsOiBQQkJhc2ljTWF0ZXJpYWwuZnJvbUpTT04ob2JqZWN0LmJhc2ljTWF0ZXJpYWwpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QudGV4dHVyZSlcbiAgICAgICAgPyB7ICRjYXNlOiBcInRleHR1cmVcIiwgdGV4dHVyZTogUEJUZXh0dXJlLmZyb21KU09OKG9iamVjdC50ZXh0dXJlKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmF1ZGlvQ2xpcClcbiAgICAgICAgPyB7ICRjYXNlOiBcImF1ZGlvQ2xpcFwiLCBhdWRpb0NsaXA6IFBCQXVkaW9DbGlwLmZyb21KU09OKG9iamVjdC5hdWRpb0NsaXApIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QuYXVkaW9Tb3VyY2UpXG4gICAgICAgID8geyAkY2FzZTogXCJhdWRpb1NvdXJjZVwiLCBhdWRpb1NvdXJjZTogUEJBdWRpb1NvdXJjZS5mcm9tSlNPTihvYmplY3QuYXVkaW9Tb3VyY2UpIH1cbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJDb21wb25lbnQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcInRyYW5zZm9ybVwiICYmXG4gICAgICAob2JqLnRyYW5zZm9ybSA9IG1lc3NhZ2UubW9kZWw/LnRyYW5zZm9ybSA/IFBCVHJhbnNmb3JtLnRvSlNPTihtZXNzYWdlLm1vZGVsPy50cmFuc2Zvcm0pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJ1dWlkQ2FsbGJhY2tcIiAmJlxuICAgICAgKG9iai51dWlkQ2FsbGJhY2sgPSBtZXNzYWdlLm1vZGVsPy51dWlkQ2FsbGJhY2sgPyBQQlVVSURDYWxsYmFjay50b0pTT04obWVzc2FnZS5tb2RlbD8udXVpZENhbGxiYWNrKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiYm94XCIgJiZcbiAgICAgIChvYmouYm94ID0gbWVzc2FnZS5tb2RlbD8uYm94ID8gUEJCb3hTaGFwZS50b0pTT04obWVzc2FnZS5tb2RlbD8uYm94KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwic3BoZXJlXCIgJiZcbiAgICAgIChvYmouc3BoZXJlID0gbWVzc2FnZS5tb2RlbD8uc3BoZXJlID8gUEJTcGhlcmVTaGFwZS50b0pTT04obWVzc2FnZS5tb2RlbD8uc3BoZXJlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwicGxhbmVcIiAmJlxuICAgICAgKG9iai5wbGFuZSA9IG1lc3NhZ2UubW9kZWw/LnBsYW5lID8gUEJQbGFuZVNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5wbGFuZSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcImNvbmVcIiAmJlxuICAgICAgKG9iai5jb25lID0gbWVzc2FnZS5tb2RlbD8uY29uZSA/IFBCQ29uZVNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5jb25lKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiY3lsaW5kZXJcIiAmJlxuICAgICAgKG9iai5jeWxpbmRlciA9IG1lc3NhZ2UubW9kZWw/LmN5bGluZGVyID8gUEJDeWxpbmRlclNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5jeWxpbmRlcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcInRleHRcIiAmJlxuICAgICAgKG9iai50ZXh0ID0gbWVzc2FnZS5tb2RlbD8udGV4dCA/IFBCVGV4dFNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy50ZXh0KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwibmZ0XCIgJiZcbiAgICAgIChvYmoubmZ0ID0gbWVzc2FnZS5tb2RlbD8ubmZ0ID8gUEJORlRTaGFwZS50b0pTT04obWVzc2FnZS5tb2RlbD8ubmZ0KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiY29udGFpbmVyUmVjdFwiICYmIChvYmouY29udGFpbmVyUmVjdCA9IG1lc3NhZ2UubW9kZWw/LmNvbnRhaW5lclJlY3RcbiAgICAgID8gUEJVSUNvbnRhaW5lclJlY3QudG9KU09OKG1lc3NhZ2UubW9kZWw/LmNvbnRhaW5lclJlY3QpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiY29udGFpbmVyU3RhY2tcIiAmJiAob2JqLmNvbnRhaW5lclN0YWNrID0gbWVzc2FnZS5tb2RlbD8uY29udGFpbmVyU3RhY2tcbiAgICAgID8gUEJVSUNvbnRhaW5lclN0YWNrLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5jb250YWluZXJTdGFjaylcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJ1aVRleHRTaGFwZVwiICYmXG4gICAgICAob2JqLnVpVGV4dFNoYXBlID0gbWVzc2FnZS5tb2RlbD8udWlUZXh0U2hhcGUgPyBQQlVJVGV4dFNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy51aVRleHRTaGFwZSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcInVpSW5wdXRUZXh0U2hhcGVcIiAmJiAob2JqLnVpSW5wdXRUZXh0U2hhcGUgPSBtZXNzYWdlLm1vZGVsPy51aUlucHV0VGV4dFNoYXBlXG4gICAgICA/IFBCVUlJbnB1dFRleHQudG9KU09OKG1lc3NhZ2UubW9kZWw/LnVpSW5wdXRUZXh0U2hhcGUpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwidWlJbWFnZVNoYXBlXCIgJiZcbiAgICAgIChvYmoudWlJbWFnZVNoYXBlID0gbWVzc2FnZS5tb2RlbD8udWlJbWFnZVNoYXBlID8gUEJVSUltYWdlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy51aUltYWdlU2hhcGUpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJjaXJjbGVcIiAmJlxuICAgICAgKG9iai5jaXJjbGUgPSBtZXNzYWdlLm1vZGVsPy5jaXJjbGUgPyBQQkNpcmNsZVNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5jaXJjbGUpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJiaWxsYm9hcmRcIiAmJlxuICAgICAgKG9iai5iaWxsYm9hcmQgPSBtZXNzYWdlLm1vZGVsPy5iaWxsYm9hcmQgPyBQQkJpbGxib2FyZC50b0pTT04obWVzc2FnZS5tb2RlbD8uYmlsbGJvYXJkKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiZ2x0ZlwiICYmXG4gICAgICAob2JqLmdsdGYgPSBtZXNzYWdlLm1vZGVsPy5nbHRmID8gUEJHTFRGU2hhcGUudG9KU09OKG1lc3NhZ2UubW9kZWw/LmdsdGYpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJvYmpcIiAmJlxuICAgICAgKG9iai5vYmogPSBtZXNzYWdlLm1vZGVsPy5vYmogPyBQQk9CSlNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5vYmopIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJhdmF0YXJcIiAmJlxuICAgICAgKG9iai5hdmF0YXIgPSBtZXNzYWdlLm1vZGVsPy5hdmF0YXIgPyBQQkF2YXRhclNoYXBlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy5hdmF0YXIpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1vZGVsPy4kY2FzZSA9PT0gXCJiYXNpY01hdGVyaWFsXCIgJiYgKG9iai5iYXNpY01hdGVyaWFsID0gbWVzc2FnZS5tb2RlbD8uYmFzaWNNYXRlcmlhbFxuICAgICAgPyBQQkJhc2ljTWF0ZXJpYWwudG9KU09OKG1lc3NhZ2UubW9kZWw/LmJhc2ljTWF0ZXJpYWwpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwidGV4dHVyZVwiICYmXG4gICAgICAob2JqLnRleHR1cmUgPSBtZXNzYWdlLm1vZGVsPy50ZXh0dXJlID8gUEJUZXh0dXJlLnRvSlNPTihtZXNzYWdlLm1vZGVsPy50ZXh0dXJlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb2RlbD8uJGNhc2UgPT09IFwiYXVkaW9DbGlwXCIgJiZcbiAgICAgIChvYmouYXVkaW9DbGlwID0gbWVzc2FnZS5tb2RlbD8uYXVkaW9DbGlwID8gUEJBdWRpb0NsaXAudG9KU09OKG1lc3NhZ2UubW9kZWw/LmF1ZGlvQ2xpcCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UubW9kZWw/LiRjYXNlID09PSBcImF1ZGlvU291cmNlXCIgJiZcbiAgICAgIChvYmouYXVkaW9Tb3VyY2UgPSBtZXNzYWdlLm1vZGVsPy5hdWRpb1NvdXJjZSA/IFBCQXVkaW9Tb3VyY2UudG9KU09OKG1lc3NhZ2UubW9kZWw/LmF1ZGlvU291cmNlKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDb21wb25lbnQ+LCBJPj4ob2JqZWN0OiBJKTogUEJDb21wb25lbnQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb21wb25lbnQoKTtcbiAgICBpZiAoXG4gICAgICBvYmplY3QubW9kZWw/LiRjYXNlID09PSBcInRyYW5zZm9ybVwiICYmIG9iamVjdC5tb2RlbD8udHJhbnNmb3JtICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1vZGVsPy50cmFuc2Zvcm0gIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm06IFBCVHJhbnNmb3JtLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC50cmFuc2Zvcm0pIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwidXVpZENhbGxiYWNrXCIgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8udXVpZENhbGxiYWNrICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8udXVpZENhbGxiYWNrICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ1dWlkQ2FsbGJhY2tcIiwgdXVpZENhbGxiYWNrOiBQQlVVSURDYWxsYmFjay5mcm9tUGFydGlhbChvYmplY3QubW9kZWwudXVpZENhbGxiYWNrKSB9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Lm1vZGVsPy4kY2FzZSA9PT0gXCJib3hcIiAmJiBvYmplY3QubW9kZWw/LmJveCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tb2RlbD8uYm94ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJib3hcIiwgYm94OiBQQkJveFNoYXBlLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC5ib3gpIH07XG4gICAgfVxuICAgIGlmIChvYmplY3QubW9kZWw/LiRjYXNlID09PSBcInNwaGVyZVwiICYmIG9iamVjdC5tb2RlbD8uc3BoZXJlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1vZGVsPy5zcGhlcmUgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcInNwaGVyZVwiLCBzcGhlcmU6IFBCU3BoZXJlU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLnNwaGVyZSkgfTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwicGxhbmVcIiAmJiBvYmplY3QubW9kZWw/LnBsYW5lICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1vZGVsPy5wbGFuZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwicGxhbmVcIiwgcGxhbmU6IFBCUGxhbmVTaGFwZS5mcm9tUGFydGlhbChvYmplY3QubW9kZWwucGxhbmUpIH07XG4gICAgfVxuICAgIGlmIChvYmplY3QubW9kZWw/LiRjYXNlID09PSBcImNvbmVcIiAmJiBvYmplY3QubW9kZWw/LmNvbmUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubW9kZWw/LmNvbmUgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImNvbmVcIiwgY29uZTogUEJDb25lU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLmNvbmUpIH07XG4gICAgfVxuICAgIGlmIChvYmplY3QubW9kZWw/LiRjYXNlID09PSBcImN5bGluZGVyXCIgJiYgb2JqZWN0Lm1vZGVsPy5jeWxpbmRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tb2RlbD8uY3lsaW5kZXIgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImN5bGluZGVyXCIsIGN5bGluZGVyOiBQQkN5bGluZGVyU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLmN5bGluZGVyKSB9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Lm1vZGVsPy4kY2FzZSA9PT0gXCJ0ZXh0XCIgJiYgb2JqZWN0Lm1vZGVsPy50ZXh0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1vZGVsPy50ZXh0ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ0ZXh0XCIsIHRleHQ6IFBCVGV4dFNoYXBlLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC50ZXh0KSB9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Lm1vZGVsPy4kY2FzZSA9PT0gXCJuZnRcIiAmJiBvYmplY3QubW9kZWw/Lm5mdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tb2RlbD8ubmZ0ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJuZnRcIiwgbmZ0OiBQQk5GVFNoYXBlLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC5uZnQpIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwiY29udGFpbmVyUmVjdFwiICYmXG4gICAgICBvYmplY3QubW9kZWw/LmNvbnRhaW5lclJlY3QgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0Lm1vZGVsPy5jb250YWluZXJSZWN0ICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0ge1xuICAgICAgICAkY2FzZTogXCJjb250YWluZXJSZWN0XCIsXG4gICAgICAgIGNvbnRhaW5lclJlY3Q6IFBCVUlDb250YWluZXJSZWN0LmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC5jb250YWluZXJSZWN0KSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwiY29udGFpbmVyU3RhY2tcIiAmJlxuICAgICAgb2JqZWN0Lm1vZGVsPy5jb250YWluZXJTdGFjayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QubW9kZWw/LmNvbnRhaW5lclN0YWNrICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0ge1xuICAgICAgICAkY2FzZTogXCJjb250YWluZXJTdGFja1wiLFxuICAgICAgICBjb250YWluZXJTdGFjazogUEJVSUNvbnRhaW5lclN0YWNrLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC5jb250YWluZXJTdGFjayksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubW9kZWw/LiRjYXNlID09PSBcInVpVGV4dFNoYXBlXCIgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8udWlUZXh0U2hhcGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0Lm1vZGVsPy51aVRleHRTaGFwZSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwidWlUZXh0U2hhcGVcIiwgdWlUZXh0U2hhcGU6IFBCVUlUZXh0U2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLnVpVGV4dFNoYXBlKSB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubW9kZWw/LiRjYXNlID09PSBcInVpSW5wdXRUZXh0U2hhcGVcIiAmJlxuICAgICAgb2JqZWN0Lm1vZGVsPy51aUlucHV0VGV4dFNoYXBlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8udWlJbnB1dFRleHRTaGFwZSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHtcbiAgICAgICAgJGNhc2U6IFwidWlJbnB1dFRleHRTaGFwZVwiLFxuICAgICAgICB1aUlucHV0VGV4dFNoYXBlOiBQQlVJSW5wdXRUZXh0LmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC51aUlucHV0VGV4dFNoYXBlKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwidWlJbWFnZVNoYXBlXCIgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8udWlJbWFnZVNoYXBlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8udWlJbWFnZVNoYXBlICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1vZGVsID0geyAkY2FzZTogXCJ1aUltYWdlU2hhcGVcIiwgdWlJbWFnZVNoYXBlOiBQQlVJSW1hZ2UuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLnVpSW1hZ2VTaGFwZSkgfTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwiY2lyY2xlXCIgJiYgb2JqZWN0Lm1vZGVsPy5jaXJjbGUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubW9kZWw/LmNpcmNsZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiY2lyY2xlXCIsIGNpcmNsZTogUEJDaXJjbGVTaGFwZS5mcm9tUGFydGlhbChvYmplY3QubW9kZWwuY2lyY2xlKSB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubW9kZWw/LiRjYXNlID09PSBcImJpbGxib2FyZFwiICYmIG9iamVjdC5tb2RlbD8uYmlsbGJvYXJkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1vZGVsPy5iaWxsYm9hcmQgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImJpbGxib2FyZFwiLCBiaWxsYm9hcmQ6IFBCQmlsbGJvYXJkLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC5iaWxsYm9hcmQpIH07XG4gICAgfVxuICAgIGlmIChvYmplY3QubW9kZWw/LiRjYXNlID09PSBcImdsdGZcIiAmJiBvYmplY3QubW9kZWw/LmdsdGYgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubW9kZWw/LmdsdGYgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImdsdGZcIiwgZ2x0ZjogUEJHTFRGU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLmdsdGYpIH07XG4gICAgfVxuICAgIGlmIChvYmplY3QubW9kZWw/LiRjYXNlID09PSBcIm9ialwiICYmIG9iamVjdC5tb2RlbD8ub2JqICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1vZGVsPy5vYmogIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcIm9ialwiLCBvYmo6IFBCT0JKU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLm9iaikgfTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwiYXZhdGFyXCIgJiYgb2JqZWN0Lm1vZGVsPy5hdmF0YXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubW9kZWw/LmF2YXRhciAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiYXZhdGFyXCIsIGF2YXRhcjogUEJBdmF0YXJTaGFwZS5mcm9tUGFydGlhbChvYmplY3QubW9kZWwuYXZhdGFyKSB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubW9kZWw/LiRjYXNlID09PSBcImJhc2ljTWF0ZXJpYWxcIiAmJlxuICAgICAgb2JqZWN0Lm1vZGVsPy5iYXNpY01hdGVyaWFsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8uYmFzaWNNYXRlcmlhbCAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHtcbiAgICAgICAgJGNhc2U6IFwiYmFzaWNNYXRlcmlhbFwiLFxuICAgICAgICBiYXNpY01hdGVyaWFsOiBQQkJhc2ljTWF0ZXJpYWwuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLmJhc2ljTWF0ZXJpYWwpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwidGV4dHVyZVwiICYmIG9iamVjdC5tb2RlbD8udGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tb2RlbD8udGV4dHVyZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwidGV4dHVyZVwiLCB0ZXh0dXJlOiBQQlRleHR1cmUuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLnRleHR1cmUpIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tb2RlbD8uJGNhc2UgPT09IFwiYXVkaW9DbGlwXCIgJiYgb2JqZWN0Lm1vZGVsPy5hdWRpb0NsaXAgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubW9kZWw/LmF1ZGlvQ2xpcCAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tb2RlbCA9IHsgJGNhc2U6IFwiYXVkaW9DbGlwXCIsIGF1ZGlvQ2xpcDogUEJBdWRpb0NsaXAuZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVsLmF1ZGlvQ2xpcCkgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0Lm1vZGVsPy4kY2FzZSA9PT0gXCJhdWRpb1NvdXJjZVwiICYmXG4gICAgICBvYmplY3QubW9kZWw/LmF1ZGlvU291cmNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tb2RlbD8uYXVkaW9Tb3VyY2UgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UubW9kZWwgPSB7ICRjYXNlOiBcImF1ZGlvU291cmNlXCIsIGF1ZGlvU291cmNlOiBQQkF1ZGlvU291cmNlLmZyb21QYXJ0aWFsKG9iamVjdC5tb2RlbC5hdWRpb1NvdXJjZSkgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDb2xvcjQoKTogUEJDb2xvcjQge1xuICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkNvbG9yNCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCQ29sb3I0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuciAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5nKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYiAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5iKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5hKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkNvbG9yNCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNvbG9yNCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5yID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmcgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuYiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5hID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCQ29sb3I0IHtcbiAgICByZXR1cm4ge1xuICAgICAgcjogaXNTZXQob2JqZWN0LnIpID8gTnVtYmVyKG9iamVjdC5yKSA6IDAsXG4gICAgICBnOiBpc1NldChvYmplY3QuZykgPyBOdW1iZXIob2JqZWN0LmcpIDogMCxcbiAgICAgIGI6IGlzU2V0KG9iamVjdC5iKSA/IE51bWJlcihvYmplY3QuYikgOiAwLFxuICAgICAgYTogaXNTZXQob2JqZWN0LmEpID8gTnVtYmVyKG9iamVjdC5hKSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJDb2xvcjQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuciAhPT0gdW5kZWZpbmVkICYmIChvYmouciA9IG1lc3NhZ2Uucik7XG4gICAgbWVzc2FnZS5nICE9PSB1bmRlZmluZWQgJiYgKG9iai5nID0gbWVzc2FnZS5nKTtcbiAgICBtZXNzYWdlLmIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmIgPSBtZXNzYWdlLmIpO1xuICAgIG1lc3NhZ2UuYSAhPT0gdW5kZWZpbmVkICYmIChvYmouYSA9IG1lc3NhZ2UuYSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDb2xvcjQ+LCBJPj4ob2JqZWN0OiBJKTogUEJDb2xvcjQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb2xvcjQoKTtcbiAgICBtZXNzYWdlLnIgPSBvYmplY3QuciA/PyAwO1xuICAgIG1lc3NhZ2UuZyA9IG9iamVjdC5nID8/IDA7XG4gICAgbWVzc2FnZS5iID0gb2JqZWN0LmIgPz8gMDtcbiAgICBtZXNzYWdlLmEgPSBvYmplY3QuYSA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ29sb3IzKCk6IFBCQ29sb3IzIHtcbiAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJDb2xvcjMgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkNvbG9yMywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2Uucik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmcgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UuZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuYik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJDb2xvcjMge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb2xvcjMoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJDb2xvcjMge1xuICAgIHJldHVybiB7XG4gICAgICByOiBpc1NldChvYmplY3QucikgPyBOdW1iZXIob2JqZWN0LnIpIDogMCxcbiAgICAgIGc6IGlzU2V0KG9iamVjdC5nKSA/IE51bWJlcihvYmplY3QuZykgOiAwLFxuICAgICAgYjogaXNTZXQob2JqZWN0LmIpID8gTnVtYmVyKG9iamVjdC5iKSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJDb2xvcjMpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuciAhPT0gdW5kZWZpbmVkICYmIChvYmouciA9IG1lc3NhZ2Uucik7XG4gICAgbWVzc2FnZS5nICE9PSB1bmRlZmluZWQgJiYgKG9iai5nID0gbWVzc2FnZS5nKTtcbiAgICBtZXNzYWdlLmIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmIgPSBtZXNzYWdlLmIpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQ29sb3IzPiwgST4+KG9iamVjdDogSSk6IFBCQ29sb3IzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ29sb3IzKCk7XG4gICAgbWVzc2FnZS5yID0gb2JqZWN0LnIgPz8gMDtcbiAgICBtZXNzYWdlLmcgPSBvYmplY3QuZyA/PyAwO1xuICAgIG1lc3NhZ2UuYiA9IG9iamVjdC5iID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUZXh0U2hhcGVNb2RlbCgpOiBQQlRleHRTaGFwZU1vZGVsIHtcbiAgcmV0dXJuIHtcbiAgICBiaWxsYm9hcmQ6IGZhbHNlLFxuICAgIHZhbHVlOiBcIlwiLFxuICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgb3BhY2l0eTogMCxcbiAgICBmb250U2l6ZTogMCxcbiAgICBmb250QXV0b1NpemU6IGZhbHNlLFxuICAgIGZvbnRXZWlnaHQ6IFwiXCIsXG4gICAgaFRleHRBbGlnbjogXCJcIixcbiAgICB2VGV4dEFsaWduOiBcIlwiLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICBhZGFwdFdpZHRoOiBmYWxzZSxcbiAgICBhZGFwdEhlaWdodDogZmFsc2UsXG4gICAgcGFkZGluZ1RvcDogMCxcbiAgICBwYWRkaW5nUmlnaHQ6IDAsXG4gICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgICBwYWRkaW5nTGVmdDogMCxcbiAgICBsaW5lU3BhY2luZzogMCxcbiAgICBsaW5lQ291bnQ6IDAsXG4gICAgdGV4dFdyYXBwaW5nOiBmYWxzZSxcbiAgICBzaGFkb3dCbHVyOiAwLFxuICAgIHNoYWRvd09mZnNldFg6IDAsXG4gICAgc2hhZG93T2Zmc2V0WTogMCxcbiAgICBzaGFkb3dDb2xvcjogdW5kZWZpbmVkLFxuICAgIG91dGxpbmVXaWR0aDogMCxcbiAgICBvdXRsaW5lQ29sb3I6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCVGV4dFNoYXBlTW9kZWwgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlRleHRTaGFwZU1vZGVsLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuYmlsbGJvYXJkID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5iaWxsYm9hcmQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yMy5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3BhY2l0eSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5vcGFjaXR5KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2UuZm9udFNpemUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5mb250QXV0b1NpemUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDgpLmJvb2wobWVzc2FnZS5mb250QXV0b1NpemUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5mb250V2VpZ2h0ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5mb250V2VpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaFRleHRBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UuaFRleHRBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZUZXh0QWxpZ24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNzQpLnN0cmluZyhtZXNzYWdlLnZUZXh0QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4NSkuZmxvYXQobWVzc2FnZS53aWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5oZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hZGFwdFdpZHRoID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDk2KS5ib29sKG1lc3NhZ2UuYWRhcHRXaWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFkYXB0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwNCkuYm9vbChtZXNzYWdlLmFkYXB0SGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMTcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMzMpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE0MSkuZmxvYXQobWVzc2FnZS5wYWRkaW5nTGVmdCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxpbmVTcGFjaW5nICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE0OSkuZmxvYXQobWVzc2FnZS5saW5lU3BhY2luZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxpbmVDb3VudCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNTIpLmludDMyKG1lc3NhZ2UubGluZUNvdW50KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGV4dFdyYXBwaW5nID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2MCkuYm9vbChtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTczKS5mbG9hdChtZXNzYWdlLnNoYWRvd0JsdXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4MSkuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxODkpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3IzLmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDE5NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3V0bGluZVdpZHRoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIwNSkuZmxvYXQobWVzc2FnZS5vdXRsaW5lV2lkdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjMuZW5jb2RlKG1lc3NhZ2Uub3V0bGluZUNvbG9yLCB3cml0ZXIudWludDMyKDIxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlRleHRTaGFwZU1vZGVsIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVGV4dFNoYXBlTW9kZWwoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuYmlsbGJvYXJkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gUEJDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS5mb250U2l6ZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5mb250QXV0b1NpemUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgbWVzc2FnZS5mb250V2VpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5oVGV4dEFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS52VGV4dEFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIG1lc3NhZ2UuYWRhcHRXaWR0aCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS5hZGFwdEhlaWdodCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIG1lc3NhZ2UubGluZUNvdW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgPSBQQkNvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgPSBQQkNvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlRleHRTaGFwZU1vZGVsIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmlsbGJvYXJkOiBpc1NldChvYmplY3QuYmlsbGJvYXJkKSA/IEJvb2xlYW4ob2JqZWN0LmJpbGxib2FyZCkgOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBpc1NldChvYmplY3QudmFsdWUpID8gU3RyaW5nKG9iamVjdC52YWx1ZSkgOiBcIlwiLFxuICAgICAgY29sb3I6IGlzU2V0KG9iamVjdC5jb2xvcikgPyBQQkNvbG9yMy5mcm9tSlNPTihvYmplY3QuY29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgb3BhY2l0eTogaXNTZXQob2JqZWN0Lm9wYWNpdHkpID8gTnVtYmVyKG9iamVjdC5vcGFjaXR5KSA6IDAsXG4gICAgICBmb250U2l6ZTogaXNTZXQob2JqZWN0LmZvbnRTaXplKSA/IE51bWJlcihvYmplY3QuZm9udFNpemUpIDogMCxcbiAgICAgIGZvbnRBdXRvU2l6ZTogaXNTZXQob2JqZWN0LmZvbnRBdXRvU2l6ZSkgPyBCb29sZWFuKG9iamVjdC5mb250QXV0b1NpemUpIDogZmFsc2UsXG4gICAgICBmb250V2VpZ2h0OiBpc1NldChvYmplY3QuZm9udFdlaWdodCkgPyBTdHJpbmcob2JqZWN0LmZvbnRXZWlnaHQpIDogXCJcIixcbiAgICAgIGhUZXh0QWxpZ246IGlzU2V0KG9iamVjdC5oVGV4dEFsaWduKSA/IFN0cmluZyhvYmplY3QuaFRleHRBbGlnbikgOiBcIlwiLFxuICAgICAgdlRleHRBbGlnbjogaXNTZXQob2JqZWN0LnZUZXh0QWxpZ24pID8gU3RyaW5nKG9iamVjdC52VGV4dEFsaWduKSA6IFwiXCIsXG4gICAgICB3aWR0aDogaXNTZXQob2JqZWN0LndpZHRoKSA/IE51bWJlcihvYmplY3Qud2lkdGgpIDogMCxcbiAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBOdW1iZXIob2JqZWN0LmhlaWdodCkgOiAwLFxuICAgICAgYWRhcHRXaWR0aDogaXNTZXQob2JqZWN0LmFkYXB0V2lkdGgpID8gQm9vbGVhbihvYmplY3QuYWRhcHRXaWR0aCkgOiBmYWxzZSxcbiAgICAgIGFkYXB0SGVpZ2h0OiBpc1NldChvYmplY3QuYWRhcHRIZWlnaHQpID8gQm9vbGVhbihvYmplY3QuYWRhcHRIZWlnaHQpIDogZmFsc2UsXG4gICAgICBwYWRkaW5nVG9wOiBpc1NldChvYmplY3QucGFkZGluZ1RvcCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdUb3ApIDogMCxcbiAgICAgIHBhZGRpbmdSaWdodDogaXNTZXQob2JqZWN0LnBhZGRpbmdSaWdodCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdSaWdodCkgOiAwLFxuICAgICAgcGFkZGluZ0JvdHRvbTogaXNTZXQob2JqZWN0LnBhZGRpbmdCb3R0b20pID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nQm90dG9tKSA6IDAsXG4gICAgICBwYWRkaW5nTGVmdDogaXNTZXQob2JqZWN0LnBhZGRpbmdMZWZ0KSA/IE51bWJlcihvYmplY3QucGFkZGluZ0xlZnQpIDogMCxcbiAgICAgIGxpbmVTcGFjaW5nOiBpc1NldChvYmplY3QubGluZVNwYWNpbmcpID8gTnVtYmVyKG9iamVjdC5saW5lU3BhY2luZykgOiAwLFxuICAgICAgbGluZUNvdW50OiBpc1NldChvYmplY3QubGluZUNvdW50KSA/IE51bWJlcihvYmplY3QubGluZUNvdW50KSA6IDAsXG4gICAgICB0ZXh0V3JhcHBpbmc6IGlzU2V0KG9iamVjdC50ZXh0V3JhcHBpbmcpID8gQm9vbGVhbihvYmplY3QudGV4dFdyYXBwaW5nKSA6IGZhbHNlLFxuICAgICAgc2hhZG93Qmx1cjogaXNTZXQob2JqZWN0LnNoYWRvd0JsdXIpID8gTnVtYmVyKG9iamVjdC5zaGFkb3dCbHVyKSA6IDAsXG4gICAgICBzaGFkb3dPZmZzZXRYOiBpc1NldChvYmplY3Quc2hhZG93T2Zmc2V0WCkgPyBOdW1iZXIob2JqZWN0LnNoYWRvd09mZnNldFgpIDogMCxcbiAgICAgIHNoYWRvd09mZnNldFk6IGlzU2V0KG9iamVjdC5zaGFkb3dPZmZzZXRZKSA/IE51bWJlcihvYmplY3Quc2hhZG93T2Zmc2V0WSkgOiAwLFxuICAgICAgc2hhZG93Q29sb3I6IGlzU2V0KG9iamVjdC5zaGFkb3dDb2xvcikgPyBQQkNvbG9yMy5mcm9tSlNPTihvYmplY3Quc2hhZG93Q29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgb3V0bGluZVdpZHRoOiBpc1NldChvYmplY3Qub3V0bGluZVdpZHRoKSA/IE51bWJlcihvYmplY3Qub3V0bGluZVdpZHRoKSA6IDAsXG4gICAgICBvdXRsaW5lQ29sb3I6IGlzU2V0KG9iamVjdC5vdXRsaW5lQ29sb3IpID8gUEJDb2xvcjMuZnJvbUpTT04ob2JqZWN0Lm91dGxpbmVDb2xvcikgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJUZXh0U2hhcGVNb2RlbCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5iaWxsYm9hcmQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmJpbGxib2FyZCA9IG1lc3NhZ2UuYmlsbGJvYXJkKTtcbiAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IG1lc3NhZ2UudmFsdWUpO1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3IzLnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5vcGFjaXR5ID0gbWVzc2FnZS5vcGFjaXR5KTtcbiAgICBtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQgJiYgKG9iai5mb250U2l6ZSA9IG1lc3NhZ2UuZm9udFNpemUpO1xuICAgIG1lc3NhZ2UuZm9udEF1dG9TaXplICE9PSB1bmRlZmluZWQgJiYgKG9iai5mb250QXV0b1NpemUgPSBtZXNzYWdlLmZvbnRBdXRvU2l6ZSk7XG4gICAgbWVzc2FnZS5mb250V2VpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5mb250V2VpZ2h0ID0gbWVzc2FnZS5mb250V2VpZ2h0KTtcbiAgICBtZXNzYWdlLmhUZXh0QWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLmhUZXh0QWxpZ24gPSBtZXNzYWdlLmhUZXh0QWxpZ24pO1xuICAgIG1lc3NhZ2UudlRleHRBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudlRleHRBbGlnbiA9IG1lc3NhZ2UudlRleHRBbGlnbik7XG4gICAgbWVzc2FnZS53aWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2lkdGggPSBtZXNzYWdlLndpZHRoKTtcbiAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgIG1lc3NhZ2UuYWRhcHRXaWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmouYWRhcHRXaWR0aCA9IG1lc3NhZ2UuYWRhcHRXaWR0aCk7XG4gICAgbWVzc2FnZS5hZGFwdEhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouYWRhcHRIZWlnaHQgPSBtZXNzYWdlLmFkYXB0SGVpZ2h0KTtcbiAgICBtZXNzYWdlLnBhZGRpbmdUb3AgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZGRpbmdUb3AgPSBtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nUmlnaHQgPSBtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nQm90dG9tID0gbWVzc2FnZS5wYWRkaW5nQm90dG9tKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nTGVmdCA9IG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgIG1lc3NhZ2UubGluZVNwYWNpbmcgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxpbmVTcGFjaW5nID0gbWVzc2FnZS5saW5lU3BhY2luZyk7XG4gICAgbWVzc2FnZS5saW5lQ291bnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxpbmVDb3VudCA9IE1hdGgucm91bmQobWVzc2FnZS5saW5lQ291bnQpKTtcbiAgICBtZXNzYWdlLnRleHRXcmFwcGluZyAhPT0gdW5kZWZpbmVkICYmIChvYmoudGV4dFdyYXBwaW5nID0gbWVzc2FnZS50ZXh0V3JhcHBpbmcpO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2hhZG93Qmx1ciA9IG1lc3NhZ2Uuc2hhZG93Qmx1cik7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaGFkb3dPZmZzZXRYID0gbWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNoYWRvd09mZnNldFkgPSBtZXNzYWdlLnNoYWRvd09mZnNldFkpO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5zaGFkb3dDb2xvciA9IG1lc3NhZ2Uuc2hhZG93Q29sb3IgPyBQQkNvbG9yMy50b0pTT04obWVzc2FnZS5zaGFkb3dDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5vdXRsaW5lV2lkdGggPSBtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5vdXRsaW5lQ29sb3IgPSBtZXNzYWdlLm91dGxpbmVDb2xvciA/IFBCQ29sb3IzLnRvSlNPTihtZXNzYWdlLm91dGxpbmVDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCVGV4dFNoYXBlTW9kZWw+LCBJPj4ob2JqZWN0OiBJKTogUEJUZXh0U2hhcGVNb2RlbCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlRleHRTaGFwZU1vZGVsKCk7XG4gICAgbWVzc2FnZS5iaWxsYm9hcmQgPSBvYmplY3QuYmlsbGJvYXJkID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmNvbG9yID0gKG9iamVjdC5jb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjMuZnJvbVBhcnRpYWwob2JqZWN0LmNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5vcGFjaXR5ID0gb2JqZWN0Lm9wYWNpdHkgPz8gMDtcbiAgICBtZXNzYWdlLmZvbnRTaXplID0gb2JqZWN0LmZvbnRTaXplID8/IDA7XG4gICAgbWVzc2FnZS5mb250QXV0b1NpemUgPSBvYmplY3QuZm9udEF1dG9TaXplID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UuZm9udFdlaWdodCA9IG9iamVjdC5mb250V2VpZ2h0ID8/IFwiXCI7XG4gICAgbWVzc2FnZS5oVGV4dEFsaWduID0gb2JqZWN0LmhUZXh0QWxpZ24gPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZUZXh0QWxpZ24gPSBvYmplY3QudlRleHRBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uud2lkdGggPSBvYmplY3Qud2lkdGggPz8gMDtcbiAgICBtZXNzYWdlLmhlaWdodCA9IG9iamVjdC5oZWlnaHQgPz8gMDtcbiAgICBtZXNzYWdlLmFkYXB0V2lkdGggPSBvYmplY3QuYWRhcHRXaWR0aCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ID0gb2JqZWN0LmFkYXB0SGVpZ2h0ID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IG9iamVjdC5wYWRkaW5nVG9wID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgPSBvYmplY3QucGFkZGluZ1JpZ2h0ID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tID0gb2JqZWN0LnBhZGRpbmdCb3R0b20gPz8gMDtcbiAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gb2JqZWN0LnBhZGRpbmdMZWZ0ID8/IDA7XG4gICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IG9iamVjdC5saW5lU3BhY2luZyA/PyAwO1xuICAgIG1lc3NhZ2UubGluZUNvdW50ID0gb2JqZWN0LmxpbmVDb3VudCA/PyAwO1xuICAgIG1lc3NhZ2UudGV4dFdyYXBwaW5nID0gb2JqZWN0LnRleHRXcmFwcGluZyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnNoYWRvd0JsdXIgPSBvYmplY3Quc2hhZG93Qmx1ciA/PyAwO1xuICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCA9IG9iamVjdC5zaGFkb3dPZmZzZXRYID8/IDA7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRZID0gb2JqZWN0LnNoYWRvd09mZnNldFkgPz8gMDtcbiAgICBtZXNzYWdlLnNoYWRvd0NvbG9yID0gKG9iamVjdC5zaGFkb3dDb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaGFkb3dDb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjMuZnJvbVBhcnRpYWwob2JqZWN0LnNoYWRvd0NvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5vdXRsaW5lV2lkdGggPSBvYmplY3Qub3V0bGluZVdpZHRoID8/IDA7XG4gICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgPSAob2JqZWN0Lm91dGxpbmVDb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5vdXRsaW5lQ29sb3IgIT09IG51bGwpXG4gICAgICA/IFBCQ29sb3IzLmZyb21QYXJ0aWFsKG9iamVjdC5vdXRsaW5lQ29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlZlY3RvcjMoKTogUEJWZWN0b3IzIHtcbiAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJWZWN0b3IzID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJWZWN0b3IzLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlZlY3RvcjMge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWZWN0b3IzKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCVmVjdG9yMyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGlzU2V0KG9iamVjdC54KSA/IE51bWJlcihvYmplY3QueCkgOiAwLFxuICAgICAgeTogaXNTZXQob2JqZWN0LnkpID8gTnVtYmVyKG9iamVjdC55KSA6IDAsXG4gICAgICB6OiBpc1NldChvYmplY3QueikgPyBOdW1iZXIob2JqZWN0LnopIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlZlY3RvcjMpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UueCAhPT0gdW5kZWZpbmVkICYmIChvYmoueCA9IG1lc3NhZ2UueCk7XG4gICAgbWVzc2FnZS55ICE9PSB1bmRlZmluZWQgJiYgKG9iai55ID0gbWVzc2FnZS55KTtcbiAgICBtZXNzYWdlLnogIT09IHVuZGVmaW5lZCAmJiAob2JqLnogPSBtZXNzYWdlLnopO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCVmVjdG9yMz4sIEk+PihvYmplY3Q6IEkpOiBQQlZlY3RvcjMge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWZWN0b3IzKCk7XG4gICAgbWVzc2FnZS54ID0gb2JqZWN0LnggPz8gMDtcbiAgICBtZXNzYWdlLnkgPSBvYmplY3QueSA/PyAwO1xuICAgIG1lc3NhZ2UueiA9IG9iamVjdC56ID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJRdWF0ZXJuaW9uKCk6IFBCUXVhdGVybmlvbiB7XG4gIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCUXVhdGVybmlvbiA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCUXVhdGVybmlvbiwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOSkuZG91YmxlKG1lc3NhZ2UueCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTcpLmRvdWJsZShtZXNzYWdlLnkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS56ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI1KS5kb3VibGUobWVzc2FnZS56KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzMykuZG91YmxlKG1lc3NhZ2Uudyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJRdWF0ZXJuaW9uIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUXVhdGVybmlvbigpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS54ID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS53ID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlF1YXRlcm5pb24ge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBpc1NldChvYmplY3QueCkgPyBOdW1iZXIob2JqZWN0LngpIDogMCxcbiAgICAgIHk6IGlzU2V0KG9iamVjdC55KSA/IE51bWJlcihvYmplY3QueSkgOiAwLFxuICAgICAgejogaXNTZXQob2JqZWN0LnopID8gTnVtYmVyKG9iamVjdC56KSA6IDAsXG4gICAgICB3OiBpc1NldChvYmplY3QudykgPyBOdW1iZXIob2JqZWN0LncpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlF1YXRlcm5pb24pOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UueCAhPT0gdW5kZWZpbmVkICYmIChvYmoueCA9IG1lc3NhZ2UueCk7XG4gICAgbWVzc2FnZS55ICE9PSB1bmRlZmluZWQgJiYgKG9iai55ID0gbWVzc2FnZS55KTtcbiAgICBtZXNzYWdlLnogIT09IHVuZGVmaW5lZCAmJiAob2JqLnogPSBtZXNzYWdlLnopO1xuICAgIG1lc3NhZ2UudyAhPT0gdW5kZWZpbmVkICYmIChvYmoudyA9IG1lc3NhZ2Uudyk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJRdWF0ZXJuaW9uPiwgST4+KG9iamVjdDogSSk6IFBCUXVhdGVybmlvbiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlF1YXRlcm5pb24oKTtcbiAgICBtZXNzYWdlLnggPSBvYmplY3QueCA/PyAwO1xuICAgIG1lc3NhZ2UueSA9IG9iamVjdC55ID8/IDA7XG4gICAgbWVzc2FnZS56ID0gb2JqZWN0LnogPz8gMDtcbiAgICBtZXNzYWdlLncgPSBvYmplY3QudyA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVHJhbnNmb3JtKCk6IFBCVHJhbnNmb3JtIHtcbiAgcmV0dXJuIHsgcG9zaXRpb246IHVuZGVmaW5lZCwgcm90YXRpb246IHVuZGVmaW5lZCwgc2NhbGU6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJUcmFuc2Zvcm0gPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlRyYW5zZm9ybSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5wb3NpdGlvbiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJRdWF0ZXJuaW9uLmVuY29kZShtZXNzYWdlLnJvdGF0aW9uLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlZlY3RvcjMuZW5jb2RlKG1lc3NhZ2Uuc2NhbGUsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJUcmFuc2Zvcm0ge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUcmFuc2Zvcm0oKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb24gPSBQQlZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2Uucm90YXRpb24gPSBQQlF1YXRlcm5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uuc2NhbGUgPSBQQlZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJUcmFuc2Zvcm0ge1xuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbjogaXNTZXQob2JqZWN0LnBvc2l0aW9uKSA/IFBCVmVjdG9yMy5mcm9tSlNPTihvYmplY3QucG9zaXRpb24pIDogdW5kZWZpbmVkLFxuICAgICAgcm90YXRpb246IGlzU2V0KG9iamVjdC5yb3RhdGlvbikgPyBQQlF1YXRlcm5pb24uZnJvbUpTT04ob2JqZWN0LnJvdGF0aW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgIHNjYWxlOiBpc1NldChvYmplY3Quc2NhbGUpID8gUEJWZWN0b3IzLmZyb21KU09OKG9iamVjdC5zY2FsZSkgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJUcmFuc2Zvcm0pOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5wb3NpdGlvbiA9IG1lc3NhZ2UucG9zaXRpb24gPyBQQlZlY3RvcjMudG9KU09OKG1lc3NhZ2UucG9zaXRpb24pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucm90YXRpb24gPSBtZXNzYWdlLnJvdGF0aW9uID8gUEJRdWF0ZXJuaW9uLnRvSlNPTihtZXNzYWdlLnJvdGF0aW9uKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5zY2FsZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2NhbGUgPSBtZXNzYWdlLnNjYWxlID8gUEJWZWN0b3IzLnRvSlNPTihtZXNzYWdlLnNjYWxlKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJUcmFuc2Zvcm0+LCBJPj4ob2JqZWN0OiBJKTogUEJUcmFuc2Zvcm0ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUcmFuc2Zvcm0oKTtcbiAgICBtZXNzYWdlLnBvc2l0aW9uID0gKG9iamVjdC5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3NpdGlvbiAhPT0gbnVsbClcbiAgICAgID8gUEJWZWN0b3IzLmZyb21QYXJ0aWFsKG9iamVjdC5wb3NpdGlvbilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uucm90YXRpb24gPSAob2JqZWN0LnJvdGF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJvdGF0aW9uICE9PSBudWxsKVxuICAgICAgPyBQQlF1YXRlcm5pb24uZnJvbVBhcnRpYWwob2JqZWN0LnJvdGF0aW9uKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5zY2FsZSA9IChvYmplY3Quc2NhbGUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2NhbGUgIT09IG51bGwpXG4gICAgICA/IFBCVmVjdG9yMy5mcm9tUGFydGlhbChvYmplY3Quc2NhbGUpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVwZGF0ZUVudGl0eUNvbXBvbmVudCgpOiBQQlVwZGF0ZUVudGl0eUNvbXBvbmVudCB7XG4gIHJldHVybiB7IGVudGl0eUlkOiBcIlwiLCBjbGFzc0lkOiAwLCBuYW1lOiBcIlwiLCBkYXRhOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVwZGF0ZUVudGl0eUNvbXBvbmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCVXBkYXRlRW50aXR5Q29tcG9uZW50LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZW50aXR5SWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmVudGl0eUlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2xhc3NJZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5jbGFzc0lkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmRhdGEgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCVXBkYXRlRW50aXR5Q29tcG9uZW50IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVXBkYXRlRW50aXR5Q29tcG9uZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5jbGFzc0lkID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmRhdGEgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCVXBkYXRlRW50aXR5Q29tcG9uZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW50aXR5SWQ6IGlzU2V0KG9iamVjdC5lbnRpdHlJZCkgPyBTdHJpbmcob2JqZWN0LmVudGl0eUlkKSA6IFwiXCIsXG4gICAgICBjbGFzc0lkOiBpc1NldChvYmplY3QuY2xhc3NJZCkgPyBOdW1iZXIob2JqZWN0LmNsYXNzSWQpIDogMCxcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgZGF0YTogaXNTZXQob2JqZWN0LmRhdGEpID8gU3RyaW5nKG9iamVjdC5kYXRhKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJVcGRhdGVFbnRpdHlDb21wb25lbnQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZW50aXR5SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmVudGl0eUlkID0gbWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgbWVzc2FnZS5jbGFzc0lkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jbGFzc0lkID0gTWF0aC5yb3VuZChtZXNzYWdlLmNsYXNzSWQpKTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkICYmIChvYmouZGF0YSA9IG1lc3NhZ2UuZGF0YSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVcGRhdGVFbnRpdHlDb21wb25lbnQ+LCBJPj4ob2JqZWN0OiBJKTogUEJVcGRhdGVFbnRpdHlDb21wb25lbnQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVcGRhdGVFbnRpdHlDb21wb25lbnQoKTtcbiAgICBtZXNzYWdlLmVudGl0eUlkID0gb2JqZWN0LmVudGl0eUlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5jbGFzc0lkID0gb2JqZWN0LmNsYXNzSWQgPz8gMDtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuZGF0YSA9IG9iamVjdC5kYXRhID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDb21wb25lbnRDcmVhdGVkKCk6IFBCQ29tcG9uZW50Q3JlYXRlZCB7XG4gIHJldHVybiB7IGlkOiBcIlwiLCBjbGFzc2lkOiAwLCBuYW1lOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkNvbXBvbmVudENyZWF0ZWQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkNvbXBvbmVudENyZWF0ZWQsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jbGFzc2lkICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmNsYXNzaWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkNvbXBvbmVudENyZWF0ZWQge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb21wb25lbnRDcmVhdGVkKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5jbGFzc2lkID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCQ29tcG9uZW50Q3JlYXRlZCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiLFxuICAgICAgY2xhc3NpZDogaXNTZXQob2JqZWN0LmNsYXNzaWQpID8gTnVtYmVyKG9iamVjdC5jbGFzc2lkKSA6IDAsXG4gICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkNvbXBvbmVudENyZWF0ZWQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlkID0gbWVzc2FnZS5pZCk7XG4gICAgbWVzc2FnZS5jbGFzc2lkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jbGFzc2lkID0gTWF0aC5yb3VuZChtZXNzYWdlLmNsYXNzaWQpKTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQ29tcG9uZW50Q3JlYXRlZD4sIEk+PihvYmplY3Q6IEkpOiBQQkNvbXBvbmVudENyZWF0ZWQge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb21wb25lbnRDcmVhdGVkKCk7XG4gICAgbWVzc2FnZS5pZCA9IG9iamVjdC5pZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuY2xhc3NpZCA9IG9iamVjdC5jbGFzc2lkID8/IDA7XG4gICAgbWVzc2FnZS5uYW1lID0gb2JqZWN0Lm5hbWUgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF0dGFjaEVudGl0eUNvbXBvbmVudCgpOiBQQkF0dGFjaEVudGl0eUNvbXBvbmVudCB7XG4gIHJldHVybiB7IGVudGl0eUlkOiBcIlwiLCBuYW1lOiBcIlwiLCBpZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJBdHRhY2hFbnRpdHlDb21wb25lbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkF0dGFjaEVudGl0eUNvbXBvbmVudCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmVudGl0eUlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCQXR0YWNoRW50aXR5Q29tcG9uZW50IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXR0YWNoRW50aXR5Q29tcG9uZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJBdHRhY2hFbnRpdHlDb21wb25lbnQge1xuICAgIHJldHVybiB7XG4gICAgICBlbnRpdHlJZDogaXNTZXQob2JqZWN0LmVudGl0eUlkKSA/IFN0cmluZyhvYmplY3QuZW50aXR5SWQpIDogXCJcIixcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgaWQ6IGlzU2V0KG9iamVjdC5pZCkgPyBTdHJpbmcob2JqZWN0LmlkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJBdHRhY2hFbnRpdHlDb21wb25lbnQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZW50aXR5SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmVudGl0eUlkID0gbWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICBtZXNzYWdlLmlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5pZCA9IG1lc3NhZ2UuaWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQXR0YWNoRW50aXR5Q29tcG9uZW50PiwgST4+KG9iamVjdDogSSk6IFBCQXR0YWNoRW50aXR5Q29tcG9uZW50IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXR0YWNoRW50aXR5Q29tcG9uZW50KCk7XG4gICAgbWVzc2FnZS5lbnRpdHlJZCA9IG9iamVjdC5lbnRpdHlJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS5pZCA9IG9iamVjdC5pZCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ29tcG9uZW50RGlzcG9zZWQoKTogUEJDb21wb25lbnREaXNwb3NlZCB7XG4gIHJldHVybiB7IGlkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkNvbXBvbmVudERpc3Bvc2VkID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJDb21wb25lbnREaXNwb3NlZCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJDb21wb25lbnREaXNwb3NlZCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNvbXBvbmVudERpc3Bvc2VkKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNvbXBvbmVudERpc3Bvc2VkIHtcbiAgICByZXR1cm4geyBpZDogaXNTZXQob2JqZWN0LmlkKSA/IFN0cmluZyhvYmplY3QuaWQpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkNvbXBvbmVudERpc3Bvc2VkKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5pZCA9IG1lc3NhZ2UuaWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQ29tcG9uZW50RGlzcG9zZWQ+LCBJPj4ob2JqZWN0OiBJKTogUEJDb21wb25lbnREaXNwb3NlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNvbXBvbmVudERpc3Bvc2VkKCk7XG4gICAgbWVzc2FnZS5pZCA9IG9iamVjdC5pZCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ29tcG9uZW50VXBkYXRlZCgpOiBQQkNvbXBvbmVudFVwZGF0ZWQge1xuICByZXR1cm4geyBpZDogXCJcIiwganNvbjogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJDb21wb25lbnRVcGRhdGVkID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJDb21wb25lbnRVcGRhdGVkLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuanNvbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuanNvbik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJDb21wb25lbnRVcGRhdGVkIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ29tcG9uZW50VXBkYXRlZCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuanNvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJDb21wb25lbnRVcGRhdGVkIHtcbiAgICByZXR1cm4geyBpZDogaXNTZXQob2JqZWN0LmlkKSA/IFN0cmluZyhvYmplY3QuaWQpIDogXCJcIiwganNvbjogaXNTZXQob2JqZWN0Lmpzb24pID8gU3RyaW5nKG9iamVjdC5qc29uKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJDb21wb25lbnRVcGRhdGVkKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5pZCA9IG1lc3NhZ2UuaWQpO1xuICAgIG1lc3NhZ2UuanNvbiAhPT0gdW5kZWZpbmVkICYmIChvYmouanNvbiA9IG1lc3NhZ2UuanNvbik7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDb21wb25lbnRVcGRhdGVkPiwgST4+KG9iamVjdDogSSk6IFBCQ29tcG9uZW50VXBkYXRlZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNvbXBvbmVudFVwZGF0ZWQoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5qc29uID0gb2JqZWN0Lmpzb24gPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJheSgpOiBQQlJheSB7XG4gIHJldHVybiB7IG9yaWdpbjogdW5kZWZpbmVkLCBkaXJlY3Rpb246IHVuZGVmaW5lZCwgZGlzdGFuY2U6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCUmF5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJSYXksIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5vcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJWZWN0b3IzLmVuY29kZShtZXNzYWdlLm9yaWdpbiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmRpc3RhbmNlICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLmRpc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlJheSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5vcmlnaW4gPSBQQlZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gUEJWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmRpc3RhbmNlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCUmF5IHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luOiBpc1NldChvYmplY3Qub3JpZ2luKSA/IFBCVmVjdG9yMy5mcm9tSlNPTihvYmplY3Qub3JpZ2luKSA6IHVuZGVmaW5lZCxcbiAgICAgIGRpcmVjdGlvbjogaXNTZXQob2JqZWN0LmRpcmVjdGlvbikgPyBQQlZlY3RvcjMuZnJvbUpTT04ob2JqZWN0LmRpcmVjdGlvbikgOiB1bmRlZmluZWQsXG4gICAgICBkaXN0YW5jZTogaXNTZXQob2JqZWN0LmRpc3RhbmNlKSA/IE51bWJlcihvYmplY3QuZGlzdGFuY2UpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlJheSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5vcmlnaW4gIT09IHVuZGVmaW5lZCAmJiAob2JqLm9yaWdpbiA9IG1lc3NhZ2Uub3JpZ2luID8gUEJWZWN0b3IzLnRvSlNPTihtZXNzYWdlLm9yaWdpbikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouZGlyZWN0aW9uID0gbWVzc2FnZS5kaXJlY3Rpb24gPyBQQlZlY3RvcjMudG9KU09OKG1lc3NhZ2UuZGlyZWN0aW9uKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5kaXN0YW5jZSAhPT0gdW5kZWZpbmVkICYmIChvYmouZGlzdGFuY2UgPSBtZXNzYWdlLmRpc3RhbmNlKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlJheT4sIEk+PihvYmplY3Q6IEkpOiBQQlJheSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheSgpO1xuICAgIG1lc3NhZ2Uub3JpZ2luID0gKG9iamVjdC5vcmlnaW4gIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub3JpZ2luICE9PSBudWxsKVxuICAgICAgPyBQQlZlY3RvcjMuZnJvbVBhcnRpYWwob2JqZWN0Lm9yaWdpbilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gKG9iamVjdC5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZGlyZWN0aW9uICE9PSBudWxsKVxuICAgICAgPyBQQlZlY3RvcjMuZnJvbVBhcnRpYWwob2JqZWN0LmRpcmVjdGlvbilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuZGlzdGFuY2UgPSBvYmplY3QuZGlzdGFuY2UgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJheVF1ZXJ5KCk6IFBCUmF5UXVlcnkge1xuICByZXR1cm4geyBxdWVyeUlkOiBcIlwiLCBxdWVyeVR5cGU6IFwiXCIsIHJheTogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlJheVF1ZXJ5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJSYXlRdWVyeSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnF1ZXJ5SWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnF1ZXJ5SWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5xdWVyeVR5cGUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnF1ZXJ5VHlwZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlJheS5lbmNvZGUobWVzc2FnZS5yYXksIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJSYXlRdWVyeSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheVF1ZXJ5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnF1ZXJ5SWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnF1ZXJ5VHlwZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UucmF5ID0gUEJSYXkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJSYXlRdWVyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5SWQ6IGlzU2V0KG9iamVjdC5xdWVyeUlkKSA/IFN0cmluZyhvYmplY3QucXVlcnlJZCkgOiBcIlwiLFxuICAgICAgcXVlcnlUeXBlOiBpc1NldChvYmplY3QucXVlcnlUeXBlKSA/IFN0cmluZyhvYmplY3QucXVlcnlUeXBlKSA6IFwiXCIsXG4gICAgICByYXk6IGlzU2V0KG9iamVjdC5yYXkpID8gUEJSYXkuZnJvbUpTT04ob2JqZWN0LnJheSkgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJSYXlRdWVyeSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5xdWVyeUlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5xdWVyeUlkID0gbWVzc2FnZS5xdWVyeUlkKTtcbiAgICBtZXNzYWdlLnF1ZXJ5VHlwZSAhPT0gdW5kZWZpbmVkICYmIChvYmoucXVlcnlUeXBlID0gbWVzc2FnZS5xdWVyeVR5cGUpO1xuICAgIG1lc3NhZ2UucmF5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5yYXkgPSBtZXNzYWdlLnJheSA/IFBCUmF5LnRvSlNPTihtZXNzYWdlLnJheSkgOiB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCUmF5UXVlcnk+LCBJPj4ob2JqZWN0OiBJKTogUEJSYXlRdWVyeSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheVF1ZXJ5KCk7XG4gICAgbWVzc2FnZS5xdWVyeUlkID0gb2JqZWN0LnF1ZXJ5SWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnF1ZXJ5VHlwZSA9IG9iamVjdC5xdWVyeVR5cGUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnJheSA9IChvYmplY3QucmF5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJheSAhPT0gbnVsbCkgPyBQQlJheS5mcm9tUGFydGlhbChvYmplY3QucmF5KSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlF1ZXJ5KCk6IFBCUXVlcnkge1xuICByZXR1cm4geyBxdWVyeUlkOiBcIlwiLCBwYXlsb2FkOiBcIlwiIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlF1ZXJ5ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJRdWVyeSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnF1ZXJ5SWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnF1ZXJ5SWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5wYXlsb2FkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlF1ZXJ5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUXVlcnkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucXVlcnlJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJRdWVyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5SWQ6IGlzU2V0KG9iamVjdC5xdWVyeUlkKSA/IFN0cmluZyhvYmplY3QucXVlcnlJZCkgOiBcIlwiLFxuICAgICAgcGF5bG9hZDogaXNTZXQob2JqZWN0LnBheWxvYWQpID8gU3RyaW5nKG9iamVjdC5wYXlsb2FkKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJRdWVyeSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5xdWVyeUlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5xdWVyeUlkID0gbWVzc2FnZS5xdWVyeUlkKTtcbiAgICBtZXNzYWdlLnBheWxvYWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBheWxvYWQgPSBtZXNzYWdlLnBheWxvYWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCUXVlcnk+LCBJPj4ob2JqZWN0OiBJKTogUEJRdWVyeSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlF1ZXJ5KCk7XG4gICAgbWVzc2FnZS5xdWVyeUlkID0gb2JqZWN0LnF1ZXJ5SWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBheWxvYWQgPSBvYmplY3QucGF5bG9hZCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCU2VuZFNjZW5lTWVzc2FnZSgpOiBQQlNlbmRTY2VuZU1lc3NhZ2Uge1xuICByZXR1cm4geyBzY2VuZUlkOiBcIlwiLCB0YWc6IFwiXCIsIHBheWxvYWQ6IHVuZGVmaW5lZCwgc2NlbmVOdW1iZXI6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCU2VuZFNjZW5lTWVzc2FnZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCU2VuZFNjZW5lTWVzc2FnZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnNjZW5lSWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNjZW5lSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50YWcgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnRhZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcImNyZWF0ZUVudGl0eVwiKSB7XG4gICAgICBQQkNyZWF0ZUVudGl0eS5lbmNvZGUobWVzc2FnZS5wYXlsb2FkLmNyZWF0ZUVudGl0eSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwicmVtb3ZlRW50aXR5XCIpIHtcbiAgICAgIFBCUmVtb3ZlRW50aXR5LmVuY29kZShtZXNzYWdlLnBheWxvYWQucmVtb3ZlRW50aXR5LCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJzZXRFbnRpdHlQYXJlbnRcIikge1xuICAgICAgUEJTZXRFbnRpdHlQYXJlbnQuZW5jb2RlKG1lc3NhZ2UucGF5bG9hZC5zZXRFbnRpdHlQYXJlbnQsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcInVwZGF0ZUVudGl0eUNvbXBvbmVudFwiKSB7XG4gICAgICBQQlVwZGF0ZUVudGl0eUNvbXBvbmVudC5lbmNvZGUobWVzc2FnZS5wYXlsb2FkLnVwZGF0ZUVudGl0eUNvbXBvbmVudCwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwiYXR0YWNoRW50aXR5Q29tcG9uZW50XCIpIHtcbiAgICAgIFBCQXR0YWNoRW50aXR5Q29tcG9uZW50LmVuY29kZShtZXNzYWdlLnBheWxvYWQuYXR0YWNoRW50aXR5Q29tcG9uZW50LCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJjb21wb25lbnRDcmVhdGVkXCIpIHtcbiAgICAgIFBCQ29tcG9uZW50Q3JlYXRlZC5lbmNvZGUobWVzc2FnZS5wYXlsb2FkLmNvbXBvbmVudENyZWF0ZWQsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcImNvbXBvbmVudERpc3Bvc2VkXCIpIHtcbiAgICAgIFBCQ29tcG9uZW50RGlzcG9zZWQuZW5jb2RlKG1lc3NhZ2UucGF5bG9hZC5jb21wb25lbnREaXNwb3NlZCwgd3JpdGVyLnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwiY29tcG9uZW50UmVtb3ZlZFwiKSB7XG4gICAgICBQQkNvbXBvbmVudFJlbW92ZWQuZW5jb2RlKG1lc3NhZ2UucGF5bG9hZC5jb21wb25lbnRSZW1vdmVkLCB3cml0ZXIudWludDMyKDgyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJjb21wb25lbnRVcGRhdGVkXCIpIHtcbiAgICAgIFBCQ29tcG9uZW50VXBkYXRlZC5lbmNvZGUobWVzc2FnZS5wYXlsb2FkLmNvbXBvbmVudFVwZGF0ZWQsIHdyaXRlci51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcInF1ZXJ5XCIpIHtcbiAgICAgIFBCUXVlcnkuZW5jb2RlKG1lc3NhZ2UucGF5bG9hZC5xdWVyeSwgd3JpdGVyLnVpbnQzMig5OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwic2NlbmVTdGFydGVkXCIpIHtcbiAgICAgIEVtcHR5LmVuY29kZShtZXNzYWdlLnBheWxvYWQuc2NlbmVTdGFydGVkLCB3cml0ZXIudWludDMyKDEwNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwib3BlbkV4dGVybmFsVXJsXCIpIHtcbiAgICAgIFBCT3BlbkV4dGVybmFsVXJsLmVuY29kZShtZXNzYWdlLnBheWxvYWQub3BlbkV4dGVybmFsVXJsLCB3cml0ZXIudWludDMyKDExNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwib3Blbk5GVERpYWxvZ1wiKSB7XG4gICAgICBQQk9wZW5ORlREaWFsb2cuZW5jb2RlKG1lc3NhZ2UucGF5bG9hZC5vcGVuTkZURGlhbG9nLCB3cml0ZXIudWludDMyKDEyMikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2NlbmVOdW1iZXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNzkyKS5pbnQzMihtZXNzYWdlLnNjZW5lTnVtYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlNlbmRTY2VuZU1lc3NhZ2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJTZW5kU2NlbmVNZXNzYWdlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnNjZW5lSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnRhZyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHsgJGNhc2U6IFwiY3JlYXRlRW50aXR5XCIsIGNyZWF0ZUVudGl0eTogUEJDcmVhdGVFbnRpdHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0geyAkY2FzZTogXCJyZW1vdmVFbnRpdHlcIiwgcmVtb3ZlRW50aXR5OiBQQlJlbW92ZUVudGl0eS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQgPSB7XG4gICAgICAgICAgICAkY2FzZTogXCJzZXRFbnRpdHlQYXJlbnRcIixcbiAgICAgICAgICAgIHNldEVudGl0eVBhcmVudDogUEJTZXRFbnRpdHlQYXJlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0ge1xuICAgICAgICAgICAgJGNhc2U6IFwidXBkYXRlRW50aXR5Q29tcG9uZW50XCIsXG4gICAgICAgICAgICB1cGRhdGVFbnRpdHlDb21wb25lbnQ6IFBCVXBkYXRlRW50aXR5Q29tcG9uZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgICAgICRjYXNlOiBcImF0dGFjaEVudGl0eUNvbXBvbmVudFwiLFxuICAgICAgICAgICAgYXR0YWNoRW50aXR5Q29tcG9uZW50OiBQQkF0dGFjaEVudGl0eUNvbXBvbmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQgPSB7XG4gICAgICAgICAgICAkY2FzZTogXCJjb21wb25lbnRDcmVhdGVkXCIsXG4gICAgICAgICAgICBjb21wb25lbnRDcmVhdGVkOiBQQkNvbXBvbmVudENyZWF0ZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0ge1xuICAgICAgICAgICAgJGNhc2U6IFwiY29tcG9uZW50RGlzcG9zZWRcIixcbiAgICAgICAgICAgIGNvbXBvbmVudERpc3Bvc2VkOiBQQkNvbXBvbmVudERpc3Bvc2VkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQgPSB7XG4gICAgICAgICAgICAkY2FzZTogXCJjb21wb25lbnRSZW1vdmVkXCIsXG4gICAgICAgICAgICBjb21wb25lbnRSZW1vdmVkOiBQQkNvbXBvbmVudFJlbW92ZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgICAgICRjYXNlOiBcImNvbXBvbmVudFVwZGF0ZWRcIixcbiAgICAgICAgICAgIGNvbXBvbmVudFVwZGF0ZWQ6IFBCQ29tcG9uZW50VXBkYXRlZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0geyAkY2FzZTogXCJxdWVyeVwiLCBxdWVyeTogUEJRdWVyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0geyAkY2FzZTogXCJzY2VuZVN0YXJ0ZWRcIiwgc2NlbmVTdGFydGVkOiBFbXB0eS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0ge1xuICAgICAgICAgICAgJGNhc2U6IFwib3BlbkV4dGVybmFsVXJsXCIsXG4gICAgICAgICAgICBvcGVuRXh0ZXJuYWxVcmw6IFBCT3BlbkV4dGVybmFsVXJsLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQgPSB7ICRjYXNlOiBcIm9wZW5ORlREaWFsb2dcIiwgb3Blbk5GVERpYWxvZzogUEJPcGVuTkZURGlhbG9nLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5OTpcbiAgICAgICAgICBtZXNzYWdlLnNjZW5lTnVtYmVyID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCU2VuZFNjZW5lTWVzc2FnZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjZW5lSWQ6IGlzU2V0KG9iamVjdC5zY2VuZUlkKSA/IFN0cmluZyhvYmplY3Quc2NlbmVJZCkgOiBcIlwiLFxuICAgICAgdGFnOiBpc1NldChvYmplY3QudGFnKSA/IFN0cmluZyhvYmplY3QudGFnKSA6IFwiXCIsXG4gICAgICBwYXlsb2FkOiBpc1NldChvYmplY3QuY3JlYXRlRW50aXR5KVxuICAgICAgICA/IHsgJGNhc2U6IFwiY3JlYXRlRW50aXR5XCIsIGNyZWF0ZUVudGl0eTogUEJDcmVhdGVFbnRpdHkuZnJvbUpTT04ob2JqZWN0LmNyZWF0ZUVudGl0eSkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5yZW1vdmVFbnRpdHkpXG4gICAgICAgID8geyAkY2FzZTogXCJyZW1vdmVFbnRpdHlcIiwgcmVtb3ZlRW50aXR5OiBQQlJlbW92ZUVudGl0eS5mcm9tSlNPTihvYmplY3QucmVtb3ZlRW50aXR5KSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LnNldEVudGl0eVBhcmVudClcbiAgICAgICAgPyB7ICRjYXNlOiBcInNldEVudGl0eVBhcmVudFwiLCBzZXRFbnRpdHlQYXJlbnQ6IFBCU2V0RW50aXR5UGFyZW50LmZyb21KU09OKG9iamVjdC5zZXRFbnRpdHlQYXJlbnQpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QudXBkYXRlRW50aXR5Q29tcG9uZW50KVxuICAgICAgICA/IHtcbiAgICAgICAgICAkY2FzZTogXCJ1cGRhdGVFbnRpdHlDb21wb25lbnRcIixcbiAgICAgICAgICB1cGRhdGVFbnRpdHlDb21wb25lbnQ6IFBCVXBkYXRlRW50aXR5Q29tcG9uZW50LmZyb21KU09OKG9iamVjdC51cGRhdGVFbnRpdHlDb21wb25lbnQpLFxuICAgICAgICB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmF0dGFjaEVudGl0eUNvbXBvbmVudClcbiAgICAgICAgPyB7XG4gICAgICAgICAgJGNhc2U6IFwiYXR0YWNoRW50aXR5Q29tcG9uZW50XCIsXG4gICAgICAgICAgYXR0YWNoRW50aXR5Q29tcG9uZW50OiBQQkF0dGFjaEVudGl0eUNvbXBvbmVudC5mcm9tSlNPTihvYmplY3QuYXR0YWNoRW50aXR5Q29tcG9uZW50KSxcbiAgICAgICAgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5jb21wb25lbnRDcmVhdGVkKVxuICAgICAgICA/IHsgJGNhc2U6IFwiY29tcG9uZW50Q3JlYXRlZFwiLCBjb21wb25lbnRDcmVhdGVkOiBQQkNvbXBvbmVudENyZWF0ZWQuZnJvbUpTT04ob2JqZWN0LmNvbXBvbmVudENyZWF0ZWQpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QuY29tcG9uZW50RGlzcG9zZWQpXG4gICAgICAgID8geyAkY2FzZTogXCJjb21wb25lbnREaXNwb3NlZFwiLCBjb21wb25lbnREaXNwb3NlZDogUEJDb21wb25lbnREaXNwb3NlZC5mcm9tSlNPTihvYmplY3QuY29tcG9uZW50RGlzcG9zZWQpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QuY29tcG9uZW50UmVtb3ZlZClcbiAgICAgICAgPyB7ICRjYXNlOiBcImNvbXBvbmVudFJlbW92ZWRcIiwgY29tcG9uZW50UmVtb3ZlZDogUEJDb21wb25lbnRSZW1vdmVkLmZyb21KU09OKG9iamVjdC5jb21wb25lbnRSZW1vdmVkKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmNvbXBvbmVudFVwZGF0ZWQpXG4gICAgICAgID8geyAkY2FzZTogXCJjb21wb25lbnRVcGRhdGVkXCIsIGNvbXBvbmVudFVwZGF0ZWQ6IFBCQ29tcG9uZW50VXBkYXRlZC5mcm9tSlNPTihvYmplY3QuY29tcG9uZW50VXBkYXRlZCkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5xdWVyeSlcbiAgICAgICAgPyB7ICRjYXNlOiBcInF1ZXJ5XCIsIHF1ZXJ5OiBQQlF1ZXJ5LmZyb21KU09OKG9iamVjdC5xdWVyeSkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5zY2VuZVN0YXJ0ZWQpXG4gICAgICAgID8geyAkY2FzZTogXCJzY2VuZVN0YXJ0ZWRcIiwgc2NlbmVTdGFydGVkOiBFbXB0eS5mcm9tSlNPTihvYmplY3Quc2NlbmVTdGFydGVkKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0Lm9wZW5FeHRlcm5hbFVybClcbiAgICAgICAgPyB7ICRjYXNlOiBcIm9wZW5FeHRlcm5hbFVybFwiLCBvcGVuRXh0ZXJuYWxVcmw6IFBCT3BlbkV4dGVybmFsVXJsLmZyb21KU09OKG9iamVjdC5vcGVuRXh0ZXJuYWxVcmwpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3Qub3Blbk5GVERpYWxvZylcbiAgICAgICAgPyB7ICRjYXNlOiBcIm9wZW5ORlREaWFsb2dcIiwgb3Blbk5GVERpYWxvZzogUEJPcGVuTkZURGlhbG9nLmZyb21KU09OKG9iamVjdC5vcGVuTkZURGlhbG9nKSB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc2NlbmVOdW1iZXI6IGlzU2V0KG9iamVjdC5zY2VuZU51bWJlcikgPyBOdW1iZXIob2JqZWN0LnNjZW5lTnVtYmVyKSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJTZW5kU2NlbmVNZXNzYWdlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnNjZW5lSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNjZW5lSWQgPSBtZXNzYWdlLnNjZW5lSWQpO1xuICAgIG1lc3NhZ2UudGFnICE9PSB1bmRlZmluZWQgJiYgKG9iai50YWcgPSBtZXNzYWdlLnRhZyk7XG4gICAgbWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJjcmVhdGVFbnRpdHlcIiAmJiAob2JqLmNyZWF0ZUVudGl0eSA9IG1lc3NhZ2UucGF5bG9hZD8uY3JlYXRlRW50aXR5XG4gICAgICA/IFBCQ3JlYXRlRW50aXR5LnRvSlNPTihtZXNzYWdlLnBheWxvYWQ/LmNyZWF0ZUVudGl0eSlcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcInJlbW92ZUVudGl0eVwiICYmIChvYmoucmVtb3ZlRW50aXR5ID0gbWVzc2FnZS5wYXlsb2FkPy5yZW1vdmVFbnRpdHlcbiAgICAgID8gUEJSZW1vdmVFbnRpdHkudG9KU09OKG1lc3NhZ2UucGF5bG9hZD8ucmVtb3ZlRW50aXR5KVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwic2V0RW50aXR5UGFyZW50XCIgJiYgKG9iai5zZXRFbnRpdHlQYXJlbnQgPSBtZXNzYWdlLnBheWxvYWQ/LnNldEVudGl0eVBhcmVudFxuICAgICAgPyBQQlNldEVudGl0eVBhcmVudC50b0pTT04obWVzc2FnZS5wYXlsb2FkPy5zZXRFbnRpdHlQYXJlbnQpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJ1cGRhdGVFbnRpdHlDb21wb25lbnRcIiAmJlxuICAgICAgKG9iai51cGRhdGVFbnRpdHlDb21wb25lbnQgPSBtZXNzYWdlLnBheWxvYWQ/LnVwZGF0ZUVudGl0eUNvbXBvbmVudFxuICAgICAgICA/IFBCVXBkYXRlRW50aXR5Q29tcG9uZW50LnRvSlNPTihtZXNzYWdlLnBheWxvYWQ/LnVwZGF0ZUVudGl0eUNvbXBvbmVudClcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwiYXR0YWNoRW50aXR5Q29tcG9uZW50XCIgJiZcbiAgICAgIChvYmouYXR0YWNoRW50aXR5Q29tcG9uZW50ID0gbWVzc2FnZS5wYXlsb2FkPy5hdHRhY2hFbnRpdHlDb21wb25lbnRcbiAgICAgICAgPyBQQkF0dGFjaEVudGl0eUNvbXBvbmVudC50b0pTT04obWVzc2FnZS5wYXlsb2FkPy5hdHRhY2hFbnRpdHlDb21wb25lbnQpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcImNvbXBvbmVudENyZWF0ZWRcIiAmJiAob2JqLmNvbXBvbmVudENyZWF0ZWQgPSBtZXNzYWdlLnBheWxvYWQ/LmNvbXBvbmVudENyZWF0ZWRcbiAgICAgID8gUEJDb21wb25lbnRDcmVhdGVkLnRvSlNPTihtZXNzYWdlLnBheWxvYWQ/LmNvbXBvbmVudENyZWF0ZWQpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJjb21wb25lbnREaXNwb3NlZFwiICYmIChvYmouY29tcG9uZW50RGlzcG9zZWQgPSBtZXNzYWdlLnBheWxvYWQ/LmNvbXBvbmVudERpc3Bvc2VkXG4gICAgICA/IFBCQ29tcG9uZW50RGlzcG9zZWQudG9KU09OKG1lc3NhZ2UucGF5bG9hZD8uY29tcG9uZW50RGlzcG9zZWQpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5wYXlsb2FkPy4kY2FzZSA9PT0gXCJjb21wb25lbnRSZW1vdmVkXCIgJiYgKG9iai5jb21wb25lbnRSZW1vdmVkID0gbWVzc2FnZS5wYXlsb2FkPy5jb21wb25lbnRSZW1vdmVkXG4gICAgICA/IFBCQ29tcG9uZW50UmVtb3ZlZC50b0pTT04obWVzc2FnZS5wYXlsb2FkPy5jb21wb25lbnRSZW1vdmVkKVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwiY29tcG9uZW50VXBkYXRlZFwiICYmIChvYmouY29tcG9uZW50VXBkYXRlZCA9IG1lc3NhZ2UucGF5bG9hZD8uY29tcG9uZW50VXBkYXRlZFxuICAgICAgPyBQQkNvbXBvbmVudFVwZGF0ZWQudG9KU09OKG1lc3NhZ2UucGF5bG9hZD8uY29tcG9uZW50VXBkYXRlZClcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcInF1ZXJ5XCIgJiZcbiAgICAgIChvYmoucXVlcnkgPSBtZXNzYWdlLnBheWxvYWQ/LnF1ZXJ5ID8gUEJRdWVyeS50b0pTT04obWVzc2FnZS5wYXlsb2FkPy5xdWVyeSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwic2NlbmVTdGFydGVkXCIgJiZcbiAgICAgIChvYmouc2NlbmVTdGFydGVkID0gbWVzc2FnZS5wYXlsb2FkPy5zY2VuZVN0YXJ0ZWQgPyBFbXB0eS50b0pTT04obWVzc2FnZS5wYXlsb2FkPy5zY2VuZVN0YXJ0ZWQpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBheWxvYWQ/LiRjYXNlID09PSBcIm9wZW5FeHRlcm5hbFVybFwiICYmIChvYmoub3BlbkV4dGVybmFsVXJsID0gbWVzc2FnZS5wYXlsb2FkPy5vcGVuRXh0ZXJuYWxVcmxcbiAgICAgID8gUEJPcGVuRXh0ZXJuYWxVcmwudG9KU09OKG1lc3NhZ2UucGF5bG9hZD8ub3BlbkV4dGVybmFsVXJsKVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucGF5bG9hZD8uJGNhc2UgPT09IFwib3Blbk5GVERpYWxvZ1wiICYmIChvYmoub3Blbk5GVERpYWxvZyA9IG1lc3NhZ2UucGF5bG9hZD8ub3Blbk5GVERpYWxvZ1xuICAgICAgPyBQQk9wZW5ORlREaWFsb2cudG9KU09OKG1lc3NhZ2UucGF5bG9hZD8ub3Blbk5GVERpYWxvZylcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnNjZW5lTnVtYmVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5zY2VuZU51bWJlciA9IE1hdGgucm91bmQobWVzc2FnZS5zY2VuZU51bWJlcikpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCU2VuZFNjZW5lTWVzc2FnZT4sIEk+PihvYmplY3Q6IEkpOiBQQlNlbmRTY2VuZU1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJTZW5kU2NlbmVNZXNzYWdlKCk7XG4gICAgbWVzc2FnZS5zY2VuZUlkID0gb2JqZWN0LnNjZW5lSWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnRhZyA9IG9iamVjdC50YWcgPz8gXCJcIjtcbiAgICBpZiAoXG4gICAgICBvYmplY3QucGF5bG9hZD8uJGNhc2UgPT09IFwiY3JlYXRlRW50aXR5XCIgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5jcmVhdGVFbnRpdHkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0LnBheWxvYWQ/LmNyZWF0ZUVudGl0eSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5wYXlsb2FkID0ge1xuICAgICAgICAkY2FzZTogXCJjcmVhdGVFbnRpdHlcIixcbiAgICAgICAgY3JlYXRlRW50aXR5OiBQQkNyZWF0ZUVudGl0eS5mcm9tUGFydGlhbChvYmplY3QucGF5bG9hZC5jcmVhdGVFbnRpdHkpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0LnBheWxvYWQ/LiRjYXNlID09PSBcInJlbW92ZUVudGl0eVwiICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8ucmVtb3ZlRW50aXR5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5yZW1vdmVFbnRpdHkgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgJGNhc2U6IFwicmVtb3ZlRW50aXR5XCIsXG4gICAgICAgIHJlbW92ZUVudGl0eTogUEJSZW1vdmVFbnRpdHkuZnJvbVBhcnRpYWwob2JqZWN0LnBheWxvYWQucmVtb3ZlRW50aXR5KSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5wYXlsb2FkPy4kY2FzZSA9PT0gXCJzZXRFbnRpdHlQYXJlbnRcIiAmJlxuICAgICAgb2JqZWN0LnBheWxvYWQ/LnNldEVudGl0eVBhcmVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8uc2V0RW50aXR5UGFyZW50ICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLnBheWxvYWQgPSB7XG4gICAgICAgICRjYXNlOiBcInNldEVudGl0eVBhcmVudFwiLFxuICAgICAgICBzZXRFbnRpdHlQYXJlbnQ6IFBCU2V0RW50aXR5UGFyZW50LmZyb21QYXJ0aWFsKG9iamVjdC5wYXlsb2FkLnNldEVudGl0eVBhcmVudCksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QucGF5bG9hZD8uJGNhc2UgPT09IFwidXBkYXRlRW50aXR5Q29tcG9uZW50XCIgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy51cGRhdGVFbnRpdHlDb21wb25lbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0LnBheWxvYWQ/LnVwZGF0ZUVudGl0eUNvbXBvbmVudCAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5wYXlsb2FkID0ge1xuICAgICAgICAkY2FzZTogXCJ1cGRhdGVFbnRpdHlDb21wb25lbnRcIixcbiAgICAgICAgdXBkYXRlRW50aXR5Q29tcG9uZW50OiBQQlVwZGF0ZUVudGl0eUNvbXBvbmVudC5mcm9tUGFydGlhbChvYmplY3QucGF5bG9hZC51cGRhdGVFbnRpdHlDb21wb25lbnQpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0LnBheWxvYWQ/LiRjYXNlID09PSBcImF0dGFjaEVudGl0eUNvbXBvbmVudFwiICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8uYXR0YWNoRW50aXR5Q29tcG9uZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5hdHRhY2hFbnRpdHlDb21wb25lbnQgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgJGNhc2U6IFwiYXR0YWNoRW50aXR5Q29tcG9uZW50XCIsXG4gICAgICAgIGF0dGFjaEVudGl0eUNvbXBvbmVudDogUEJBdHRhY2hFbnRpdHlDb21wb25lbnQuZnJvbVBhcnRpYWwob2JqZWN0LnBheWxvYWQuYXR0YWNoRW50aXR5Q29tcG9uZW50KSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5wYXlsb2FkPy4kY2FzZSA9PT0gXCJjb21wb25lbnRDcmVhdGVkXCIgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5jb21wb25lbnRDcmVhdGVkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5jb21wb25lbnRDcmVhdGVkICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLnBheWxvYWQgPSB7XG4gICAgICAgICRjYXNlOiBcImNvbXBvbmVudENyZWF0ZWRcIixcbiAgICAgICAgY29tcG9uZW50Q3JlYXRlZDogUEJDb21wb25lbnRDcmVhdGVkLmZyb21QYXJ0aWFsKG9iamVjdC5wYXlsb2FkLmNvbXBvbmVudENyZWF0ZWQpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0LnBheWxvYWQ/LiRjYXNlID09PSBcImNvbXBvbmVudERpc3Bvc2VkXCIgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5jb21wb25lbnREaXNwb3NlZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8uY29tcG9uZW50RGlzcG9zZWQgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgJGNhc2U6IFwiY29tcG9uZW50RGlzcG9zZWRcIixcbiAgICAgICAgY29tcG9uZW50RGlzcG9zZWQ6IFBCQ29tcG9uZW50RGlzcG9zZWQuZnJvbVBhcnRpYWwob2JqZWN0LnBheWxvYWQuY29tcG9uZW50RGlzcG9zZWQpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0LnBheWxvYWQ/LiRjYXNlID09PSBcImNvbXBvbmVudFJlbW92ZWRcIiAmJlxuICAgICAgb2JqZWN0LnBheWxvYWQ/LmNvbXBvbmVudFJlbW92ZWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0LnBheWxvYWQ/LmNvbXBvbmVudFJlbW92ZWQgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgJGNhc2U6IFwiY29tcG9uZW50UmVtb3ZlZFwiLFxuICAgICAgICBjb21wb25lbnRSZW1vdmVkOiBQQkNvbXBvbmVudFJlbW92ZWQuZnJvbVBhcnRpYWwob2JqZWN0LnBheWxvYWQuY29tcG9uZW50UmVtb3ZlZCksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QucGF5bG9hZD8uJGNhc2UgPT09IFwiY29tcG9uZW50VXBkYXRlZFwiICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8uY29tcG9uZW50VXBkYXRlZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8uY29tcG9uZW50VXBkYXRlZCAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5wYXlsb2FkID0ge1xuICAgICAgICAkY2FzZTogXCJjb21wb25lbnRVcGRhdGVkXCIsXG4gICAgICAgIGNvbXBvbmVudFVwZGF0ZWQ6IFBCQ29tcG9uZW50VXBkYXRlZC5mcm9tUGFydGlhbChvYmplY3QucGF5bG9hZC5jb21wb25lbnRVcGRhdGVkKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChvYmplY3QucGF5bG9hZD8uJGNhc2UgPT09IFwicXVlcnlcIiAmJiBvYmplY3QucGF5bG9hZD8ucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGF5bG9hZD8ucXVlcnkgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHsgJGNhc2U6IFwicXVlcnlcIiwgcXVlcnk6IFBCUXVlcnkuZnJvbVBhcnRpYWwob2JqZWN0LnBheWxvYWQucXVlcnkpIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5wYXlsb2FkPy4kY2FzZSA9PT0gXCJzY2VuZVN0YXJ0ZWRcIiAmJlxuICAgICAgb2JqZWN0LnBheWxvYWQ/LnNjZW5lU3RhcnRlZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8uc2NlbmVTdGFydGVkICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLnBheWxvYWQgPSB7ICRjYXNlOiBcInNjZW5lU3RhcnRlZFwiLCBzY2VuZVN0YXJ0ZWQ6IEVtcHR5LmZyb21QYXJ0aWFsKG9iamVjdC5wYXlsb2FkLnNjZW5lU3RhcnRlZCkgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0LnBheWxvYWQ/LiRjYXNlID09PSBcIm9wZW5FeHRlcm5hbFVybFwiICYmXG4gICAgICBvYmplY3QucGF5bG9hZD8ub3BlbkV4dGVybmFsVXJsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5vcGVuRXh0ZXJuYWxVcmwgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHtcbiAgICAgICAgJGNhc2U6IFwib3BlbkV4dGVybmFsVXJsXCIsXG4gICAgICAgIG9wZW5FeHRlcm5hbFVybDogUEJPcGVuRXh0ZXJuYWxVcmwuZnJvbVBhcnRpYWwob2JqZWN0LnBheWxvYWQub3BlbkV4dGVybmFsVXJsKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5wYXlsb2FkPy4kY2FzZSA9PT0gXCJvcGVuTkZURGlhbG9nXCIgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5vcGVuTkZURGlhbG9nICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5wYXlsb2FkPy5vcGVuTkZURGlhbG9nICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLnBheWxvYWQgPSB7XG4gICAgICAgICRjYXNlOiBcIm9wZW5ORlREaWFsb2dcIixcbiAgICAgICAgb3Blbk5GVERpYWxvZzogUEJPcGVuTkZURGlhbG9nLmZyb21QYXJ0aWFsKG9iamVjdC5wYXlsb2FkLm9wZW5ORlREaWFsb2cpLFxuICAgICAgfTtcbiAgICB9XG4gICAgbWVzc2FnZS5zY2VuZU51bWJlciA9IG9iamVjdC5zY2VuZU51bWJlciA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCU2V0UG9zaXRpb24oKTogUEJTZXRQb3NpdGlvbiB7XG4gIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCU2V0UG9zaXRpb24gPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlNldFBvc2l0aW9uLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlNldFBvc2l0aW9uIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCU2V0UG9zaXRpb24oKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnogPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJTZXRQb3NpdGlvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGlzU2V0KG9iamVjdC54KSA/IE51bWJlcihvYmplY3QueCkgOiAwLFxuICAgICAgeTogaXNTZXQob2JqZWN0LnkpID8gTnVtYmVyKG9iamVjdC55KSA6IDAsXG4gICAgICB6OiBpc1NldChvYmplY3QueikgPyBOdW1iZXIob2JqZWN0LnopIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlNldFBvc2l0aW9uKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnggIT09IHVuZGVmaW5lZCAmJiAob2JqLnggPSBtZXNzYWdlLngpO1xuICAgIG1lc3NhZ2UueSAhPT0gdW5kZWZpbmVkICYmIChvYmoueSA9IG1lc3NhZ2UueSk7XG4gICAgbWVzc2FnZS56ICE9PSB1bmRlZmluZWQgJiYgKG9iai56ID0gbWVzc2FnZS56KTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlNldFBvc2l0aW9uPiwgST4+KG9iamVjdDogSSk6IFBCU2V0UG9zaXRpb24ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJTZXRQb3NpdGlvbigpO1xuICAgIG1lc3NhZ2UueCA9IG9iamVjdC54ID8/IDA7XG4gICAgbWVzc2FnZS55ID0gb2JqZWN0LnkgPz8gMDtcbiAgICBtZXNzYWdlLnogPSBvYmplY3QueiA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ29udGVudE1hcHBpbmcoKTogUEJDb250ZW50TWFwcGluZyB7XG4gIHJldHVybiB7IGZpbGU6IFwiXCIsIGhhc2g6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQ29udGVudE1hcHBpbmcgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkNvbnRlbnRNYXBwaW5nLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuZmlsZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZmlsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhhc2ggIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmhhc2gpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCQ29udGVudE1hcHBpbmcge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb250ZW50TWFwcGluZygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5maWxlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNvbnRlbnRNYXBwaW5nIHtcbiAgICByZXR1cm4geyBmaWxlOiBpc1NldChvYmplY3QuZmlsZSkgPyBTdHJpbmcob2JqZWN0LmZpbGUpIDogXCJcIiwgaGFzaDogaXNTZXQob2JqZWN0Lmhhc2gpID8gU3RyaW5nKG9iamVjdC5oYXNoKSA6IFwiXCIgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJDb250ZW50TWFwcGluZyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5maWxlICE9PSB1bmRlZmluZWQgJiYgKG9iai5maWxlID0gbWVzc2FnZS5maWxlKTtcbiAgICBtZXNzYWdlLmhhc2ggIT09IHVuZGVmaW5lZCAmJiAob2JqLmhhc2ggPSBtZXNzYWdlLmhhc2gpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQ29udGVudE1hcHBpbmc+LCBJPj4ob2JqZWN0OiBJKTogUEJDb250ZW50TWFwcGluZyB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNvbnRlbnRNYXBwaW5nKCk7XG4gICAgbWVzc2FnZS5maWxlID0gb2JqZWN0LmZpbGUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmhhc2ggPSBvYmplY3QuaGFzaCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUG9zaXRpb24oKTogUEJQb3NpdGlvbiB7XG4gIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCUG9zaXRpb24gPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlBvc2l0aW9uLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlBvc2l0aW9uIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9zaXRpb24oKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCUG9zaXRpb24ge1xuICAgIHJldHVybiB7IHg6IGlzU2V0KG9iamVjdC54KSA/IE51bWJlcihvYmplY3QueCkgOiAwLCB5OiBpc1NldChvYmplY3QueSkgPyBOdW1iZXIob2JqZWN0LnkpIDogMCB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlBvc2l0aW9uKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnggIT09IHVuZGVmaW5lZCAmJiAob2JqLnggPSBtZXNzYWdlLngpO1xuICAgIG1lc3NhZ2UueSAhPT0gdW5kZWZpbmVkICYmIChvYmoueSA9IG1lc3NhZ2UueSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJQb3NpdGlvbj4sIEk+PihvYmplY3Q6IEkpOiBQQlBvc2l0aW9uIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9zaXRpb24oKTtcbiAgICBtZXNzYWdlLnggPSBvYmplY3QueCA/PyAwO1xuICAgIG1lc3NhZ2UueSA9IG9iamVjdC55ID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJMb2FkUGFyY2VsU2NlbmVzKCk6IFBCTG9hZFBhcmNlbFNjZW5lcyB7XG4gIHJldHVybiB7IGlkOiBcIlwiLCBiYXNlUG9zaXRpb246IHVuZGVmaW5lZCwgcGFyY2VsczogW10sIGNvbnRlbnRzOiBbXSwgYmFzZVVybDogXCJcIiwgc2NlbmVOdW1iZXI6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCTG9hZFBhcmNlbFNjZW5lcyA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCTG9hZFBhcmNlbFNjZW5lcywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmJhc2VQb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlBvc2l0aW9uLmVuY29kZShtZXNzYWdlLmJhc2VQb3NpdGlvbiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UucGFyY2Vscykge1xuICAgICAgUEJQb3NpdGlvbi5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmNvbnRlbnRzKSB7XG4gICAgICBQQkNvbnRlbnRNYXBwaW5nLmVuY29kZSh2ISwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYmFzZVVybCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2UuYmFzZVVybCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNjZW5lTnVtYmVyICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc5MikuaW50MzIobWVzc2FnZS5zY2VuZU51bWJlcik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJMb2FkUGFyY2VsU2NlbmVzIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTG9hZFBhcmNlbFNjZW5lcygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuYmFzZVBvc2l0aW9uID0gUEJQb3NpdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5wYXJjZWxzLnB1c2goUEJQb3NpdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2UuY29udGVudHMucHVzaChQQkNvbnRlbnRNYXBwaW5nLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS5iYXNlVXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk5OlxuICAgICAgICAgIG1lc3NhZ2Uuc2NlbmVOdW1iZXIgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJMb2FkUGFyY2VsU2NlbmVzIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGlzU2V0KG9iamVjdC5pZCkgPyBTdHJpbmcob2JqZWN0LmlkKSA6IFwiXCIsXG4gICAgICBiYXNlUG9zaXRpb246IGlzU2V0KG9iamVjdC5iYXNlUG9zaXRpb24pID8gUEJQb3NpdGlvbi5mcm9tSlNPTihvYmplY3QuYmFzZVBvc2l0aW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgIHBhcmNlbHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5wYXJjZWxzKSA/IG9iamVjdC5wYXJjZWxzLm1hcCgoZTogYW55KSA9PiBQQlBvc2l0aW9uLmZyb21KU09OKGUpKSA6IFtdLFxuICAgICAgY29udGVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5jb250ZW50cykgPyBvYmplY3QuY29udGVudHMubWFwKChlOiBhbnkpID0+IFBCQ29udGVudE1hcHBpbmcuZnJvbUpTT04oZSkpIDogW10sXG4gICAgICBiYXNlVXJsOiBpc1NldChvYmplY3QuYmFzZVVybCkgPyBTdHJpbmcob2JqZWN0LmJhc2VVcmwpIDogXCJcIixcbiAgICAgIHNjZW5lTnVtYmVyOiBpc1NldChvYmplY3Quc2NlbmVOdW1iZXIpID8gTnVtYmVyKG9iamVjdC5zY2VuZU51bWJlcikgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCTG9hZFBhcmNlbFNjZW5lcyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5pZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaWQgPSBtZXNzYWdlLmlkKTtcbiAgICBtZXNzYWdlLmJhc2VQb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmJhc2VQb3NpdGlvbiA9IG1lc3NhZ2UuYmFzZVBvc2l0aW9uID8gUEJQb3NpdGlvbi50b0pTT04obWVzc2FnZS5iYXNlUG9zaXRpb24pIDogdW5kZWZpbmVkKTtcbiAgICBpZiAobWVzc2FnZS5wYXJjZWxzKSB7XG4gICAgICBvYmoucGFyY2VscyA9IG1lc3NhZ2UucGFyY2Vscy5tYXAoKGUpID0+IGUgPyBQQlBvc2l0aW9uLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5wYXJjZWxzID0gW107XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbnRlbnRzKSB7XG4gICAgICBvYmouY29udGVudHMgPSBtZXNzYWdlLmNvbnRlbnRzLm1hcCgoZSkgPT4gZSA/IFBCQ29udGVudE1hcHBpbmcudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqLmNvbnRlbnRzID0gW107XG4gICAgfVxuICAgIG1lc3NhZ2UuYmFzZVVybCAhPT0gdW5kZWZpbmVkICYmIChvYmouYmFzZVVybCA9IG1lc3NhZ2UuYmFzZVVybCk7XG4gICAgbWVzc2FnZS5zY2VuZU51bWJlciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2NlbmVOdW1iZXIgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uuc2NlbmVOdW1iZXIpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkxvYWRQYXJjZWxTY2VuZXM+LCBJPj4ob2JqZWN0OiBJKTogUEJMb2FkUGFyY2VsU2NlbmVzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTG9hZFBhcmNlbFNjZW5lcygpO1xuICAgIG1lc3NhZ2UuaWQgPSBvYmplY3QuaWQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmJhc2VQb3NpdGlvbiA9IChvYmplY3QuYmFzZVBvc2l0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJhc2VQb3NpdGlvbiAhPT0gbnVsbClcbiAgICAgID8gUEJQb3NpdGlvbi5mcm9tUGFydGlhbChvYmplY3QuYmFzZVBvc2l0aW9uKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5wYXJjZWxzID0gb2JqZWN0LnBhcmNlbHM/Lm1hcCgoZSkgPT4gUEJQb3NpdGlvbi5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgbWVzc2FnZS5jb250ZW50cyA9IG9iamVjdC5jb250ZW50cz8ubWFwKChlKSA9PiBQQkNvbnRlbnRNYXBwaW5nLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICBtZXNzYWdlLmJhc2VVcmwgPSBvYmplY3QuYmFzZVVybCA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uuc2NlbmVOdW1iZXIgPSBvYmplY3Quc2NlbmVOdW1iZXIgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkNyZWF0ZVVJU2NlbmUoKTogUEJDcmVhdGVVSVNjZW5lIHtcbiAgcmV0dXJuIHsgaWQ6IFwiXCIsIGJhc2VVcmw6IFwiXCIsIHNjZW5lTnVtYmVyOiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkNyZWF0ZVVJU2NlbmUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkNyZWF0ZVVJU2NlbmUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5iYXNlVXJsICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5iYXNlVXJsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2NlbmVOdW1iZXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNzkyKS5pbnQzMihtZXNzYWdlLnNjZW5lTnVtYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkNyZWF0ZVVJU2NlbmUge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDcmVhdGVVSVNjZW5lKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5iYXNlVXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk5OlxuICAgICAgICAgIG1lc3NhZ2Uuc2NlbmVOdW1iZXIgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJDcmVhdGVVSVNjZW5lIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGlzU2V0KG9iamVjdC5pZCkgPyBTdHJpbmcob2JqZWN0LmlkKSA6IFwiXCIsXG4gICAgICBiYXNlVXJsOiBpc1NldChvYmplY3QuYmFzZVVybCkgPyBTdHJpbmcob2JqZWN0LmJhc2VVcmwpIDogXCJcIixcbiAgICAgIHNjZW5lTnVtYmVyOiBpc1NldChvYmplY3Quc2NlbmVOdW1iZXIpID8gTnVtYmVyKG9iamVjdC5zY2VuZU51bWJlcikgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCQ3JlYXRlVUlTY2VuZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5pZCAhPT0gdW5kZWZpbmVkICYmIChvYmouaWQgPSBtZXNzYWdlLmlkKTtcbiAgICBtZXNzYWdlLmJhc2VVcmwgIT09IHVuZGVmaW5lZCAmJiAob2JqLmJhc2VVcmwgPSBtZXNzYWdlLmJhc2VVcmwpO1xuICAgIG1lc3NhZ2Uuc2NlbmVOdW1iZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNjZW5lTnVtYmVyID0gTWF0aC5yb3VuZChtZXNzYWdlLnNjZW5lTnVtYmVyKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDcmVhdGVVSVNjZW5lPiwgST4+KG9iamVjdDogSSk6IFBCQ3JlYXRlVUlTY2VuZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNyZWF0ZVVJU2NlbmUoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5iYXNlVXJsID0gb2JqZWN0LmJhc2VVcmwgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnNjZW5lTnVtYmVyID0gb2JqZWN0LnNjZW5lTnVtYmVyID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVbmxvYWRTY2VuZSgpOiBQQlVubG9hZFNjZW5lIHtcbiAgcmV0dXJuIHsgc2NlbmVJZDogXCJcIiwgc2NlbmVOdW1iZXI6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCVW5sb2FkU2NlbmUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlVubG9hZFNjZW5lLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uuc2NlbmVJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc2NlbmVJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNjZW5lTnVtYmVyICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc5MikuaW50MzIobWVzc2FnZS5zY2VuZU51bWJlcik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJVbmxvYWRTY2VuZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVubG9hZFNjZW5lKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnNjZW5lSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTk6XG4gICAgICAgICAgbWVzc2FnZS5zY2VuZU51bWJlciA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVubG9hZFNjZW5lIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NlbmVJZDogaXNTZXQob2JqZWN0LnNjZW5lSWQpID8gU3RyaW5nKG9iamVjdC5zY2VuZUlkKSA6IFwiXCIsXG4gICAgICBzY2VuZU51bWJlcjogaXNTZXQob2JqZWN0LnNjZW5lTnVtYmVyKSA/IE51bWJlcihvYmplY3Quc2NlbmVOdW1iZXIpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVubG9hZFNjZW5lKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnNjZW5lSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNjZW5lSWQgPSBtZXNzYWdlLnNjZW5lSWQpO1xuICAgIG1lc3NhZ2Uuc2NlbmVOdW1iZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNjZW5lTnVtYmVyID0gTWF0aC5yb3VuZChtZXNzYWdlLnNjZW5lTnVtYmVyKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVbmxvYWRTY2VuZT4sIEk+PihvYmplY3Q6IEkpOiBQQlVubG9hZFNjZW5lIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVW5sb2FkU2NlbmUoKTtcbiAgICBtZXNzYWdlLnNjZW5lSWQgPSBvYmplY3Quc2NlbmVJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uuc2NlbmVOdW1iZXIgPSBvYmplY3Quc2NlbmVOdW1iZXIgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkRjbE1lc3NhZ2UoKTogUEJEY2xNZXNzYWdlIHtcbiAgcmV0dXJuIHsgbWVzc2FnZTogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkRjbE1lc3NhZ2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkRjbE1lc3NhZ2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXREZWJ1Z1wiKSB7XG4gICAgICBFbXB0eS5lbmNvZGUobWVzc2FnZS5tZXNzYWdlLnNldERlYnVnLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXRTY2VuZURlYnVnUGFuZWxcIikge1xuICAgICAgRW1wdHkuZW5jb2RlKG1lc3NhZ2UubWVzc2FnZS5zZXRTY2VuZURlYnVnUGFuZWwsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcInNldEVuZ2luZURlYnVnUGFuZWxcIikge1xuICAgICAgRW1wdHkuZW5jb2RlKG1lc3NhZ2UubWVzc2FnZS5zZXRFbmdpbmVEZWJ1Z1BhbmVsLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZW5kU2NlbmVNZXNzYWdlXCIpIHtcbiAgICAgIFBCU2VuZFNjZW5lTWVzc2FnZS5lbmNvZGUobWVzc2FnZS5tZXNzYWdlLnNlbmRTY2VuZU1lc3NhZ2UsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcImxvYWRQYXJjZWxTY2VuZXNcIikge1xuICAgICAgUEJMb2FkUGFyY2VsU2NlbmVzLmVuY29kZShtZXNzYWdlLm1lc3NhZ2UubG9hZFBhcmNlbFNjZW5lcywgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZT8uJGNhc2UgPT09IFwidW5sb2FkU2NlbmVcIikge1xuICAgICAgUEJVbmxvYWRTY2VuZS5lbmNvZGUobWVzc2FnZS5tZXNzYWdlLnVubG9hZFNjZW5lLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXRQb3NpdGlvblwiKSB7XG4gICAgICBQQlNldFBvc2l0aW9uLmVuY29kZShtZXNzYWdlLm1lc3NhZ2Uuc2V0UG9zaXRpb24sIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcInJlc2V0XCIpIHtcbiAgICAgIEVtcHR5LmVuY29kZShtZXNzYWdlLm1lc3NhZ2UucmVzZXQsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcImNyZWF0ZVVJU2NlbmVcIikge1xuICAgICAgUEJDcmVhdGVVSVNjZW5lLmVuY29kZShtZXNzYWdlLm1lc3NhZ2UuY3JlYXRlVUlTY2VuZSwgd3JpdGVyLnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkRjbE1lc3NhZ2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJEY2xNZXNzYWdlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7ICRjYXNlOiBcInNldERlYnVnXCIsIHNldERlYnVnOiBFbXB0eS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7ICRjYXNlOiBcInNldFNjZW5lRGVidWdQYW5lbFwiLCBzZXRTY2VuZURlYnVnUGFuZWw6IEVtcHR5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHtcbiAgICAgICAgICAgICRjYXNlOiBcInNldEVuZ2luZURlYnVnUGFuZWxcIixcbiAgICAgICAgICAgIHNldEVuZ2luZURlYnVnUGFuZWw6IEVtcHR5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHtcbiAgICAgICAgICAgICRjYXNlOiBcInNlbmRTY2VuZU1lc3NhZ2VcIixcbiAgICAgICAgICAgIHNlbmRTY2VuZU1lc3NhZ2U6IFBCU2VuZFNjZW5lTWVzc2FnZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAkY2FzZTogXCJsb2FkUGFyY2VsU2NlbmVzXCIsXG4gICAgICAgICAgICBsb2FkUGFyY2VsU2NlbmVzOiBQQkxvYWRQYXJjZWxTY2VuZXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5tZXNzYWdlID0geyAkY2FzZTogXCJ1bmxvYWRTY2VuZVwiLCB1bmxvYWRTY2VuZTogUEJVbmxvYWRTY2VuZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7ICRjYXNlOiBcInNldFBvc2l0aW9uXCIsIHNldFBvc2l0aW9uOiBQQlNldFBvc2l0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHsgJGNhc2U6IFwicmVzZXRcIiwgcmVzZXQ6IEVtcHR5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHsgJGNhc2U6IFwiY3JlYXRlVUlTY2VuZVwiLCBjcmVhdGVVSVNjZW5lOiBQQkNyZWF0ZVVJU2NlbmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkRjbE1lc3NhZ2Uge1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiBpc1NldChvYmplY3Quc2V0RGVidWcpXG4gICAgICAgID8geyAkY2FzZTogXCJzZXREZWJ1Z1wiLCBzZXREZWJ1ZzogRW1wdHkuZnJvbUpTT04ob2JqZWN0LnNldERlYnVnKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LnNldFNjZW5lRGVidWdQYW5lbClcbiAgICAgICAgPyB7ICRjYXNlOiBcInNldFNjZW5lRGVidWdQYW5lbFwiLCBzZXRTY2VuZURlYnVnUGFuZWw6IEVtcHR5LmZyb21KU09OKG9iamVjdC5zZXRTY2VuZURlYnVnUGFuZWwpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3Quc2V0RW5naW5lRGVidWdQYW5lbClcbiAgICAgICAgPyB7ICRjYXNlOiBcInNldEVuZ2luZURlYnVnUGFuZWxcIiwgc2V0RW5naW5lRGVidWdQYW5lbDogRW1wdHkuZnJvbUpTT04ob2JqZWN0LnNldEVuZ2luZURlYnVnUGFuZWwpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3Quc2VuZFNjZW5lTWVzc2FnZSlcbiAgICAgICAgPyB7ICRjYXNlOiBcInNlbmRTY2VuZU1lc3NhZ2VcIiwgc2VuZFNjZW5lTWVzc2FnZTogUEJTZW5kU2NlbmVNZXNzYWdlLmZyb21KU09OKG9iamVjdC5zZW5kU2NlbmVNZXNzYWdlKSB9XG4gICAgICAgIDogaXNTZXQob2JqZWN0LmxvYWRQYXJjZWxTY2VuZXMpXG4gICAgICAgID8geyAkY2FzZTogXCJsb2FkUGFyY2VsU2NlbmVzXCIsIGxvYWRQYXJjZWxTY2VuZXM6IFBCTG9hZFBhcmNlbFNjZW5lcy5mcm9tSlNPTihvYmplY3QubG9hZFBhcmNlbFNjZW5lcykgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC51bmxvYWRTY2VuZSlcbiAgICAgICAgPyB7ICRjYXNlOiBcInVubG9hZFNjZW5lXCIsIHVubG9hZFNjZW5lOiBQQlVubG9hZFNjZW5lLmZyb21KU09OKG9iamVjdC51bmxvYWRTY2VuZSkgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5zZXRQb3NpdGlvbilcbiAgICAgICAgPyB7ICRjYXNlOiBcInNldFBvc2l0aW9uXCIsIHNldFBvc2l0aW9uOiBQQlNldFBvc2l0aW9uLmZyb21KU09OKG9iamVjdC5zZXRQb3NpdGlvbikgfVxuICAgICAgICA6IGlzU2V0KG9iamVjdC5yZXNldClcbiAgICAgICAgPyB7ICRjYXNlOiBcInJlc2V0XCIsIHJlc2V0OiBFbXB0eS5mcm9tSlNPTihvYmplY3QucmVzZXQpIH1cbiAgICAgICAgOiBpc1NldChvYmplY3QuY3JlYXRlVUlTY2VuZSlcbiAgICAgICAgPyB7ICRjYXNlOiBcImNyZWF0ZVVJU2NlbmVcIiwgY3JlYXRlVUlTY2VuZTogUEJDcmVhdGVVSVNjZW5lLmZyb21KU09OKG9iamVjdC5jcmVhdGVVSVNjZW5lKSB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCRGNsTWVzc2FnZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXREZWJ1Z1wiICYmXG4gICAgICAob2JqLnNldERlYnVnID0gbWVzc2FnZS5tZXNzYWdlPy5zZXREZWJ1ZyA/IEVtcHR5LnRvSlNPTihtZXNzYWdlLm1lc3NhZ2U/LnNldERlYnVnKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXRTY2VuZURlYnVnUGFuZWxcIiAmJiAob2JqLnNldFNjZW5lRGVidWdQYW5lbCA9IG1lc3NhZ2UubWVzc2FnZT8uc2V0U2NlbmVEZWJ1Z1BhbmVsXG4gICAgICA/IEVtcHR5LnRvSlNPTihtZXNzYWdlLm1lc3NhZ2U/LnNldFNjZW5lRGVidWdQYW5lbClcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcInNldEVuZ2luZURlYnVnUGFuZWxcIiAmJiAob2JqLnNldEVuZ2luZURlYnVnUGFuZWwgPSBtZXNzYWdlLm1lc3NhZ2U/LnNldEVuZ2luZURlYnVnUGFuZWxcbiAgICAgID8gRW1wdHkudG9KU09OKG1lc3NhZ2UubWVzc2FnZT8uc2V0RW5naW5lRGVidWdQYW5lbClcbiAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcInNlbmRTY2VuZU1lc3NhZ2VcIiAmJiAob2JqLnNlbmRTY2VuZU1lc3NhZ2UgPSBtZXNzYWdlLm1lc3NhZ2U/LnNlbmRTY2VuZU1lc3NhZ2VcbiAgICAgID8gUEJTZW5kU2NlbmVNZXNzYWdlLnRvSlNPTihtZXNzYWdlLm1lc3NhZ2U/LnNlbmRTY2VuZU1lc3NhZ2UpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJsb2FkUGFyY2VsU2NlbmVzXCIgJiYgKG9iai5sb2FkUGFyY2VsU2NlbmVzID0gbWVzc2FnZS5tZXNzYWdlPy5sb2FkUGFyY2VsU2NlbmVzXG4gICAgICA/IFBCTG9hZFBhcmNlbFNjZW5lcy50b0pTT04obWVzc2FnZS5tZXNzYWdlPy5sb2FkUGFyY2VsU2NlbmVzKVxuICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UubWVzc2FnZT8uJGNhc2UgPT09IFwidW5sb2FkU2NlbmVcIiAmJlxuICAgICAgKG9iai51bmxvYWRTY2VuZSA9IG1lc3NhZ2UubWVzc2FnZT8udW5sb2FkU2NlbmUgPyBQQlVubG9hZFNjZW5lLnRvSlNPTihtZXNzYWdlLm1lc3NhZ2U/LnVubG9hZFNjZW5lKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXRQb3NpdGlvblwiICYmXG4gICAgICAob2JqLnNldFBvc2l0aW9uID0gbWVzc2FnZS5tZXNzYWdlPy5zZXRQb3NpdGlvbiA/IFBCU2V0UG9zaXRpb24udG9KU09OKG1lc3NhZ2UubWVzc2FnZT8uc2V0UG9zaXRpb24pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcInJlc2V0XCIgJiZcbiAgICAgIChvYmoucmVzZXQgPSBtZXNzYWdlLm1lc3NhZ2U/LnJlc2V0ID8gRW1wdHkudG9KU09OKG1lc3NhZ2UubWVzc2FnZT8ucmVzZXQpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm1lc3NhZ2U/LiRjYXNlID09PSBcImNyZWF0ZVVJU2NlbmVcIiAmJiAob2JqLmNyZWF0ZVVJU2NlbmUgPSBtZXNzYWdlLm1lc3NhZ2U/LmNyZWF0ZVVJU2NlbmVcbiAgICAgID8gUEJDcmVhdGVVSVNjZW5lLnRvSlNPTihtZXNzYWdlLm1lc3NhZ2U/LmNyZWF0ZVVJU2NlbmUpXG4gICAgICA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJEY2xNZXNzYWdlPiwgST4+KG9iamVjdDogSSk6IFBCRGNsTWVzc2FnZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkRjbE1lc3NhZ2UoKTtcbiAgICBpZiAoXG4gICAgICBvYmplY3QubWVzc2FnZT8uJGNhc2UgPT09IFwic2V0RGVidWdcIiAmJlxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LnNldERlYnVnICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tZXNzYWdlPy5zZXREZWJ1ZyAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0geyAkY2FzZTogXCJzZXREZWJ1Z1wiLCBzZXREZWJ1ZzogRW1wdHkuZnJvbVBhcnRpYWwob2JqZWN0Lm1lc3NhZ2Uuc2V0RGVidWcpIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tZXNzYWdlPy4kY2FzZSA9PT0gXCJzZXRTY2VuZURlYnVnUGFuZWxcIiAmJlxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LnNldFNjZW5lRGVidWdQYW5lbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QubWVzc2FnZT8uc2V0U2NlbmVEZWJ1Z1BhbmVsICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7XG4gICAgICAgICRjYXNlOiBcInNldFNjZW5lRGVidWdQYW5lbFwiLFxuICAgICAgICBzZXRTY2VuZURlYnVnUGFuZWw6IEVtcHR5LmZyb21QYXJ0aWFsKG9iamVjdC5tZXNzYWdlLnNldFNjZW5lRGVidWdQYW5lbCksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubWVzc2FnZT8uJGNhc2UgPT09IFwic2V0RW5naW5lRGVidWdQYW5lbFwiICYmXG4gICAgICBvYmplY3QubWVzc2FnZT8uc2V0RW5naW5lRGVidWdQYW5lbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QubWVzc2FnZT8uc2V0RW5naW5lRGVidWdQYW5lbCAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0ge1xuICAgICAgICAkY2FzZTogXCJzZXRFbmdpbmVEZWJ1Z1BhbmVsXCIsXG4gICAgICAgIHNldEVuZ2luZURlYnVnUGFuZWw6IEVtcHR5LmZyb21QYXJ0aWFsKG9iamVjdC5tZXNzYWdlLnNldEVuZ2luZURlYnVnUGFuZWwpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LiRjYXNlID09PSBcInNlbmRTY2VuZU1lc3NhZ2VcIiAmJlxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LnNlbmRTY2VuZU1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LnNlbmRTY2VuZU1lc3NhZ2UgIT09IG51bGxcbiAgICApIHtcbiAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHtcbiAgICAgICAgJGNhc2U6IFwic2VuZFNjZW5lTWVzc2FnZVwiLFxuICAgICAgICBzZW5kU2NlbmVNZXNzYWdlOiBQQlNlbmRTY2VuZU1lc3NhZ2UuZnJvbVBhcnRpYWwob2JqZWN0Lm1lc3NhZ2Uuc2VuZFNjZW5lTWVzc2FnZSksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubWVzc2FnZT8uJGNhc2UgPT09IFwibG9hZFBhcmNlbFNjZW5lc1wiICYmXG4gICAgICBvYmplY3QubWVzc2FnZT8ubG9hZFBhcmNlbFNjZW5lcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvYmplY3QubWVzc2FnZT8ubG9hZFBhcmNlbFNjZW5lcyAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0ge1xuICAgICAgICAkY2FzZTogXCJsb2FkUGFyY2VsU2NlbmVzXCIsXG4gICAgICAgIGxvYWRQYXJjZWxTY2VuZXM6IFBCTG9hZFBhcmNlbFNjZW5lcy5mcm9tUGFydGlhbChvYmplY3QubWVzc2FnZS5sb2FkUGFyY2VsU2NlbmVzKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tZXNzYWdlPy4kY2FzZSA9PT0gXCJ1bmxvYWRTY2VuZVwiICYmXG4gICAgICBvYmplY3QubWVzc2FnZT8udW5sb2FkU2NlbmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LnVubG9hZFNjZW5lICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7ICRjYXNlOiBcInVubG9hZFNjZW5lXCIsIHVubG9hZFNjZW5lOiBQQlVubG9hZFNjZW5lLmZyb21QYXJ0aWFsKG9iamVjdC5tZXNzYWdlLnVubG9hZFNjZW5lKSB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBvYmplY3QubWVzc2FnZT8uJGNhc2UgPT09IFwic2V0UG9zaXRpb25cIiAmJlxuICAgICAgb2JqZWN0Lm1lc3NhZ2U/LnNldFBvc2l0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tZXNzYWdlPy5zZXRQb3NpdGlvbiAhPT0gbnVsbFxuICAgICkge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0geyAkY2FzZTogXCJzZXRQb3NpdGlvblwiLCBzZXRQb3NpdGlvbjogUEJTZXRQb3NpdGlvbi5mcm9tUGFydGlhbChvYmplY3QubWVzc2FnZS5zZXRQb3NpdGlvbikgfTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5tZXNzYWdlPy4kY2FzZSA9PT0gXCJyZXNldFwiICYmIG9iamVjdC5tZXNzYWdlPy5yZXNldCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tZXNzYWdlPy5yZXNldCAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0geyAkY2FzZTogXCJyZXNldFwiLCByZXNldDogRW1wdHkuZnJvbVBhcnRpYWwob2JqZWN0Lm1lc3NhZ2UucmVzZXQpIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG9iamVjdC5tZXNzYWdlPy4kY2FzZSA9PT0gXCJjcmVhdGVVSVNjZW5lXCIgJiZcbiAgICAgIG9iamVjdC5tZXNzYWdlPy5jcmVhdGVVSVNjZW5lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG9iamVjdC5tZXNzYWdlPy5jcmVhdGVVSVNjZW5lICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB7XG4gICAgICAgICRjYXNlOiBcImNyZWF0ZVVJU2NlbmVcIixcbiAgICAgICAgY3JlYXRlVUlTY2VuZTogUEJDcmVhdGVVSVNjZW5lLmZyb21QYXJ0aWFsKG9iamVjdC5tZXNzYWdlLmNyZWF0ZVVJU2NlbmUpLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBbmltYXRpb25TdGF0ZSgpOiBQQkFuaW1hdGlvblN0YXRlIHtcbiAgcmV0dXJuIHsgY2xpcDogXCJcIiwgbG9vcGluZzogZmFsc2UsIHdlaWdodDogMCwgcGxheWluZzogZmFsc2UsIHNob3VsZFJlc2V0OiBmYWxzZSwgc3BlZWQ6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQW5pbWF0aW9uU3RhdGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkFuaW1hdGlvblN0YXRlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuY2xpcCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuY2xpcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxvb3BpbmcgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS5sb29waW5nKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uud2VpZ2h0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLndlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBsYXlpbmcgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2hvdWxkUmVzZXQgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5zaG91bGRSZXNldCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNwZWVkICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLnNwZWVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkFuaW1hdGlvblN0YXRlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQW5pbWF0aW9uU3RhdGUoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuY2xpcCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UubG9vcGluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLndlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2Uuc2hvdWxkUmVzZXQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5zcGVlZCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkFuaW1hdGlvblN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xpcDogaXNTZXQob2JqZWN0LmNsaXApID8gU3RyaW5nKG9iamVjdC5jbGlwKSA6IFwiXCIsXG4gICAgICBsb29waW5nOiBpc1NldChvYmplY3QubG9vcGluZykgPyBCb29sZWFuKG9iamVjdC5sb29waW5nKSA6IGZhbHNlLFxuICAgICAgd2VpZ2h0OiBpc1NldChvYmplY3Qud2VpZ2h0KSA/IE51bWJlcihvYmplY3Qud2VpZ2h0KSA6IDAsXG4gICAgICBwbGF5aW5nOiBpc1NldChvYmplY3QucGxheWluZykgPyBCb29sZWFuKG9iamVjdC5wbGF5aW5nKSA6IGZhbHNlLFxuICAgICAgc2hvdWxkUmVzZXQ6IGlzU2V0KG9iamVjdC5zaG91bGRSZXNldCkgPyBCb29sZWFuKG9iamVjdC5zaG91bGRSZXNldCkgOiBmYWxzZSxcbiAgICAgIHNwZWVkOiBpc1NldChvYmplY3Quc3BlZWQpID8gTnVtYmVyKG9iamVjdC5zcGVlZCkgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCQW5pbWF0aW9uU3RhdGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuY2xpcCAhPT0gdW5kZWZpbmVkICYmIChvYmouY2xpcCA9IG1lc3NhZ2UuY2xpcCk7XG4gICAgbWVzc2FnZS5sb29waW5nICE9PSB1bmRlZmluZWQgJiYgKG9iai5sb29waW5nID0gbWVzc2FnZS5sb29waW5nKTtcbiAgICBtZXNzYWdlLndlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2VpZ2h0ID0gbWVzc2FnZS53ZWlnaHQpO1xuICAgIG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkICYmIChvYmoucGxheWluZyA9IG1lc3NhZ2UucGxheWluZyk7XG4gICAgbWVzc2FnZS5zaG91bGRSZXNldCAhPT0gdW5kZWZpbmVkICYmIChvYmouc2hvdWxkUmVzZXQgPSBtZXNzYWdlLnNob3VsZFJlc2V0KTtcbiAgICBtZXNzYWdlLnNwZWVkICE9PSB1bmRlZmluZWQgJiYgKG9iai5zcGVlZCA9IG1lc3NhZ2Uuc3BlZWQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQW5pbWF0aW9uU3RhdGU+LCBJPj4ob2JqZWN0OiBJKTogUEJBbmltYXRpb25TdGF0ZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkFuaW1hdGlvblN0YXRlKCk7XG4gICAgbWVzc2FnZS5jbGlwID0gb2JqZWN0LmNsaXAgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmxvb3BpbmcgPSBvYmplY3QubG9vcGluZyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLndlaWdodCA9IG9iamVjdC53ZWlnaHQgPz8gMDtcbiAgICBtZXNzYWdlLnBsYXlpbmcgPSBvYmplY3QucGxheWluZyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnNob3VsZFJlc2V0ID0gb2JqZWN0LnNob3VsZFJlc2V0ID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc3BlZWQgPSBvYmplY3Quc3BlZWQgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkFuaW1hdG9yKCk6IFBCQW5pbWF0b3Ige1xuICByZXR1cm4geyB3aXRoQ29sbGlzaW9uczogZmFsc2UsIHZpc2libGU6IGZhbHNlIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkFuaW1hdG9yID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJBbmltYXRvciwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLndpdGhDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkFuaW1hdG9yIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQW5pbWF0b3IoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJBbmltYXRvciB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpdGhDb2xsaXNpb25zOiBpc1NldChvYmplY3Qud2l0aENvbGxpc2lvbnMpID8gQm9vbGVhbihvYmplY3Qud2l0aENvbGxpc2lvbnMpIDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCQW5pbWF0b3IpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgIT09IHVuZGVmaW5lZCAmJiAob2JqLndpdGhDb2xsaXNpb25zID0gbWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkFuaW1hdG9yPiwgST4+KG9iamVjdDogSSk6IFBCQW5pbWF0b3Ige1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBbmltYXRvcigpO1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSBvYmplY3Qud2l0aENvbGxpc2lvbnMgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS52aXNpYmxlID0gb2JqZWN0LnZpc2libGUgPz8gZmFsc2U7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdWRpb0NsaXAoKTogUEJBdWRpb0NsaXAge1xuICByZXR1cm4geyB1cmw6IFwiXCIsIGxvb3A6IGZhbHNlLCB2b2x1bWU6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQXVkaW9DbGlwID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJBdWRpb0NsaXAsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS51cmwgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnVybCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxvb3AgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS5sb29wKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uudm9sdW1lICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnZvbHVtZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJBdWRpb0NsaXAge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdWRpb0NsaXAoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UudXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5sb29wID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCQXVkaW9DbGlwIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiBpc1NldChvYmplY3QudXJsKSA/IFN0cmluZyhvYmplY3QudXJsKSA6IFwiXCIsXG4gICAgICBsb29wOiBpc1NldChvYmplY3QubG9vcCkgPyBCb29sZWFuKG9iamVjdC5sb29wKSA6IGZhbHNlLFxuICAgICAgdm9sdW1lOiBpc1NldChvYmplY3Qudm9sdW1lKSA/IE51bWJlcihvYmplY3Qudm9sdW1lKSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJBdWRpb0NsaXApOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UudXJsICE9PSB1bmRlZmluZWQgJiYgKG9iai51cmwgPSBtZXNzYWdlLnVybCk7XG4gICAgbWVzc2FnZS5sb29wICE9PSB1bmRlZmluZWQgJiYgKG9iai5sb29wID0gbWVzc2FnZS5sb29wKTtcbiAgICBtZXNzYWdlLnZvbHVtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudm9sdW1lID0gbWVzc2FnZS52b2x1bWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQXVkaW9DbGlwPiwgST4+KG9iamVjdDogSSk6IFBCQXVkaW9DbGlwIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXVkaW9DbGlwKCk7XG4gICAgbWVzc2FnZS51cmwgPSBvYmplY3QudXJsID8/IFwiXCI7XG4gICAgbWVzc2FnZS5sb29wID0gb2JqZWN0Lmxvb3AgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS52b2x1bWUgPSBvYmplY3Qudm9sdW1lID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdWRpb1NvdXJjZSgpOiBQQkF1ZGlvU291cmNlIHtcbiAgcmV0dXJuIHsgYXVkaW9DbGlwOiB1bmRlZmluZWQsIGF1ZGlvQ2xpcElkOiBcIlwiLCBsb29wOiBmYWxzZSwgdm9sdW1lOiAwLCBwbGF5aW5nOiBmYWxzZSwgcGl0Y2g6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQXVkaW9Tb3VyY2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkF1ZGlvU291cmNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuYXVkaW9DbGlwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQXVkaW9DbGlwLmVuY29kZShtZXNzYWdlLmF1ZGlvQ2xpcCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYXVkaW9DbGlwSWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmF1ZGlvQ2xpcElkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubG9vcCA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52b2x1bWUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uudm9sdW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGxheWluZyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0MCkuYm9vbChtZXNzYWdlLnBsYXlpbmcpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5waXRjaCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MykuZmxvYXQobWVzc2FnZS5waXRjaCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJBdWRpb1NvdXJjZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF1ZGlvU291cmNlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmF1ZGlvQ2xpcCA9IFBCQXVkaW9DbGlwLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmF1ZGlvQ2xpcElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5sb29wID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5waXRjaCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkF1ZGlvU291cmNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXVkaW9DbGlwOiBpc1NldChvYmplY3QuYXVkaW9DbGlwKSA/IFBCQXVkaW9DbGlwLmZyb21KU09OKG9iamVjdC5hdWRpb0NsaXApIDogdW5kZWZpbmVkLFxuICAgICAgYXVkaW9DbGlwSWQ6IGlzU2V0KG9iamVjdC5hdWRpb0NsaXBJZCkgPyBTdHJpbmcob2JqZWN0LmF1ZGlvQ2xpcElkKSA6IFwiXCIsXG4gICAgICBsb29wOiBpc1NldChvYmplY3QubG9vcCkgPyBCb29sZWFuKG9iamVjdC5sb29wKSA6IGZhbHNlLFxuICAgICAgdm9sdW1lOiBpc1NldChvYmplY3Qudm9sdW1lKSA/IE51bWJlcihvYmplY3Qudm9sdW1lKSA6IDAsXG4gICAgICBwbGF5aW5nOiBpc1NldChvYmplY3QucGxheWluZykgPyBCb29sZWFuKG9iamVjdC5wbGF5aW5nKSA6IGZhbHNlLFxuICAgICAgcGl0Y2g6IGlzU2V0KG9iamVjdC5waXRjaCkgPyBOdW1iZXIob2JqZWN0LnBpdGNoKSA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJBdWRpb1NvdXJjZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5hdWRpb0NsaXAgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5hdWRpb0NsaXAgPSBtZXNzYWdlLmF1ZGlvQ2xpcCA/IFBCQXVkaW9DbGlwLnRvSlNPTihtZXNzYWdlLmF1ZGlvQ2xpcCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuYXVkaW9DbGlwSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmF1ZGlvQ2xpcElkID0gbWVzc2FnZS5hdWRpb0NsaXBJZCk7XG4gICAgbWVzc2FnZS5sb29wICE9PSB1bmRlZmluZWQgJiYgKG9iai5sb29wID0gbWVzc2FnZS5sb29wKTtcbiAgICBtZXNzYWdlLnZvbHVtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudm9sdW1lID0gbWVzc2FnZS52b2x1bWUpO1xuICAgIG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkICYmIChvYmoucGxheWluZyA9IG1lc3NhZ2UucGxheWluZyk7XG4gICAgbWVzc2FnZS5waXRjaCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGl0Y2ggPSBtZXNzYWdlLnBpdGNoKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkF1ZGlvU291cmNlPiwgST4+KG9iamVjdDogSSk6IFBCQXVkaW9Tb3VyY2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdWRpb1NvdXJjZSgpO1xuICAgIG1lc3NhZ2UuYXVkaW9DbGlwID0gKG9iamVjdC5hdWRpb0NsaXAgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYXVkaW9DbGlwICE9PSBudWxsKVxuICAgICAgPyBQQkF1ZGlvQ2xpcC5mcm9tUGFydGlhbChvYmplY3QuYXVkaW9DbGlwKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5hdWRpb0NsaXBJZCA9IG9iamVjdC5hdWRpb0NsaXBJZCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubG9vcCA9IG9iamVjdC5sb29wID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uudm9sdW1lID0gb2JqZWN0LnZvbHVtZSA/PyAwO1xuICAgIG1lc3NhZ2UucGxheWluZyA9IG9iamVjdC5wbGF5aW5nID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGl0Y2ggPSBvYmplY3QucGl0Y2ggPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF2YXRhclNoYXBlKCk6IFBCQXZhdGFyU2hhcGUge1xuICByZXR1cm4ge1xuICAgIGlkOiBcIlwiLFxuICAgIGJhc2VVcmw6IFwiXCIsXG4gICAgbmFtZTogXCJcIixcbiAgICBib2R5U2hhcGU6IHVuZGVmaW5lZCxcbiAgICB3ZWFyYWJsZXM6IFtdLFxuICAgIHNraW46IHVuZGVmaW5lZCxcbiAgICBoYWlyOiB1bmRlZmluZWQsXG4gICAgZXllczogdW5kZWZpbmVkLFxuICAgIGV5ZWJyb3dzOiB1bmRlZmluZWQsXG4gICAgbW91dGg6IHVuZGVmaW5lZCxcbiAgICB1c2VEdW1teU1vZGVsOiBmYWxzZSxcbiAgICBleHByZXNzaW9uVHJpZ2dlcklkOiBcIlwiLFxuICAgIGV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wOiAwLFxuICAgIGVtb3RlczogW10sXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkF2YXRhclNoYXBlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJBdmF0YXJTaGFwZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmJhc2VVcmwgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmJhc2VVcmwpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYm9keVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCV2VhcmFibGUuZW5jb2RlKG1lc3NhZ2UuYm9keVNoYXBlLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS53ZWFyYWJsZXMpIHtcbiAgICAgIFBCV2VhcmFibGUuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5za2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCU2tpbi5lbmNvZGUobWVzc2FnZS5za2luLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYWlyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCSGFpci5lbmNvZGUobWVzc2FnZS5oYWlyLCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5leWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCRXllcy5lbmNvZGUobWVzc2FnZS5leWVzLCB3cml0ZXIudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5leWVicm93cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkZhY2UuZW5jb2RlKG1lc3NhZ2UuZXllYnJvd3MsIHdyaXRlci51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1vdXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCRmFjZS5lbmNvZGUobWVzc2FnZS5tb3V0aCwgd3JpdGVyLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudXNlRHVtbXlNb2RlbCA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4OCkuYm9vbChtZXNzYWdlLnVzZUR1bW15TW9kZWwpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDk4KS5zdHJpbmcobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXAgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTEyKS51aW50NjQobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmVtb3Rlcykge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMjIpLnN0cmluZyh2ISk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJBdmF0YXJTaGFwZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhclNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5iYXNlVXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5ib2R5U2hhcGUgPSBQQldlYXJhYmxlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLndlYXJhYmxlcy5wdXNoKFBCV2VhcmFibGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBtZXNzYWdlLnNraW4gPSBQQlNraW4uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UuaGFpciA9IFBCSGFpci5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5leWVzID0gUEJFeWVzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLmV5ZWJyb3dzID0gUEJGYWNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5tb3V0aCA9IFBCRmFjZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UudXNlRHVtbXlNb2RlbCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXAgPSBsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpIGFzIExvbmcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIG1lc3NhZ2UuZW1vdGVzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJBdmF0YXJTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpc1NldChvYmplY3QuaWQpID8gU3RyaW5nKG9iamVjdC5pZCkgOiBcIlwiLFxuICAgICAgYmFzZVVybDogaXNTZXQob2JqZWN0LmJhc2VVcmwpID8gU3RyaW5nKG9iamVjdC5iYXNlVXJsKSA6IFwiXCIsXG4gICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICAgIGJvZHlTaGFwZTogaXNTZXQob2JqZWN0LmJvZHlTaGFwZSkgPyBQQldlYXJhYmxlLmZyb21KU09OKG9iamVjdC5ib2R5U2hhcGUpIDogdW5kZWZpbmVkLFxuICAgICAgd2VhcmFibGVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8ud2VhcmFibGVzKSA/IG9iamVjdC53ZWFyYWJsZXMubWFwKChlOiBhbnkpID0+IFBCV2VhcmFibGUuZnJvbUpTT04oZSkpIDogW10sXG4gICAgICBza2luOiBpc1NldChvYmplY3Quc2tpbikgPyBQQlNraW4uZnJvbUpTT04ob2JqZWN0LnNraW4pIDogdW5kZWZpbmVkLFxuICAgICAgaGFpcjogaXNTZXQob2JqZWN0LmhhaXIpID8gUEJIYWlyLmZyb21KU09OKG9iamVjdC5oYWlyKSA6IHVuZGVmaW5lZCxcbiAgICAgIGV5ZXM6IGlzU2V0KG9iamVjdC5leWVzKSA/IFBCRXllcy5mcm9tSlNPTihvYmplY3QuZXllcykgOiB1bmRlZmluZWQsXG4gICAgICBleWVicm93czogaXNTZXQob2JqZWN0LmV5ZWJyb3dzKSA/IFBCRmFjZS5mcm9tSlNPTihvYmplY3QuZXllYnJvd3MpIDogdW5kZWZpbmVkLFxuICAgICAgbW91dGg6IGlzU2V0KG9iamVjdC5tb3V0aCkgPyBQQkZhY2UuZnJvbUpTT04ob2JqZWN0Lm1vdXRoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHVzZUR1bW15TW9kZWw6IGlzU2V0KG9iamVjdC51c2VEdW1teU1vZGVsKSA/IEJvb2xlYW4ob2JqZWN0LnVzZUR1bW15TW9kZWwpIDogZmFsc2UsXG4gICAgICBleHByZXNzaW9uVHJpZ2dlcklkOiBpc1NldChvYmplY3QuZXhwcmVzc2lvblRyaWdnZXJJZCkgPyBTdHJpbmcob2JqZWN0LmV4cHJlc3Npb25UcmlnZ2VySWQpIDogXCJcIixcbiAgICAgIGV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wOiBpc1NldChvYmplY3QuZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXApXG4gICAgICAgID8gTnVtYmVyKG9iamVjdC5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcClcbiAgICAgICAgOiAwLFxuICAgICAgZW1vdGVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZW1vdGVzKSA/IG9iamVjdC5lbW90ZXMubWFwKChlOiBhbnkpID0+IFN0cmluZyhlKSkgOiBbXSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkF2YXRhclNoYXBlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmlkICE9PSB1bmRlZmluZWQgJiYgKG9iai5pZCA9IG1lc3NhZ2UuaWQpO1xuICAgIG1lc3NhZ2UuYmFzZVVybCAhPT0gdW5kZWZpbmVkICYmIChvYmouYmFzZVVybCA9IG1lc3NhZ2UuYmFzZVVybCk7XG4gICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICBtZXNzYWdlLmJvZHlTaGFwZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmJvZHlTaGFwZSA9IG1lc3NhZ2UuYm9keVNoYXBlID8gUEJXZWFyYWJsZS50b0pTT04obWVzc2FnZS5ib2R5U2hhcGUpIDogdW5kZWZpbmVkKTtcbiAgICBpZiAobWVzc2FnZS53ZWFyYWJsZXMpIHtcbiAgICAgIG9iai53ZWFyYWJsZXMgPSBtZXNzYWdlLndlYXJhYmxlcy5tYXAoKGUpID0+IGUgPyBQQldlYXJhYmxlLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai53ZWFyYWJsZXMgPSBbXTtcbiAgICB9XG4gICAgbWVzc2FnZS5za2luICE9PSB1bmRlZmluZWQgJiYgKG9iai5za2luID0gbWVzc2FnZS5za2luID8gUEJTa2luLnRvSlNPTihtZXNzYWdlLnNraW4pIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmhhaXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhhaXIgPSBtZXNzYWdlLmhhaXIgPyBQQkhhaXIudG9KU09OKG1lc3NhZ2UuaGFpcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZXllcyAhPT0gdW5kZWZpbmVkICYmIChvYmouZXllcyA9IG1lc3NhZ2UuZXllcyA/IFBCRXllcy50b0pTT04obWVzc2FnZS5leWVzKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5leWVicm93cyAhPT0gdW5kZWZpbmVkICYmIChvYmouZXllYnJvd3MgPSBtZXNzYWdlLmV5ZWJyb3dzID8gUEJGYWNlLnRvSlNPTihtZXNzYWdlLmV5ZWJyb3dzKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tb3V0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoubW91dGggPSBtZXNzYWdlLm1vdXRoID8gUEJGYWNlLnRvSlNPTihtZXNzYWdlLm1vdXRoKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS51c2VEdW1teU1vZGVsICE9PSB1bmRlZmluZWQgJiYgKG9iai51c2VEdW1teU1vZGVsID0gbWVzc2FnZS51c2VEdW1teU1vZGVsKTtcbiAgICBtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VySWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmV4cHJlc3Npb25UcmlnZ2VySWQgPSBtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VySWQpO1xuICAgIG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCA9IE1hdGgucm91bmQobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCkpO1xuICAgIGlmIChtZXNzYWdlLmVtb3Rlcykge1xuICAgICAgb2JqLmVtb3RlcyA9IG1lc3NhZ2UuZW1vdGVzLm1hcCgoZSkgPT4gZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5lbW90ZXMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJBdmF0YXJTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQkF2YXRhclNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyU2hhcGUoKTtcbiAgICBtZXNzYWdlLmlkID0gb2JqZWN0LmlkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5iYXNlVXJsID0gb2JqZWN0LmJhc2VVcmwgPz8gXCJcIjtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuYm9keVNoYXBlID0gKG9iamVjdC5ib2R5U2hhcGUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYm9keVNoYXBlICE9PSBudWxsKVxuICAgICAgPyBQQldlYXJhYmxlLmZyb21QYXJ0aWFsKG9iamVjdC5ib2R5U2hhcGUpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLndlYXJhYmxlcyA9IG9iamVjdC53ZWFyYWJsZXM/Lm1hcCgoZSkgPT4gUEJXZWFyYWJsZS5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgbWVzc2FnZS5za2luID0gKG9iamVjdC5za2luICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNraW4gIT09IG51bGwpID8gUEJTa2luLmZyb21QYXJ0aWFsKG9iamVjdC5za2luKSA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmhhaXIgPSAob2JqZWN0LmhhaXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaGFpciAhPT0gbnVsbCkgPyBQQkhhaXIuZnJvbVBhcnRpYWwob2JqZWN0LmhhaXIpIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuZXllcyA9IChvYmplY3QuZXllcyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5leWVzICE9PSBudWxsKSA/IFBCRXllcy5mcm9tUGFydGlhbChvYmplY3QuZXllcykgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5leWVicm93cyA9IChvYmplY3QuZXllYnJvd3MgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZXllYnJvd3MgIT09IG51bGwpXG4gICAgICA/IFBCRmFjZS5mcm9tUGFydGlhbChvYmplY3QuZXllYnJvd3MpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLm1vdXRoID0gKG9iamVjdC5tb3V0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tb3V0aCAhPT0gbnVsbClcbiAgICAgID8gUEJGYWNlLmZyb21QYXJ0aWFsKG9iamVjdC5tb3V0aClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UudXNlRHVtbXlNb2RlbCA9IG9iamVjdC51c2VEdW1teU1vZGVsID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCA9IG9iamVjdC5leHByZXNzaW9uVHJpZ2dlcklkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCA9IG9iamVjdC5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCA/PyAwO1xuICAgIG1lc3NhZ2UuZW1vdGVzID0gb2JqZWN0LmVtb3Rlcz8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQldlYXJhYmxlKCk6IFBCV2VhcmFibGUge1xuICByZXR1cm4geyBjYXRlZ29keTogXCJcIiwgY29udGVudE5hbWU6IFwiXCIsIGNvbnRlbnRzOiBbXSB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJXZWFyYWJsZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCV2VhcmFibGUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5jYXRlZ29keSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuY2F0ZWdvZHkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb250ZW50TmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuY29udGVudE5hbWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5jb250ZW50cykge1xuICAgICAgUEJDb250ZW50TWFwcGluZy5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJXZWFyYWJsZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQldlYXJhYmxlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmNhdGVnb2R5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5jb250ZW50TmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuY29udGVudHMucHVzaChQQkNvbnRlbnRNYXBwaW5nLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQldlYXJhYmxlIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2F0ZWdvZHk6IGlzU2V0KG9iamVjdC5jYXRlZ29keSkgPyBTdHJpbmcob2JqZWN0LmNhdGVnb2R5KSA6IFwiXCIsXG4gICAgICBjb250ZW50TmFtZTogaXNTZXQob2JqZWN0LmNvbnRlbnROYW1lKSA/IFN0cmluZyhvYmplY3QuY29udGVudE5hbWUpIDogXCJcIixcbiAgICAgIGNvbnRlbnRzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uY29udGVudHMpID8gb2JqZWN0LmNvbnRlbnRzLm1hcCgoZTogYW55KSA9PiBQQkNvbnRlbnRNYXBwaW5nLmZyb21KU09OKGUpKSA6IFtdLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCV2VhcmFibGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuY2F0ZWdvZHkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNhdGVnb2R5ID0gbWVzc2FnZS5jYXRlZ29keSk7XG4gICAgbWVzc2FnZS5jb250ZW50TmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmouY29udGVudE5hbWUgPSBtZXNzYWdlLmNvbnRlbnROYW1lKTtcbiAgICBpZiAobWVzc2FnZS5jb250ZW50cykge1xuICAgICAgb2JqLmNvbnRlbnRzID0gbWVzc2FnZS5jb250ZW50cy5tYXAoKGUpID0+IGUgPyBQQkNvbnRlbnRNYXBwaW5nLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5jb250ZW50cyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQldlYXJhYmxlPiwgST4+KG9iamVjdDogSSk6IFBCV2VhcmFibGUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJXZWFyYWJsZSgpO1xuICAgIG1lc3NhZ2UuY2F0ZWdvZHkgPSBvYmplY3QuY2F0ZWdvZHkgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmNvbnRlbnROYW1lID0gb2JqZWN0LmNvbnRlbnROYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS5jb250ZW50cyA9IG9iamVjdC5jb250ZW50cz8ubWFwKChlKSA9PiBQQkNvbnRlbnRNYXBwaW5nLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkZhY2UoKTogUEJGYWNlIHtcbiAgcmV0dXJuIHsgdGV4dHVyZTogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJGYWNlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJGYWNlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudGV4dHVyZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJGYWNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRmFjZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS50ZXh0dXJlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkZhY2Uge1xuICAgIHJldHVybiB7IHRleHR1cmU6IGlzU2V0KG9iamVjdC50ZXh0dXJlKSA/IFN0cmluZyhvYmplY3QudGV4dHVyZSkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCRmFjZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgKG9iai50ZXh0dXJlID0gbWVzc2FnZS50ZXh0dXJlKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkZhY2U+LCBJPj4ob2JqZWN0OiBJKTogUEJGYWNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRmFjZSgpO1xuICAgIG1lc3NhZ2UudGV4dHVyZSA9IG9iamVjdC50ZXh0dXJlID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJFeWVzKCk6IFBCRXllcyB7XG4gIHJldHVybiB7IHRleHR1cmU6IFwiXCIsIG1hc2s6IFwiXCIsIGNvbG9yOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCRXllcyA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCRXllcywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnRleHR1cmUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnRleHR1cmUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tYXNrICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5tYXNrKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJFeWVzIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRXllcygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS50ZXh0dXJlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5tYXNrID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5jb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCRXllcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHR1cmU6IGlzU2V0KG9iamVjdC50ZXh0dXJlKSA/IFN0cmluZyhvYmplY3QudGV4dHVyZSkgOiBcIlwiLFxuICAgICAgbWFzazogaXNTZXQob2JqZWN0Lm1hc2spID8gU3RyaW5nKG9iamVjdC5tYXNrKSA6IFwiXCIsXG4gICAgICBjb2xvcjogaXNTZXQob2JqZWN0LmNvbG9yKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5jb2xvcikgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJFeWVzKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRleHR1cmUgPSBtZXNzYWdlLnRleHR1cmUpO1xuICAgIG1lc3NhZ2UubWFzayAhPT0gdW5kZWZpbmVkICYmIChvYmoubWFzayA9IG1lc3NhZ2UubWFzayk7XG4gICAgbWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkICYmIChvYmouY29sb3IgPSBtZXNzYWdlLmNvbG9yID8gUEJDb2xvcjQudG9KU09OKG1lc3NhZ2UuY29sb3IpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkV5ZXM+LCBJPj4ob2JqZWN0OiBJKTogUEJFeWVzIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRXllcygpO1xuICAgIG1lc3NhZ2UudGV4dHVyZSA9IG9iamVjdC50ZXh0dXJlID8/IFwiXCI7XG4gICAgbWVzc2FnZS5tYXNrID0gb2JqZWN0Lm1hc2sgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmNvbG9yID0gKG9iamVjdC5jb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJIYWlyKCk6IFBCSGFpciB7XG4gIHJldHVybiB7IGNvbG9yOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCSGFpciA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCSGFpciwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCSGFpciB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkhhaXIoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkhhaXIge1xuICAgIHJldHVybiB7IGNvbG9yOiBpc1NldChvYmplY3QuY29sb3IpID8gUEJDb2xvcjQuZnJvbUpTT04ob2JqZWN0LmNvbG9yKSA6IHVuZGVmaW5lZCB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkhhaXIpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJIYWlyPiwgST4+KG9iamVjdDogSSk6IFBCSGFpciB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkhhaXIoKTtcbiAgICBtZXNzYWdlLmNvbG9yID0gKG9iamVjdC5jb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJTa2luKCk6IFBCU2tpbiB7XG4gIHJldHVybiB7IGNvbG9yOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCU2tpbiA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCU2tpbiwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCU2tpbiB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlNraW4oKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlNraW4ge1xuICAgIHJldHVybiB7IGNvbG9yOiBpc1NldChvYmplY3QuY29sb3IpID8gUEJDb2xvcjQuZnJvbUpTT04ob2JqZWN0LmNvbG9yKSA6IHVuZGVmaW5lZCB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlNraW4pOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJTa2luPiwgST4+KG9iamVjdDogSSk6IFBCU2tpbiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlNraW4oKTtcbiAgICBtZXNzYWdlLmNvbG9yID0gKG9iamVjdC5jb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJCYXNpY01hdGVyaWFsKCk6IFBCQmFzaWNNYXRlcmlhbCB7XG4gIHJldHVybiB7IHRleHR1cmU6IHVuZGVmaW5lZCwgYWxwaGFUZXN0OiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQkJhc2ljTWF0ZXJpYWwgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkJhc2ljTWF0ZXJpYWwsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCVGV4dHVyZS5lbmNvZGUobWVzc2FnZS50ZXh0dXJlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hbHBoYVRlc3QgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UuYWxwaGFUZXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQkJhc2ljTWF0ZXJpYWwge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJCYXNpY01hdGVyaWFsKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnRleHR1cmUgPSBQQlRleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuYWxwaGFUZXN0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCQmFzaWNNYXRlcmlhbCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHR1cmU6IGlzU2V0KG9iamVjdC50ZXh0dXJlKSA/IFBCVGV4dHVyZS5mcm9tSlNPTihvYmplY3QudGV4dHVyZSkgOiB1bmRlZmluZWQsXG4gICAgICBhbHBoYVRlc3Q6IGlzU2V0KG9iamVjdC5hbHBoYVRlc3QpID8gTnVtYmVyKG9iamVjdC5hbHBoYVRlc3QpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkJhc2ljTWF0ZXJpYWwpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudGV4dHVyZSA9IG1lc3NhZ2UudGV4dHVyZSA/IFBCVGV4dHVyZS50b0pTT04obWVzc2FnZS50ZXh0dXJlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5hbHBoYVRlc3QgIT09IHVuZGVmaW5lZCAmJiAob2JqLmFscGhhVGVzdCA9IG1lc3NhZ2UuYWxwaGFUZXN0KTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkJhc2ljTWF0ZXJpYWw+LCBJPj4ob2JqZWN0OiBJKTogUEJCYXNpY01hdGVyaWFsIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQmFzaWNNYXRlcmlhbCgpO1xuICAgIG1lc3NhZ2UudGV4dHVyZSA9IChvYmplY3QudGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC50ZXh0dXJlICE9PSBudWxsKVxuICAgICAgPyBQQlRleHR1cmUuZnJvbVBhcnRpYWwob2JqZWN0LnRleHR1cmUpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmFscGhhVGVzdCA9IG9iamVjdC5hbHBoYVRlc3QgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkJpbGxib2FyZCgpOiBQQkJpbGxib2FyZCB7XG4gIHJldHVybiB7IHg6IGZhbHNlLCB5OiBmYWxzZSwgejogZmFsc2UgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQmlsbGJvYXJkID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJCaWxsYm9hcmQsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS54ID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS54KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UueSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS56ID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2Uueik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJCaWxsYm9hcmQge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJCaWxsYm9hcmQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJCaWxsYm9hcmQge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBpc1NldChvYmplY3QueCkgPyBCb29sZWFuKG9iamVjdC54KSA6IGZhbHNlLFxuICAgICAgeTogaXNTZXQob2JqZWN0LnkpID8gQm9vbGVhbihvYmplY3QueSkgOiBmYWxzZSxcbiAgICAgIHo6IGlzU2V0KG9iamVjdC56KSA/IEJvb2xlYW4ob2JqZWN0LnopIDogZmFsc2UsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJCaWxsYm9hcmQpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UueCAhPT0gdW5kZWZpbmVkICYmIChvYmoueCA9IG1lc3NhZ2UueCk7XG4gICAgbWVzc2FnZS55ICE9PSB1bmRlZmluZWQgJiYgKG9iai55ID0gbWVzc2FnZS55KTtcbiAgICBtZXNzYWdlLnogIT09IHVuZGVmaW5lZCAmJiAob2JqLnogPSBtZXNzYWdlLnopO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQmlsbGJvYXJkPiwgST4+KG9iamVjdDogSSk6IFBCQmlsbGJvYXJkIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQmlsbGJvYXJkKCk7XG4gICAgbWVzc2FnZS54ID0gb2JqZWN0LnggPz8gZmFsc2U7XG4gICAgbWVzc2FnZS55ID0gb2JqZWN0LnkgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS56ID0gb2JqZWN0LnogPz8gZmFsc2U7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJCb3hTaGFwZSgpOiBQQkJveFNoYXBlIHtcbiAgcmV0dXJuIHsgd2l0aENvbGxpc2lvbnM6IGZhbHNlLCB2aXNpYmxlOiBmYWxzZSwgdXZzOiBbXSB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJCb3hTaGFwZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCQm94U2hhcGUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKTtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICB9XG4gICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJCb3hTaGFwZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkJveFNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikge1xuICAgICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkJveFNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2l0aENvbGxpc2lvbnM6IGlzU2V0KG9iamVjdC53aXRoQ29sbGlzaW9ucykgPyBCb29sZWFuKG9iamVjdC53aXRoQ29sbGlzaW9ucykgOiBmYWxzZSxcbiAgICAgIHZpc2libGU6IGlzU2V0KG9iamVjdC52aXNpYmxlKSA/IEJvb2xlYW4ob2JqZWN0LnZpc2libGUpIDogZmFsc2UsXG4gICAgICB1dnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py51dnMpID8gb2JqZWN0LnV2cy5tYXAoKGU6IGFueSkgPT4gTnVtYmVyKGUpKSA6IFtdLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCQm94U2hhcGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgIT09IHVuZGVmaW5lZCAmJiAob2JqLndpdGhDb2xsaXNpb25zID0gbWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICBpZiAobWVzc2FnZS51dnMpIHtcbiAgICAgIG9iai51dnMgPSBtZXNzYWdlLnV2cy5tYXAoKGUpID0+IGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmoudXZzID0gW107XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQm94U2hhcGU+LCBJPj4ob2JqZWN0OiBJKTogUEJCb3hTaGFwZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkJveFNoYXBlKCk7XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9IG9iamVjdC53aXRoQ29sbGlzaW9ucyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnZpc2libGUgPSBvYmplY3QudmlzaWJsZSA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnV2cyA9IG9iamVjdC51dnM/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDaXJjbGVTaGFwZSgpOiBQQkNpcmNsZVNoYXBlIHtcbiAgcmV0dXJuIHsgd2l0aENvbGxpc2lvbnM6IGZhbHNlLCB2aXNpYmxlOiBmYWxzZSwgc2VnbWVudHM6IDAsIGFyYzogMCB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJDaXJjbGVTaGFwZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCQ2lyY2xlU2hhcGUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNlZ21lbnRzICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnNlZ21lbnRzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYXJjICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLmFyYyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJDaXJjbGVTaGFwZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNpcmNsZVNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnNlZ21lbnRzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmFyYyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNpcmNsZVNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2l0aENvbGxpc2lvbnM6IGlzU2V0KG9iamVjdC53aXRoQ29sbGlzaW9ucykgPyBCb29sZWFuKG9iamVjdC53aXRoQ29sbGlzaW9ucykgOiBmYWxzZSxcbiAgICAgIHZpc2libGU6IGlzU2V0KG9iamVjdC52aXNpYmxlKSA/IEJvb2xlYW4ob2JqZWN0LnZpc2libGUpIDogZmFsc2UsXG4gICAgICBzZWdtZW50czogaXNTZXQob2JqZWN0LnNlZ21lbnRzKSA/IE51bWJlcihvYmplY3Quc2VnbWVudHMpIDogMCxcbiAgICAgIGFyYzogaXNTZXQob2JqZWN0LmFyYykgPyBOdW1iZXIob2JqZWN0LmFyYykgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCQ2lyY2xlU2hhcGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgIT09IHVuZGVmaW5lZCAmJiAob2JqLndpdGhDb2xsaXNpb25zID0gbWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICBtZXNzYWdlLnNlZ21lbnRzICE9PSB1bmRlZmluZWQgJiYgKG9iai5zZWdtZW50cyA9IG1lc3NhZ2Uuc2VnbWVudHMpO1xuICAgIG1lc3NhZ2UuYXJjICE9PSB1bmRlZmluZWQgJiYgKG9iai5hcmMgPSBtZXNzYWdlLmFyYyk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDaXJjbGVTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQkNpcmNsZVNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ2lyY2xlU2hhcGUoKTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gb2JqZWN0LndpdGhDb2xsaXNpb25zID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc2VnbWVudHMgPSBvYmplY3Quc2VnbWVudHMgPz8gMDtcbiAgICBtZXNzYWdlLmFyYyA9IG9iamVjdC5hcmMgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkNvbmVTaGFwZSgpOiBQQkNvbmVTaGFwZSB7XG4gIHJldHVybiB7XG4gICAgd2l0aENvbGxpc2lvbnM6IGZhbHNlLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIHJhZGl1c1RvcDogMCxcbiAgICByYWRpdXNCb3R0b206IDAsXG4gICAgc2VnbWVudHNIZWlnaHQ6IDAsXG4gICAgc2VnbWVudHNSYWRpYWw6IDAsXG4gICAgb3BlbkVuZGVkOiBmYWxzZSxcbiAgICByYWRpdXM6IDAsXG4gICAgYXJjOiAwLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJDb25lU2hhcGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkNvbmVTaGFwZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLndpdGhDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmFkaXVzVG9wICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnJhZGl1c1RvcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJhZGl1c0JvdHRvbSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5yYWRpdXNCb3R0b20pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zZWdtZW50c0hlaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0NSkuZmxvYXQobWVzc2FnZS5zZWdtZW50c0hlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNlZ21lbnRzUmFkaWFsICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLnNlZ21lbnRzUmFkaWFsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3BlbkVuZGVkID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU2KS5ib29sKG1lc3NhZ2Uub3BlbkVuZGVkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmFkaXVzICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDY5KS5mbG9hdChtZXNzYWdlLnJhZGl1cyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFyYyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig3NykuZmxvYXQobWVzc2FnZS5hcmMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCQ29uZVNoYXBlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ29uZVNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnJhZGl1c1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5yYWRpdXNCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2Uuc2VnbWVudHNIZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uuc2VnbWVudHNSYWRpYWwgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2Uub3BlbkVuZGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UucmFkaXVzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLmFyYyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQkNvbmVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpdGhDb2xsaXNpb25zOiBpc1NldChvYmplY3Qud2l0aENvbGxpc2lvbnMpID8gQm9vbGVhbihvYmplY3Qud2l0aENvbGxpc2lvbnMpIDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgcmFkaXVzVG9wOiBpc1NldChvYmplY3QucmFkaXVzVG9wKSA/IE51bWJlcihvYmplY3QucmFkaXVzVG9wKSA6IDAsXG4gICAgICByYWRpdXNCb3R0b206IGlzU2V0KG9iamVjdC5yYWRpdXNCb3R0b20pID8gTnVtYmVyKG9iamVjdC5yYWRpdXNCb3R0b20pIDogMCxcbiAgICAgIHNlZ21lbnRzSGVpZ2h0OiBpc1NldChvYmplY3Quc2VnbWVudHNIZWlnaHQpID8gTnVtYmVyKG9iamVjdC5zZWdtZW50c0hlaWdodCkgOiAwLFxuICAgICAgc2VnbWVudHNSYWRpYWw6IGlzU2V0KG9iamVjdC5zZWdtZW50c1JhZGlhbCkgPyBOdW1iZXIob2JqZWN0LnNlZ21lbnRzUmFkaWFsKSA6IDAsXG4gICAgICBvcGVuRW5kZWQ6IGlzU2V0KG9iamVjdC5vcGVuRW5kZWQpID8gQm9vbGVhbihvYmplY3Qub3BlbkVuZGVkKSA6IGZhbHNlLFxuICAgICAgcmFkaXVzOiBpc1NldChvYmplY3QucmFkaXVzKSA/IE51bWJlcihvYmplY3QucmFkaXVzKSA6IDAsXG4gICAgICBhcmM6IGlzU2V0KG9iamVjdC5hcmMpID8gTnVtYmVyKG9iamVjdC5hcmMpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkNvbmVTaGFwZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyAhPT0gdW5kZWZpbmVkICYmIChvYmoud2l0aENvbGxpc2lvbnMgPSBtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIG1lc3NhZ2UucmFkaXVzVG9wICE9PSB1bmRlZmluZWQgJiYgKG9iai5yYWRpdXNUb3AgPSBtZXNzYWdlLnJhZGl1c1RvcCk7XG4gICAgbWVzc2FnZS5yYWRpdXNCb3R0b20gIT09IHVuZGVmaW5lZCAmJiAob2JqLnJhZGl1c0JvdHRvbSA9IG1lc3NhZ2UucmFkaXVzQm90dG9tKTtcbiAgICBtZXNzYWdlLnNlZ21lbnRzSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5zZWdtZW50c0hlaWdodCA9IG1lc3NhZ2Uuc2VnbWVudHNIZWlnaHQpO1xuICAgIG1lc3NhZ2Uuc2VnbWVudHNSYWRpYWwgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNlZ21lbnRzUmFkaWFsID0gbWVzc2FnZS5zZWdtZW50c1JhZGlhbCk7XG4gICAgbWVzc2FnZS5vcGVuRW5kZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLm9wZW5FbmRlZCA9IG1lc3NhZ2Uub3BlbkVuZGVkKTtcbiAgICBtZXNzYWdlLnJhZGl1cyAhPT0gdW5kZWZpbmVkICYmIChvYmoucmFkaXVzID0gbWVzc2FnZS5yYWRpdXMpO1xuICAgIG1lc3NhZ2UuYXJjICE9PSB1bmRlZmluZWQgJiYgKG9iai5hcmMgPSBtZXNzYWdlLmFyYyk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJDb25lU2hhcGU+LCBJPj4ob2JqZWN0OiBJKTogUEJDb25lU2hhcGUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDb25lU2hhcGUoKTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gb2JqZWN0LndpdGhDb2xsaXNpb25zID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucmFkaXVzVG9wID0gb2JqZWN0LnJhZGl1c1RvcCA/PyAwO1xuICAgIG1lc3NhZ2UucmFkaXVzQm90dG9tID0gb2JqZWN0LnJhZGl1c0JvdHRvbSA/PyAwO1xuICAgIG1lc3NhZ2Uuc2VnbWVudHNIZWlnaHQgPSBvYmplY3Quc2VnbWVudHNIZWlnaHQgPz8gMDtcbiAgICBtZXNzYWdlLnNlZ21lbnRzUmFkaWFsID0gb2JqZWN0LnNlZ21lbnRzUmFkaWFsID8/IDA7XG4gICAgbWVzc2FnZS5vcGVuRW5kZWQgPSBvYmplY3Qub3BlbkVuZGVkID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucmFkaXVzID0gb2JqZWN0LnJhZGl1cyA/PyAwO1xuICAgIG1lc3NhZ2UuYXJjID0gb2JqZWN0LmFyYyA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQ3lsaW5kZXJTaGFwZSgpOiBQQkN5bGluZGVyU2hhcGUge1xuICByZXR1cm4ge1xuICAgIHdpdGhDb2xsaXNpb25zOiBmYWxzZSxcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICByYWRpdXNUb3A6IDAsXG4gICAgcmFkaXVzQm90dG9tOiAwLFxuICAgIHNlZ21lbnRzSGVpZ2h0OiAwLFxuICAgIHNlZ21lbnRzUmFkaWFsOiAwLFxuICAgIG9wZW5FbmRlZDogZmFsc2UsXG4gICAgcmFkaXVzOiAwLFxuICAgIGFyYzogMCxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCQ3lsaW5kZXJTaGFwZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCQ3lsaW5kZXJTaGFwZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLndpdGhDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmFkaXVzVG9wICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnJhZGl1c1RvcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJhZGl1c0JvdHRvbSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5yYWRpdXNCb3R0b20pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zZWdtZW50c0hlaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0NSkuZmxvYXQobWVzc2FnZS5zZWdtZW50c0hlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNlZ21lbnRzUmFkaWFsICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLnNlZ21lbnRzUmFkaWFsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3BlbkVuZGVkID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU2KS5ib29sKG1lc3NhZ2Uub3BlbkVuZGVkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmFkaXVzICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDY5KS5mbG9hdChtZXNzYWdlLnJhZGl1cyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFyYyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig3NykuZmxvYXQobWVzc2FnZS5hcmMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCQ3lsaW5kZXJTaGFwZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkN5bGluZGVyU2hhcGUoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UucmFkaXVzVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLnJhZGl1c0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS5zZWdtZW50c0hlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5zZWdtZW50c1JhZGlhbCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgbWVzc2FnZS5vcGVuRW5kZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5yYWRpdXMgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIG1lc3NhZ2UuYXJjID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCQ3lsaW5kZXJTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpdGhDb2xsaXNpb25zOiBpc1NldChvYmplY3Qud2l0aENvbGxpc2lvbnMpID8gQm9vbGVhbihvYmplY3Qud2l0aENvbGxpc2lvbnMpIDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgcmFkaXVzVG9wOiBpc1NldChvYmplY3QucmFkaXVzVG9wKSA/IE51bWJlcihvYmplY3QucmFkaXVzVG9wKSA6IDAsXG4gICAgICByYWRpdXNCb3R0b206IGlzU2V0KG9iamVjdC5yYWRpdXNCb3R0b20pID8gTnVtYmVyKG9iamVjdC5yYWRpdXNCb3R0b20pIDogMCxcbiAgICAgIHNlZ21lbnRzSGVpZ2h0OiBpc1NldChvYmplY3Quc2VnbWVudHNIZWlnaHQpID8gTnVtYmVyKG9iamVjdC5zZWdtZW50c0hlaWdodCkgOiAwLFxuICAgICAgc2VnbWVudHNSYWRpYWw6IGlzU2V0KG9iamVjdC5zZWdtZW50c1JhZGlhbCkgPyBOdW1iZXIob2JqZWN0LnNlZ21lbnRzUmFkaWFsKSA6IDAsXG4gICAgICBvcGVuRW5kZWQ6IGlzU2V0KG9iamVjdC5vcGVuRW5kZWQpID8gQm9vbGVhbihvYmplY3Qub3BlbkVuZGVkKSA6IGZhbHNlLFxuICAgICAgcmFkaXVzOiBpc1NldChvYmplY3QucmFkaXVzKSA/IE51bWJlcihvYmplY3QucmFkaXVzKSA6IDAsXG4gICAgICBhcmM6IGlzU2V0KG9iamVjdC5hcmMpID8gTnVtYmVyKG9iamVjdC5hcmMpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQkN5bGluZGVyU2hhcGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgIT09IHVuZGVmaW5lZCAmJiAob2JqLndpdGhDb2xsaXNpb25zID0gbWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICBtZXNzYWdlLnJhZGl1c1RvcCAhPT0gdW5kZWZpbmVkICYmIChvYmoucmFkaXVzVG9wID0gbWVzc2FnZS5yYWRpdXNUb3ApO1xuICAgIG1lc3NhZ2UucmFkaXVzQm90dG9tICE9PSB1bmRlZmluZWQgJiYgKG9iai5yYWRpdXNCb3R0b20gPSBtZXNzYWdlLnJhZGl1c0JvdHRvbSk7XG4gICAgbWVzc2FnZS5zZWdtZW50c0hlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouc2VnbWVudHNIZWlnaHQgPSBtZXNzYWdlLnNlZ21lbnRzSGVpZ2h0KTtcbiAgICBtZXNzYWdlLnNlZ21lbnRzUmFkaWFsICE9PSB1bmRlZmluZWQgJiYgKG9iai5zZWdtZW50c1JhZGlhbCA9IG1lc3NhZ2Uuc2VnbWVudHNSYWRpYWwpO1xuICAgIG1lc3NhZ2Uub3BlbkVuZGVkICE9PSB1bmRlZmluZWQgJiYgKG9iai5vcGVuRW5kZWQgPSBtZXNzYWdlLm9wZW5FbmRlZCk7XG4gICAgbWVzc2FnZS5yYWRpdXMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnJhZGl1cyA9IG1lc3NhZ2UucmFkaXVzKTtcbiAgICBtZXNzYWdlLmFyYyAhPT0gdW5kZWZpbmVkICYmIChvYmouYXJjID0gbWVzc2FnZS5hcmMpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCQ3lsaW5kZXJTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQkN5bGluZGVyU2hhcGUge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJDeWxpbmRlclNoYXBlKCk7XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9IG9iamVjdC53aXRoQ29sbGlzaW9ucyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnZpc2libGUgPSBvYmplY3QudmlzaWJsZSA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnJhZGl1c1RvcCA9IG9iamVjdC5yYWRpdXNUb3AgPz8gMDtcbiAgICBtZXNzYWdlLnJhZGl1c0JvdHRvbSA9IG9iamVjdC5yYWRpdXNCb3R0b20gPz8gMDtcbiAgICBtZXNzYWdlLnNlZ21lbnRzSGVpZ2h0ID0gb2JqZWN0LnNlZ21lbnRzSGVpZ2h0ID8/IDA7XG4gICAgbWVzc2FnZS5zZWdtZW50c1JhZGlhbCA9IG9iamVjdC5zZWdtZW50c1JhZGlhbCA/PyAwO1xuICAgIG1lc3NhZ2Uub3BlbkVuZGVkID0gb2JqZWN0Lm9wZW5FbmRlZCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnJhZGl1cyA9IG9iamVjdC5yYWRpdXMgPz8gMDtcbiAgICBtZXNzYWdlLmFyYyA9IG9iamVjdC5hcmMgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkdsb2JhbFBvaW50ZXJEb3duKCk6IFBCR2xvYmFsUG9pbnRlckRvd24ge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBQQkdsb2JhbFBvaW50ZXJEb3duID0ge1xuICBlbmNvZGUoXzogUEJHbG9iYWxQb2ludGVyRG93biwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJHbG9iYWxQb2ludGVyRG93biB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkdsb2JhbFBvaW50ZXJEb3duKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihfOiBhbnkpOiBQQkdsb2JhbFBvaW50ZXJEb3duIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IFBCR2xvYmFsUG9pbnRlckRvd24pOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCR2xvYmFsUG9pbnRlckRvd24+LCBJPj4oXzogSSk6IFBCR2xvYmFsUG9pbnRlckRvd24ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJHbG9iYWxQb2ludGVyRG93bigpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCR2xvYmFsUG9pbnRlclVwKCk6IFBCR2xvYmFsUG9pbnRlclVwIHtcbiAgcmV0dXJuIHt9O1xufVxuXG5leHBvcnQgY29uc3QgUEJHbG9iYWxQb2ludGVyVXAgPSB7XG4gIGVuY29kZShfOiBQQkdsb2JhbFBvaW50ZXJVcCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJHbG9iYWxQb2ludGVyVXAge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJHbG9iYWxQb2ludGVyVXAoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKF86IGFueSk6IFBCR2xvYmFsUG9pbnRlclVwIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG5cbiAgdG9KU09OKF86IFBCR2xvYmFsUG9pbnRlclVwKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkdsb2JhbFBvaW50ZXJVcD4sIEk+PihfOiBJKTogUEJHbG9iYWxQb2ludGVyVXAge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJHbG9iYWxQb2ludGVyVXAoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkdMVEZTaGFwZSgpOiBQQkdMVEZTaGFwZSB7XG4gIHJldHVybiB7IHdpdGhDb2xsaXNpb25zOiBmYWxzZSwgdmlzaWJsZTogZmFsc2UsIHNyYzogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJHTFRGU2hhcGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQkdMVEZTaGFwZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLndpdGhDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3JjICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5zcmMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCR0xURlNoYXBlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCR0xURlNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJHTFRGU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICB3aXRoQ29sbGlzaW9uczogaXNTZXQob2JqZWN0LndpdGhDb2xsaXNpb25zKSA/IEJvb2xlYW4ob2JqZWN0LndpdGhDb2xsaXNpb25zKSA6IGZhbHNlLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIHNyYzogaXNTZXQob2JqZWN0LnNyYykgPyBTdHJpbmcob2JqZWN0LnNyYykgOiBcIlwiLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCR0xURlNoYXBlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zICE9PSB1bmRlZmluZWQgJiYgKG9iai53aXRoQ29sbGlzaW9ucyA9IG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgbWVzc2FnZS5zcmMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNyYyA9IG1lc3NhZ2Uuc3JjKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQkdMVEZTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQkdMVEZTaGFwZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkdMVEZTaGFwZSgpO1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSBvYmplY3Qud2l0aENvbGxpc2lvbnMgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS52aXNpYmxlID0gb2JqZWN0LnZpc2libGUgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5zcmMgPSBvYmplY3Quc3JjID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNYXRlcmlhbCgpOiBQQk1hdGVyaWFsIHtcbiAgcmV0dXJuIHtcbiAgICBhbHBoYTogMCxcbiAgICBhbGJlZG9Db2xvcjogdW5kZWZpbmVkLFxuICAgIGVtaXNzaXZlQ29sb3I6IHVuZGVmaW5lZCxcbiAgICBtZXRhbGxpYzogMCxcbiAgICByb3VnaG5lc3M6IDAsXG4gICAgYW1iaWVudENvbG9yOiB1bmRlZmluZWQsXG4gICAgcmVmbGVjdGlvbkNvbG9yOiB1bmRlZmluZWQsXG4gICAgcmVmbGVjdGl2aXR5Q29sb3I6IHVuZGVmaW5lZCxcbiAgICBkaXJlY3RJbnRlbnNpdHk6IDAsXG4gICAgbWljcm9TdXJmYWNlOiAwLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLFxuICAgIGVudmlyb25tZW50SW50ZW5zaXR5OiAwLFxuICAgIHNwZWN1bGFySW50ZW5zaXR5OiAwLFxuICAgIGFsYmVkb1RleHR1cmU6IHVuZGVmaW5lZCxcbiAgICBhbHBoYVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICBlbWlzc2l2ZVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICBidW1wVGV4dHVyZTogdW5kZWZpbmVkLFxuICAgIHJlZnJhY3Rpb25UZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZUxpZ2h0aW5nOiBmYWxzZSxcbiAgICB0cmFuc3BhcmVuY3lNb2RlOiAwLFxuICAgIGhhc0FscGhhOiBmYWxzZSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCTWF0ZXJpYWwgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQk1hdGVyaWFsLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuYWxwaGEgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UuYWxwaGEpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hbGJlZG9Db2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yMy5lbmNvZGUobWVzc2FnZS5hbGJlZG9Db2xvciwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZW1pc3NpdmVDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yMy5lbmNvZGUobWVzc2FnZS5lbWlzc2l2ZUNvbG9yLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXRhbGxpYyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5tZXRhbGxpYyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJvdWdobmVzcyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0NSkuZmxvYXQobWVzc2FnZS5yb3VnaG5lc3MpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hbWJpZW50Q29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuYW1iaWVudENvbG9yLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZWZsZWN0aW9uQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjMuZW5jb2RlKG1lc3NhZ2UucmVmbGVjdGlvbkNvbG9yLCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yMy5lbmNvZGUobWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciwgd3JpdGVyLnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGlyZWN0SW50ZW5zaXR5ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc3KS5mbG9hdChtZXNzYWdlLmRpcmVjdEludGVuc2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1pY3JvU3VyZmFjZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4NSkuZmxvYXQobWVzc2FnZS5taWNyb1N1cmZhY2UpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5lbWlzc2l2ZUludGVuc2l0eSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5lbWlzc2l2ZUludGVuc2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmVudmlyb25tZW50SW50ZW5zaXR5ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwMSkuZmxvYXQobWVzc2FnZS5lbnZpcm9ubWVudEludGVuc2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNwZWN1bGFySW50ZW5zaXR5ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwOSkuZmxvYXQobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFsYmVkb1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJUZXh0dXJlLmVuY29kZShtZXNzYWdlLmFsYmVkb1RleHR1cmUsIHdyaXRlci51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hbHBoYVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJUZXh0dXJlLmVuY29kZShtZXNzYWdlLmFscGhhVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxMjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlRleHR1cmUuZW5jb2RlKG1lc3NhZ2UuZW1pc3NpdmVUZXh0dXJlLCB3cml0ZXIudWludDMyKDEzMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYnVtcFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJUZXh0dXJlLmVuY29kZShtZXNzYWdlLmJ1bXBUZXh0dXJlLCB3cml0ZXIudWludDMyKDEzOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmVmcmFjdGlvblRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJUZXh0dXJlLmVuY29kZShtZXNzYWdlLnJlZnJhY3Rpb25UZXh0dXJlLCB3cml0ZXIudWludDMyKDE0NikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGlzYWJsZUxpZ2h0aW5nID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE1MikuYm9vbChtZXNzYWdlLmRpc2FibGVMaWdodGluZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTY1KS5mbG9hdChtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNBbHBoYSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNjgpLmJvb2wobWVzc2FnZS5oYXNBbHBoYSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJNYXRlcmlhbCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmFscGhhID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmFsYmVkb0NvbG9yID0gUEJDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuZW1pc3NpdmVDb2xvciA9IFBCQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLm1ldGFsbGljID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnJvdWdobmVzcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS5hbWJpZW50Q29sb3IgPSBQQkNvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgbWVzc2FnZS5yZWZsZWN0aW9uQ29sb3IgPSBQQkNvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciA9IFBCQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLmRpcmVjdEludGVuc2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIG1lc3NhZ2UubWljcm9TdXJmYWNlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgbWVzc2FnZS5lbWlzc2l2ZUludGVuc2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIG1lc3NhZ2UuZW52aXJvbm1lbnRJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBtZXNzYWdlLnNwZWN1bGFySW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgbWVzc2FnZS5hbGJlZG9UZXh0dXJlID0gUEJUZXh0dXJlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgbWVzc2FnZS5hbHBoYVRleHR1cmUgPSBQQlRleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBtZXNzYWdlLmVtaXNzaXZlVGV4dHVyZSA9IFBCVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIG1lc3NhZ2UuYnVtcFRleHR1cmUgPSBQQlRleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBtZXNzYWdlLnJlZnJhY3Rpb25UZXh0dXJlID0gUEJUZXh0dXJlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5kaXNhYmxlTGlnaHRpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIG1lc3NhZ2UudHJhbnNwYXJlbmN5TW9kZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIG1lc3NhZ2UuaGFzQWxwaGEgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQk1hdGVyaWFsIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWxwaGE6IGlzU2V0KG9iamVjdC5hbHBoYSkgPyBOdW1iZXIob2JqZWN0LmFscGhhKSA6IDAsXG4gICAgICBhbGJlZG9Db2xvcjogaXNTZXQob2JqZWN0LmFsYmVkb0NvbG9yKSA/IFBCQ29sb3IzLmZyb21KU09OKG9iamVjdC5hbGJlZG9Db2xvcikgOiB1bmRlZmluZWQsXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBpc1NldChvYmplY3QuZW1pc3NpdmVDb2xvcikgPyBQQkNvbG9yMy5mcm9tSlNPTihvYmplY3QuZW1pc3NpdmVDb2xvcikgOiB1bmRlZmluZWQsXG4gICAgICBtZXRhbGxpYzogaXNTZXQob2JqZWN0Lm1ldGFsbGljKSA/IE51bWJlcihvYmplY3QubWV0YWxsaWMpIDogMCxcbiAgICAgIHJvdWdobmVzczogaXNTZXQob2JqZWN0LnJvdWdobmVzcykgPyBOdW1iZXIob2JqZWN0LnJvdWdobmVzcykgOiAwLFxuICAgICAgYW1iaWVudENvbG9yOiBpc1NldChvYmplY3QuYW1iaWVudENvbG9yKSA/IFBCQ29sb3IzLmZyb21KU09OKG9iamVjdC5hbWJpZW50Q29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgcmVmbGVjdGlvbkNvbG9yOiBpc1NldChvYmplY3QucmVmbGVjdGlvbkNvbG9yKSA/IFBCQ29sb3IzLmZyb21KU09OKG9iamVjdC5yZWZsZWN0aW9uQ29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgcmVmbGVjdGl2aXR5Q29sb3I6IGlzU2V0KG9iamVjdC5yZWZsZWN0aXZpdHlDb2xvcikgPyBQQkNvbG9yMy5mcm9tSlNPTihvYmplY3QucmVmbGVjdGl2aXR5Q29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgZGlyZWN0SW50ZW5zaXR5OiBpc1NldChvYmplY3QuZGlyZWN0SW50ZW5zaXR5KSA/IE51bWJlcihvYmplY3QuZGlyZWN0SW50ZW5zaXR5KSA6IDAsXG4gICAgICBtaWNyb1N1cmZhY2U6IGlzU2V0KG9iamVjdC5taWNyb1N1cmZhY2UpID8gTnVtYmVyKG9iamVjdC5taWNyb1N1cmZhY2UpIDogMCxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiBpc1NldChvYmplY3QuZW1pc3NpdmVJbnRlbnNpdHkpID8gTnVtYmVyKG9iamVjdC5lbWlzc2l2ZUludGVuc2l0eSkgOiAwLFxuICAgICAgZW52aXJvbm1lbnRJbnRlbnNpdHk6IGlzU2V0KG9iamVjdC5lbnZpcm9ubWVudEludGVuc2l0eSkgPyBOdW1iZXIob2JqZWN0LmVudmlyb25tZW50SW50ZW5zaXR5KSA6IDAsXG4gICAgICBzcGVjdWxhckludGVuc2l0eTogaXNTZXQob2JqZWN0LnNwZWN1bGFySW50ZW5zaXR5KSA/IE51bWJlcihvYmplY3Quc3BlY3VsYXJJbnRlbnNpdHkpIDogMCxcbiAgICAgIGFsYmVkb1RleHR1cmU6IGlzU2V0KG9iamVjdC5hbGJlZG9UZXh0dXJlKSA/IFBCVGV4dHVyZS5mcm9tSlNPTihvYmplY3QuYWxiZWRvVGV4dHVyZSkgOiB1bmRlZmluZWQsXG4gICAgICBhbHBoYVRleHR1cmU6IGlzU2V0KG9iamVjdC5hbHBoYVRleHR1cmUpID8gUEJUZXh0dXJlLmZyb21KU09OKG9iamVjdC5hbHBoYVRleHR1cmUpIDogdW5kZWZpbmVkLFxuICAgICAgZW1pc3NpdmVUZXh0dXJlOiBpc1NldChvYmplY3QuZW1pc3NpdmVUZXh0dXJlKSA/IFBCVGV4dHVyZS5mcm9tSlNPTihvYmplY3QuZW1pc3NpdmVUZXh0dXJlKSA6IHVuZGVmaW5lZCxcbiAgICAgIGJ1bXBUZXh0dXJlOiBpc1NldChvYmplY3QuYnVtcFRleHR1cmUpID8gUEJUZXh0dXJlLmZyb21KU09OKG9iamVjdC5idW1wVGV4dHVyZSkgOiB1bmRlZmluZWQsXG4gICAgICByZWZyYWN0aW9uVGV4dHVyZTogaXNTZXQob2JqZWN0LnJlZnJhY3Rpb25UZXh0dXJlKSA/IFBCVGV4dHVyZS5mcm9tSlNPTihvYmplY3QucmVmcmFjdGlvblRleHR1cmUpIDogdW5kZWZpbmVkLFxuICAgICAgZGlzYWJsZUxpZ2h0aW5nOiBpc1NldChvYmplY3QuZGlzYWJsZUxpZ2h0aW5nKSA/IEJvb2xlYW4ob2JqZWN0LmRpc2FibGVMaWdodGluZykgOiBmYWxzZSxcbiAgICAgIHRyYW5zcGFyZW5jeU1vZGU6IGlzU2V0KG9iamVjdC50cmFuc3BhcmVuY3lNb2RlKSA/IE51bWJlcihvYmplY3QudHJhbnNwYXJlbmN5TW9kZSkgOiAwLFxuICAgICAgaGFzQWxwaGE6IGlzU2V0KG9iamVjdC5oYXNBbHBoYSkgPyBCb29sZWFuKG9iamVjdC5oYXNBbHBoYSkgOiBmYWxzZSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQk1hdGVyaWFsKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmFscGhhICE9PSB1bmRlZmluZWQgJiYgKG9iai5hbHBoYSA9IG1lc3NhZ2UuYWxwaGEpO1xuICAgIG1lc3NhZ2UuYWxiZWRvQ29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5hbGJlZG9Db2xvciA9IG1lc3NhZ2UuYWxiZWRvQ29sb3IgPyBQQkNvbG9yMy50b0pTT04obWVzc2FnZS5hbGJlZG9Db2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZW1pc3NpdmVDb2xvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmVtaXNzaXZlQ29sb3IgPSBtZXNzYWdlLmVtaXNzaXZlQ29sb3IgPyBQQkNvbG9yMy50b0pTT04obWVzc2FnZS5lbWlzc2l2ZUNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5tZXRhbGxpYyAhPT0gdW5kZWZpbmVkICYmIChvYmoubWV0YWxsaWMgPSBtZXNzYWdlLm1ldGFsbGljKTtcbiAgICBtZXNzYWdlLnJvdWdobmVzcyAhPT0gdW5kZWZpbmVkICYmIChvYmoucm91Z2huZXNzID0gbWVzc2FnZS5yb3VnaG5lc3MpO1xuICAgIG1lc3NhZ2UuYW1iaWVudENvbG9yICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouYW1iaWVudENvbG9yID0gbWVzc2FnZS5hbWJpZW50Q29sb3IgPyBQQkNvbG9yMy50b0pTT04obWVzc2FnZS5hbWJpZW50Q29sb3IpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnJlZmxlY3Rpb25Db2xvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnJlZmxlY3Rpb25Db2xvciA9IG1lc3NhZ2UucmVmbGVjdGlvbkNvbG9yID8gUEJDb2xvcjMudG9KU09OKG1lc3NhZ2UucmVmbGVjdGlvbkNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnJlZmxlY3Rpdml0eUNvbG9yID0gbWVzc2FnZS5yZWZsZWN0aXZpdHlDb2xvciA/IFBCQ29sb3IzLnRvSlNPTihtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmRpcmVjdEludGVuc2l0eSA9IG1lc3NhZ2UuZGlyZWN0SW50ZW5zaXR5KTtcbiAgICBtZXNzYWdlLm1pY3JvU3VyZmFjZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubWljcm9TdXJmYWNlID0gbWVzc2FnZS5taWNyb1N1cmZhY2UpO1xuICAgIG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmVtaXNzaXZlSW50ZW5zaXR5ID0gbWVzc2FnZS5lbWlzc2l2ZUludGVuc2l0eSk7XG4gICAgbWVzc2FnZS5lbnZpcm9ubWVudEludGVuc2l0eSAhPT0gdW5kZWZpbmVkICYmIChvYmouZW52aXJvbm1lbnRJbnRlbnNpdHkgPSBtZXNzYWdlLmVudmlyb25tZW50SW50ZW5zaXR5KTtcbiAgICBtZXNzYWdlLnNwZWN1bGFySW50ZW5zaXR5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5zcGVjdWxhckludGVuc2l0eSA9IG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkpO1xuICAgIG1lc3NhZ2UuYWxiZWRvVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmFsYmVkb1RleHR1cmUgPSBtZXNzYWdlLmFsYmVkb1RleHR1cmUgPyBQQlRleHR1cmUudG9KU09OKG1lc3NhZ2UuYWxiZWRvVGV4dHVyZSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuYWxwaGFUZXh0dXJlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouYWxwaGFUZXh0dXJlID0gbWVzc2FnZS5hbHBoYVRleHR1cmUgPyBQQlRleHR1cmUudG9KU09OKG1lc3NhZ2UuYWxwaGFUZXh0dXJlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5lbWlzc2l2ZVRleHR1cmUgPSBtZXNzYWdlLmVtaXNzaXZlVGV4dHVyZSA/IFBCVGV4dHVyZS50b0pTT04obWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmJ1bXBUZXh0dXJlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouYnVtcFRleHR1cmUgPSBtZXNzYWdlLmJ1bXBUZXh0dXJlID8gUEJUZXh0dXJlLnRvSlNPTihtZXNzYWdlLmJ1bXBUZXh0dXJlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5yZWZyYWN0aW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnJlZnJhY3Rpb25UZXh0dXJlID0gbWVzc2FnZS5yZWZyYWN0aW9uVGV4dHVyZSA/IFBCVGV4dHVyZS50b0pTT04obWVzc2FnZS5yZWZyYWN0aW9uVGV4dHVyZSkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZGlzYWJsZUxpZ2h0aW5nICE9PSB1bmRlZmluZWQgJiYgKG9iai5kaXNhYmxlTGlnaHRpbmcgPSBtZXNzYWdlLmRpc2FibGVMaWdodGluZyk7XG4gICAgbWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlICE9PSB1bmRlZmluZWQgJiYgKG9iai50cmFuc3BhcmVuY3lNb2RlID0gbWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlKTtcbiAgICBtZXNzYWdlLmhhc0FscGhhICE9PSB1bmRlZmluZWQgJiYgKG9iai5oYXNBbHBoYSA9IG1lc3NhZ2UuaGFzQWxwaGEpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCTWF0ZXJpYWw+LCBJPj4ob2JqZWN0OiBJKTogUEJNYXRlcmlhbCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsKCk7XG4gICAgbWVzc2FnZS5hbHBoYSA9IG9iamVjdC5hbHBoYSA/PyAwO1xuICAgIG1lc3NhZ2UuYWxiZWRvQ29sb3IgPSAob2JqZWN0LmFsYmVkb0NvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmFsYmVkb0NvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yMy5mcm9tUGFydGlhbChvYmplY3QuYWxiZWRvQ29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmVtaXNzaXZlQ29sb3IgPSAob2JqZWN0LmVtaXNzaXZlQ29sb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW1pc3NpdmVDb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjMuZnJvbVBhcnRpYWwob2JqZWN0LmVtaXNzaXZlQ29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLm1ldGFsbGljID0gb2JqZWN0Lm1ldGFsbGljID8/IDA7XG4gICAgbWVzc2FnZS5yb3VnaG5lc3MgPSBvYmplY3Qucm91Z2huZXNzID8/IDA7XG4gICAgbWVzc2FnZS5hbWJpZW50Q29sb3IgPSAob2JqZWN0LmFtYmllbnRDb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5hbWJpZW50Q29sb3IgIT09IG51bGwpXG4gICAgICA/IFBCQ29sb3IzLmZyb21QYXJ0aWFsKG9iamVjdC5hbWJpZW50Q29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnJlZmxlY3Rpb25Db2xvciA9IChvYmplY3QucmVmbGVjdGlvbkNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJlZmxlY3Rpb25Db2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjMuZnJvbVBhcnRpYWwob2JqZWN0LnJlZmxlY3Rpb25Db2xvcilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UucmVmbGVjdGl2aXR5Q29sb3IgPSAob2JqZWN0LnJlZmxlY3Rpdml0eUNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJlZmxlY3Rpdml0eUNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yMy5mcm9tUGFydGlhbChvYmplY3QucmVmbGVjdGl2aXR5Q29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmRpcmVjdEludGVuc2l0eSA9IG9iamVjdC5kaXJlY3RJbnRlbnNpdHkgPz8gMDtcbiAgICBtZXNzYWdlLm1pY3JvU3VyZmFjZSA9IG9iamVjdC5taWNyb1N1cmZhY2UgPz8gMDtcbiAgICBtZXNzYWdlLmVtaXNzaXZlSW50ZW5zaXR5ID0gb2JqZWN0LmVtaXNzaXZlSW50ZW5zaXR5ID8/IDA7XG4gICAgbWVzc2FnZS5lbnZpcm9ubWVudEludGVuc2l0eSA9IG9iamVjdC5lbnZpcm9ubWVudEludGVuc2l0eSA/PyAwO1xuICAgIG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkgPSBvYmplY3Quc3BlY3VsYXJJbnRlbnNpdHkgPz8gMDtcbiAgICBtZXNzYWdlLmFsYmVkb1RleHR1cmUgPSAob2JqZWN0LmFsYmVkb1RleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYWxiZWRvVGV4dHVyZSAhPT0gbnVsbClcbiAgICAgID8gUEJUZXh0dXJlLmZyb21QYXJ0aWFsKG9iamVjdC5hbGJlZG9UZXh0dXJlKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5hbHBoYVRleHR1cmUgPSAob2JqZWN0LmFscGhhVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5hbHBoYVRleHR1cmUgIT09IG51bGwpXG4gICAgICA/IFBCVGV4dHVyZS5mcm9tUGFydGlhbChvYmplY3QuYWxwaGFUZXh0dXJlKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgPSAob2JqZWN0LmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5lbWlzc2l2ZVRleHR1cmUgIT09IG51bGwpXG4gICAgICA/IFBCVGV4dHVyZS5mcm9tUGFydGlhbChvYmplY3QuZW1pc3NpdmVUZXh0dXJlKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5idW1wVGV4dHVyZSA9IChvYmplY3QuYnVtcFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYnVtcFRleHR1cmUgIT09IG51bGwpXG4gICAgICA/IFBCVGV4dHVyZS5mcm9tUGFydGlhbChvYmplY3QuYnVtcFRleHR1cmUpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnJlZnJhY3Rpb25UZXh0dXJlID0gKG9iamVjdC5yZWZyYWN0aW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZWZyYWN0aW9uVGV4dHVyZSAhPT0gbnVsbClcbiAgICAgID8gUEJUZXh0dXJlLmZyb21QYXJ0aWFsKG9iamVjdC5yZWZyYWN0aW9uVGV4dHVyZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuZGlzYWJsZUxpZ2h0aW5nID0gb2JqZWN0LmRpc2FibGVMaWdodGluZyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgPSBvYmplY3QudHJhbnNwYXJlbmN5TW9kZSA/PyAwO1xuICAgIG1lc3NhZ2UuaGFzQWxwaGEgPSBvYmplY3QuaGFzQWxwaGEgPz8gZmFsc2U7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJORlRTaGFwZSgpOiBQQk5GVFNoYXBlIHtcbiAgcmV0dXJuIHsgd2l0aENvbGxpc2lvbnM6IGZhbHNlLCB2aXNpYmxlOiBmYWxzZSwgc3JjOiBcIlwiLCBjb2xvcjogdW5kZWZpbmVkIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQk5GVFNoYXBlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJORlRTaGFwZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLndpdGhDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3JjICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5zcmMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yMy5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQk5GVFNoYXBlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTkZUU2hhcGUoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uuc3JjID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5jb2xvciA9IFBCQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCTkZUU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICB3aXRoQ29sbGlzaW9uczogaXNTZXQob2JqZWN0LndpdGhDb2xsaXNpb25zKSA/IEJvb2xlYW4ob2JqZWN0LndpdGhDb2xsaXNpb25zKSA6IGZhbHNlLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIHNyYzogaXNTZXQob2JqZWN0LnNyYykgPyBTdHJpbmcob2JqZWN0LnNyYykgOiBcIlwiLFxuICAgICAgY29sb3I6IGlzU2V0KG9iamVjdC5jb2xvcikgPyBQQkNvbG9yMy5mcm9tSlNPTihvYmplY3QuY29sb3IpIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCTkZUU2hhcGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgIT09IHVuZGVmaW5lZCAmJiAob2JqLndpdGhDb2xsaXNpb25zID0gbWVzc2FnZS53aXRoQ29sbGlzaW9ucyk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICBtZXNzYWdlLnNyYyAhPT0gdW5kZWZpbmVkICYmIChvYmouc3JjID0gbWVzc2FnZS5zcmMpO1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3IzLnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJORlRTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQk5GVFNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTkZUU2hhcGUoKTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gb2JqZWN0LndpdGhDb2xsaXNpb25zID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc3JjID0gb2JqZWN0LnNyYyA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuY29sb3IgPSAob2JqZWN0LmNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yMy5mcm9tUGFydGlhbChvYmplY3QuY29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk9CSlNoYXBlKCk6IFBCT0JKU2hhcGUge1xuICByZXR1cm4geyB3aXRoQ29sbGlzaW9uczogZmFsc2UsIHZpc2libGU6IGZhbHNlLCBzcmM6IFwiXCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCT0JKU2hhcGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQk9CSlNoYXBlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmlzaWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnZpc2libGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zcmMgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnNyYyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJPQkpTaGFwZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk9CSlNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJPQkpTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpdGhDb2xsaXNpb25zOiBpc1NldChvYmplY3Qud2l0aENvbGxpc2lvbnMpID8gQm9vbGVhbihvYmplY3Qud2l0aENvbGxpc2lvbnMpIDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgc3JjOiBpc1NldChvYmplY3Quc3JjKSA/IFN0cmluZyhvYmplY3Quc3JjKSA6IFwiXCIsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJPQkpTaGFwZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyAhPT0gdW5kZWZpbmVkICYmIChvYmoud2l0aENvbGxpc2lvbnMgPSBtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIG1lc3NhZ2Uuc3JjICE9PSB1bmRlZmluZWQgJiYgKG9iai5zcmMgPSBtZXNzYWdlLnNyYyk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJPQkpTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQk9CSlNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCT0JKU2hhcGUoKTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gb2JqZWN0LndpdGhDb2xsaXNpb25zID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc3JjID0gb2JqZWN0LnNyYyA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUGxhbmVTaGFwZSgpOiBQQlBsYW5lU2hhcGUge1xuICByZXR1cm4geyB3aXRoQ29sbGlzaW9uczogZmFsc2UsIHZpc2libGU6IGZhbHNlLCB3aWR0aDogMCwgaGVpZ2h0OiAwLCB1dnM6IFtdIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlBsYW5lU2hhcGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlBsYW5lU2hhcGUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLndpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLmhlaWdodCk7XG4gICAgfVxuICAgIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKTtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICB9XG4gICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJQbGFuZVNoYXBlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUGxhbmVTaGFwZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCUGxhbmVTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpdGhDb2xsaXNpb25zOiBpc1NldChvYmplY3Qud2l0aENvbGxpc2lvbnMpID8gQm9vbGVhbihvYmplY3Qud2l0aENvbGxpc2lvbnMpIDogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgd2lkdGg6IGlzU2V0KG9iamVjdC53aWR0aCkgPyBOdW1iZXIob2JqZWN0LndpZHRoKSA6IDAsXG4gICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gTnVtYmVyKG9iamVjdC5oZWlnaHQpIDogMCxcbiAgICAgIHV2czogQXJyYXkuaXNBcnJheShvYmplY3Q/LnV2cykgPyBvYmplY3QudXZzLm1hcCgoZTogYW55KSA9PiBOdW1iZXIoZSkpIDogW10sXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJQbGFuZVNoYXBlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zICE9PSB1bmRlZmluZWQgJiYgKG9iai53aXRoQ29sbGlzaW9ucyA9IG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgbWVzc2FnZS53aWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2lkdGggPSBtZXNzYWdlLndpZHRoKTtcbiAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgIGlmIChtZXNzYWdlLnV2cykge1xuICAgICAgb2JqLnV2cyA9IG1lc3NhZ2UudXZzLm1hcCgoZSkgPT4gZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai51dnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJQbGFuZVNoYXBlPiwgST4+KG9iamVjdDogSSk6IFBCUGxhbmVTaGFwZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBsYW5lU2hhcGUoKTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gb2JqZWN0LndpdGhDb2xsaXNpb25zID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uud2lkdGggPSBvYmplY3Qud2lkdGggPz8gMDtcbiAgICBtZXNzYWdlLmhlaWdodCA9IG9iamVjdC5oZWlnaHQgPz8gMDtcbiAgICBtZXNzYWdlLnV2cyA9IG9iamVjdC51dnM/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJTaGFwZSgpOiBQQlNoYXBlIHtcbiAgcmV0dXJuIHsgd2l0aENvbGxpc2lvbnM6IGZhbHNlLCB2aXNpYmxlOiBmYWxzZSB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJTaGFwZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCU2hhcGUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJTaGFwZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCU2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICB3aXRoQ29sbGlzaW9uczogaXNTZXQob2JqZWN0LndpdGhDb2xsaXNpb25zKSA/IEJvb2xlYW4ob2JqZWN0LndpdGhDb2xsaXNpb25zKSA6IGZhbHNlLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlNoYXBlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zICE9PSB1bmRlZmluZWQgJiYgKG9iai53aXRoQ29sbGlzaW9ucyA9IG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQlNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCU2hhcGUoKTtcbiAgICBtZXNzYWdlLndpdGhDb2xsaXNpb25zID0gb2JqZWN0LndpdGhDb2xsaXNpb25zID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCU3BoZXJlU2hhcGUoKTogUEJTcGhlcmVTaGFwZSB7XG4gIHJldHVybiB7IHdpdGhDb2xsaXNpb25zOiBmYWxzZSwgdmlzaWJsZTogZmFsc2UgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCU3BoZXJlU2hhcGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlNwaGVyZVNoYXBlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmlzaWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnZpc2libGUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCU3BoZXJlU2hhcGUge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJTcGhlcmVTaGFwZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlNwaGVyZVNoYXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2l0aENvbGxpc2lvbnM6IGlzU2V0KG9iamVjdC53aXRoQ29sbGlzaW9ucykgPyBCb29sZWFuKG9iamVjdC53aXRoQ29sbGlzaW9ucykgOiBmYWxzZSxcbiAgICAgIHZpc2libGU6IGlzU2V0KG9iamVjdC52aXNpYmxlKSA/IEJvb2xlYW4ob2JqZWN0LnZpc2libGUpIDogZmFsc2UsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJTcGhlcmVTaGFwZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyAhPT0gdW5kZWZpbmVkICYmIChvYmoud2l0aENvbGxpc2lvbnMgPSBtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCU3BoZXJlU2hhcGU+LCBJPj4ob2JqZWN0OiBJKTogUEJTcGhlcmVTaGFwZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlNwaGVyZVNoYXBlKCk7XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyA9IG9iamVjdC53aXRoQ29sbGlzaW9ucyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnZpc2libGUgPSBvYmplY3QudmlzaWJsZSA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlRleHRTaGFwZSgpOiBQQlRleHRTaGFwZSB7XG4gIHJldHVybiB7XG4gICAgd2l0aENvbGxpc2lvbnM6IGZhbHNlLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIG91dGxpbmVXaWR0aDogMCxcbiAgICBvdXRsaW5lQ29sb3I6IHVuZGVmaW5lZCxcbiAgICBjb2xvcjogdW5kZWZpbmVkLFxuICAgIGZvbnRTaXplOiAwLFxuICAgIGZvbnRXZWlnaHQ6IFwiXCIsXG4gICAgb3BhY2l0eTogMCxcbiAgICB2YWx1ZTogXCJcIixcbiAgICBsaW5lU3BhY2luZzogXCJcIixcbiAgICBsaW5lQ291bnQ6IDAsXG4gICAgcmVzaXplVG9GaXQ6IGZhbHNlLFxuICAgIHRleHRXcmFwcGluZzogZmFsc2UsXG4gICAgc2hhZG93Qmx1cjogMCxcbiAgICBzaGFkb3dPZmZzZXRYOiAwLFxuICAgIHNoYWRvd09mZnNldFk6IDAsXG4gICAgc2hhZG93Q29sb3I6IHVuZGVmaW5lZCxcbiAgICB6SW5kZXg6IDAsXG4gICAgaFRleHRBbGlnbjogXCJcIixcbiAgICB2VGV4dEFsaWduOiBcIlwiLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICBwYWRkaW5nVG9wOiAwLFxuICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgIHBhZGRpbmdMZWZ0OiAwLFxuICAgIGlzUGlja2FibGU6IGZhbHNlLFxuICAgIGJpbGxib2FyZDogZmFsc2UsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlRleHRTaGFwZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCVGV4dFNoYXBlLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmlzaWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnZpc2libGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vdXRsaW5lV2lkdGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uub3V0bGluZVdpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3V0bGluZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3IzLmVuY29kZShtZXNzYWdlLm91dGxpbmVDb2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmZvbnRTaXplKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZm9udFdlaWdodCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1OCkuc3RyaW5nKG1lc3NhZ2UuZm9udFdlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wYWNpdHkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNjkpLmZsb2F0KG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc0KS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxpbmVTcGFjaW5nICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgyKS5zdHJpbmcobWVzc2FnZS5saW5lU3BhY2luZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxpbmVDb3VudCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5saW5lQ291bnQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZXNpemVUb0ZpdCA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig5NikuYm9vbChtZXNzYWdlLnJlc2l6ZVRvRml0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGV4dFdyYXBwaW5nID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwNCkuYm9vbChtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTE3KS5mbG9hdChtZXNzYWdlLnNoYWRvd0JsdXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEyNSkuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMzMpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3IzLmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDEzOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuekluZGV4ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE0OSkuZmxvYXQobWVzc2FnZS56SW5kZXgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oVGV4dEFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE1NCkuc3RyaW5nKG1lc3NhZ2UuaFRleHRBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZUZXh0QWxpZ24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYyKS5zdHJpbmcobWVzc2FnZS52VGV4dEFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uud2lkdGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTczKS5mbG9hdChtZXNzYWdlLndpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4MSkuZmxvYXQobWVzc2FnZS5oZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nVG9wICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4OSkuZmxvYXQobWVzc2FnZS5wYWRkaW5nVG9wKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE5NykuZmxvYXQobWVzc2FnZS5wYWRkaW5nUmlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nQm90dG9tICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIwNSkuZmxvYXQobWVzc2FnZS5wYWRkaW5nQm90dG9tKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjEzKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaXNQaWNrYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMTYpLmJvb2wobWVzc2FnZS5pc1BpY2thYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYmlsbGJvYXJkID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIyNCkuYm9vbChtZXNzYWdlLmJpbGxib2FyZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJUZXh0U2hhcGUge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUZXh0U2hhcGUoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLm91dGxpbmVDb2xvciA9IFBCQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gUEJDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UuZm9udFdlaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBtZXNzYWdlLmxpbmVTcGFjaW5nID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UubGluZUNvdW50ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5yZXNpemVUb0ZpdCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgPSBQQkNvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIG1lc3NhZ2UuekluZGV4ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5oVGV4dEFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIG1lc3NhZ2UudlRleHRBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICBtZXNzYWdlLmlzUGlja2FibGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgIG1lc3NhZ2UuYmlsbGJvYXJkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJUZXh0U2hhcGUge1xuICAgIHJldHVybiB7XG4gICAgICB3aXRoQ29sbGlzaW9uczogaXNTZXQob2JqZWN0LndpdGhDb2xsaXNpb25zKSA/IEJvb2xlYW4ob2JqZWN0LndpdGhDb2xsaXNpb25zKSA6IGZhbHNlLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIG91dGxpbmVXaWR0aDogaXNTZXQob2JqZWN0Lm91dGxpbmVXaWR0aCkgPyBOdW1iZXIob2JqZWN0Lm91dGxpbmVXaWR0aCkgOiAwLFxuICAgICAgb3V0bGluZUNvbG9yOiBpc1NldChvYmplY3Qub3V0bGluZUNvbG9yKSA/IFBCQ29sb3IzLmZyb21KU09OKG9iamVjdC5vdXRsaW5lQ29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgY29sb3I6IGlzU2V0KG9iamVjdC5jb2xvcikgPyBQQkNvbG9yMy5mcm9tSlNPTihvYmplY3QuY29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgZm9udFNpemU6IGlzU2V0KG9iamVjdC5mb250U2l6ZSkgPyBOdW1iZXIob2JqZWN0LmZvbnRTaXplKSA6IDAsXG4gICAgICBmb250V2VpZ2h0OiBpc1NldChvYmplY3QuZm9udFdlaWdodCkgPyBTdHJpbmcob2JqZWN0LmZvbnRXZWlnaHQpIDogXCJcIixcbiAgICAgIG9wYWNpdHk6IGlzU2V0KG9iamVjdC5vcGFjaXR5KSA/IE51bWJlcihvYmplY3Qub3BhY2l0eSkgOiAwLFxuICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIsXG4gICAgICBsaW5lU3BhY2luZzogaXNTZXQob2JqZWN0LmxpbmVTcGFjaW5nKSA/IFN0cmluZyhvYmplY3QubGluZVNwYWNpbmcpIDogXCJcIixcbiAgICAgIGxpbmVDb3VudDogaXNTZXQob2JqZWN0LmxpbmVDb3VudCkgPyBOdW1iZXIob2JqZWN0LmxpbmVDb3VudCkgOiAwLFxuICAgICAgcmVzaXplVG9GaXQ6IGlzU2V0KG9iamVjdC5yZXNpemVUb0ZpdCkgPyBCb29sZWFuKG9iamVjdC5yZXNpemVUb0ZpdCkgOiBmYWxzZSxcbiAgICAgIHRleHRXcmFwcGluZzogaXNTZXQob2JqZWN0LnRleHRXcmFwcGluZykgPyBCb29sZWFuKG9iamVjdC50ZXh0V3JhcHBpbmcpIDogZmFsc2UsXG4gICAgICBzaGFkb3dCbHVyOiBpc1NldChvYmplY3Quc2hhZG93Qmx1cikgPyBOdW1iZXIob2JqZWN0LnNoYWRvd0JsdXIpIDogMCxcbiAgICAgIHNoYWRvd09mZnNldFg6IGlzU2V0KG9iamVjdC5zaGFkb3dPZmZzZXRYKSA/IE51bWJlcihvYmplY3Quc2hhZG93T2Zmc2V0WCkgOiAwLFxuICAgICAgc2hhZG93T2Zmc2V0WTogaXNTZXQob2JqZWN0LnNoYWRvd09mZnNldFkpID8gTnVtYmVyKG9iamVjdC5zaGFkb3dPZmZzZXRZKSA6IDAsXG4gICAgICBzaGFkb3dDb2xvcjogaXNTZXQob2JqZWN0LnNoYWRvd0NvbG9yKSA/IFBCQ29sb3IzLmZyb21KU09OKG9iamVjdC5zaGFkb3dDb2xvcikgOiB1bmRlZmluZWQsXG4gICAgICB6SW5kZXg6IGlzU2V0KG9iamVjdC56SW5kZXgpID8gTnVtYmVyKG9iamVjdC56SW5kZXgpIDogMCxcbiAgICAgIGhUZXh0QWxpZ246IGlzU2V0KG9iamVjdC5oVGV4dEFsaWduKSA/IFN0cmluZyhvYmplY3QuaFRleHRBbGlnbikgOiBcIlwiLFxuICAgICAgdlRleHRBbGlnbjogaXNTZXQob2JqZWN0LnZUZXh0QWxpZ24pID8gU3RyaW5nKG9iamVjdC52VGV4dEFsaWduKSA6IFwiXCIsXG4gICAgICB3aWR0aDogaXNTZXQob2JqZWN0LndpZHRoKSA/IE51bWJlcihvYmplY3Qud2lkdGgpIDogMCxcbiAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBOdW1iZXIob2JqZWN0LmhlaWdodCkgOiAwLFxuICAgICAgcGFkZGluZ1RvcDogaXNTZXQob2JqZWN0LnBhZGRpbmdUb3ApID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nVG9wKSA6IDAsXG4gICAgICBwYWRkaW5nUmlnaHQ6IGlzU2V0KG9iamVjdC5wYWRkaW5nUmlnaHQpID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nUmlnaHQpIDogMCxcbiAgICAgIHBhZGRpbmdCb3R0b206IGlzU2V0KG9iamVjdC5wYWRkaW5nQm90dG9tKSA/IE51bWJlcihvYmplY3QucGFkZGluZ0JvdHRvbSkgOiAwLFxuICAgICAgcGFkZGluZ0xlZnQ6IGlzU2V0KG9iamVjdC5wYWRkaW5nTGVmdCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdMZWZ0KSA6IDAsXG4gICAgICBpc1BpY2thYmxlOiBpc1NldChvYmplY3QuaXNQaWNrYWJsZSkgPyBCb29sZWFuKG9iamVjdC5pc1BpY2thYmxlKSA6IGZhbHNlLFxuICAgICAgYmlsbGJvYXJkOiBpc1NldChvYmplY3QuYmlsbGJvYXJkKSA/IEJvb2xlYW4ob2JqZWN0LmJpbGxib2FyZCkgOiBmYWxzZSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlRleHRTaGFwZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS53aXRoQ29sbGlzaW9ucyAhPT0gdW5kZWZpbmVkICYmIChvYmoud2l0aENvbGxpc2lvbnMgPSBtZXNzYWdlLndpdGhDb2xsaXNpb25zKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5vdXRsaW5lV2lkdGggPSBtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5vdXRsaW5lQ29sb3IgPSBtZXNzYWdlLm91dGxpbmVDb2xvciA/IFBCQ29sb3IzLnRvSlNPTihtZXNzYWdlLm91dGxpbmVDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3IzLnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkICYmIChvYmouZm9udFNpemUgPSBtZXNzYWdlLmZvbnRTaXplKTtcbiAgICBtZXNzYWdlLmZvbnRXZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmZvbnRXZWlnaHQgPSBtZXNzYWdlLmZvbnRXZWlnaHQpO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSAhPT0gdW5kZWZpbmVkICYmIChvYmoub3BhY2l0eSA9IG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICBtZXNzYWdlLmxpbmVTcGFjaW5nICE9PSB1bmRlZmluZWQgJiYgKG9iai5saW5lU3BhY2luZyA9IG1lc3NhZ2UubGluZVNwYWNpbmcpO1xuICAgIG1lc3NhZ2UubGluZUNvdW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5saW5lQ291bnQgPSBtZXNzYWdlLmxpbmVDb3VudCk7XG4gICAgbWVzc2FnZS5yZXNpemVUb0ZpdCAhPT0gdW5kZWZpbmVkICYmIChvYmoucmVzaXplVG9GaXQgPSBtZXNzYWdlLnJlc2l6ZVRvRml0KTtcbiAgICBtZXNzYWdlLnRleHRXcmFwcGluZyAhPT0gdW5kZWZpbmVkICYmIChvYmoudGV4dFdyYXBwaW5nID0gbWVzc2FnZS50ZXh0V3JhcHBpbmcpO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2hhZG93Qmx1ciA9IG1lc3NhZ2Uuc2hhZG93Qmx1cik7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaGFkb3dPZmZzZXRYID0gbWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNoYWRvd09mZnNldFkgPSBtZXNzYWdlLnNoYWRvd09mZnNldFkpO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5zaGFkb3dDb2xvciA9IG1lc3NhZ2Uuc2hhZG93Q29sb3IgPyBQQkNvbG9yMy50b0pTT04obWVzc2FnZS5zaGFkb3dDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuekluZGV4ICE9PSB1bmRlZmluZWQgJiYgKG9iai56SW5kZXggPSBtZXNzYWdlLnpJbmRleCk7XG4gICAgbWVzc2FnZS5oVGV4dEFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai5oVGV4dEFsaWduID0gbWVzc2FnZS5oVGV4dEFsaWduKTtcbiAgICBtZXNzYWdlLnZUZXh0QWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZUZXh0QWxpZ24gPSBtZXNzYWdlLnZUZXh0QWxpZ24pO1xuICAgIG1lc3NhZ2Uud2lkdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLndpZHRoID0gbWVzc2FnZS53aWR0aCk7XG4gICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICBtZXNzYWdlLnBhZGRpbmdUb3AgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZGRpbmdUb3AgPSBtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nUmlnaHQgPSBtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nQm90dG9tID0gbWVzc2FnZS5wYWRkaW5nQm90dG9tKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nTGVmdCA9IG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgIG1lc3NhZ2UuaXNQaWNrYWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNQaWNrYWJsZSA9IG1lc3NhZ2UuaXNQaWNrYWJsZSk7XG4gICAgbWVzc2FnZS5iaWxsYm9hcmQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmJpbGxib2FyZCA9IG1lc3NhZ2UuYmlsbGJvYXJkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlRleHRTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQlRleHRTaGFwZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlRleHRTaGFwZSgpO1xuICAgIG1lc3NhZ2Uud2l0aENvbGxpc2lvbnMgPSBvYmplY3Qud2l0aENvbGxpc2lvbnMgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS52aXNpYmxlID0gb2JqZWN0LnZpc2libGUgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5vdXRsaW5lV2lkdGggPSBvYmplY3Qub3V0bGluZVdpZHRoID8/IDA7XG4gICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgPSAob2JqZWN0Lm91dGxpbmVDb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5vdXRsaW5lQ29sb3IgIT09IG51bGwpXG4gICAgICA/IFBCQ29sb3IzLmZyb21QYXJ0aWFsKG9iamVjdC5vdXRsaW5lQ29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmNvbG9yID0gKG9iamVjdC5jb2xvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjMuZnJvbVBhcnRpYWwob2JqZWN0LmNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5mb250U2l6ZSA9IG9iamVjdC5mb250U2l6ZSA/PyAwO1xuICAgIG1lc3NhZ2UuZm9udFdlaWdodCA9IG9iamVjdC5mb250V2VpZ2h0ID8/IFwiXCI7XG4gICAgbWVzc2FnZS5vcGFjaXR5ID0gb2JqZWN0Lm9wYWNpdHkgPz8gMDtcbiAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IFwiXCI7XG4gICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IG9iamVjdC5saW5lU3BhY2luZyA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubGluZUNvdW50ID0gb2JqZWN0LmxpbmVDb3VudCA/PyAwO1xuICAgIG1lc3NhZ2UucmVzaXplVG9GaXQgPSBvYmplY3QucmVzaXplVG9GaXQgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSBvYmplY3QudGV4dFdyYXBwaW5nID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IG9iamVjdC5zaGFkb3dCbHVyID8/IDA7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gb2JqZWN0LnNoYWRvd09mZnNldFggPz8gMDtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgPSBvYmplY3Quc2hhZG93T2Zmc2V0WSA/PyAwO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgPSAob2JqZWN0LnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNoYWRvd0NvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yMy5mcm9tUGFydGlhbChvYmplY3Quc2hhZG93Q29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnpJbmRleCA9IG9iamVjdC56SW5kZXggPz8gMDtcbiAgICBtZXNzYWdlLmhUZXh0QWxpZ24gPSBvYmplY3QuaFRleHRBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudlRleHRBbGlnbiA9IG9iamVjdC52VGV4dEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS53aWR0aCA9IG9iamVjdC53aWR0aCA/PyAwO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IG9iamVjdC5wYWRkaW5nVG9wID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgPSBvYmplY3QucGFkZGluZ1JpZ2h0ID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tID0gb2JqZWN0LnBhZGRpbmdCb3R0b20gPz8gMDtcbiAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gb2JqZWN0LnBhZGRpbmdMZWZ0ID8/IDA7XG4gICAgbWVzc2FnZS5pc1BpY2thYmxlID0gb2JqZWN0LmlzUGlja2FibGUgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5iaWxsYm9hcmQgPSBvYmplY3QuYmlsbGJvYXJkID8/IGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVGV4dHVyZSgpOiBQQlRleHR1cmUge1xuICByZXR1cm4geyBzcmM6IFwiXCIsIHNhbXBsaW5nTW9kZTogMCwgd3JhcDogMCwgaGFzQWxwaGE6IGZhbHNlIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlRleHR1cmUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlRleHR1cmUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5zcmMgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNyYyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNhbXBsaW5nTW9kZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5zYW1wbGluZ01vZGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53cmFwICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLndyYXApO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNBbHBoYSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzMikuYm9vbChtZXNzYWdlLmhhc0FscGhhKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlRleHR1cmUge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUZXh0dXJlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2Uuc2FtcGxpbmdNb2RlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLndyYXAgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2UuaGFzQWxwaGEgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlRleHR1cmUge1xuICAgIHJldHVybiB7XG4gICAgICBzcmM6IGlzU2V0KG9iamVjdC5zcmMpID8gU3RyaW5nKG9iamVjdC5zcmMpIDogXCJcIixcbiAgICAgIHNhbXBsaW5nTW9kZTogaXNTZXQob2JqZWN0LnNhbXBsaW5nTW9kZSkgPyBOdW1iZXIob2JqZWN0LnNhbXBsaW5nTW9kZSkgOiAwLFxuICAgICAgd3JhcDogaXNTZXQob2JqZWN0LndyYXApID8gTnVtYmVyKG9iamVjdC53cmFwKSA6IDAsXG4gICAgICBoYXNBbHBoYTogaXNTZXQob2JqZWN0Lmhhc0FscGhhKSA/IEJvb2xlYW4ob2JqZWN0Lmhhc0FscGhhKSA6IGZhbHNlLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCVGV4dHVyZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5zcmMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNyYyA9IG1lc3NhZ2Uuc3JjKTtcbiAgICBtZXNzYWdlLnNhbXBsaW5nTW9kZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2FtcGxpbmdNb2RlID0gbWVzc2FnZS5zYW1wbGluZ01vZGUpO1xuICAgIG1lc3NhZ2Uud3JhcCAhPT0gdW5kZWZpbmVkICYmIChvYmoud3JhcCA9IG1lc3NhZ2Uud3JhcCk7XG4gICAgbWVzc2FnZS5oYXNBbHBoYSAhPT0gdW5kZWZpbmVkICYmIChvYmouaGFzQWxwaGEgPSBtZXNzYWdlLmhhc0FscGhhKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlRleHR1cmU+LCBJPj4ob2JqZWN0OiBJKTogUEJUZXh0dXJlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVGV4dHVyZSgpO1xuICAgIG1lc3NhZ2Uuc3JjID0gb2JqZWN0LnNyYyA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uuc2FtcGxpbmdNb2RlID0gb2JqZWN0LnNhbXBsaW5nTW9kZSA/PyAwO1xuICAgIG1lc3NhZ2Uud3JhcCA9IG9iamVjdC53cmFwID8/IDA7XG4gICAgbWVzc2FnZS5oYXNBbHBoYSA9IG9iamVjdC5oYXNBbHBoYSA/PyBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVJQnV0dG9uKCk6IFBCVUlCdXR0b24ge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwiXCIsXG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgb3BhY2l0eTogMCxcbiAgICBoQWxpZ246IFwiXCIsXG4gICAgdkFsaWduOiBcIlwiLFxuICAgIHdpZHRoOiBcIlwiLFxuICAgIGhlaWdodDogXCJcIixcbiAgICBwb3NpdGlvblg6IFwiXCIsXG4gICAgcG9zaXRpb25ZOiBcIlwiLFxuICAgIGlzUG9pbnRlckJsb2NrZXI6IGZhbHNlLFxuICAgIHBhcmVudDogdW5kZWZpbmVkLFxuICAgIGZvbnRTaXplOiAwLFxuICAgIGZvbnRXZWlnaHQ6IFwiXCIsXG4gICAgdGhpY2tuZXNzOiAwLFxuICAgIGNvcm5lclJhZGl1czogMCxcbiAgICBjb2xvcjogdW5kZWZpbmVkLFxuICAgIGJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICBwYWRkaW5nVG9wOiAwLFxuICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgIHBhZGRpbmdMZWZ0OiAwLFxuICAgIHNoYWRvd0JsdXI6IDAsXG4gICAgc2hhZG93T2Zmc2V0WDogMCxcbiAgICBzaGFkb3dPZmZzZXRZOiAwLFxuICAgIHNoYWRvd0NvbG9yOiB1bmRlZmluZWQsXG4gICAgdGV4dDogXCJcIixcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCVUlCdXR0b24gPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlVJQnV0dG9uLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3BhY2l0eSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5vcGFjaXR5KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaEFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5oQWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52QWxpZ24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLnZBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUwKS5zdHJpbmcobWVzc2FnZS53aWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1OCkuc3RyaW5nKG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25YICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDY2KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wb3NpdGlvblkgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNzQpLnN0cmluZyhtZXNzYWdlLnBvc2l0aW9uWSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoODApLmJvb2wobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCVUlTaGFwZS5lbmNvZGUobWVzc2FnZS5wYXJlbnQsIHdyaXRlci51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwMSkuZmxvYXQobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZvbnRXZWlnaHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTA2KS5zdHJpbmcobWVzc2FnZS5mb250V2VpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGhpY2tuZXNzICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDExNykuZmxvYXQobWVzc2FnZS50aGlja25lc3MpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb3JuZXJSYWRpdXMgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTI1KS5mbG9hdChtZXNzYWdlLmNvcm5lclJhZGl1cyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDEzMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYmFja2dyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yNC5lbmNvZGUobWVzc2FnZS5iYWNrZ3JvdW5kLCB3cml0ZXIudWludDMyKDEzOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNDkpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNTcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNjUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE3MykuZmxvYXQobWVzc2FnZS5wYWRkaW5nTGVmdCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgxKS5mbG9hdChtZXNzYWdlLnNoYWRvd0JsdXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4OSkuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOTcpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDIwMikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGV4dCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMTApLnN0cmluZyhtZXNzYWdlLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCVUlCdXR0b24ge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSUJ1dHRvbigpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5oQWxpZ24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnZBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25YID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLnBhcmVudCA9IFBCVUlTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBtZXNzYWdlLmZvbnRXZWlnaHQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgbWVzc2FnZS50aGlja25lc3MgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBtZXNzYWdlLmNvcm5lclJhZGl1cyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIG1lc3NhZ2UuYmFja2dyb3VuZCA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dCbHVyID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRZID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dDb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJQnV0dG9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogaXNTZXQob2JqZWN0Lm5hbWUpID8gU3RyaW5nKG9iamVjdC5uYW1lKSA6IFwiXCIsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgb3BhY2l0eTogaXNTZXQob2JqZWN0Lm9wYWNpdHkpID8gTnVtYmVyKG9iamVjdC5vcGFjaXR5KSA6IDAsXG4gICAgICBoQWxpZ246IGlzU2V0KG9iamVjdC5oQWxpZ24pID8gU3RyaW5nKG9iamVjdC5oQWxpZ24pIDogXCJcIixcbiAgICAgIHZBbGlnbjogaXNTZXQob2JqZWN0LnZBbGlnbikgPyBTdHJpbmcob2JqZWN0LnZBbGlnbikgOiBcIlwiLFxuICAgICAgd2lkdGg6IGlzU2V0KG9iamVjdC53aWR0aCkgPyBTdHJpbmcob2JqZWN0LndpZHRoKSA6IFwiXCIsXG4gICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWDogaXNTZXQob2JqZWN0LnBvc2l0aW9uWCkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWCkgOiBcIlwiLFxuICAgICAgcG9zaXRpb25ZOiBpc1NldChvYmplY3QucG9zaXRpb25ZKSA/IFN0cmluZyhvYmplY3QucG9zaXRpb25ZKSA6IFwiXCIsXG4gICAgICBpc1BvaW50ZXJCbG9ja2VyOiBpc1NldChvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgPyBCb29sZWFuKG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyKSA6IGZhbHNlLFxuICAgICAgcGFyZW50OiBpc1NldChvYmplY3QucGFyZW50KSA/IFBCVUlTaGFwZS5mcm9tSlNPTihvYmplY3QucGFyZW50KSA6IHVuZGVmaW5lZCxcbiAgICAgIGZvbnRTaXplOiBpc1NldChvYmplY3QuZm9udFNpemUpID8gTnVtYmVyKG9iamVjdC5mb250U2l6ZSkgOiAwLFxuICAgICAgZm9udFdlaWdodDogaXNTZXQob2JqZWN0LmZvbnRXZWlnaHQpID8gU3RyaW5nKG9iamVjdC5mb250V2VpZ2h0KSA6IFwiXCIsXG4gICAgICB0aGlja25lc3M6IGlzU2V0KG9iamVjdC50aGlja25lc3MpID8gTnVtYmVyKG9iamVjdC50aGlja25lc3MpIDogMCxcbiAgICAgIGNvcm5lclJhZGl1czogaXNTZXQob2JqZWN0LmNvcm5lclJhZGl1cykgPyBOdW1iZXIob2JqZWN0LmNvcm5lclJhZGl1cykgOiAwLFxuICAgICAgY29sb3I6IGlzU2V0KG9iamVjdC5jb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3QuY29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgYmFja2dyb3VuZDogaXNTZXQob2JqZWN0LmJhY2tncm91bmQpID8gUEJDb2xvcjQuZnJvbUpTT04ob2JqZWN0LmJhY2tncm91bmQpIDogdW5kZWZpbmVkLFxuICAgICAgcGFkZGluZ1RvcDogaXNTZXQob2JqZWN0LnBhZGRpbmdUb3ApID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nVG9wKSA6IDAsXG4gICAgICBwYWRkaW5nUmlnaHQ6IGlzU2V0KG9iamVjdC5wYWRkaW5nUmlnaHQpID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nUmlnaHQpIDogMCxcbiAgICAgIHBhZGRpbmdCb3R0b206IGlzU2V0KG9iamVjdC5wYWRkaW5nQm90dG9tKSA/IE51bWJlcihvYmplY3QucGFkZGluZ0JvdHRvbSkgOiAwLFxuICAgICAgcGFkZGluZ0xlZnQ6IGlzU2V0KG9iamVjdC5wYWRkaW5nTGVmdCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdMZWZ0KSA6IDAsXG4gICAgICBzaGFkb3dCbHVyOiBpc1NldChvYmplY3Quc2hhZG93Qmx1cikgPyBOdW1iZXIob2JqZWN0LnNoYWRvd0JsdXIpIDogMCxcbiAgICAgIHNoYWRvd09mZnNldFg6IGlzU2V0KG9iamVjdC5zaGFkb3dPZmZzZXRYKSA/IE51bWJlcihvYmplY3Quc2hhZG93T2Zmc2V0WCkgOiAwLFxuICAgICAgc2hhZG93T2Zmc2V0WTogaXNTZXQob2JqZWN0LnNoYWRvd09mZnNldFkpID8gTnVtYmVyKG9iamVjdC5zaGFkb3dPZmZzZXRZKSA6IDAsXG4gICAgICBzaGFkb3dDb2xvcjogaXNTZXQob2JqZWN0LnNoYWRvd0NvbG9yKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5zaGFkb3dDb2xvcikgOiB1bmRlZmluZWQsXG4gICAgICB0ZXh0OiBpc1NldChvYmplY3QudGV4dCkgPyBTdHJpbmcob2JqZWN0LnRleHQpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVJQnV0dG9uKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgbWVzc2FnZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5vcGFjaXR5ID0gbWVzc2FnZS5vcGFjaXR5KTtcbiAgICBtZXNzYWdlLmhBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmouaEFsaWduID0gbWVzc2FnZS5oQWxpZ24pO1xuICAgIG1lc3NhZ2UudkFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai52QWxpZ24gPSBtZXNzYWdlLnZBbGlnbik7XG4gICAgbWVzc2FnZS53aWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2lkdGggPSBtZXNzYWdlLndpZHRoKTtcbiAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblggPSBtZXNzYWdlLnBvc2l0aW9uWCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvblkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uWSA9IG1lc3NhZ2UucG9zaXRpb25ZKTtcbiAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlzUG9pbnRlckJsb2NrZXIgPSBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIpO1xuICAgIG1lc3NhZ2UucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXJlbnQgPSBtZXNzYWdlLnBhcmVudCA/IFBCVUlTaGFwZS50b0pTT04obWVzc2FnZS5wYXJlbnQpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQgJiYgKG9iai5mb250U2l6ZSA9IG1lc3NhZ2UuZm9udFNpemUpO1xuICAgIG1lc3NhZ2UuZm9udFdlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouZm9udFdlaWdodCA9IG1lc3NhZ2UuZm9udFdlaWdodCk7XG4gICAgbWVzc2FnZS50aGlja25lc3MgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRoaWNrbmVzcyA9IG1lc3NhZ2UudGhpY2tuZXNzKTtcbiAgICBtZXNzYWdlLmNvcm5lclJhZGl1cyAhPT0gdW5kZWZpbmVkICYmIChvYmouY29ybmVyUmFkaXVzID0gbWVzc2FnZS5jb3JuZXJSYWRpdXMpO1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouYmFja2dyb3VuZCA9IG1lc3NhZ2UuYmFja2dyb3VuZCA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLmJhY2tncm91bmQpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdUb3AgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZGRpbmdUb3AgPSBtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nUmlnaHQgPSBtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nQm90dG9tID0gbWVzc2FnZS5wYWRkaW5nQm90dG9tKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nTGVmdCA9IG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2hhZG93Qmx1ciA9IG1lc3NhZ2Uuc2hhZG93Qmx1cik7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaGFkb3dPZmZzZXRYID0gbWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNoYWRvd09mZnNldFkgPSBtZXNzYWdlLnNoYWRvd09mZnNldFkpO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5zaGFkb3dDb2xvciA9IG1lc3NhZ2Uuc2hhZG93Q29sb3IgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5zaGFkb3dDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UudGV4dCAhPT0gdW5kZWZpbmVkICYmIChvYmoudGV4dCA9IG1lc3NhZ2UudGV4dCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVSUJ1dHRvbj4sIEk+PihvYmplY3Q6IEkpOiBQQlVJQnV0dG9uIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlCdXR0b24oKTtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSA9IG9iamVjdC5vcGFjaXR5ID8/IDA7XG4gICAgbWVzc2FnZS5oQWxpZ24gPSBvYmplY3QuaEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS52QWxpZ24gPSBvYmplY3QudkFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS53aWR0aCA9IG9iamVjdC53aWR0aCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YID0gb2JqZWN0LnBvc2l0aW9uWCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZID0gb2JqZWN0LnBvc2l0aW9uWSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9IG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGFyZW50ID0gKG9iamVjdC5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFyZW50ICE9PSBudWxsKVxuICAgICAgPyBQQlVJU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmVudClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuZm9udFNpemUgPSBvYmplY3QuZm9udFNpemUgPz8gMDtcbiAgICBtZXNzYWdlLmZvbnRXZWlnaHQgPSBvYmplY3QuZm9udFdlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudGhpY2tuZXNzID0gb2JqZWN0LnRoaWNrbmVzcyA/PyAwO1xuICAgIG1lc3NhZ2UuY29ybmVyUmFkaXVzID0gb2JqZWN0LmNvcm5lclJhZGl1cyA/PyAwO1xuICAgIG1lc3NhZ2UuY29sb3IgPSAob2JqZWN0LmNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3QuY29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmJhY2tncm91bmQgPSAob2JqZWN0LmJhY2tncm91bmQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYmFja2dyb3VuZCAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmJhY2tncm91bmQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSBvYmplY3QucGFkZGluZ1RvcCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gb2JqZWN0LnBhZGRpbmdSaWdodCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IG9iamVjdC5wYWRkaW5nQm90dG9tID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nTGVmdCA9IG9iamVjdC5wYWRkaW5nTGVmdCA/PyAwO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IG9iamVjdC5zaGFkb3dCbHVyID8/IDA7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gb2JqZWN0LnNoYWRvd09mZnNldFggPz8gMDtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgPSBvYmplY3Quc2hhZG93T2Zmc2V0WSA/PyAwO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgPSAob2JqZWN0LnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNoYWRvd0NvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3Quc2hhZG93Q29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnRleHQgPSBvYmplY3QudGV4dCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVUlDYW52YXMoKTogUEJVSUNhbnZhcyB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJcIixcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBvcGFjaXR5OiAwLFxuICAgIGhBbGlnbjogXCJcIixcbiAgICB2QWxpZ246IFwiXCIsXG4gICAgd2lkdGg6IFwiXCIsXG4gICAgaGVpZ2h0OiBcIlwiLFxuICAgIHBvc2l0aW9uWDogXCJcIixcbiAgICBwb3NpdGlvblk6IFwiXCIsXG4gICAgaXNQb2ludGVyQmxvY2tlcjogZmFsc2UsXG4gICAgcGFyZW50OiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVJQ2FudmFzID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJVSUNhbnZhcywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wYWNpdHkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuaEFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudkFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS52QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2Uud2lkdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25ZICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc0KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgwKS5ib29sKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVJU2hhcGUuZW5jb2RlKG1lc3NhZ2UucGFyZW50LCB3cml0ZXIudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCVUlDYW52YXMge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSUNhbnZhcygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5oQWxpZ24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnZBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25YID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLnBhcmVudCA9IFBCVUlTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJQ2FudmFzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogaXNTZXQob2JqZWN0Lm5hbWUpID8gU3RyaW5nKG9iamVjdC5uYW1lKSA6IFwiXCIsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgb3BhY2l0eTogaXNTZXQob2JqZWN0Lm9wYWNpdHkpID8gTnVtYmVyKG9iamVjdC5vcGFjaXR5KSA6IDAsXG4gICAgICBoQWxpZ246IGlzU2V0KG9iamVjdC5oQWxpZ24pID8gU3RyaW5nKG9iamVjdC5oQWxpZ24pIDogXCJcIixcbiAgICAgIHZBbGlnbjogaXNTZXQob2JqZWN0LnZBbGlnbikgPyBTdHJpbmcob2JqZWN0LnZBbGlnbikgOiBcIlwiLFxuICAgICAgd2lkdGg6IGlzU2V0KG9iamVjdC53aWR0aCkgPyBTdHJpbmcob2JqZWN0LndpZHRoKSA6IFwiXCIsXG4gICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWDogaXNTZXQob2JqZWN0LnBvc2l0aW9uWCkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWCkgOiBcIlwiLFxuICAgICAgcG9zaXRpb25ZOiBpc1NldChvYmplY3QucG9zaXRpb25ZKSA/IFN0cmluZyhvYmplY3QucG9zaXRpb25ZKSA6IFwiXCIsXG4gICAgICBpc1BvaW50ZXJCbG9ja2VyOiBpc1NldChvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgPyBCb29sZWFuKG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyKSA6IGZhbHNlLFxuICAgICAgcGFyZW50OiBpc1NldChvYmplY3QucGFyZW50KSA/IFBCVUlTaGFwZS5mcm9tSlNPTihvYmplY3QucGFyZW50KSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVJQ2FudmFzKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgbWVzc2FnZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5vcGFjaXR5ID0gbWVzc2FnZS5vcGFjaXR5KTtcbiAgICBtZXNzYWdlLmhBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmouaEFsaWduID0gbWVzc2FnZS5oQWxpZ24pO1xuICAgIG1lc3NhZ2UudkFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai52QWxpZ24gPSBtZXNzYWdlLnZBbGlnbik7XG4gICAgbWVzc2FnZS53aWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2lkdGggPSBtZXNzYWdlLndpZHRoKTtcbiAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblggPSBtZXNzYWdlLnBvc2l0aW9uWCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvblkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uWSA9IG1lc3NhZ2UucG9zaXRpb25ZKTtcbiAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlzUG9pbnRlckJsb2NrZXIgPSBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIpO1xuICAgIG1lc3NhZ2UucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXJlbnQgPSBtZXNzYWdlLnBhcmVudCA/IFBCVUlTaGFwZS50b0pTT04obWVzc2FnZS5wYXJlbnQpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlVJQ2FudmFzPiwgST4+KG9iamVjdDogSSk6IFBCVUlDYW52YXMge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSUNhbnZhcygpO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS52aXNpYmxlID0gb2JqZWN0LnZpc2libGUgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5vcGFjaXR5ID0gb2JqZWN0Lm9wYWNpdHkgPz8gMDtcbiAgICBtZXNzYWdlLmhBbGlnbiA9IG9iamVjdC5oQWxpZ24gPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZBbGlnbiA9IG9iamVjdC52QWxpZ24gPz8gXCJcIjtcbiAgICBtZXNzYWdlLndpZHRoID0gb2JqZWN0LndpZHRoID8/IFwiXCI7XG4gICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiXCI7XG4gICAgbWVzc2FnZS5wb3NpdGlvblggPSBvYmplY3QucG9zaXRpb25YID8/IFwiXCI7XG4gICAgbWVzc2FnZS5wb3NpdGlvblkgPSBvYmplY3QucG9zaXRpb25ZID8/IFwiXCI7XG4gICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gb2JqZWN0LmlzUG9pbnRlckJsb2NrZXIgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5wYXJlbnQgPSAob2JqZWN0LnBhcmVudCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXJlbnQgIT09IG51bGwpXG4gICAgICA/IFBCVUlTaGFwZS5mcm9tUGFydGlhbChvYmplY3QucGFyZW50KVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVSUNvbnRhaW5lclJlY3QoKTogUEJVSUNvbnRhaW5lclJlY3Qge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwiXCIsXG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgb3BhY2l0eTogMCxcbiAgICBoQWxpZ246IFwiXCIsXG4gICAgdkFsaWduOiBcIlwiLFxuICAgIHdpZHRoOiBcIlwiLFxuICAgIGhlaWdodDogXCJcIixcbiAgICBwb3NpdGlvblg6IFwiXCIsXG4gICAgcG9zaXRpb25ZOiBcIlwiLFxuICAgIGlzUG9pbnRlckJsb2NrZXI6IGZhbHNlLFxuICAgIHBhcmVudDogdW5kZWZpbmVkLFxuICAgIGFkYXB0V2lkdGg6IGZhbHNlLFxuICAgIGFkYXB0SGVpZ2h0OiBmYWxzZSxcbiAgICB0aGlja25lc3M6IDAsXG4gICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICBhbGlnbm1lbnRVc2VzU2l6ZTogZmFsc2UsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVJQ29udGFpbmVyUmVjdCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCVUlDb250YWluZXJSZWN0LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZpc2libGUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub3BhY2l0eSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5vcGFjaXR5KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaEFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5oQWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52QWxpZ24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLnZBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUwKS5zdHJpbmcobWVzc2FnZS53aWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1OCkuc3RyaW5nKG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25YICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDY2KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wb3NpdGlvblkgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNzQpLnN0cmluZyhtZXNzYWdlLnBvc2l0aW9uWSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoODApLmJvb2wobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCVUlTaGFwZS5lbmNvZGUobWVzc2FnZS5wYXJlbnQsIHdyaXRlci51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFkYXB0V2lkdGggPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoOTYpLmJvb2wobWVzc2FnZS5hZGFwdFdpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYWRhcHRIZWlnaHQgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTA0KS5ib29sKG1lc3NhZ2UuYWRhcHRIZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50aGlja25lc3MgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTE3KS5mbG9hdChtZXNzYWdlLnRoaWNrbmVzcyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDEyMikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYWxpZ25tZW50VXNlc1NpemUgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTI4KS5ib29sKG1lc3NhZ2UuYWxpZ25tZW50VXNlc1NpemUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCVUlDb250YWluZXJSZWN0IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlDb250YWluZXJSZWN0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5vcGFjaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmhBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2UudkFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uWSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50ID0gUEJVSVNoYXBlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5hZGFwdFdpZHRoID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBtZXNzYWdlLnRoaWNrbmVzcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIG1lc3NhZ2UuYWxpZ25tZW50VXNlc1NpemUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJQ29udGFpbmVyUmVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIG9wYWNpdHk6IGlzU2V0KG9iamVjdC5vcGFjaXR5KSA/IE51bWJlcihvYmplY3Qub3BhY2l0eSkgOiAwLFxuICAgICAgaEFsaWduOiBpc1NldChvYmplY3QuaEFsaWduKSA/IFN0cmluZyhvYmplY3QuaEFsaWduKSA6IFwiXCIsXG4gICAgICB2QWxpZ246IGlzU2V0KG9iamVjdC52QWxpZ24pID8gU3RyaW5nKG9iamVjdC52QWxpZ24pIDogXCJcIixcbiAgICAgIHdpZHRoOiBpc1NldChvYmplY3Qud2lkdGgpID8gU3RyaW5nKG9iamVjdC53aWR0aCkgOiBcIlwiLFxuICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiXCIsXG4gICAgICBwb3NpdGlvblg6IGlzU2V0KG9iamVjdC5wb3NpdGlvblgpID8gU3RyaW5nKG9iamVjdC5wb3NpdGlvblgpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWTogaXNTZXQob2JqZWN0LnBvc2l0aW9uWSkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWSkgOiBcIlwiLFxuICAgICAgaXNQb2ludGVyQmxvY2tlcjogaXNTZXQob2JqZWN0LmlzUG9pbnRlckJsb2NrZXIpID8gQm9vbGVhbihvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgOiBmYWxzZSxcbiAgICAgIHBhcmVudDogaXNTZXQob2JqZWN0LnBhcmVudCkgPyBQQlVJU2hhcGUuZnJvbUpTT04ob2JqZWN0LnBhcmVudCkgOiB1bmRlZmluZWQsXG4gICAgICBhZGFwdFdpZHRoOiBpc1NldChvYmplY3QuYWRhcHRXaWR0aCkgPyBCb29sZWFuKG9iamVjdC5hZGFwdFdpZHRoKSA6IGZhbHNlLFxuICAgICAgYWRhcHRIZWlnaHQ6IGlzU2V0KG9iamVjdC5hZGFwdEhlaWdodCkgPyBCb29sZWFuKG9iamVjdC5hZGFwdEhlaWdodCkgOiBmYWxzZSxcbiAgICAgIHRoaWNrbmVzczogaXNTZXQob2JqZWN0LnRoaWNrbmVzcykgPyBOdW1iZXIob2JqZWN0LnRoaWNrbmVzcykgOiAwLFxuICAgICAgY29sb3I6IGlzU2V0KG9iamVjdC5jb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3QuY29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgYWxpZ25tZW50VXNlc1NpemU6IGlzU2V0KG9iamVjdC5hbGlnbm1lbnRVc2VzU2l6ZSkgPyBCb29sZWFuKG9iamVjdC5hbGlnbm1lbnRVc2VzU2l6ZSkgOiBmYWxzZSxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVJQ29udGFpbmVyUmVjdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSAhPT0gdW5kZWZpbmVkICYmIChvYmoub3BhY2l0eSA9IG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgbWVzc2FnZS5oQWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLmhBbGlnbiA9IG1lc3NhZ2UuaEFsaWduKTtcbiAgICBtZXNzYWdlLnZBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudkFsaWduID0gbWVzc2FnZS52QWxpZ24pO1xuICAgIG1lc3NhZ2Uud2lkdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLndpZHRoID0gbWVzc2FnZS53aWR0aCk7XG4gICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWCAhPT0gdW5kZWZpbmVkICYmIChvYmoucG9zaXRpb25YID0gbWVzc2FnZS5wb3NpdGlvblgpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblkgPSBtZXNzYWdlLnBvc2l0aW9uWSk7XG4gICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyICE9PSB1bmRlZmluZWQgJiYgKG9iai5pc1BvaW50ZXJCbG9ja2VyID0gbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyKTtcbiAgICBtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFyZW50ID0gbWVzc2FnZS5wYXJlbnQgPyBQQlVJU2hhcGUudG9KU09OKG1lc3NhZ2UucGFyZW50KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5hZGFwdFdpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGFwdFdpZHRoID0gbWVzc2FnZS5hZGFwdFdpZHRoKTtcbiAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGFwdEhlaWdodCA9IG1lc3NhZ2UuYWRhcHRIZWlnaHQpO1xuICAgIG1lc3NhZ2UudGhpY2tuZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai50aGlja25lc3MgPSBtZXNzYWdlLnRoaWNrbmVzcyk7XG4gICAgbWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkICYmIChvYmouY29sb3IgPSBtZXNzYWdlLmNvbG9yID8gUEJDb2xvcjQudG9KU09OKG1lc3NhZ2UuY29sb3IpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmFsaWdubWVudFVzZXNTaXplICE9PSB1bmRlZmluZWQgJiYgKG9iai5hbGlnbm1lbnRVc2VzU2l6ZSA9IG1lc3NhZ2UuYWxpZ25tZW50VXNlc1NpemUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCVUlDb250YWluZXJSZWN0PiwgST4+KG9iamVjdDogSSk6IFBCVUlDb250YWluZXJSZWN0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlDb250YWluZXJSZWN0KCk7XG4gICAgbWVzc2FnZS5uYW1lID0gb2JqZWN0Lm5hbWUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZpc2libGUgPSBvYmplY3QudmlzaWJsZSA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLm9wYWNpdHkgPSBvYmplY3Qub3BhY2l0eSA/PyAwO1xuICAgIG1lc3NhZ2UuaEFsaWduID0gb2JqZWN0LmhBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudkFsaWduID0gb2JqZWN0LnZBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uud2lkdGggPSBvYmplY3Qud2lkdGggPz8gXCJcIjtcbiAgICBtZXNzYWdlLmhlaWdodCA9IG9iamVjdC5oZWlnaHQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWCA9IG9iamVjdC5wb3NpdGlvblggPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWSA9IG9iamVjdC5wb3NpdGlvblkgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPSBvYmplY3QuaXNQb2ludGVyQmxvY2tlciA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnBhcmVudCA9IChvYmplY3QucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhcmVudCAhPT0gbnVsbClcbiAgICAgID8gUEJVSVNoYXBlLmZyb21QYXJ0aWFsKG9iamVjdC5wYXJlbnQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmFkYXB0V2lkdGggPSBvYmplY3QuYWRhcHRXaWR0aCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ID0gb2JqZWN0LmFkYXB0SGVpZ2h0ID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UudGhpY2tuZXNzID0gb2JqZWN0LnRoaWNrbmVzcyA/PyAwO1xuICAgIG1lc3NhZ2UuY29sb3IgPSAob2JqZWN0LmNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3QuY29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmFsaWdubWVudFVzZXNTaXplID0gb2JqZWN0LmFsaWdubWVudFVzZXNTaXplID8/IGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVUlDb250YWluZXJTdGFjaygpOiBQQlVJQ29udGFpbmVyU3RhY2sge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwiXCIsXG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgb3BhY2l0eTogMCxcbiAgICBoQWxpZ246IFwiXCIsXG4gICAgdkFsaWduOiBcIlwiLFxuICAgIHdpZHRoOiBcIlwiLFxuICAgIGhlaWdodDogXCJcIixcbiAgICBwb3NpdGlvblg6IFwiXCIsXG4gICAgcG9zaXRpb25ZOiBcIlwiLFxuICAgIGlzUG9pbnRlckJsb2NrZXI6IGZhbHNlLFxuICAgIHBhcmVudDogdW5kZWZpbmVkLFxuICAgIGFkYXB0V2lkdGg6IGZhbHNlLFxuICAgIGFkYXB0SGVpZ2h0OiBmYWxzZSxcbiAgICBjb2xvcjogdW5kZWZpbmVkLFxuICAgIHN0YWNrT3JpZW50YXRpb246IDAsXG4gICAgc3BhY2luZzogMCxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFBCVUlDb250YWluZXJTdGFjayA9IHtcbiAgZW5jb2RlKG1lc3NhZ2U6IFBCVUlDb250YWluZXJTdGFjaywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wYWNpdHkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuaEFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudkFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS52QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2Uud2lkdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25ZICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc0KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgwKS5ib29sKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVJU2hhcGUuZW5jb2RlKG1lc3NhZ2UucGFyZW50LCB3cml0ZXIudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hZGFwdFdpZHRoID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDk2KS5ib29sKG1lc3NhZ2UuYWRhcHRXaWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFkYXB0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwNCkuYm9vbChtZXNzYWdlLmFkYXB0SGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zdGFja09yaWVudGF0aW9uICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEyMCkuaW50MzIobWVzc2FnZS5zdGFja09yaWVudGF0aW9uKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3BhY2luZyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMzMpLmZsb2F0KG1lc3NhZ2Uuc3BhY2luZyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJVSUNvbnRhaW5lclN0YWNrIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlDb250YWluZXJTdGFjaygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5oQWxpZ24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnZBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25YID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLnBhcmVudCA9IFBCVUlTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIG1lc3NhZ2UuYWRhcHRXaWR0aCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS5hZGFwdEhlaWdodCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgbWVzc2FnZS5jb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgbWVzc2FnZS5zdGFja09yaWVudGF0aW9uID0gcmVhZGVyLmludDMyKCkgYXMgYW55O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIG1lc3NhZ2Uuc3BhY2luZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJQ29udGFpbmVyU3RhY2sge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICAgIHZpc2libGU6IGlzU2V0KG9iamVjdC52aXNpYmxlKSA/IEJvb2xlYW4ob2JqZWN0LnZpc2libGUpIDogZmFsc2UsXG4gICAgICBvcGFjaXR5OiBpc1NldChvYmplY3Qub3BhY2l0eSkgPyBOdW1iZXIob2JqZWN0Lm9wYWNpdHkpIDogMCxcbiAgICAgIGhBbGlnbjogaXNTZXQob2JqZWN0LmhBbGlnbikgPyBTdHJpbmcob2JqZWN0LmhBbGlnbikgOiBcIlwiLFxuICAgICAgdkFsaWduOiBpc1NldChvYmplY3QudkFsaWduKSA/IFN0cmluZyhvYmplY3QudkFsaWduKSA6IFwiXCIsXG4gICAgICB3aWR0aDogaXNTZXQob2JqZWN0LndpZHRoKSA/IFN0cmluZyhvYmplY3Qud2lkdGgpIDogXCJcIixcbiAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBTdHJpbmcob2JqZWN0LmhlaWdodCkgOiBcIlwiLFxuICAgICAgcG9zaXRpb25YOiBpc1NldChvYmplY3QucG9zaXRpb25YKSA/IFN0cmluZyhvYmplY3QucG9zaXRpb25YKSA6IFwiXCIsXG4gICAgICBwb3NpdGlvblk6IGlzU2V0KG9iamVjdC5wb3NpdGlvblkpID8gU3RyaW5nKG9iamVjdC5wb3NpdGlvblkpIDogXCJcIixcbiAgICAgIGlzUG9pbnRlckJsb2NrZXI6IGlzU2V0KG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyKSA/IEJvb2xlYW4ob2JqZWN0LmlzUG9pbnRlckJsb2NrZXIpIDogZmFsc2UsXG4gICAgICBwYXJlbnQ6IGlzU2V0KG9iamVjdC5wYXJlbnQpID8gUEJVSVNoYXBlLmZyb21KU09OKG9iamVjdC5wYXJlbnQpIDogdW5kZWZpbmVkLFxuICAgICAgYWRhcHRXaWR0aDogaXNTZXQob2JqZWN0LmFkYXB0V2lkdGgpID8gQm9vbGVhbihvYmplY3QuYWRhcHRXaWR0aCkgOiBmYWxzZSxcbiAgICAgIGFkYXB0SGVpZ2h0OiBpc1NldChvYmplY3QuYWRhcHRIZWlnaHQpID8gQm9vbGVhbihvYmplY3QuYWRhcHRIZWlnaHQpIDogZmFsc2UsXG4gICAgICBjb2xvcjogaXNTZXQob2JqZWN0LmNvbG9yKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5jb2xvcikgOiB1bmRlZmluZWQsXG4gICAgICBzdGFja09yaWVudGF0aW9uOiBpc1NldChvYmplY3Quc3RhY2tPcmllbnRhdGlvbikgPyBwQlVJU3RhY2tPcmllbnRhdGlvbkZyb21KU09OKG9iamVjdC5zdGFja09yaWVudGF0aW9uKSA6IDAsXG4gICAgICBzcGFjaW5nOiBpc1NldChvYmplY3Quc3BhY2luZykgPyBOdW1iZXIob2JqZWN0LnNwYWNpbmcpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVJQ29udGFpbmVyU3RhY2spOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFtZSA9IG1lc3NhZ2UubmFtZSk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICBtZXNzYWdlLm9wYWNpdHkgIT09IHVuZGVmaW5lZCAmJiAob2JqLm9wYWNpdHkgPSBtZXNzYWdlLm9wYWNpdHkpO1xuICAgIG1lc3NhZ2UuaEFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai5oQWxpZ24gPSBtZXNzYWdlLmhBbGlnbik7XG4gICAgbWVzc2FnZS52QWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZBbGlnbiA9IG1lc3NhZ2UudkFsaWduKTtcbiAgICBtZXNzYWdlLndpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai53aWR0aCA9IG1lc3NhZ2Uud2lkdGgpO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5oZWlnaHQgPSBtZXNzYWdlLmhlaWdodCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvblggIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uWCA9IG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWSAhPT0gdW5kZWZpbmVkICYmIChvYmoucG9zaXRpb25ZID0gbWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNQb2ludGVyQmxvY2tlciA9IG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgbWVzc2FnZS5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhcmVudCA9IG1lc3NhZ2UucGFyZW50ID8gUEJVSVNoYXBlLnRvSlNPTihtZXNzYWdlLnBhcmVudCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuYWRhcHRXaWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmouYWRhcHRXaWR0aCA9IG1lc3NhZ2UuYWRhcHRXaWR0aCk7XG4gICAgbWVzc2FnZS5hZGFwdEhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouYWRhcHRIZWlnaHQgPSBtZXNzYWdlLmFkYXB0SGVpZ2h0KTtcbiAgICBtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb2xvciA9IG1lc3NhZ2UuY29sb3IgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5jb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uuc3RhY2tPcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnN0YWNrT3JpZW50YXRpb24gPSBwQlVJU3RhY2tPcmllbnRhdGlvblRvSlNPTihtZXNzYWdlLnN0YWNrT3JpZW50YXRpb24pKTtcbiAgICBtZXNzYWdlLnNwYWNpbmcgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNwYWNpbmcgPSBtZXNzYWdlLnNwYWNpbmcpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCVUlDb250YWluZXJTdGFjaz4sIEk+PihvYmplY3Q6IEkpOiBQQlVJQ29udGFpbmVyU3RhY2sge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSUNvbnRhaW5lclN0YWNrKCk7XG4gICAgbWVzc2FnZS5uYW1lID0gb2JqZWN0Lm5hbWUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZpc2libGUgPSBvYmplY3QudmlzaWJsZSA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLm9wYWNpdHkgPSBvYmplY3Qub3BhY2l0eSA/PyAwO1xuICAgIG1lc3NhZ2UuaEFsaWduID0gb2JqZWN0LmhBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudkFsaWduID0gb2JqZWN0LnZBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2Uud2lkdGggPSBvYmplY3Qud2lkdGggPz8gXCJcIjtcbiAgICBtZXNzYWdlLmhlaWdodCA9IG9iamVjdC5oZWlnaHQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWCA9IG9iamVjdC5wb3NpdGlvblggPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWSA9IG9iamVjdC5wb3NpdGlvblkgPz8gXCJcIjtcbiAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPSBvYmplY3QuaXNQb2ludGVyQmxvY2tlciA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnBhcmVudCA9IChvYmplY3QucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhcmVudCAhPT0gbnVsbClcbiAgICAgID8gUEJVSVNoYXBlLmZyb21QYXJ0aWFsKG9iamVjdC5wYXJlbnQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmFkYXB0V2lkdGggPSBvYmplY3QuYWRhcHRXaWR0aCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ID0gb2JqZWN0LmFkYXB0SGVpZ2h0ID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UuY29sb3IgPSAob2JqZWN0LmNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3QuY29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnN0YWNrT3JpZW50YXRpb24gPSBvYmplY3Quc3RhY2tPcmllbnRhdGlvbiA/PyAwO1xuICAgIG1lc3NhZ2Uuc3BhY2luZyA9IG9iamVjdC5zcGFjaW5nID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVSUltYWdlKCk6IFBCVUlJbWFnZSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJcIixcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBvcGFjaXR5OiAwLFxuICAgIGhBbGlnbjogXCJcIixcbiAgICB2QWxpZ246IFwiXCIsXG4gICAgd2lkdGg6IFwiXCIsXG4gICAgaGVpZ2h0OiBcIlwiLFxuICAgIHBvc2l0aW9uWDogXCJcIixcbiAgICBwb3NpdGlvblk6IFwiXCIsXG4gICAgaXNQb2ludGVyQmxvY2tlcjogZmFsc2UsXG4gICAgcGFyZW50OiB1bmRlZmluZWQsXG4gICAgc291cmNlTGVmdDogMCxcbiAgICBzb3VyY2VUb3A6IDAsXG4gICAgc291cmNlV2lkdGg6IDAsXG4gICAgc291cmNlSGVpZ2h0OiAwLFxuICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgcGFkZGluZ1JpZ2h0OiAwLFxuICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgcGFkZGluZ0xlZnQ6IDAsXG4gICAgc2l6ZUluUGl4ZWxzOiBmYWxzZSxcbiAgICBvbkNsaWNrOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVJSW1hZ2UgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlVJSW1hZ2UsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmlzaWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnZpc2libGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vcGFjaXR5ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLm9wYWNpdHkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oQWxpZ24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmhBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2UudkFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uud2lkdGggIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLndpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5oZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wb3NpdGlvblggIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNjYpLnN0cmluZyhtZXNzYWdlLnBvc2l0aW9uWCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig3NCkuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25ZKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4MCkuYm9vbChtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJVSVNoYXBlLmVuY29kZShtZXNzYWdlLnBhcmVudCwgd3JpdGVyLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc291cmNlTGVmdCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMDEpLmZsb2F0KG1lc3NhZ2Uuc291cmNlTGVmdCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNvdXJjZVRvcCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMDkpLmZsb2F0KG1lc3NhZ2Uuc291cmNlVG9wKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc291cmNlV2lkdGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTE3KS5mbG9hdChtZXNzYWdlLnNvdXJjZVdpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc291cmNlSGVpZ2h0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEyNSkuZmxvYXQobWVzc2FnZS5zb3VyY2VIZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJUZXh0dXJlLmVuY29kZShtZXNzYWdlLnNvdXJjZSwgd3JpdGVyLnVpbnQzMigxMzApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3AgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTQxKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nUmlnaHQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTQ5KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTU3KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNjUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaXplSW5QaXhlbHMgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTY4KS5ib29sKG1lc3NhZ2Uuc2l6ZUluUGl4ZWxzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub25DbGljayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVVSURDYWxsYmFjay5lbmNvZGUobWVzc2FnZS5vbkNsaWNrLCB3cml0ZXIudWludDMyKDE3OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlVJSW1hZ2Uge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSUltYWdlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5vcGFjaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmhBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2UudkFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uWSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50ID0gUEJVSVNoYXBlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5zb3VyY2VMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS5zb3VyY2VUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBtZXNzYWdlLnNvdXJjZVdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgbWVzc2FnZS5zb3VyY2VIZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBtZXNzYWdlLnNvdXJjZSA9IFBCVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nTGVmdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIG1lc3NhZ2Uuc2l6ZUluUGl4ZWxzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBtZXNzYWdlLm9uQ2xpY2sgPSBQQlVVSURDYWxsYmFjay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJSW1hZ2Uge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICAgIHZpc2libGU6IGlzU2V0KG9iamVjdC52aXNpYmxlKSA/IEJvb2xlYW4ob2JqZWN0LnZpc2libGUpIDogZmFsc2UsXG4gICAgICBvcGFjaXR5OiBpc1NldChvYmplY3Qub3BhY2l0eSkgPyBOdW1iZXIob2JqZWN0Lm9wYWNpdHkpIDogMCxcbiAgICAgIGhBbGlnbjogaXNTZXQob2JqZWN0LmhBbGlnbikgPyBTdHJpbmcob2JqZWN0LmhBbGlnbikgOiBcIlwiLFxuICAgICAgdkFsaWduOiBpc1NldChvYmplY3QudkFsaWduKSA/IFN0cmluZyhvYmplY3QudkFsaWduKSA6IFwiXCIsXG4gICAgICB3aWR0aDogaXNTZXQob2JqZWN0LndpZHRoKSA/IFN0cmluZyhvYmplY3Qud2lkdGgpIDogXCJcIixcbiAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBTdHJpbmcob2JqZWN0LmhlaWdodCkgOiBcIlwiLFxuICAgICAgcG9zaXRpb25YOiBpc1NldChvYmplY3QucG9zaXRpb25YKSA/IFN0cmluZyhvYmplY3QucG9zaXRpb25YKSA6IFwiXCIsXG4gICAgICBwb3NpdGlvblk6IGlzU2V0KG9iamVjdC5wb3NpdGlvblkpID8gU3RyaW5nKG9iamVjdC5wb3NpdGlvblkpIDogXCJcIixcbiAgICAgIGlzUG9pbnRlckJsb2NrZXI6IGlzU2V0KG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyKSA/IEJvb2xlYW4ob2JqZWN0LmlzUG9pbnRlckJsb2NrZXIpIDogZmFsc2UsXG4gICAgICBwYXJlbnQ6IGlzU2V0KG9iamVjdC5wYXJlbnQpID8gUEJVSVNoYXBlLmZyb21KU09OKG9iamVjdC5wYXJlbnQpIDogdW5kZWZpbmVkLFxuICAgICAgc291cmNlTGVmdDogaXNTZXQob2JqZWN0LnNvdXJjZUxlZnQpID8gTnVtYmVyKG9iamVjdC5zb3VyY2VMZWZ0KSA6IDAsXG4gICAgICBzb3VyY2VUb3A6IGlzU2V0KG9iamVjdC5zb3VyY2VUb3ApID8gTnVtYmVyKG9iamVjdC5zb3VyY2VUb3ApIDogMCxcbiAgICAgIHNvdXJjZVdpZHRoOiBpc1NldChvYmplY3Quc291cmNlV2lkdGgpID8gTnVtYmVyKG9iamVjdC5zb3VyY2VXaWR0aCkgOiAwLFxuICAgICAgc291cmNlSGVpZ2h0OiBpc1NldChvYmplY3Quc291cmNlSGVpZ2h0KSA/IE51bWJlcihvYmplY3Quc291cmNlSGVpZ2h0KSA6IDAsXG4gICAgICBzb3VyY2U6IGlzU2V0KG9iamVjdC5zb3VyY2UpID8gUEJUZXh0dXJlLmZyb21KU09OKG9iamVjdC5zb3VyY2UpIDogdW5kZWZpbmVkLFxuICAgICAgcGFkZGluZ1RvcDogaXNTZXQob2JqZWN0LnBhZGRpbmdUb3ApID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nVG9wKSA6IDAsXG4gICAgICBwYWRkaW5nUmlnaHQ6IGlzU2V0KG9iamVjdC5wYWRkaW5nUmlnaHQpID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nUmlnaHQpIDogMCxcbiAgICAgIHBhZGRpbmdCb3R0b206IGlzU2V0KG9iamVjdC5wYWRkaW5nQm90dG9tKSA/IE51bWJlcihvYmplY3QucGFkZGluZ0JvdHRvbSkgOiAwLFxuICAgICAgcGFkZGluZ0xlZnQ6IGlzU2V0KG9iamVjdC5wYWRkaW5nTGVmdCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdMZWZ0KSA6IDAsXG4gICAgICBzaXplSW5QaXhlbHM6IGlzU2V0KG9iamVjdC5zaXplSW5QaXhlbHMpID8gQm9vbGVhbihvYmplY3Quc2l6ZUluUGl4ZWxzKSA6IGZhbHNlLFxuICAgICAgb25DbGljazogaXNTZXQob2JqZWN0Lm9uQ2xpY2spID8gUEJVVUlEQ2FsbGJhY2suZnJvbUpTT04ob2JqZWN0Lm9uQ2xpY2spIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCVUlJbWFnZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSAhPT0gdW5kZWZpbmVkICYmIChvYmoub3BhY2l0eSA9IG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgbWVzc2FnZS5oQWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLmhBbGlnbiA9IG1lc3NhZ2UuaEFsaWduKTtcbiAgICBtZXNzYWdlLnZBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudkFsaWduID0gbWVzc2FnZS52QWxpZ24pO1xuICAgIG1lc3NhZ2Uud2lkdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLndpZHRoID0gbWVzc2FnZS53aWR0aCk7XG4gICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWCAhPT0gdW5kZWZpbmVkICYmIChvYmoucG9zaXRpb25YID0gbWVzc2FnZS5wb3NpdGlvblgpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblkgPSBtZXNzYWdlLnBvc2l0aW9uWSk7XG4gICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyICE9PSB1bmRlZmluZWQgJiYgKG9iai5pc1BvaW50ZXJCbG9ja2VyID0gbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyKTtcbiAgICBtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFyZW50ID0gbWVzc2FnZS5wYXJlbnQgPyBQQlVJU2hhcGUudG9KU09OKG1lc3NhZ2UucGFyZW50KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5zb3VyY2VMZWZ0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5zb3VyY2VMZWZ0ID0gbWVzc2FnZS5zb3VyY2VMZWZ0KTtcbiAgICBtZXNzYWdlLnNvdXJjZVRvcCAhPT0gdW5kZWZpbmVkICYmIChvYmouc291cmNlVG9wID0gbWVzc2FnZS5zb3VyY2VUb3ApO1xuICAgIG1lc3NhZ2Uuc291cmNlV2lkdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLnNvdXJjZVdpZHRoID0gbWVzc2FnZS5zb3VyY2VXaWR0aCk7XG4gICAgbWVzc2FnZS5zb3VyY2VIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNvdXJjZUhlaWdodCA9IG1lc3NhZ2Uuc291cmNlSGVpZ2h0KTtcbiAgICBtZXNzYWdlLnNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc291cmNlID0gbWVzc2FnZS5zb3VyY2UgPyBQQlRleHR1cmUudG9KU09OKG1lc3NhZ2Uuc291cmNlKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nVG9wICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nVG9wID0gbWVzc2FnZS5wYWRkaW5nVG9wKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ1JpZ2h0ID0gbWVzc2FnZS5wYWRkaW5nUmlnaHQpO1xuICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ0JvdHRvbSA9IG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgbWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ0xlZnQgPSBtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICBtZXNzYWdlLnNpemVJblBpeGVscyAhPT0gdW5kZWZpbmVkICYmIChvYmouc2l6ZUluUGl4ZWxzID0gbWVzc2FnZS5zaXplSW5QaXhlbHMpO1xuICAgIG1lc3NhZ2Uub25DbGljayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLm9uQ2xpY2sgPSBtZXNzYWdlLm9uQ2xpY2sgPyBQQlVVSURDYWxsYmFjay50b0pTT04obWVzc2FnZS5vbkNsaWNrKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVSUltYWdlPiwgST4+KG9iamVjdDogSSk6IFBCVUlJbWFnZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVJSW1hZ2UoKTtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSA9IG9iamVjdC5vcGFjaXR5ID8/IDA7XG4gICAgbWVzc2FnZS5oQWxpZ24gPSBvYmplY3QuaEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS52QWxpZ24gPSBvYmplY3QudkFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS53aWR0aCA9IG9iamVjdC53aWR0aCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YID0gb2JqZWN0LnBvc2l0aW9uWCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZID0gb2JqZWN0LnBvc2l0aW9uWSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9IG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGFyZW50ID0gKG9iamVjdC5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFyZW50ICE9PSBudWxsKVxuICAgICAgPyBQQlVJU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmVudClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uuc291cmNlTGVmdCA9IG9iamVjdC5zb3VyY2VMZWZ0ID8/IDA7XG4gICAgbWVzc2FnZS5zb3VyY2VUb3AgPSBvYmplY3Quc291cmNlVG9wID8/IDA7XG4gICAgbWVzc2FnZS5zb3VyY2VXaWR0aCA9IG9iamVjdC5zb3VyY2VXaWR0aCA/PyAwO1xuICAgIG1lc3NhZ2Uuc291cmNlSGVpZ2h0ID0gb2JqZWN0LnNvdXJjZUhlaWdodCA/PyAwO1xuICAgIG1lc3NhZ2Uuc291cmNlID0gKG9iamVjdC5zb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc291cmNlICE9PSBudWxsKVxuICAgICAgPyBQQlRleHR1cmUuZnJvbVBhcnRpYWwob2JqZWN0LnNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IG9iamVjdC5wYWRkaW5nVG9wID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgPSBvYmplY3QucGFkZGluZ1JpZ2h0ID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tID0gb2JqZWN0LnBhZGRpbmdCb3R0b20gPz8gMDtcbiAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gb2JqZWN0LnBhZGRpbmdMZWZ0ID8/IDA7XG4gICAgbWVzc2FnZS5zaXplSW5QaXhlbHMgPSBvYmplY3Quc2l6ZUluUGl4ZWxzID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uub25DbGljayA9IChvYmplY3Qub25DbGljayAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5vbkNsaWNrICE9PSBudWxsKVxuICAgICAgPyBQQlVVSURDYWxsYmFjay5mcm9tUGFydGlhbChvYmplY3Qub25DbGljaylcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVVVJRENhbGxiYWNrKCk6IFBCVVVJRENhbGxiYWNrIHtcbiAgcmV0dXJuIHsgdHlwZTogXCJcIiwgdXVpZDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJVVUlEQ2FsbGJhY2sgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlVVSURDYWxsYmFjaywgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnR5cGUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS51dWlkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS51dWlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlVVSURDYWxsYmFjayB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVVSURDYWxsYmFjaygpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS51dWlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVVSURDYWxsYmFjayB7XG4gICAgcmV0dXJuIHsgdHlwZTogaXNTZXQob2JqZWN0LnR5cGUpID8gU3RyaW5nKG9iamVjdC50eXBlKSA6IFwiXCIsIHV1aWQ6IGlzU2V0KG9iamVjdC51dWlkKSA/IFN0cmluZyhvYmplY3QudXVpZCkgOiBcIlwiIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCVVVJRENhbGxiYWNrKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnR5cGUgPSBtZXNzYWdlLnR5cGUpO1xuICAgIG1lc3NhZ2UudXVpZCAhPT0gdW5kZWZpbmVkICYmIChvYmoudXVpZCA9IG1lc3NhZ2UudXVpZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVVUlEQ2FsbGJhY2s+LCBJPj4ob2JqZWN0OiBJKTogUEJVVUlEQ2FsbGJhY2sge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVVUlEQ2FsbGJhY2soKTtcbiAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudXVpZCA9IG9iamVjdC51dWlkID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVSUlucHV0VGV4dCgpOiBQQlVJSW5wdXRUZXh0IHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgaEFsaWduOiBcIlwiLFxuICAgIHZBbGlnbjogXCJcIixcbiAgICB3aWR0aDogXCJcIixcbiAgICBoZWlnaHQ6IFwiXCIsXG4gICAgcG9zaXRpb25YOiBcIlwiLFxuICAgIHBvc2l0aW9uWTogXCJcIixcbiAgICBpc1BvaW50ZXJCbG9ja2VyOiBmYWxzZSxcbiAgICBwYXJlbnQ6IHVuZGVmaW5lZCxcbiAgICBvdXRsaW5lV2lkdGg6IDAsXG4gICAgb3V0bGluZUNvbG9yOiB1bmRlZmluZWQsXG4gICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICB0aGlja25lc3M6IDAsXG4gICAgZm9udFNpemU6IDAsXG4gICAgZm9udFdlaWdodDogXCJcIixcbiAgICB2YWx1ZTogXCJcIixcbiAgICBwbGFjZWhvbGRlckNvbG9yOiB1bmRlZmluZWQsXG4gICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgbWFyZ2luOiAwLFxuICAgIG1heFdpZHRoOiAwLFxuICAgIGhUZXh0QWxpZ246IFwiXCIsXG4gICAgdlRleHRBbGlnbjogXCJcIixcbiAgICBhdXRvU3RyZXRjaFdpZHRoOiBmYWxzZSxcbiAgICBiYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG4gICAgZm9jdXNlZEJhY2tncm91bmQ6IHVuZGVmaW5lZCxcbiAgICB0ZXh0V3JhcHBpbmc6IGZhbHNlLFxuICAgIHNoYWRvd0JsdXI6IDAsXG4gICAgc2hhZG93T2Zmc2V0WDogMCxcbiAgICBzaGFkb3dPZmZzZXRZOiAwLFxuICAgIHNoYWRvd0NvbG9yOiB1bmRlZmluZWQsXG4gICAgcGFkZGluZ1RvcDogMCxcbiAgICBwYWRkaW5nUmlnaHQ6IDAsXG4gICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgICBwYWRkaW5nTGVmdDogMCxcbiAgICBvblRleHRTdWJtaXQ6IHVuZGVmaW5lZCxcbiAgICBvbkNoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgICBvbkZvY3VzOiB1bmRlZmluZWQsXG4gICAgb25CbHVyOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVJSW5wdXRUZXh0ID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJVSUlucHV0VGV4dCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wYWNpdHkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuaEFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudkFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS52QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2Uud2lkdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25ZICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc0KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgwKS5ib29sKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVJU2hhcGUuZW5jb2RlKG1lc3NhZ2UucGFyZW50LCB3cml0ZXIudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vdXRsaW5lV2lkdGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm91dGxpbmVDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yNC5lbmNvZGUobWVzc2FnZS5vdXRsaW5lQ29sb3IsIHdyaXRlci51aW50MzIoMTA2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yNC5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigxMTQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRoaWNrbmVzcyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UudGhpY2tuZXNzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTMzKS5mbG9hdChtZXNzYWdlLmZvbnRTaXplKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZm9udFdlaWdodCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMzgpLnN0cmluZyhtZXNzYWdlLmZvbnRXZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNDYpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGxhY2Vob2xkZXJDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yNC5lbmNvZGUobWVzc2FnZS5wbGFjZWhvbGRlckNvbG9yLCB3cml0ZXIudWludDMyKDE1NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGxhY2Vob2xkZXIgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYyKS5zdHJpbmcobWVzc2FnZS5wbGFjZWhvbGRlcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1hcmdpbiAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNzMpLmZsb2F0KG1lc3NhZ2UubWFyZ2luKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubWF4V2lkdGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgxKS5mbG9hdChtZXNzYWdlLm1heFdpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaFRleHRBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxODYpLnN0cmluZyhtZXNzYWdlLmhUZXh0QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52VGV4dEFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE5NCkuc3RyaW5nKG1lc3NhZ2UudlRleHRBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmF1dG9TdHJldGNoV2lkdGggPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjAwKS5ib29sKG1lc3NhZ2UuYXV0b1N0cmV0Y2hXaWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmJhY2tncm91bmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuYmFja2dyb3VuZCwgd3JpdGVyLnVpbnQzMigyMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZvY3VzZWRCYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLmZvY3VzZWRCYWNrZ3JvdW5kLCB3cml0ZXIudWludDMyKDIxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGV4dFdyYXBwaW5nID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIyNCkuYm9vbChtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjM3KS5mbG9hdChtZXNzYWdlLnNoYWRvd0JsdXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI0NSkuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNTMpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDI1OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNjkpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNzcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyODUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5MykuZmxvYXQobWVzc2FnZS5wYWRkaW5nTGVmdCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9uVGV4dFN1Ym1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVVSURDYWxsYmFjay5lbmNvZGUobWVzc2FnZS5vblRleHRTdWJtaXQsIHdyaXRlci51aW50MzIoMjk4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vbkNoYW5nZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJVVUlEQ2FsbGJhY2suZW5jb2RlKG1lc3NhZ2Uub25DaGFuZ2VkLCB3cml0ZXIudWludDMyKDMwNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub25Gb2N1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVVSURDYWxsYmFjay5lbmNvZGUobWVzc2FnZS5vbkZvY3VzLCB3cml0ZXIudWludDMyKDMxNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uub25CbHVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCVVVJRENhbGxiYWNrLmVuY29kZShtZXNzYWdlLm9uQmx1ciwgd3JpdGVyLnVpbnQzMigzMjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUEJVSUlucHV0VGV4dCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVJSW5wdXRUZXh0KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5vcGFjaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmhBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2UudkFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uWSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50ID0gUEJVSVNoYXBlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgbWVzc2FnZS5vdXRsaW5lV2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBtZXNzYWdlLm91dGxpbmVDb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgbWVzc2FnZS5jb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgbWVzc2FnZS50aGlja25lc3MgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBtZXNzYWdlLmZvbnRTaXplID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgbWVzc2FnZS5mb250V2VpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5wbGFjZWhvbGRlckNvbG9yID0gUEJDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICBtZXNzYWdlLnBsYWNlaG9sZGVyID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIG1lc3NhZ2UubWFyZ2luID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbWVzc2FnZS5tYXhXaWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIG1lc3NhZ2UuaFRleHRBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBtZXNzYWdlLnZUZXh0QWxpZ24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgbWVzc2FnZS5hdXRvU3RyZXRjaFdpZHRoID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICBtZXNzYWdlLmJhY2tncm91bmQgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIG1lc3NhZ2UuZm9jdXNlZEJhY2tncm91bmQgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgIG1lc3NhZ2UudGV4dFdyYXBwaW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICBtZXNzYWdlLnNoYWRvd0JsdXIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICBtZXNzYWdlLnNoYWRvd09mZnNldFggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICBtZXNzYWdlLnNoYWRvd0NvbG9yID0gUEJDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM1OlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICBtZXNzYWdlLm9uVGV4dFN1Ym1pdCA9IFBCVVVJRENhbGxiYWNrLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgbWVzc2FnZS5vbkNoYW5nZWQgPSBQQlVVSURDYWxsYmFjay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIG1lc3NhZ2Uub25Gb2N1cyA9IFBCVVVJRENhbGxiYWNrLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgbWVzc2FnZS5vbkJsdXIgPSBQQlVVSURDYWxsYmFjay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJSW5wdXRUZXh0IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogaXNTZXQob2JqZWN0Lm5hbWUpID8gU3RyaW5nKG9iamVjdC5uYW1lKSA6IFwiXCIsXG4gICAgICB2aXNpYmxlOiBpc1NldChvYmplY3QudmlzaWJsZSkgPyBCb29sZWFuKG9iamVjdC52aXNpYmxlKSA6IGZhbHNlLFxuICAgICAgb3BhY2l0eTogaXNTZXQob2JqZWN0Lm9wYWNpdHkpID8gTnVtYmVyKG9iamVjdC5vcGFjaXR5KSA6IDAsXG4gICAgICBoQWxpZ246IGlzU2V0KG9iamVjdC5oQWxpZ24pID8gU3RyaW5nKG9iamVjdC5oQWxpZ24pIDogXCJcIixcbiAgICAgIHZBbGlnbjogaXNTZXQob2JqZWN0LnZBbGlnbikgPyBTdHJpbmcob2JqZWN0LnZBbGlnbikgOiBcIlwiLFxuICAgICAgd2lkdGg6IGlzU2V0KG9iamVjdC53aWR0aCkgPyBTdHJpbmcob2JqZWN0LndpZHRoKSA6IFwiXCIsXG4gICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWDogaXNTZXQob2JqZWN0LnBvc2l0aW9uWCkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWCkgOiBcIlwiLFxuICAgICAgcG9zaXRpb25ZOiBpc1NldChvYmplY3QucG9zaXRpb25ZKSA/IFN0cmluZyhvYmplY3QucG9zaXRpb25ZKSA6IFwiXCIsXG4gICAgICBpc1BvaW50ZXJCbG9ja2VyOiBpc1NldChvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgPyBCb29sZWFuKG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyKSA6IGZhbHNlLFxuICAgICAgcGFyZW50OiBpc1NldChvYmplY3QucGFyZW50KSA/IFBCVUlTaGFwZS5mcm9tSlNPTihvYmplY3QucGFyZW50KSA6IHVuZGVmaW5lZCxcbiAgICAgIG91dGxpbmVXaWR0aDogaXNTZXQob2JqZWN0Lm91dGxpbmVXaWR0aCkgPyBOdW1iZXIob2JqZWN0Lm91dGxpbmVXaWR0aCkgOiAwLFxuICAgICAgb3V0bGluZUNvbG9yOiBpc1NldChvYmplY3Qub3V0bGluZUNvbG9yKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5vdXRsaW5lQ29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgY29sb3I6IGlzU2V0KG9iamVjdC5jb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3QuY29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgdGhpY2tuZXNzOiBpc1NldChvYmplY3QudGhpY2tuZXNzKSA/IE51bWJlcihvYmplY3QudGhpY2tuZXNzKSA6IDAsXG4gICAgICBmb250U2l6ZTogaXNTZXQob2JqZWN0LmZvbnRTaXplKSA/IE51bWJlcihvYmplY3QuZm9udFNpemUpIDogMCxcbiAgICAgIGZvbnRXZWlnaHQ6IGlzU2V0KG9iamVjdC5mb250V2VpZ2h0KSA/IFN0cmluZyhvYmplY3QuZm9udFdlaWdodCkgOiBcIlwiLFxuICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIsXG4gICAgICBwbGFjZWhvbGRlckNvbG9yOiBpc1NldChvYmplY3QucGxhY2Vob2xkZXJDb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3QucGxhY2Vob2xkZXJDb2xvcikgOiB1bmRlZmluZWQsXG4gICAgICBwbGFjZWhvbGRlcjogaXNTZXQob2JqZWN0LnBsYWNlaG9sZGVyKSA/IFN0cmluZyhvYmplY3QucGxhY2Vob2xkZXIpIDogXCJcIixcbiAgICAgIG1hcmdpbjogaXNTZXQob2JqZWN0Lm1hcmdpbikgPyBOdW1iZXIob2JqZWN0Lm1hcmdpbikgOiAwLFxuICAgICAgbWF4V2lkdGg6IGlzU2V0KG9iamVjdC5tYXhXaWR0aCkgPyBOdW1iZXIob2JqZWN0Lm1heFdpZHRoKSA6IDAsXG4gICAgICBoVGV4dEFsaWduOiBpc1NldChvYmplY3QuaFRleHRBbGlnbikgPyBTdHJpbmcob2JqZWN0LmhUZXh0QWxpZ24pIDogXCJcIixcbiAgICAgIHZUZXh0QWxpZ246IGlzU2V0KG9iamVjdC52VGV4dEFsaWduKSA/IFN0cmluZyhvYmplY3QudlRleHRBbGlnbikgOiBcIlwiLFxuICAgICAgYXV0b1N0cmV0Y2hXaWR0aDogaXNTZXQob2JqZWN0LmF1dG9TdHJldGNoV2lkdGgpID8gQm9vbGVhbihvYmplY3QuYXV0b1N0cmV0Y2hXaWR0aCkgOiBmYWxzZSxcbiAgICAgIGJhY2tncm91bmQ6IGlzU2V0KG9iamVjdC5iYWNrZ3JvdW5kKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5iYWNrZ3JvdW5kKSA6IHVuZGVmaW5lZCxcbiAgICAgIGZvY3VzZWRCYWNrZ3JvdW5kOiBpc1NldChvYmplY3QuZm9jdXNlZEJhY2tncm91bmQpID8gUEJDb2xvcjQuZnJvbUpTT04ob2JqZWN0LmZvY3VzZWRCYWNrZ3JvdW5kKSA6IHVuZGVmaW5lZCxcbiAgICAgIHRleHRXcmFwcGluZzogaXNTZXQob2JqZWN0LnRleHRXcmFwcGluZykgPyBCb29sZWFuKG9iamVjdC50ZXh0V3JhcHBpbmcpIDogZmFsc2UsXG4gICAgICBzaGFkb3dCbHVyOiBpc1NldChvYmplY3Quc2hhZG93Qmx1cikgPyBOdW1iZXIob2JqZWN0LnNoYWRvd0JsdXIpIDogMCxcbiAgICAgIHNoYWRvd09mZnNldFg6IGlzU2V0KG9iamVjdC5zaGFkb3dPZmZzZXRYKSA/IE51bWJlcihvYmplY3Quc2hhZG93T2Zmc2V0WCkgOiAwLFxuICAgICAgc2hhZG93T2Zmc2V0WTogaXNTZXQob2JqZWN0LnNoYWRvd09mZnNldFkpID8gTnVtYmVyKG9iamVjdC5zaGFkb3dPZmZzZXRZKSA6IDAsXG4gICAgICBzaGFkb3dDb2xvcjogaXNTZXQob2JqZWN0LnNoYWRvd0NvbG9yKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5zaGFkb3dDb2xvcikgOiB1bmRlZmluZWQsXG4gICAgICBwYWRkaW5nVG9wOiBpc1NldChvYmplY3QucGFkZGluZ1RvcCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdUb3ApIDogMCxcbiAgICAgIHBhZGRpbmdSaWdodDogaXNTZXQob2JqZWN0LnBhZGRpbmdSaWdodCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdSaWdodCkgOiAwLFxuICAgICAgcGFkZGluZ0JvdHRvbTogaXNTZXQob2JqZWN0LnBhZGRpbmdCb3R0b20pID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nQm90dG9tKSA6IDAsXG4gICAgICBwYWRkaW5nTGVmdDogaXNTZXQob2JqZWN0LnBhZGRpbmdMZWZ0KSA/IE51bWJlcihvYmplY3QucGFkZGluZ0xlZnQpIDogMCxcbiAgICAgIG9uVGV4dFN1Ym1pdDogaXNTZXQob2JqZWN0Lm9uVGV4dFN1Ym1pdCkgPyBQQlVVSURDYWxsYmFjay5mcm9tSlNPTihvYmplY3Qub25UZXh0U3VibWl0KSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2hhbmdlZDogaXNTZXQob2JqZWN0Lm9uQ2hhbmdlZCkgPyBQQlVVSURDYWxsYmFjay5mcm9tSlNPTihvYmplY3Qub25DaGFuZ2VkKSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uRm9jdXM6IGlzU2V0KG9iamVjdC5vbkZvY3VzKSA/IFBCVVVJRENhbGxiYWNrLmZyb21KU09OKG9iamVjdC5vbkZvY3VzKSA6IHVuZGVmaW5lZCxcbiAgICAgIG9uQmx1cjogaXNTZXQob2JqZWN0Lm9uQmx1cikgPyBQQlVVSURDYWxsYmFjay5mcm9tSlNPTihvYmplY3Qub25CbHVyKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVJSW5wdXRUZXh0KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgbWVzc2FnZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5vcGFjaXR5ID0gbWVzc2FnZS5vcGFjaXR5KTtcbiAgICBtZXNzYWdlLmhBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmouaEFsaWduID0gbWVzc2FnZS5oQWxpZ24pO1xuICAgIG1lc3NhZ2UudkFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai52QWxpZ24gPSBtZXNzYWdlLnZBbGlnbik7XG4gICAgbWVzc2FnZS53aWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2lkdGggPSBtZXNzYWdlLndpZHRoKTtcbiAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblggPSBtZXNzYWdlLnBvc2l0aW9uWCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvblkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uWSA9IG1lc3NhZ2UucG9zaXRpb25ZKTtcbiAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlzUG9pbnRlckJsb2NrZXIgPSBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIpO1xuICAgIG1lc3NhZ2UucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXJlbnQgPSBtZXNzYWdlLnBhcmVudCA/IFBCVUlTaGFwZS50b0pTT04obWVzc2FnZS5wYXJlbnQpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLm91dGxpbmVXaWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoub3V0bGluZVdpZHRoID0gbWVzc2FnZS5vdXRsaW5lV2lkdGgpO1xuICAgIG1lc3NhZ2Uub3V0bGluZUNvbG9yICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoub3V0bGluZUNvbG9yID0gbWVzc2FnZS5vdXRsaW5lQ29sb3IgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5vdXRsaW5lQ29sb3IpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb2xvciA9IG1lc3NhZ2UuY29sb3IgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5jb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UudGhpY2tuZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai50aGlja25lc3MgPSBtZXNzYWdlLnRoaWNrbmVzcyk7XG4gICAgbWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkICYmIChvYmouZm9udFNpemUgPSBtZXNzYWdlLmZvbnRTaXplKTtcbiAgICBtZXNzYWdlLmZvbnRXZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmZvbnRXZWlnaHQgPSBtZXNzYWdlLmZvbnRXZWlnaHQpO1xuICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSk7XG4gICAgbWVzc2FnZS5wbGFjZWhvbGRlckNvbG9yICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucGxhY2Vob2xkZXJDb2xvciA9IG1lc3NhZ2UucGxhY2Vob2xkZXJDb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5wbGFjZWhvbGRlciA9IG1lc3NhZ2UucGxhY2Vob2xkZXIpO1xuICAgIG1lc3NhZ2UubWFyZ2luICE9PSB1bmRlZmluZWQgJiYgKG9iai5tYXJnaW4gPSBtZXNzYWdlLm1hcmdpbik7XG4gICAgbWVzc2FnZS5tYXhXaWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoubWF4V2lkdGggPSBtZXNzYWdlLm1heFdpZHRoKTtcbiAgICBtZXNzYWdlLmhUZXh0QWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLmhUZXh0QWxpZ24gPSBtZXNzYWdlLmhUZXh0QWxpZ24pO1xuICAgIG1lc3NhZ2UudlRleHRBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudlRleHRBbGlnbiA9IG1lc3NhZ2UudlRleHRBbGlnbik7XG4gICAgbWVzc2FnZS5hdXRvU3RyZXRjaFdpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5hdXRvU3RyZXRjaFdpZHRoID0gbWVzc2FnZS5hdXRvU3RyZXRjaFdpZHRoKTtcbiAgICBtZXNzYWdlLmJhY2tncm91bmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5iYWNrZ3JvdW5kID0gbWVzc2FnZS5iYWNrZ3JvdW5kID8gUEJDb2xvcjQudG9KU09OKG1lc3NhZ2UuYmFja2dyb3VuZCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZm9jdXNlZEJhY2tncm91bmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5mb2N1c2VkQmFja2dyb3VuZCA9IG1lc3NhZ2UuZm9jdXNlZEJhY2tncm91bmQgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5mb2N1c2VkQmFja2dyb3VuZCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UudGV4dFdyYXBwaW5nICE9PSB1bmRlZmluZWQgJiYgKG9iai50ZXh0V3JhcHBpbmcgPSBtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgbWVzc2FnZS5zaGFkb3dCbHVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaGFkb3dCbHVyID0gbWVzc2FnZS5zaGFkb3dCbHVyKTtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFggIT09IHVuZGVmaW5lZCAmJiAob2JqLnNoYWRvd09mZnNldFggPSBtZXNzYWdlLnNoYWRvd09mZnNldFgpO1xuICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2hhZG93T2Zmc2V0WSA9IG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgbWVzc2FnZS5zaGFkb3dDb2xvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnNoYWRvd0NvbG9yID0gbWVzc2FnZS5zaGFkb3dDb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLnNoYWRvd0NvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nVG9wICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nVG9wID0gbWVzc2FnZS5wYWRkaW5nVG9wKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ1JpZ2h0ID0gbWVzc2FnZS5wYWRkaW5nUmlnaHQpO1xuICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ0JvdHRvbSA9IG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgbWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ0xlZnQgPSBtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICBtZXNzYWdlLm9uVGV4dFN1Ym1pdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLm9uVGV4dFN1Ym1pdCA9IG1lc3NhZ2Uub25UZXh0U3VibWl0ID8gUEJVVUlEQ2FsbGJhY2sudG9KU09OKG1lc3NhZ2Uub25UZXh0U3VibWl0KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5vbkNoYW5nZWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5vbkNoYW5nZWQgPSBtZXNzYWdlLm9uQ2hhbmdlZCA/IFBCVVVJRENhbGxiYWNrLnRvSlNPTihtZXNzYWdlLm9uQ2hhbmdlZCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uub25Gb2N1cyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLm9uRm9jdXMgPSBtZXNzYWdlLm9uRm9jdXMgPyBQQlVVSURDYWxsYmFjay50b0pTT04obWVzc2FnZS5vbkZvY3VzKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5vbkJsdXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLm9uQmx1ciA9IG1lc3NhZ2Uub25CbHVyID8gUEJVVUlEQ2FsbGJhY2sudG9KU09OKG1lc3NhZ2Uub25CbHVyKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVSUlucHV0VGV4dD4sIEk+PihvYmplY3Q6IEkpOiBQQlVJSW5wdXRUZXh0IHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlJbnB1dFRleHQoKTtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSA9IG9iamVjdC5vcGFjaXR5ID8/IDA7XG4gICAgbWVzc2FnZS5oQWxpZ24gPSBvYmplY3QuaEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS52QWxpZ24gPSBvYmplY3QudkFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS53aWR0aCA9IG9iamVjdC53aWR0aCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YID0gb2JqZWN0LnBvc2l0aW9uWCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZID0gb2JqZWN0LnBvc2l0aW9uWSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9IG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGFyZW50ID0gKG9iamVjdC5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFyZW50ICE9PSBudWxsKVxuICAgICAgPyBQQlVJU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmVudClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gb2JqZWN0Lm91dGxpbmVXaWR0aCA/PyAwO1xuICAgIG1lc3NhZ2Uub3V0bGluZUNvbG9yID0gKG9iamVjdC5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub3V0bGluZUNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3Qub3V0bGluZUNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5jb2xvciA9IChvYmplY3QuY29sb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29sb3IgIT09IG51bGwpXG4gICAgICA/IFBCQ29sb3I0LmZyb21QYXJ0aWFsKG9iamVjdC5jb2xvcilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UudGhpY2tuZXNzID0gb2JqZWN0LnRoaWNrbmVzcyA/PyAwO1xuICAgIG1lc3NhZ2UuZm9udFNpemUgPSBvYmplY3QuZm9udFNpemUgPz8gMDtcbiAgICBtZXNzYWdlLmZvbnRXZWlnaHQgPSBvYmplY3QuZm9udFdlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgPSAob2JqZWN0LnBsYWNlaG9sZGVyQ29sb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGxhY2Vob2xkZXJDb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LnBsYWNlaG9sZGVyQ29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnBsYWNlaG9sZGVyID0gb2JqZWN0LnBsYWNlaG9sZGVyID8/IFwiXCI7XG4gICAgbWVzc2FnZS5tYXJnaW4gPSBvYmplY3QubWFyZ2luID8/IDA7XG4gICAgbWVzc2FnZS5tYXhXaWR0aCA9IG9iamVjdC5tYXhXaWR0aCA/PyAwO1xuICAgIG1lc3NhZ2UuaFRleHRBbGlnbiA9IG9iamVjdC5oVGV4dEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS52VGV4dEFsaWduID0gb2JqZWN0LnZUZXh0QWxpZ24gPz8gXCJcIjtcbiAgICBtZXNzYWdlLmF1dG9TdHJldGNoV2lkdGggPSBvYmplY3QuYXV0b1N0cmV0Y2hXaWR0aCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLmJhY2tncm91bmQgPSAob2JqZWN0LmJhY2tncm91bmQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYmFja2dyb3VuZCAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmJhY2tncm91bmQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmZvY3VzZWRCYWNrZ3JvdW5kID0gKG9iamVjdC5mb2N1c2VkQmFja2dyb3VuZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5mb2N1c2VkQmFja2dyb3VuZCAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmZvY3VzZWRCYWNrZ3JvdW5kKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSBvYmplY3QudGV4dFdyYXBwaW5nID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IG9iamVjdC5zaGFkb3dCbHVyID8/IDA7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gb2JqZWN0LnNoYWRvd09mZnNldFggPz8gMDtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgPSBvYmplY3Quc2hhZG93T2Zmc2V0WSA/PyAwO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgPSAob2JqZWN0LnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNoYWRvd0NvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3Quc2hhZG93Q29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSBvYmplY3QucGFkZGluZ1RvcCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gb2JqZWN0LnBhZGRpbmdSaWdodCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IG9iamVjdC5wYWRkaW5nQm90dG9tID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nTGVmdCA9IG9iamVjdC5wYWRkaW5nTGVmdCA/PyAwO1xuICAgIG1lc3NhZ2Uub25UZXh0U3VibWl0ID0gKG9iamVjdC5vblRleHRTdWJtaXQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub25UZXh0U3VibWl0ICE9PSBudWxsKVxuICAgICAgPyBQQlVVSURDYWxsYmFjay5mcm9tUGFydGlhbChvYmplY3Qub25UZXh0U3VibWl0KVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5vbkNoYW5nZWQgPSAob2JqZWN0Lm9uQ2hhbmdlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5vbkNoYW5nZWQgIT09IG51bGwpXG4gICAgICA/IFBCVVVJRENhbGxiYWNrLmZyb21QYXJ0aWFsKG9iamVjdC5vbkNoYW5nZWQpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLm9uRm9jdXMgPSAob2JqZWN0Lm9uRm9jdXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub25Gb2N1cyAhPT0gbnVsbClcbiAgICAgID8gUEJVVUlEQ2FsbGJhY2suZnJvbVBhcnRpYWwob2JqZWN0Lm9uRm9jdXMpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLm9uQmx1ciA9IChvYmplY3Qub25CbHVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm9uQmx1ciAhPT0gbnVsbClcbiAgICAgID8gUEJVVUlEQ2FsbGJhY2suZnJvbVBhcnRpYWwob2JqZWN0Lm9uQmx1cilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVUlTY3JvbGxSZWN0KCk6IFBCVUlTY3JvbGxSZWN0IHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgaEFsaWduOiBcIlwiLFxuICAgIHZBbGlnbjogXCJcIixcbiAgICB3aWR0aDogXCJcIixcbiAgICBoZWlnaHQ6IFwiXCIsXG4gICAgcG9zaXRpb25YOiBcIlwiLFxuICAgIHBvc2l0aW9uWTogXCJcIixcbiAgICBpc1BvaW50ZXJCbG9ja2VyOiBmYWxzZSxcbiAgICBwYXJlbnQ6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZVg6IDAsXG4gICAgdmFsdWVZOiAwLFxuICAgIGJvcmRlckNvbG9yOiB1bmRlZmluZWQsXG4gICAgYmFja2dyb3VuZENvbG9yOiB1bmRlZmluZWQsXG4gICAgaXNIb3Jpem9udGFsOiBmYWxzZSxcbiAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcbiAgICBwYWRkaW5nVG9wOiAwLFxuICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgIHBhZGRpbmdMZWZ0OiAwLFxuICAgIG9uQ2hhbmdlZDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJVSVNjcm9sbFJlY3QgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlVJU2Nyb2xsUmVjdCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wYWNpdHkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuaEFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudkFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS52QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2Uud2lkdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25ZICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc0KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgwKS5ib29sKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVJU2hhcGUuZW5jb2RlKG1lc3NhZ2UucGFyZW50LCB3cml0ZXIudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZVggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLnZhbHVlWCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZhbHVlWSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMDkpLmZsb2F0KG1lc3NhZ2UudmFsdWVZKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYm9yZGVyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuYm9yZGVyQ29sb3IsIHdyaXRlci51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5iYWNrZ3JvdW5kQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuYmFja2dyb3VuZENvbG9yLCB3cml0ZXIudWludDMyKDEyMikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaXNIb3Jpem9udGFsID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEyOCkuYm9vbChtZXNzYWdlLmlzSG9yaXpvbnRhbCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmlzVmVydGljYWwgPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTM2KS5ib29sKG1lc3NhZ2UuaXNWZXJ0aWNhbCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3AgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTQ5KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nUmlnaHQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTU3KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTY1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNzMpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vbkNoYW5nZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJVVUlEQ2FsbGJhY2suZW5jb2RlKG1lc3NhZ2Uub25DaGFuZ2VkLCB3cml0ZXIudWludDMyKDE3OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlVJU2Nyb2xsUmVjdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVJU2Nyb2xsUmVjdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5oQWxpZ24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnZBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25YID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLnBhcmVudCA9IFBCVUlTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIG1lc3NhZ2UudmFsdWVYID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS52YWx1ZVkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBtZXNzYWdlLmJvcmRlckNvbG9yID0gUEJDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBtZXNzYWdlLmJhY2tncm91bmRDb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgbWVzc2FnZS5pc0hvcml6b250YWwgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIG1lc3NhZ2UuaXNWZXJ0aWNhbCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbWVzc2FnZS5vbkNoYW5nZWQgPSBQQlVVSURDYWxsYmFjay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQQlVJU2Nyb2xsUmVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIG9wYWNpdHk6IGlzU2V0KG9iamVjdC5vcGFjaXR5KSA/IE51bWJlcihvYmplY3Qub3BhY2l0eSkgOiAwLFxuICAgICAgaEFsaWduOiBpc1NldChvYmplY3QuaEFsaWduKSA/IFN0cmluZyhvYmplY3QuaEFsaWduKSA6IFwiXCIsXG4gICAgICB2QWxpZ246IGlzU2V0KG9iamVjdC52QWxpZ24pID8gU3RyaW5nKG9iamVjdC52QWxpZ24pIDogXCJcIixcbiAgICAgIHdpZHRoOiBpc1NldChvYmplY3Qud2lkdGgpID8gU3RyaW5nKG9iamVjdC53aWR0aCkgOiBcIlwiLFxuICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiXCIsXG4gICAgICBwb3NpdGlvblg6IGlzU2V0KG9iamVjdC5wb3NpdGlvblgpID8gU3RyaW5nKG9iamVjdC5wb3NpdGlvblgpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWTogaXNTZXQob2JqZWN0LnBvc2l0aW9uWSkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWSkgOiBcIlwiLFxuICAgICAgaXNQb2ludGVyQmxvY2tlcjogaXNTZXQob2JqZWN0LmlzUG9pbnRlckJsb2NrZXIpID8gQm9vbGVhbihvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgOiBmYWxzZSxcbiAgICAgIHBhcmVudDogaXNTZXQob2JqZWN0LnBhcmVudCkgPyBQQlVJU2hhcGUuZnJvbUpTT04ob2JqZWN0LnBhcmVudCkgOiB1bmRlZmluZWQsXG4gICAgICB2YWx1ZVg6IGlzU2V0KG9iamVjdC52YWx1ZVgpID8gTnVtYmVyKG9iamVjdC52YWx1ZVgpIDogMCxcbiAgICAgIHZhbHVlWTogaXNTZXQob2JqZWN0LnZhbHVlWSkgPyBOdW1iZXIob2JqZWN0LnZhbHVlWSkgOiAwLFxuICAgICAgYm9yZGVyQ29sb3I6IGlzU2V0KG9iamVjdC5ib3JkZXJDb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3QuYm9yZGVyQ29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBpc1NldChvYmplY3QuYmFja2dyb3VuZENvbG9yKSA/IFBCQ29sb3I0LmZyb21KU09OKG9iamVjdC5iYWNrZ3JvdW5kQ29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgaXNIb3Jpem9udGFsOiBpc1NldChvYmplY3QuaXNIb3Jpem9udGFsKSA/IEJvb2xlYW4ob2JqZWN0LmlzSG9yaXpvbnRhbCkgOiBmYWxzZSxcbiAgICAgIGlzVmVydGljYWw6IGlzU2V0KG9iamVjdC5pc1ZlcnRpY2FsKSA/IEJvb2xlYW4ob2JqZWN0LmlzVmVydGljYWwpIDogZmFsc2UsXG4gICAgICBwYWRkaW5nVG9wOiBpc1NldChvYmplY3QucGFkZGluZ1RvcCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdUb3ApIDogMCxcbiAgICAgIHBhZGRpbmdSaWdodDogaXNTZXQob2JqZWN0LnBhZGRpbmdSaWdodCkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdSaWdodCkgOiAwLFxuICAgICAgcGFkZGluZ0JvdHRvbTogaXNTZXQob2JqZWN0LnBhZGRpbmdCb3R0b20pID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nQm90dG9tKSA6IDAsXG4gICAgICBwYWRkaW5nTGVmdDogaXNTZXQob2JqZWN0LnBhZGRpbmdMZWZ0KSA/IE51bWJlcihvYmplY3QucGFkZGluZ0xlZnQpIDogMCxcbiAgICAgIG9uQ2hhbmdlZDogaXNTZXQob2JqZWN0Lm9uQ2hhbmdlZCkgPyBQQlVVSURDYWxsYmFjay5mcm9tSlNPTihvYmplY3Qub25DaGFuZ2VkKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQlVJU2Nyb2xsUmVjdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICBtZXNzYWdlLnZpc2libGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZpc2libGUgPSBtZXNzYWdlLnZpc2libGUpO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSAhPT0gdW5kZWZpbmVkICYmIChvYmoub3BhY2l0eSA9IG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgbWVzc2FnZS5oQWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLmhBbGlnbiA9IG1lc3NhZ2UuaEFsaWduKTtcbiAgICBtZXNzYWdlLnZBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudkFsaWduID0gbWVzc2FnZS52QWxpZ24pO1xuICAgIG1lc3NhZ2Uud2lkdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLndpZHRoID0gbWVzc2FnZS53aWR0aCk7XG4gICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWCAhPT0gdW5kZWZpbmVkICYmIChvYmoucG9zaXRpb25YID0gbWVzc2FnZS5wb3NpdGlvblgpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblkgPSBtZXNzYWdlLnBvc2l0aW9uWSk7XG4gICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyICE9PSB1bmRlZmluZWQgJiYgKG9iai5pc1BvaW50ZXJCbG9ja2VyID0gbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyKTtcbiAgICBtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFyZW50ID0gbWVzc2FnZS5wYXJlbnQgPyBQQlVJU2hhcGUudG9KU09OKG1lc3NhZ2UucGFyZW50KSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS52YWx1ZVggIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlWCA9IG1lc3NhZ2UudmFsdWVYKTtcbiAgICBtZXNzYWdlLnZhbHVlWSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWVZID0gbWVzc2FnZS52YWx1ZVkpO1xuICAgIG1lc3NhZ2UuYm9yZGVyQ29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5ib3JkZXJDb2xvciA9IG1lc3NhZ2UuYm9yZGVyQ29sb3IgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5ib3JkZXJDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuYmFja2dyb3VuZENvbG9yICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouYmFja2dyb3VuZENvbG9yID0gbWVzc2FnZS5iYWNrZ3JvdW5kQ29sb3IgPyBQQkNvbG9yNC50b0pTT04obWVzc2FnZS5iYWNrZ3JvdW5kQ29sb3IpIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmlzSG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNIb3Jpem9udGFsID0gbWVzc2FnZS5pc0hvcml6b250YWwpO1xuICAgIG1lc3NhZ2UuaXNWZXJ0aWNhbCAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNWZXJ0aWNhbCA9IG1lc3NhZ2UuaXNWZXJ0aWNhbCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nVG9wICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWRkaW5nVG9wID0gbWVzc2FnZS5wYWRkaW5nVG9wKTtcbiAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ1JpZ2h0ID0gbWVzc2FnZS5wYWRkaW5nUmlnaHQpO1xuICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ0JvdHRvbSA9IG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgbWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ0xlZnQgPSBtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICBtZXNzYWdlLm9uQ2hhbmdlZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLm9uQ2hhbmdlZCA9IG1lc3NhZ2Uub25DaGFuZ2VkID8gUEJVVUlEQ2FsbGJhY2sudG9KU09OKG1lc3NhZ2Uub25DaGFuZ2VkKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVSVNjcm9sbFJlY3Q+LCBJPj4ob2JqZWN0OiBJKTogUEJVSVNjcm9sbFJlY3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSVNjcm9sbFJlY3QoKTtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSA9IG9iamVjdC5vcGFjaXR5ID8/IDA7XG4gICAgbWVzc2FnZS5oQWxpZ24gPSBvYmplY3QuaEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS52QWxpZ24gPSBvYmplY3QudkFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS53aWR0aCA9IG9iamVjdC53aWR0aCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YID0gb2JqZWN0LnBvc2l0aW9uWCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZID0gb2JqZWN0LnBvc2l0aW9uWSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9IG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGFyZW50ID0gKG9iamVjdC5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFyZW50ICE9PSBudWxsKVxuICAgICAgPyBQQlVJU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmVudClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UudmFsdWVYID0gb2JqZWN0LnZhbHVlWCA/PyAwO1xuICAgIG1lc3NhZ2UudmFsdWVZID0gb2JqZWN0LnZhbHVlWSA/PyAwO1xuICAgIG1lc3NhZ2UuYm9yZGVyQ29sb3IgPSAob2JqZWN0LmJvcmRlckNvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJvcmRlckNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3QuYm9yZGVyQ29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmJhY2tncm91bmRDb2xvciA9IChvYmplY3QuYmFja2dyb3VuZENvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJhY2tncm91bmRDb2xvciAhPT0gbnVsbClcbiAgICAgID8gUEJDb2xvcjQuZnJvbVBhcnRpYWwob2JqZWN0LmJhY2tncm91bmRDb2xvcilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuaXNIb3Jpem9udGFsID0gb2JqZWN0LmlzSG9yaXpvbnRhbCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLmlzVmVydGljYWwgPSBvYmplY3QuaXNWZXJ0aWNhbCA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSBvYmplY3QucGFkZGluZ1RvcCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gb2JqZWN0LnBhZGRpbmdSaWdodCA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IG9iamVjdC5wYWRkaW5nQm90dG9tID8/IDA7XG4gICAgbWVzc2FnZS5wYWRkaW5nTGVmdCA9IG9iamVjdC5wYWRkaW5nTGVmdCA/PyAwO1xuICAgIG1lc3NhZ2Uub25DaGFuZ2VkID0gKG9iamVjdC5vbkNoYW5nZWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub25DaGFuZ2VkICE9PSBudWxsKVxuICAgICAgPyBQQlVVSURDYWxsYmFjay5mcm9tUGFydGlhbChvYmplY3Qub25DaGFuZ2VkKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVSVNoYXBlKCk6IFBCVUlTaGFwZSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJcIixcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBvcGFjaXR5OiAwLFxuICAgIGhBbGlnbjogXCJcIixcbiAgICB2QWxpZ246IFwiXCIsXG4gICAgd2lkdGg6IFwiXCIsXG4gICAgaGVpZ2h0OiBcIlwiLFxuICAgIHBvc2l0aW9uWDogXCJcIixcbiAgICBwb3NpdGlvblk6IFwiXCIsXG4gICAgaXNQb2ludGVyQmxvY2tlcjogZmFsc2UsXG4gICAgcGFyZW50OiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVJU2hhcGUgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQlVJU2hhcGUsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmlzaWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnZpc2libGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vcGFjaXR5ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLm9wYWNpdHkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oQWxpZ24gIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmhBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2UudkFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uud2lkdGggIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLndpZHRoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5oZWlnaHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wb3NpdGlvblggIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNjYpLnN0cmluZyhtZXNzYWdlLnBvc2l0aW9uWCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig3NCkuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25ZKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4MCkuYm9vbChtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUEJVSVNoYXBlLmVuY29kZShtZXNzYWdlLnBhcmVudCwgd3JpdGVyLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQlVJU2hhcGUge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSVNoYXBlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5vcGFjaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmhBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG1lc3NhZ2UudkFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uWSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50ID0gUEJVSVNoYXBlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCVUlTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIG9wYWNpdHk6IGlzU2V0KG9iamVjdC5vcGFjaXR5KSA/IE51bWJlcihvYmplY3Qub3BhY2l0eSkgOiAwLFxuICAgICAgaEFsaWduOiBpc1NldChvYmplY3QuaEFsaWduKSA/IFN0cmluZyhvYmplY3QuaEFsaWduKSA6IFwiXCIsXG4gICAgICB2QWxpZ246IGlzU2V0KG9iamVjdC52QWxpZ24pID8gU3RyaW5nKG9iamVjdC52QWxpZ24pIDogXCJcIixcbiAgICAgIHdpZHRoOiBpc1NldChvYmplY3Qud2lkdGgpID8gU3RyaW5nKG9iamVjdC53aWR0aCkgOiBcIlwiLFxuICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiXCIsXG4gICAgICBwb3NpdGlvblg6IGlzU2V0KG9iamVjdC5wb3NpdGlvblgpID8gU3RyaW5nKG9iamVjdC5wb3NpdGlvblgpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWTogaXNTZXQob2JqZWN0LnBvc2l0aW9uWSkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWSkgOiBcIlwiLFxuICAgICAgaXNQb2ludGVyQmxvY2tlcjogaXNTZXQob2JqZWN0LmlzUG9pbnRlckJsb2NrZXIpID8gQm9vbGVhbihvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgOiBmYWxzZSxcbiAgICAgIHBhcmVudDogaXNTZXQob2JqZWN0LnBhcmVudCkgPyBQQlVJU2hhcGUuZnJvbUpTT04ob2JqZWN0LnBhcmVudCkgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUEJVSVNoYXBlKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgIG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmlzaWJsZSA9IG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgbWVzc2FnZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5vcGFjaXR5ID0gbWVzc2FnZS5vcGFjaXR5KTtcbiAgICBtZXNzYWdlLmhBbGlnbiAhPT0gdW5kZWZpbmVkICYmIChvYmouaEFsaWduID0gbWVzc2FnZS5oQWxpZ24pO1xuICAgIG1lc3NhZ2UudkFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai52QWxpZ24gPSBtZXNzYWdlLnZBbGlnbik7XG4gICAgbWVzc2FnZS53aWR0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoud2lkdGggPSBtZXNzYWdlLndpZHRoKTtcbiAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3NpdGlvblggPSBtZXNzYWdlLnBvc2l0aW9uWCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvblkgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uWSA9IG1lc3NhZ2UucG9zaXRpb25ZKTtcbiAgICBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlzUG9pbnRlckJsb2NrZXIgPSBtZXNzYWdlLmlzUG9pbnRlckJsb2NrZXIpO1xuICAgIG1lc3NhZ2UucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXJlbnQgPSBtZXNzYWdlLnBhcmVudCA/IFBCVUlTaGFwZS50b0pTT04obWVzc2FnZS5wYXJlbnQpIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQlVJU2hhcGU+LCBJPj4ob2JqZWN0OiBJKTogUEJVSVNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlTaGFwZSgpO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgbWVzc2FnZS52aXNpYmxlID0gb2JqZWN0LnZpc2libGUgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5vcGFjaXR5ID0gb2JqZWN0Lm9wYWNpdHkgPz8gMDtcbiAgICBtZXNzYWdlLmhBbGlnbiA9IG9iamVjdC5oQWxpZ24gPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZBbGlnbiA9IG9iamVjdC52QWxpZ24gPz8gXCJcIjtcbiAgICBtZXNzYWdlLndpZHRoID0gb2JqZWN0LndpZHRoID8/IFwiXCI7XG4gICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiXCI7XG4gICAgbWVzc2FnZS5wb3NpdGlvblggPSBvYmplY3QucG9zaXRpb25YID8/IFwiXCI7XG4gICAgbWVzc2FnZS5wb3NpdGlvblkgPSBvYmplY3QucG9zaXRpb25ZID8/IFwiXCI7XG4gICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gb2JqZWN0LmlzUG9pbnRlckJsb2NrZXIgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5wYXJlbnQgPSAob2JqZWN0LnBhcmVudCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXJlbnQgIT09IG51bGwpXG4gICAgICA/IFBCVUlTaGFwZS5mcm9tUGFydGlhbChvYmplY3QucGFyZW50KVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVSVRleHRTaGFwZSgpOiBQQlVJVGV4dFNoYXBlIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgaEFsaWduOiBcIlwiLFxuICAgIHZBbGlnbjogXCJcIixcbiAgICB3aWR0aDogXCJcIixcbiAgICBoZWlnaHQ6IFwiXCIsXG4gICAgcG9zaXRpb25YOiBcIlwiLFxuICAgIHBvc2l0aW9uWTogXCJcIixcbiAgICBpc1BvaW50ZXJCbG9ja2VyOiBmYWxzZSxcbiAgICBwYXJlbnQ6IHVuZGVmaW5lZCxcbiAgICBvdXRsaW5lV2lkdGg6IDAsXG4gICAgb3V0bGluZUNvbG9yOiB1bmRlZmluZWQsXG4gICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICBmb250U2l6ZTogMCxcbiAgICBmb250QXV0b1NpemU6IGZhbHNlLFxuICAgIGZvbnRXZWlnaHQ6IFwiXCIsXG4gICAgdmFsdWU6IFwiXCIsXG4gICAgbGluZVNwYWNpbmc6IDAsXG4gICAgbGluZUNvdW50OiAwLFxuICAgIGFkYXB0V2lkdGg6IGZhbHNlLFxuICAgIGFkYXB0SGVpZ2h0OiBmYWxzZSxcbiAgICB0ZXh0V3JhcHBpbmc6IGZhbHNlLFxuICAgIHNoYWRvd0JsdXI6IDAsXG4gICAgc2hhZG93T2Zmc2V0WDogMCxcbiAgICBzaGFkb3dPZmZzZXRZOiAwLFxuICAgIHNoYWRvd0NvbG9yOiB1bmRlZmluZWQsXG4gICAgaFRleHRBbGlnbjogXCJcIixcbiAgICB2VGV4dEFsaWduOiBcIlwiLFxuICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgcGFkZGluZ1JpZ2h0OiAwLFxuICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgcGFkZGluZ0xlZnQ6IDAsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBQQlVJVGV4dFNoYXBlID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJVSVRleHRTaGFwZSwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UudmlzaWJsZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm9wYWNpdHkgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uub3BhY2l0eSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuaEFsaWduKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudkFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS52QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2Uud2lkdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uWCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucG9zaXRpb25ZICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDc0KS5zdHJpbmcobWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgwKS5ib29sKG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQlVJU2hhcGUuZW5jb2RlKG1lc3NhZ2UucGFyZW50LCB3cml0ZXIudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vdXRsaW5lV2lkdGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm91dGxpbmVDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yNC5lbmNvZGUobWVzc2FnZS5vdXRsaW5lQ29sb3IsIHdyaXRlci51aW50MzIoMTA2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQQkNvbG9yNC5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigxMTQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEyNSkuZmxvYXQobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZvbnRBdXRvU2l6ZSA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMjgpLmJvb2wobWVzc2FnZS5mb250QXV0b1NpemUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5mb250V2VpZ2h0ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEzOCkuc3RyaW5nKG1lc3NhZ2UuZm9udFdlaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE0Nikuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5saW5lU3BhY2luZyAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNTcpLmZsb2F0KG1lc3NhZ2UubGluZVNwYWNpbmcpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5saW5lQ291bnQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTY1KS5mbG9hdChtZXNzYWdlLmxpbmVDb3VudCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFkYXB0V2lkdGggPT09IHRydWUpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTY4KS5ib29sKG1lc3NhZ2UuYWRhcHRXaWR0aCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFkYXB0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE3NikuYm9vbChtZXNzYWdlLmFkYXB0SGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGV4dFdyYXBwaW5nID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4NCkuYm9vbChtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTk3KS5mbG9hdChtZXNzYWdlLnNoYWRvd0JsdXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIwNSkuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMTMpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBCQ29sb3I0LmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDIxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaFRleHRBbGlnbiAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigyMjYpLnN0cmluZyhtZXNzYWdlLmhUZXh0QWxpZ24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52VGV4dEFsaWduICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDIzNCkuc3RyaW5nKG1lc3NhZ2UudlRleHRBbGlnbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3AgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjQ1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nUmlnaHQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjUzKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYxKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNjkpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCVUlUZXh0U2hhcGUge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVSVRleHRTaGFwZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS52aXNpYmxlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5oQWxpZ24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnZBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25YID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJCbG9ja2VyID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBtZXNzYWdlLnBhcmVudCA9IFBCVUlTaGFwZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBQQkNvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBtZXNzYWdlLmZvbnRBdXRvU2l6ZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgbWVzc2FnZS5mb250V2VpZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIG1lc3NhZ2UubGluZUNvdW50ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgbWVzc2FnZS5hZGFwdFdpZHRoID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBtZXNzYWdlLnRleHRXcmFwcGluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dCbHVyID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRZID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgbWVzc2FnZS5zaGFkb3dDb2xvciA9IFBCQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgbWVzc2FnZS5oVGV4dEFsaWduID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgIG1lc3NhZ2UudlRleHRBbGlnbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUEJVSVRleHRTaGFwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IFN0cmluZyhvYmplY3QubmFtZSkgOiBcIlwiLFxuICAgICAgdmlzaWJsZTogaXNTZXQob2JqZWN0LnZpc2libGUpID8gQm9vbGVhbihvYmplY3QudmlzaWJsZSkgOiBmYWxzZSxcbiAgICAgIG9wYWNpdHk6IGlzU2V0KG9iamVjdC5vcGFjaXR5KSA/IE51bWJlcihvYmplY3Qub3BhY2l0eSkgOiAwLFxuICAgICAgaEFsaWduOiBpc1NldChvYmplY3QuaEFsaWduKSA/IFN0cmluZyhvYmplY3QuaEFsaWduKSA6IFwiXCIsXG4gICAgICB2QWxpZ246IGlzU2V0KG9iamVjdC52QWxpZ24pID8gU3RyaW5nKG9iamVjdC52QWxpZ24pIDogXCJcIixcbiAgICAgIHdpZHRoOiBpc1NldChvYmplY3Qud2lkdGgpID8gU3RyaW5nKG9iamVjdC53aWR0aCkgOiBcIlwiLFxuICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiXCIsXG4gICAgICBwb3NpdGlvblg6IGlzU2V0KG9iamVjdC5wb3NpdGlvblgpID8gU3RyaW5nKG9iamVjdC5wb3NpdGlvblgpIDogXCJcIixcbiAgICAgIHBvc2l0aW9uWTogaXNTZXQob2JqZWN0LnBvc2l0aW9uWSkgPyBTdHJpbmcob2JqZWN0LnBvc2l0aW9uWSkgOiBcIlwiLFxuICAgICAgaXNQb2ludGVyQmxvY2tlcjogaXNTZXQob2JqZWN0LmlzUG9pbnRlckJsb2NrZXIpID8gQm9vbGVhbihvYmplY3QuaXNQb2ludGVyQmxvY2tlcikgOiBmYWxzZSxcbiAgICAgIHBhcmVudDogaXNTZXQob2JqZWN0LnBhcmVudCkgPyBQQlVJU2hhcGUuZnJvbUpTT04ob2JqZWN0LnBhcmVudCkgOiB1bmRlZmluZWQsXG4gICAgICBvdXRsaW5lV2lkdGg6IGlzU2V0KG9iamVjdC5vdXRsaW5lV2lkdGgpID8gTnVtYmVyKG9iamVjdC5vdXRsaW5lV2lkdGgpIDogMCxcbiAgICAgIG91dGxpbmVDb2xvcjogaXNTZXQob2JqZWN0Lm91dGxpbmVDb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3Qub3V0bGluZUNvbG9yKSA6IHVuZGVmaW5lZCxcbiAgICAgIGNvbG9yOiBpc1NldChvYmplY3QuY29sb3IpID8gUEJDb2xvcjQuZnJvbUpTT04ob2JqZWN0LmNvbG9yKSA6IHVuZGVmaW5lZCxcbiAgICAgIGZvbnRTaXplOiBpc1NldChvYmplY3QuZm9udFNpemUpID8gTnVtYmVyKG9iamVjdC5mb250U2l6ZSkgOiAwLFxuICAgICAgZm9udEF1dG9TaXplOiBpc1NldChvYmplY3QuZm9udEF1dG9TaXplKSA/IEJvb2xlYW4ob2JqZWN0LmZvbnRBdXRvU2l6ZSkgOiBmYWxzZSxcbiAgICAgIGZvbnRXZWlnaHQ6IGlzU2V0KG9iamVjdC5mb250V2VpZ2h0KSA/IFN0cmluZyhvYmplY3QuZm9udFdlaWdodCkgOiBcIlwiLFxuICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIsXG4gICAgICBsaW5lU3BhY2luZzogaXNTZXQob2JqZWN0LmxpbmVTcGFjaW5nKSA/IE51bWJlcihvYmplY3QubGluZVNwYWNpbmcpIDogMCxcbiAgICAgIGxpbmVDb3VudDogaXNTZXQob2JqZWN0LmxpbmVDb3VudCkgPyBOdW1iZXIob2JqZWN0LmxpbmVDb3VudCkgOiAwLFxuICAgICAgYWRhcHRXaWR0aDogaXNTZXQob2JqZWN0LmFkYXB0V2lkdGgpID8gQm9vbGVhbihvYmplY3QuYWRhcHRXaWR0aCkgOiBmYWxzZSxcbiAgICAgIGFkYXB0SGVpZ2h0OiBpc1NldChvYmplY3QuYWRhcHRIZWlnaHQpID8gQm9vbGVhbihvYmplY3QuYWRhcHRIZWlnaHQpIDogZmFsc2UsXG4gICAgICB0ZXh0V3JhcHBpbmc6IGlzU2V0KG9iamVjdC50ZXh0V3JhcHBpbmcpID8gQm9vbGVhbihvYmplY3QudGV4dFdyYXBwaW5nKSA6IGZhbHNlLFxuICAgICAgc2hhZG93Qmx1cjogaXNTZXQob2JqZWN0LnNoYWRvd0JsdXIpID8gTnVtYmVyKG9iamVjdC5zaGFkb3dCbHVyKSA6IDAsXG4gICAgICBzaGFkb3dPZmZzZXRYOiBpc1NldChvYmplY3Quc2hhZG93T2Zmc2V0WCkgPyBOdW1iZXIob2JqZWN0LnNoYWRvd09mZnNldFgpIDogMCxcbiAgICAgIHNoYWRvd09mZnNldFk6IGlzU2V0KG9iamVjdC5zaGFkb3dPZmZzZXRZKSA/IE51bWJlcihvYmplY3Quc2hhZG93T2Zmc2V0WSkgOiAwLFxuICAgICAgc2hhZG93Q29sb3I6IGlzU2V0KG9iamVjdC5zaGFkb3dDb2xvcikgPyBQQkNvbG9yNC5mcm9tSlNPTihvYmplY3Quc2hhZG93Q29sb3IpIDogdW5kZWZpbmVkLFxuICAgICAgaFRleHRBbGlnbjogaXNTZXQob2JqZWN0LmhUZXh0QWxpZ24pID8gU3RyaW5nKG9iamVjdC5oVGV4dEFsaWduKSA6IFwiXCIsXG4gICAgICB2VGV4dEFsaWduOiBpc1NldChvYmplY3QudlRleHRBbGlnbikgPyBTdHJpbmcob2JqZWN0LnZUZXh0QWxpZ24pIDogXCJcIixcbiAgICAgIHBhZGRpbmdUb3A6IGlzU2V0KG9iamVjdC5wYWRkaW5nVG9wKSA/IE51bWJlcihvYmplY3QucGFkZGluZ1RvcCkgOiAwLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBpc1NldChvYmplY3QucGFkZGluZ1JpZ2h0KSA/IE51bWJlcihvYmplY3QucGFkZGluZ1JpZ2h0KSA6IDAsXG4gICAgICBwYWRkaW5nQm90dG9tOiBpc1NldChvYmplY3QucGFkZGluZ0JvdHRvbSkgPyBOdW1iZXIob2JqZWN0LnBhZGRpbmdCb3R0b20pIDogMCxcbiAgICAgIHBhZGRpbmdMZWZ0OiBpc1NldChvYmplY3QucGFkZGluZ0xlZnQpID8gTnVtYmVyKG9iamVjdC5wYWRkaW5nTGVmdCkgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBCVUlUZXh0U2hhcGUpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFtZSA9IG1lc3NhZ2UubmFtZSk7XG4gICAgbWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgKG9iai52aXNpYmxlID0gbWVzc2FnZS52aXNpYmxlKTtcbiAgICBtZXNzYWdlLm9wYWNpdHkgIT09IHVuZGVmaW5lZCAmJiAob2JqLm9wYWNpdHkgPSBtZXNzYWdlLm9wYWNpdHkpO1xuICAgIG1lc3NhZ2UuaEFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai5oQWxpZ24gPSBtZXNzYWdlLmhBbGlnbik7XG4gICAgbWVzc2FnZS52QWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZBbGlnbiA9IG1lc3NhZ2UudkFsaWduKTtcbiAgICBtZXNzYWdlLndpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai53aWR0aCA9IG1lc3NhZ2Uud2lkdGgpO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5oZWlnaHQgPSBtZXNzYWdlLmhlaWdodCk7XG4gICAgbWVzc2FnZS5wb3NpdGlvblggIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvc2l0aW9uWCA9IG1lc3NhZ2UucG9zaXRpb25YKTtcbiAgICBtZXNzYWdlLnBvc2l0aW9uWSAhPT0gdW5kZWZpbmVkICYmIChvYmoucG9zaXRpb25ZID0gbWVzc2FnZS5wb3NpdGlvblkpO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciAhPT0gdW5kZWZpbmVkICYmIChvYmouaXNQb2ludGVyQmxvY2tlciA9IG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlcik7XG4gICAgbWVzc2FnZS5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhcmVudCA9IG1lc3NhZ2UucGFyZW50ID8gUEJVSVNoYXBlLnRvSlNPTihtZXNzYWdlLnBhcmVudCkgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5vdXRsaW5lV2lkdGggPSBtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5vdXRsaW5lQ29sb3IgPSBtZXNzYWdlLm91dGxpbmVDb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLm91dGxpbmVDb2xvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbG9yID0gbWVzc2FnZS5jb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLmNvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkICYmIChvYmouZm9udFNpemUgPSBtZXNzYWdlLmZvbnRTaXplKTtcbiAgICBtZXNzYWdlLmZvbnRBdXRvU2l6ZSAhPT0gdW5kZWZpbmVkICYmIChvYmouZm9udEF1dG9TaXplID0gbWVzc2FnZS5mb250QXV0b1NpemUpO1xuICAgIG1lc3NhZ2UuZm9udFdlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouZm9udFdlaWdodCA9IG1lc3NhZ2UuZm9udFdlaWdodCk7XG4gICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICBtZXNzYWdlLmxpbmVTcGFjaW5nICE9PSB1bmRlZmluZWQgJiYgKG9iai5saW5lU3BhY2luZyA9IG1lc3NhZ2UubGluZVNwYWNpbmcpO1xuICAgIG1lc3NhZ2UubGluZUNvdW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5saW5lQ291bnQgPSBtZXNzYWdlLmxpbmVDb3VudCk7XG4gICAgbWVzc2FnZS5hZGFwdFdpZHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGFwdFdpZHRoID0gbWVzc2FnZS5hZGFwdFdpZHRoKTtcbiAgICBtZXNzYWdlLmFkYXB0SGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGFwdEhlaWdodCA9IG1lc3NhZ2UuYWRhcHRIZWlnaHQpO1xuICAgIG1lc3NhZ2UudGV4dFdyYXBwaW5nICE9PSB1bmRlZmluZWQgJiYgKG9iai50ZXh0V3JhcHBpbmcgPSBtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgbWVzc2FnZS5zaGFkb3dCbHVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaGFkb3dCbHVyID0gbWVzc2FnZS5zaGFkb3dCbHVyKTtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFggIT09IHVuZGVmaW5lZCAmJiAob2JqLnNoYWRvd09mZnNldFggPSBtZXNzYWdlLnNoYWRvd09mZnNldFgpO1xuICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2hhZG93T2Zmc2V0WSA9IG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgbWVzc2FnZS5zaGFkb3dDb2xvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnNoYWRvd0NvbG9yID0gbWVzc2FnZS5zaGFkb3dDb2xvciA/IFBCQ29sb3I0LnRvSlNPTihtZXNzYWdlLnNoYWRvd0NvbG9yKSA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5oVGV4dEFsaWduICE9PSB1bmRlZmluZWQgJiYgKG9iai5oVGV4dEFsaWduID0gbWVzc2FnZS5oVGV4dEFsaWduKTtcbiAgICBtZXNzYWdlLnZUZXh0QWxpZ24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZUZXh0QWxpZ24gPSBtZXNzYWdlLnZUZXh0QWxpZ24pO1xuICAgIG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFkZGluZ1RvcCA9IG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgbWVzc2FnZS5wYWRkaW5nUmlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZGRpbmdSaWdodCA9IG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZGRpbmdCb3R0b20gPSBtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZGRpbmdMZWZ0ID0gbWVzc2FnZS5wYWRkaW5nTGVmdCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UEJVSVRleHRTaGFwZT4sIEk+PihvYmplY3Q6IEkpOiBQQlVJVGV4dFNoYXBlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVUlUZXh0U2hhcGUoKTtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudmlzaWJsZSA9IG9iamVjdC52aXNpYmxlID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uub3BhY2l0eSA9IG9iamVjdC5vcGFjaXR5ID8/IDA7XG4gICAgbWVzc2FnZS5oQWxpZ24gPSBvYmplY3QuaEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS52QWxpZ24gPSBvYmplY3QudkFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS53aWR0aCA9IG9iamVjdC53aWR0aCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25YID0gb2JqZWN0LnBvc2l0aW9uWCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UucG9zaXRpb25ZID0gb2JqZWN0LnBvc2l0aW9uWSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuaXNQb2ludGVyQmxvY2tlciA9IG9iamVjdC5pc1BvaW50ZXJCbG9ja2VyID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UucGFyZW50ID0gKG9iamVjdC5wYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFyZW50ICE9PSBudWxsKVxuICAgICAgPyBQQlVJU2hhcGUuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmVudClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gb2JqZWN0Lm91dGxpbmVXaWR0aCA/PyAwO1xuICAgIG1lc3NhZ2Uub3V0bGluZUNvbG9yID0gKG9iamVjdC5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qub3V0bGluZUNvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3Qub3V0bGluZUNvbG9yKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5jb2xvciA9IChvYmplY3QuY29sb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29sb3IgIT09IG51bGwpXG4gICAgICA/IFBCQ29sb3I0LmZyb21QYXJ0aWFsKG9iamVjdC5jb2xvcilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2UuZm9udFNpemUgPSBvYmplY3QuZm9udFNpemUgPz8gMDtcbiAgICBtZXNzYWdlLmZvbnRBdXRvU2l6ZSA9IG9iamVjdC5mb250QXV0b1NpemUgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS5mb250V2VpZ2h0ID0gb2JqZWN0LmZvbnRXZWlnaHQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IFwiXCI7XG4gICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IG9iamVjdC5saW5lU3BhY2luZyA/PyAwO1xuICAgIG1lc3NhZ2UubGluZUNvdW50ID0gb2JqZWN0LmxpbmVDb3VudCA/PyAwO1xuICAgIG1lc3NhZ2UuYWRhcHRXaWR0aCA9IG9iamVjdC5hZGFwdFdpZHRoID8/IGZhbHNlO1xuICAgIG1lc3NhZ2UuYWRhcHRIZWlnaHQgPSBvYmplY3QuYWRhcHRIZWlnaHQgPz8gZmFsc2U7XG4gICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSBvYmplY3QudGV4dFdyYXBwaW5nID8/IGZhbHNlO1xuICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IG9iamVjdC5zaGFkb3dCbHVyID8/IDA7XG4gICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gb2JqZWN0LnNoYWRvd09mZnNldFggPz8gMDtcbiAgICBtZXNzYWdlLnNoYWRvd09mZnNldFkgPSBvYmplY3Quc2hhZG93T2Zmc2V0WSA/PyAwO1xuICAgIG1lc3NhZ2Uuc2hhZG93Q29sb3IgPSAob2JqZWN0LnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNoYWRvd0NvbG9yICE9PSBudWxsKVxuICAgICAgPyBQQkNvbG9yNC5mcm9tUGFydGlhbChvYmplY3Quc2hhZG93Q29sb3IpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmhUZXh0QWxpZ24gPSBvYmplY3QuaFRleHRBbGlnbiA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudlRleHRBbGlnbiA9IG9iamVjdC52VGV4dEFsaWduID8/IFwiXCI7XG4gICAgbWVzc2FnZS5wYWRkaW5nVG9wID0gb2JqZWN0LnBhZGRpbmdUb3AgPz8gMDtcbiAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IG9iamVjdC5wYWRkaW5nUmlnaHQgPz8gMDtcbiAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSBvYmplY3QucGFkZGluZ0JvdHRvbSA/PyAwO1xuICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgPSBvYmplY3QucGFkZGluZ0xlZnQgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk9wZW5FeHRlcm5hbFVybCgpOiBQQk9wZW5FeHRlcm5hbFVybCB7XG4gIHJldHVybiB7IHVybDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJPcGVuRXh0ZXJuYWxVcmwgPSB7XG4gIGVuY29kZShtZXNzYWdlOiBQQk9wZW5FeHRlcm5hbFVybCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnVybCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQQk9wZW5FeHRlcm5hbFVybCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk9wZW5FeHRlcm5hbFVybCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS51cmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCT3BlbkV4dGVybmFsVXJsIHtcbiAgICByZXR1cm4geyB1cmw6IGlzU2V0KG9iamVjdC51cmwpID8gU3RyaW5nKG9iamVjdC51cmwpIDogXCJcIiB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQk9wZW5FeHRlcm5hbFVybCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS51cmwgIT09IHVuZGVmaW5lZCAmJiAob2JqLnVybCA9IG1lc3NhZ2UudXJsKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQQk9wZW5FeHRlcm5hbFVybD4sIEk+PihvYmplY3Q6IEkpOiBQQk9wZW5FeHRlcm5hbFVybCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk9wZW5FeHRlcm5hbFVybCgpO1xuICAgIG1lc3NhZ2UudXJsID0gb2JqZWN0LnVybCA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBCT3Blbk5GVERpYWxvZygpOiBQQk9wZW5ORlREaWFsb2cge1xuICByZXR1cm4geyBhc3NldENvbnRyYWN0QWRkcmVzczogXCJcIiwgdG9rZW5JZDogXCJcIiwgY29tbWVudDogXCJcIiB9O1xufVxuXG5leHBvcnQgY29uc3QgUEJPcGVuTkZURGlhbG9nID0ge1xuICBlbmNvZGUobWVzc2FnZTogUEJPcGVuTkZURGlhbG9nLCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuYXNzZXRDb250cmFjdEFkZHJlc3MgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmFzc2V0Q29udHJhY3RBZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudG9rZW5JZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudG9rZW5JZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbW1lbnQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmNvbW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFBCT3Blbk5GVERpYWxvZyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk9wZW5ORlREaWFsb2coKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuYXNzZXRDb250cmFjdEFkZHJlc3MgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnRva2VuSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmNvbW1lbnQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFBCT3Blbk5GVERpYWxvZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFzc2V0Q29udHJhY3RBZGRyZXNzOiBpc1NldChvYmplY3QuYXNzZXRDb250cmFjdEFkZHJlc3MpID8gU3RyaW5nKG9iamVjdC5hc3NldENvbnRyYWN0QWRkcmVzcykgOiBcIlwiLFxuICAgICAgdG9rZW5JZDogaXNTZXQob2JqZWN0LnRva2VuSWQpID8gU3RyaW5nKG9iamVjdC50b2tlbklkKSA6IFwiXCIsXG4gICAgICBjb21tZW50OiBpc1NldChvYmplY3QuY29tbWVudCkgPyBTdHJpbmcob2JqZWN0LmNvbW1lbnQpIDogXCJcIixcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQQk9wZW5ORlREaWFsb2cpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuYXNzZXRDb250cmFjdEFkZHJlc3MgIT09IHVuZGVmaW5lZCAmJiAob2JqLmFzc2V0Q29udHJhY3RBZGRyZXNzID0gbWVzc2FnZS5hc3NldENvbnRyYWN0QWRkcmVzcyk7XG4gICAgbWVzc2FnZS50b2tlbklkICE9PSB1bmRlZmluZWQgJiYgKG9iai50b2tlbklkID0gbWVzc2FnZS50b2tlbklkKTtcbiAgICBtZXNzYWdlLmNvbW1lbnQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbW1lbnQgPSBtZXNzYWdlLmNvbW1lbnQpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFBCT3Blbk5GVERpYWxvZz4sIEk+PihvYmplY3Q6IEkpOiBQQk9wZW5ORlREaWFsb2cge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJPcGVuTkZURGlhbG9nKCk7XG4gICAgbWVzc2FnZS5hc3NldENvbnRyYWN0QWRkcmVzcyA9IG9iamVjdC5hc3NldENvbnRyYWN0QWRkcmVzcyA/PyBcIlwiO1xuICAgIG1lc3NhZ2UudG9rZW5JZCA9IG9iamVjdC50b2tlbklkID8/IFwiXCI7XG4gICAgbWVzc2FnZS5jb21tZW50ID0gb2JqZWN0LmNvbW1lbnQgPz8gXCJcIjtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmRlY2xhcmUgdmFyIHNlbGY6IGFueSB8IHVuZGVmaW5lZDtcbmRlY2xhcmUgdmFyIHdpbmRvdzogYW55IHwgdW5kZWZpbmVkO1xuZGVjbGFyZSB2YXIgZ2xvYmFsOiBhbnkgfCB1bmRlZmluZWQ7XG52YXIgZ2xvYmFsVGhpczogYW55ID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGdsb2JhbDtcbiAgfVxuICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcblxuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmc6IExvbmcpOiBudW1iZXIge1xuICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcIlZhbHVlIGlzIGxhcmdlciB0aGFuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXCIpO1xuICB9XG4gIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gIF9tMC51dGlsLkxvbmcgPSBMb25nIGFzIGFueTtcbiAgX20wLmNvbmZpZ3VyZSgpO1xufVxuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcblxuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZ29vZ2xlLnByb3RvYnVmXCI7XG5cbi8qKlxuICogQSBnZW5lcmljIGVtcHR5IG1lc3NhZ2UgdGhhdCB5b3UgY2FuIHJlLXVzZSB0byBhdm9pZCBkZWZpbmluZyBkdXBsaWNhdGVkXG4gKiBlbXB0eSBtZXNzYWdlcyBpbiB5b3VyIEFQSXMuIEEgdHlwaWNhbCBleGFtcGxlIGlzIHRvIHVzZSBpdCBhcyB0aGUgcmVxdWVzdFxuICogb3IgdGhlIHJlc3BvbnNlIHR5cGUgb2YgYW4gQVBJIG1ldGhvZC4gRm9yIGluc3RhbmNlOlxuICpcbiAqICAgICBzZXJ2aWNlIEZvbyB7XG4gKiAgICAgICBycGMgQmFyKGdvb2dsZS5wcm90b2J1Zi5FbXB0eSkgcmV0dXJucyAoZ29vZ2xlLnByb3RvYnVmLkVtcHR5KTtcbiAqICAgICB9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW1wdHkge1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCYXNlRW1wdHkoKTogRW1wdHkge1xuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjb25zdCBFbXB0eSA9IHtcbiAgZW5jb2RlKF86IEVtcHR5LCB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKTogX20wLldyaXRlciB7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBFbXB0eSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFbXB0eSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04oXzogYW55KTogRW1wdHkge1xuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICB0b0pTT04oXzogRW1wdHkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPEVtcHR5PiwgST4+KF86IEkpOiBFbXB0eSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFbXB0eSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxudHlwZSBCdWlsdGluID0gRGF0ZSB8IEZ1bmN0aW9uIHwgVWludDhBcnJheSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW4gPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+ID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+IDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT4gPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7ICRjYXNlOiBzdHJpbmcgfSA/IHsgW0sgaW4ga2V5b2YgT21pdDxULCBcIiRjYXNlXCI+XT86IERlZXBQYXJ0aWFsPFRbS10+IH0gJiB7ICRjYXNlOiBUW1wiJGNhc2VcIl0gfVxuICA6IFQgZXh0ZW5kcyB7fSA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW4gPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiB7IFtLIGluIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+XTogbmV2ZXIgfTtcbiIsICJpbXBvcnQgeyBjcmVhdGVGZXRjaCB9IGZyb20gJy4vRmV0Y2gnXG5pbXBvcnQgeyBjcmVhdGVXZWJTb2NrZXQgfSBmcm9tICcuL1dlYlNvY2tldCdcblxuY29uc3QgYWxsb3dMaXN0RVM1OiBBcnJheTxrZXlvZiB0eXBlb2YgZ2xvYmFsVGhpcz4gPSBbXG4gICdldmFsJyxcbiAgJ3BhcnNlSW50JyxcbiAgJ3BhcnNlRmxvYXQnLFxuICAnaXNOYU4nLFxuICAnaXNGaW5pdGUnLFxuICAnZGVjb2RlVVJJJyxcbiAgJ2RlY29kZVVSSUNvbXBvbmVudCcsXG4gICdlbmNvZGVVUkknLFxuICAnZW5jb2RlVVJJQ29tcG9uZW50JyxcbiAgJ2VzY2FwZScsXG4gICd1bmVzY2FwZScsXG4gICdPYmplY3QnLFxuICAnRnVuY3Rpb24nLFxuICAnU3RyaW5nJyxcbiAgJ0Jvb2xlYW4nLFxuICAnTnVtYmVyJyxcbiAgJ01hdGgnLFxuICAnRGF0ZScsXG4gICdSZWdFeHAnLFxuICAnRXJyb3InLFxuICAnRXZhbEVycm9yJyxcbiAgJ1JhbmdlRXJyb3InLFxuICAnUmVmZXJlbmNlRXJyb3InLFxuICAnU3ludGF4RXJyb3InLFxuICAnVHlwZUVycm9yJyxcbiAgJ1VSSUVycm9yJyxcbiAgJ0pTT04nLFxuICAnQXJyYXknLFxuICAnUHJvbWlzZScsXG4gICdOYU4nLFxuICAnSW5maW5pdHknXG5dXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5jb25zdCBkZWZlcjogKGZuOiBGdW5jdGlvbikgPT4gdm9pZCA9IChQcm9taXNlLnJlc29sdmUoKS50aGVuIGFzIGFueSkuYmluZChQcm9taXNlLnJlc29sdmUoKSBhcyBhbnkpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjdXN0b21FdmFsKGNvZGU6IHN0cmluZywgY29udGV4dDogYW55KSB7XG4gIGNvbnN0IHNhbmRib3g6IGFueSA9IHt9XG5cbiAgY29uc3QgcmVzdWx0S2V5ID0gJ1NBRkVfRVZBTF8nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgc2FuZGJveFtyZXN1bHRLZXldID0ge31cblxuICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzYW5kYm94W2tleV0gPSBjb250ZXh0W2tleV1cbiAgfSlcblxuICBzYW5kYm94LndpbmRvdyA9IHNhbmRib3hcbiAgc2FuZGJveC5zZWxmID0gc2FuZGJveFxuXG4gIHJldHVybiBkZWZlcigoKSA9PiBuZXcgRnVuY3Rpb24oJ2NvZGUnLCBgd2l0aCAodGhpcykgeyAke2NvZGV9IH1gKS5jYWxsKHNhbmRib3gsIGNvZGUpKVxufVxuXG5mdW5jdGlvbiBnZXRFUzVDb250ZXh0KGJhc2U6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgLy8gZ2xvYmFsVGhpcyBzaG91bGRuJ3QgY3Jhc2ggaGVyZSwgYXMgYWxsb3dMaXN0RVM1IGlzIGFuIGFycmF5IG9mIGBrZXlvZiB0eXBlb2YgZ2xvYmFsVGhpc2BcbiAgYWxsb3dMaXN0RVM1LmZvckVhY2goKCQpID0+IChiYXNlWyRdID0gKGdsb2JhbFRoaXMgYXMgYW55KVskXSkpXG5cbiAgcmV0dXJuIGJhc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVTYW5kYm94Q29udGV4dChvcHRpb25zOiB7XG4gIGRjbDogRGVjZW50cmFsYW5kSW50ZXJmYWNlXG4gIGNhblVzZVdlYnNvY2tldDogYm9vbGVhblxuICBjYW5Vc2VGZXRjaDogYm9vbGVhblxuICBwcmV2aWV3TW9kZTogYm9vbGVhblxuICBsb2c6ICh4OiBzdHJpbmcpID0+IHZvaWRcbn0pIHtcbiAgY29uc3Qgb3JpZ2luYWxGZXRjaCA9IGdsb2JhbFRoaXMuZmV0Y2hcblxuICBjb25zdCByZXN0cmljdGVkV2ViU29ja2V0ID0gY3JlYXRlV2ViU29ja2V0KG9wdGlvbnMpXG4gIGNvbnN0IHJlc3RyaWN0ZWRGZXRjaCA9IGNyZWF0ZUZldGNoKHsgLi4ub3B0aW9ucywgb3JpZ2luYWxGZXRjaCB9KVxuXG4gIDsoZ2xvYmFsVGhpcyBhcyBhbnkpLmZldGNoID0gcmVzdHJpY3RlZEZldGNoXG4gIGdsb2JhbFRoaXMuV2ViU29ja2V0ID0gcmVzdHJpY3RlZFdlYlNvY2tldFxuXG4gIGNvbnN0IGVudiA9IHsgZGNsOiBvcHRpb25zLmRjbCwgV2ViU29ja2V0OiByZXN0cmljdGVkV2ViU29ja2V0LCBmZXRjaDogcmVzdHJpY3RlZEZldGNoIH1cblxuICByZXR1cm4gZ2V0RVM1Q29udGV4dChlbnYpXG59XG4iLCAiaW1wb3J0IFBRdWV1ZSBmcm9tIFwicC1xdWV1ZVwiXG5cbmNvbnN0IFRJTUVPVVRfTElNSVQgPSAyOTAwMFxuXG5leHBvcnQgdHlwZSBGZXRjaEZ1bmN0aW9uID0gdHlwZW9mIGZldGNoXG5leHBvcnQgaW50ZXJmYWNlIEZldGNoT3B0aW9ucyB7XG4gIGNhblVzZUZldGNoOiBib29sZWFuXG4gIG9yaWdpbmFsRmV0Y2g6IEZldGNoRnVuY3Rpb25cbiAgcHJldmlld01vZGU6IGJvb2xlYW5cbiAgbG9nKC4uLmE6IGFueVtdKTogdm9pZFxufVxuXG50eXBlIE9wdHMgPSB7XG4gIHRpbWVvdXQ6IG51bWJlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmV0Y2goeyBjYW5Vc2VGZXRjaCwgcHJldmlld01vZGUsIGxvZywgb3JpZ2luYWxGZXRjaCB9OiBGZXRjaE9wdGlvbnMpIHtcbiAgY29uc3QgZmlmb0ZldGNoID0gbmV3IFBRdWV1ZSh7IGNvbmN1cnJlbmN5OiAxIH0pXG4gIHJldHVybiBhc3luYyAocmVzb3VyY2U6IFJlcXVlc3RJbmZvLCBpbml0PzogKFJlcXVlc3RJbml0ICYgUGFydGlhbDxPcHRzPikgfCB1bmRlZmluZWQpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgdXJsID0gcmVzb3VyY2UgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gcmVzb3VyY2UudXJsIDogcmVzb3VyY2VcbiAgICBpZiAodXJsLnRvTG93ZXJDYXNlKCkuc3Vic3RyKDAsIDgpICE9PSBcImh0dHBzOi8vXCIpIHtcbiAgICAgIGlmIChwcmV2aWV3TW9kZSkge1xuICAgICAgICBsb2coXG4gICAgICAgICAgXCJcdTI2QTBcdUZFMEYgV2FybmluZzogQ2FuJ3QgbWFrZSBhbiB1bnNhZmUgaHR0cCByZXF1ZXN0IGluIGRlcGxveWVkIHNjZW5lcywgcGxlYXNlIGNvbnNpZGVyIHVwZ3JhZGluZyB0byBodHRwcy4gdXJsPVwiICtcbiAgICAgICAgICAgIHVybFxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2FuJ3QgbWFrZSBhbiB1bnNhZmUgaHR0cCByZXF1ZXN0LCBwbGVhc2UgdXBncmFkZSB0byBodHRwcy4gdXJsPVwiICsgdXJsKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNhblVzZUZldGNoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVGhpcyBzY2VuZSBpcyBub3QgYWxsb3dlZCB0byB1c2UgZmV0Y2guXCIpKVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoUmVxdWVzdCgpIHtcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICA7KGFib3J0Q29udHJvbGxlciBhcyBhbnkpLmFib3J0KClcbiAgICAgIH0sIE1hdGgubWF4KGluaXQ/LnRpbWVvdXQgfHwgVElNRU9VVF9MSU1JVCwgMSkpXG4gICAgICB0cnkge1xuICAgICAgICAvLyBETyBOT1QgcmVtb3ZlIHRoZSBcImF3YWl0XCIgZnJvbSB0aGUgbmV4dCBsaW5lXG4gICAgICAgIHJldHVybiBhd2FpdCBvcmlnaW5hbEZldGNoKHJlc291cmNlLCB7IHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCwgLi4uaW5pdCB9KVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZm9GZXRjaC5hZGQoZmV0Y2hSZXF1ZXN0KVxuICB9XG59XG4iLCAiZXhwb3J0IGludGVyZmFjZSBXZWJTb2NrZXRDbGFzc09wdGlvbnMge1xuICBjYW5Vc2VXZWJzb2NrZXQ6IGJvb2xlYW5cbiAgcHJldmlld01vZGU6IGJvb2xlYW5cbiAgbG9nKC4uLmE6IGFueVtdKTogdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV2ViU29ja2V0KHsgY2FuVXNlV2Vic29ja2V0LCBwcmV2aWV3TW9kZSwgbG9nIH06IFdlYlNvY2tldENsYXNzT3B0aW9ucykge1xuICByZXR1cm4gY2xhc3MgUmVzdHJpY3RlZFdlYlNvY2tldCBleHRlbmRzIFdlYlNvY2tldCB7XG4gICAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcgfCBVUkwsIHByb3RvY29scz86IHN0cmluZyB8IHN0cmluZ1tdKSB7XG4gICAgICBpZiAodXJsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5zdWJzdHIoMCwgNCkgIT09ICd3c3M6Jykge1xuICAgICAgICBpZiAocHJldmlld01vZGUpIHtcbiAgICAgICAgICBsb2coXG4gICAgICAgICAgICBcIlx1MjZBMFx1RkUwRiBXYXJuaW5nOiBjYW4ndCBjb25uZWN0IHRvIHVuc2FmZSBXZWJTb2NrZXQgKHdzKSBzZXJ2ZXIgaW4gZGVwbG95ZWQgc2NlbmVzLCBjb25zaWRlciB1cGdyYWRpbmcgdG8gd3NzLlwiXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbm5lY3QgdG8gdW5zYWZlIFdlYlNvY2tldCBzZXJ2ZXJcIilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWNhblVzZVdlYnNvY2tldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNjZW5lIGRvZXNuJ3QgaGF2ZSBhbGxvd2VkIHRvIHVzZSBXZWJTb2NrZXRcIilcbiAgICAgIH1cblxuICAgICAgc3VwZXIodXJsLnRvU3RyaW5nKCksIHByb3RvY29scylcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBMb2FkYWJsZUFwaXMgfSBmcm9tICcuLi9jbGllbnQnXG5pbXBvcnQgeyBjb21wb25lbnROYW1lUkUsIGdlbmVyYXRlUEJPYmplY3QsIGdldElkQXNOdW1iZXIgfSBmcm9tICcuLi9VdGlscydcbmltcG9ydCB7IFJwY0NsaWVudFBvcnQgfSBmcm9tICdAZGNsL3JwYy9kaXN0L3R5cGVzJ1xuaW1wb3J0IHsgUnVudGltZUV2ZW50Q2FsbGJhY2sgfSBmcm9tICcuL0V2ZW50cydcbmltcG9ydCB7XG4gIEVBVHlwZSxcbiAgRW5naW5lQXBpU2VydmljZURlZmluaXRpb24sXG4gIEVudGl0eUFjdGlvbixcbiAgcXVlcnlUeXBlRnJvbUpTT05cbn0gZnJvbSAnQGRjbC9wcm90b2NvbC9vdXQtdHMvZGVjZW50cmFsYW5kL2tlcm5lbC9hcGlzL2VuZ2luZV9hcGkuZ2VuJ1xuaW1wb3J0IHsgU2NlbmVSdW50aW1lRXZlbnRTdGF0ZSB9IGZyb20gJy4vRXZlbnRzJ1xuaW1wb3J0IHsgUnBjQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGRjbC9ycGMvZGlzdC9jb2RlZ2VuJ1xuXG5leHBvcnQgaW50ZXJmYWNlIERlY2VudHJhbGFuZEludGVyZmFjZU9wdGlvbnMge1xuICBvbkxvZzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkXG4gIG9uRXJyb3I6IChlOiBFcnJvcikgPT4gdm9pZFxuICBvbkV2ZW50RnVuY3Rpb25zOiBSdW50aW1lRXZlbnRDYWxsYmFja1tdXG4gIHNjZW5lSWQ6IHN0cmluZ1xuICBjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0XG4gIGV2ZW50U3RhdGU6IFNjZW5lUnVudGltZUV2ZW50U3RhdGVcbiAgYmF0Y2hFdmVudHM6IHsgZXZlbnRzOiBFbnRpdHlBY3Rpb25bXSB9XG4gIG9uU3RhcnRGdW5jdGlvbnM6ICgoKSA9PiB2b2lkKVtdXG4gIG9uVXBkYXRlRnVuY3Rpb25zOiAoKGR0OiBudW1iZXIpID0+IHZvaWQpW11cbiAgRW5naW5lQXBpOiBScGNDbGllbnRNb2R1bGU8RW5naW5lQXBpU2VydmljZURlZmluaXRpb24+XG59XG5cbnR5cGUgR2VuZXJpY1JwY01vZHVsZSA9IFJlY29yZDxzdHJpbmcsICguLi5hcmdzOiBhbnkpID0+IFByb21pc2U8dW5rbm93bj4+XG50eXBlIENvbXBvc2VkUnBjTW9kdWxlID0gTW9kdWxlRGVzY3JpcHRvciAmIHsgX19JTlRFUk5BTF9VTlNBRkVfbG9hZGVkTW9kdWxlOiBHZW5lcmljUnBjTW9kdWxlIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlY2VudHJhbGFuZEludGVyZmFjZShvcHRpb25zOiBEZWNlbnRyYWxhbmRJbnRlcmZhY2VPcHRpb25zKSB7XG4gIGNvbnN0IHsgYmF0Y2hFdmVudHMsIG9uRXJyb3IsIG9uTG9nLCBzY2VuZUlkLCBvbkV2ZW50RnVuY3Rpb25zLCBjbGllbnRQb3J0LCBldmVudFN0YXRlIH0gPSBvcHRpb25zXG5cbiAgY29uc3Qgc2NlbmVMb2FkZWRNb2R1bGVzOiBSZWNvcmQ8c3RyaW5nLCBDb21wb3NlZFJwY01vZHVsZT4gPSB7fVxuXG4gIGNvbnN0IGRjbDogRGVjZW50cmFsYW5kSW50ZXJmYWNlID0ge1xuICAgIERFQlVHOiB0cnVlLFxuICAgIGxvZyguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgb25Mb2coLi4uYXJncylcbiAgICB9LFxuXG4gICAgb3BlbkV4dGVybmFsVXJsKHVybDogc3RyaW5nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpXG4gICAgICAgIGlmICh1LnByb3RvY29sICE9PSAnaHR0cHM6JykgdGhyb3cgbmV3IEVycm9yKCdPbmx5IGh0dHBzOiBleHRlcm5hbCBsaW5rcyBhcmUgYWxsb3dlZCcpXG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBvbkVycm9yKGVycilcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh1cmwpLmxlbmd0aCA+IDQ5MDAwKSB7XG4gICAgICAgIG9uRXJyb3IobmV3IEVycm9yKCdVUkwgcGF5bG9hZCBjYW5ub3QgZXhjZWVkIDQ5LjAwMCBieXRlcycpKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50U3RhdGUuYWxsb3dPcGVuRXh0ZXJuYWxVcmwpIHtcbiAgICAgICAgYmF0Y2hFdmVudHMuZXZlbnRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IEVBVHlwZS5FQVRfT1BFTl9FWFRFUk5BTF9VUkwsXG4gICAgICAgICAgdGFnOiAnJyxcbiAgICAgICAgICBwYXlsb2FkOiB7IG9wZW5FeHRlcm5hbFVybDogeyB1cmwgfSB9XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVycm9yKCdvcGVuRXh0ZXJuYWxVcmwgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgYSBwb2ludGVyRXZlbnQnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBvcGVuTkZURGlhbG9nKGFzc2V0Q29udHJhY3RBZGRyZXNzOiBzdHJpbmcsIHRva2VuSWQ6IHN0cmluZywgY29tbWVudDogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgaWYgKGV2ZW50U3RhdGUuYWxsb3dPcGVuRXh0ZXJuYWxVcmwpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZExlbmd0aCA9IGFzc2V0Q29udHJhY3RBZGRyZXNzLmxlbmd0aCArIHRva2VuSWQubGVuZ3RoICsgKGNvbW1lbnQ/Lmxlbmd0aCB8fCAwKVxuXG4gICAgICAgIGlmIChwYXlsb2FkTGVuZ3RoID4gNDkwMDApIHtcbiAgICAgICAgICBvbkVycm9yKG5ldyBFcnJvcignT3Blbk5GVCBwYXlsb2FkIGNhbm5vdCBleGNlZWQgNDkuMDAwIGJ5dGVzJykpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBiYXRjaEV2ZW50cy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogRUFUeXBlLkVBVF9PUEVOX05GVF9ESUFMT0csXG4gICAgICAgICAgdGFnOiAnJyxcbiAgICAgICAgICBwYXlsb2FkOiB7IG9wZW5OZnREaWFsb2c6IHsgYXNzZXRDb250cmFjdEFkZHJlc3MsIHRva2VuSWQsIGNvbW1lbnQ6IGNvbW1lbnQgfHwgJycgfSB9XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVycm9yKCdvcGVuTkZURGlhbG9nIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGEgcG9pbnRlckV2ZW50JylcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWRkRW50aXR5KGVudGl0eUlkOiBzdHJpbmcpIHtcbiAgICAgIGlmIChlbnRpdHlJZCA9PT0gJzAnKSB7XG4gICAgICAgIC8vIFdlIGRvbnQgY3JlYXRlIHRoZSBlbnRpdHkgMCBpbiB0aGUgZW5naW5lLlxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGJhdGNoRXZlbnRzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgdHlwZTogRUFUeXBlLkVBVF9DUkVBVEVfRU5USVRZLFxuICAgICAgICBwYXlsb2FkOiB7IGNyZWF0ZUVudGl0eTogeyBpZDogZW50aXR5SWQgfSB9XG4gICAgICB9KVxuICAgIH0sXG5cbiAgICByZW1vdmVFbnRpdHkoZW50aXR5SWQ6IHN0cmluZykge1xuICAgICAgYmF0Y2hFdmVudHMuZXZlbnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBFQVR5cGUuRUFUX1JFTU9WRV9FTlRJVFksXG4gICAgICAgIHBheWxvYWQ6IHsgcmVtb3ZlRW50aXR5OiB7IGlkOiBlbnRpdHlJZCB9IH1cbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8qKiB1cGRhdGUgdGljayAqL1xuICAgIG9uVXBkYXRlKGNiOiAoZGVsdGFUaW1lOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgIGlmICh0eXBlb2YgKGNiIGFzIGFueSkgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoJ29uVXBkYXRlIG11c3QgYmUgY2FsbGVkIHdpdGggb25seSBhIGZ1bmN0aW9uIGFyZ3VtZW50JykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLm9uVXBkYXRlRnVuY3Rpb25zLnB1c2goY2IpXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBldmVudCBmcm9tIHRoZSBlbmdpbmUgKi9cbiAgICBvbkV2ZW50KGNiOiAoZXZlbnQ6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgaWYgKHR5cGVvZiAoY2IgYXMgYW55KSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkVycm9yKG5ldyBFcnJvcignb25FdmVudCBtdXN0IGJlIGNhbGxlZCB3aXRoIG9ubHkgYSBmdW5jdGlvbiBhcmd1bWVudCcpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25FdmVudEZ1bmN0aW9ucy5wdXNoKGNiKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogY2FsbGVkIGFmdGVyIGFkZGluZyBhIGNvbXBvbmVudCB0byB0aGUgZW50aXR5IG9yIGFmdGVyIHVwZGF0aW5nIGEgY29tcG9uZW50ICovXG4gICAgdXBkYXRlRW50aXR5Q29tcG9uZW50KGVudGl0eUlkOiBzdHJpbmcsIGNvbXBvbmVudE5hbWU6IHN0cmluZywgY2xhc3NJZDogbnVtYmVyLCBqc29uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIGlmIChqc29uLmxlbmd0aCA+IDQ5MDAwKSB7XG4gICAgICAgIG9uRXJyb3IobmV3IEVycm9yKCdDb21wb25lbnQgcGF5bG9hZCBjYW5ub3QgZXhjZWVkIDQ5LjAwMCBieXRlcycpKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXBvbmVudE5hbWVSRS50ZXN0KGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgIGJhdGNoRXZlbnRzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBFQVR5cGUuRUFUX1VQREFURV9FTlRJVFlfQ09NUE9ORU5ULFxuICAgICAgICAgIHRhZzogc2NlbmVJZCArICdfJyArIGVudGl0eUlkICsgJ18nICsgY2xhc3NJZCxcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICB1cGRhdGVFbnRpdHlDb21wb25lbnQ6IHtcbiAgICAgICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgICAgIGNsYXNzSWQsXG4gICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUucmVwbGFjZShjb21wb25lbnROYW1lUkUsICcnKSxcbiAgICAgICAgICAgICAganNvbjogZ2VuZXJhdGVQQk9iamVjdChjbGFzc0lkLCBqc29uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIGNhbGxlZCBhZnRlciBhZGRpbmcgYSBEaXNwb3NhYmxlQ29tcG9uZW50IHRvIHRoZSBlbnRpdHkgKi9cbiAgICBhdHRhY2hFbnRpdHlDb21wb25lbnQoZW50aXR5SWQ6IHN0cmluZywgY29tcG9uZW50TmFtZTogc3RyaW5nLCBpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICBpZiAoY29tcG9uZW50TmFtZVJFLnRlc3QoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgYmF0Y2hFdmVudHMuZXZlbnRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IEVBVHlwZS5FQVRfQVRUQUNIX0VOVElUWV9DT01QT05FTlQsXG4gICAgICAgICAgdGFnOiBlbnRpdHlJZCxcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBhdHRhY2hFbnRpdHlDb21wb25lbnQ6IHtcbiAgICAgICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUucmVwbGFjZShjb21wb25lbnROYW1lUkUsICcnKSxcbiAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBjYWxsIGFmdGVyIHJlbW92aW5nIGEgY29tcG9uZW50IGZyb20gdGhlIGVudGl0eSAqL1xuICAgIHJlbW92ZUVudGl0eUNvbXBvbmVudChlbnRpdHlJZDogc3RyaW5nLCBjb21wb25lbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIGlmIChjb21wb25lbnROYW1lUkUudGVzdChjb21wb25lbnROYW1lKSkge1xuICAgICAgICBiYXRjaEV2ZW50cy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogRUFUeXBlLkVBVF9DT01QT05FTlRfUkVNT1ZFRCxcbiAgICAgICAgICB0YWc6IGVudGl0eUlkLFxuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlbW92ZWQ6IHtcbiAgICAgICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUucmVwbGFjZShjb21wb25lbnROYW1lUkUsICcnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIHNldCBhIG5ldyBwYXJlbnQgZm9yIHRoZSBlbnRpdHkgKi9cbiAgICBzZXRQYXJlbnQoZW50aXR5SWQ6IHN0cmluZywgcGFyZW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgYmF0Y2hFdmVudHMuZXZlbnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBFQVR5cGUuRUFUX1NFVF9FTlRJVFlfUEFSRU5ULFxuICAgICAgICB0YWc6IGVudGl0eUlkLFxuICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgc2V0RW50aXR5UGFyZW50OiB7XG4gICAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICAgIHBhcmVudElkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvKiogcXVlcmllcyBmb3IgYSBzcGVjaWZpYyBzeXN0ZW0gd2l0aCBhIGNlcnRhaW4gcXVlcnkgY29uZmlndXJhdGlvbiAqL1xuICAgIHF1ZXJ5KHF1ZXJ5VHlwZTogYW55LCBwYXlsb2FkOiBhbnkpIHtcbiAgICAgIHBheWxvYWQucXVlcnlJZCA9IGdldElkQXNOdW1iZXIocGF5bG9hZC5xdWVyeUlkKS50b1N0cmluZygpXG4gICAgICBiYXRjaEV2ZW50cy5ldmVudHMucHVzaCh7XG4gICAgICAgIHR5cGU6IEVBVHlwZS5FQVRfUVVFUlksXG4gICAgICAgIHRhZzogc2NlbmVJZCArICdfJyArIHBheWxvYWQucXVlcnlJZCxcbiAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICBxdWVyeUlkOiBxdWVyeVR5cGVGcm9tSlNPTihxdWVyeVR5cGUpLFxuICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8qKiBzdWJzY3JpYmUgdG8gc3BlY2lmaWMgZXZlbnRzLCBldmVudHMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBvbkV2ZW50IGZ1bmN0aW9uICovXG4gICAgc3Vic2NyaWJlKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICBvcHRpb25zLkVuZ2luZUFwaS5zdWJzY3JpYmUoeyBldmVudElkOiBldmVudE5hbWUgfSkuY2F0Y2goKGVycjogRXJyb3IpID0+IG9uRXJyb3IoZXJyKSlcbiAgICB9LFxuXG4gICAgLyoqIHVuc3Vic2NyaWJlIHRvIHNwZWNpZmljIGV2ZW50ICovXG4gICAgdW5zdWJzY3JpYmUoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIG9wdGlvbnMuRW5naW5lQXBpLnVuc3Vic2NyaWJlKHsgZXZlbnRJZDogZXZlbnROYW1lIH0pLmNhdGNoKChlcnI6IEVycm9yKSA9PiBvbkVycm9yKGVycikpXG4gICAgfSxcblxuICAgIGNvbXBvbmVudENyZWF0ZWQoaWQ6IHN0cmluZywgY29tcG9uZW50TmFtZTogc3RyaW5nLCBjbGFzc0lkOiBudW1iZXIpIHtcbiAgICAgIGlmIChjb21wb25lbnROYW1lUkUudGVzdChjb21wb25lbnROYW1lKSkge1xuICAgICAgICBiYXRjaEV2ZW50cy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogRUFUeXBlLkVBVF9DT01QT05FTlRfQ1JFQVRFRCxcbiAgICAgICAgICB0YWc6IGlkLFxuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNvbXBvbmVudENyZWF0ZWQ6IHtcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIGNsYXNzSWQsXG4gICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUucmVwbGFjZShjb21wb25lbnROYW1lUkUsICcnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcG9uZW50RGlzcG9zZWQoaWQ6IHN0cmluZykge1xuICAgICAgYmF0Y2hFdmVudHMuZXZlbnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBFQVR5cGUuRUFUX0NPTVBPTkVOVF9ESVNQT1NFRCxcbiAgICAgICAgdGFnOiBpZCxcbiAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgIGNvbXBvbmVudERpc3Bvc2VkOiB7IGlkIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgY29tcG9uZW50VXBkYXRlZChpZDogc3RyaW5nLCBqc29uOiBzdHJpbmcpIHtcbiAgICAgIGJhdGNoRXZlbnRzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgdHlwZTogRUFUeXBlLkVBVF9DT01QT05FTlRfVVBEQVRFRCxcbiAgICAgICAgdGFnOiBpZCxcbiAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgIGNvbXBvbmVudFVwZGF0ZWQ6IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAganNvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgbG9hZE1vZHVsZTogYXN5bmMgKF9tb2R1bGVOYW1lKSA9PiB7XG4gICAgICBpZiAoIShfbW9kdWxlTmFtZSBpbiBzY2VuZUxvYWRlZE1vZHVsZXMpKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZE1vZHVsZSA9IGxvYWRTY2VuZU1vZHVsZShjbGllbnRQb3J0LCBfbW9kdWxlTmFtZSlcbiAgICAgICAgc2NlbmVMb2FkZWRNb2R1bGVzW19tb2R1bGVOYW1lXSA9IHtcbiAgICAgICAgICBycGNIYW5kbGU6IF9tb2R1bGVOYW1lLFxuICAgICAgICAgIF9fSU5URVJOQUxfVU5TQUZFX2xvYWRlZE1vZHVsZTogbG9hZGVkTW9kdWxlLFxuICAgICAgICAgIG1ldGhvZHM6IE9iamVjdC5rZXlzKGxvYWRlZE1vZHVsZSkubWFwKChuYW1lKSA9PiAoeyBuYW1lIH0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY2VuZUxvYWRlZE1vZHVsZXNbX21vZHVsZU5hbWVdXG4gICAgfSxcbiAgICBjYWxsUnBjOiBhc3luYyAocnBjSGFuZGxlOiBzdHJpbmcsIG1ldGhvZE5hbWU6IHN0cmluZywgYXJnczogYW55W10pID0+IHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IHNjZW5lTG9hZGVkTW9kdWxlc1tycGNIYW5kbGVdXG4gICAgICBpZiAoIW1vZHVsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJQQ0hhbmRsZTogJHtycGNIYW5kbGV9IGlzIG5vdCBsb2FkZWRgKVxuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgIHJldHVybiBtb2R1bGUuX19JTlRFUk5BTF9VTlNBRkVfbG9hZGVkTW9kdWxlW21ldGhvZE5hbWVdLmFwcGx5KG1vZHVsZSwgYXJncylcbiAgICB9LFxuICAgIG9uU3RhcnQoY2I6ICgpID0+IHZvaWQpIHtcbiAgICAgIG9wdGlvbnMub25TdGFydEZ1bmN0aW9ucy5wdXNoKGNiKVxuICAgIH0sXG4gICAgZXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgICAgb25FcnJvcihPYmplY3QuYXNzaWduKG5ldyBFcnJvcihtZXNzYWdlIGFzIHN0cmluZyksIHsgZGF0YSB9KSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGNsXG59XG5cbmZ1bmN0aW9uIGxvYWRTY2VuZU1vZHVsZShjbGllbnRQb3J0OiBScGNDbGllbnRQb3J0LCBtb2R1bGVOYW1lOiBzdHJpbmcpOiBHZW5lcmljUnBjTW9kdWxlIHtcbiAgLy8gLSBtb2R1bGVOYW1lcyB0aGF0IHN0YXJ0IHdpdGggQGRlY2VudHJhbGFuZCBhcmUgZnJvbSBFQ1M2IGFuZCB0aGV5IHNob3VsZCBsb2FkIHRoZSBsZWdhY3kgb25lcy5cbiAgLy8gLSBtb2R1bGVOYW1lcyB0aGF0IHN0YXJ0IHdpdGggfnN5c3RlbSwgYXJlIHRoZSBuZXcgb25lcyB0aGF0IGZvbGxvdyB0aGUgcHJvdG9jb2wgYnVmZmVyIGdlbmVyYXRpb25cbiAgLy8gICAgKGEgc2luZ2xlIG9iamVjdCBhcyBAcGFyYW0sIGFuZCBhIHNpbmdsZSBvYmplY3QgYXMgQHJldHVybnMpXG4gIGNvbnN0IG1vZHVsZVRvTG9hZCA9IG1vZHVsZU5hbWUucmVwbGFjZSgvXkBkZWNlbnRyYWxhbmRcXC8vLCAnTGVnYWN5JykucmVwbGFjZSgvXn5zeXN0ZW1cXC8vLCAnJylcbiAgdHJ5IHtcbiAgICBpZiAobW9kdWxlVG9Mb2FkIGluIExvYWRhYmxlQXBpcykge1xuICAgICAgcmV0dXJuIChMb2FkYWJsZUFwaXMgYXMgYW55KVttb2R1bGVUb0xvYWRdKGNsaWVudFBvcnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBsaXN0IScpXG4gICAgfVxuICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICB0aHJvdyBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihgRXJyb3IgZ2V0dGluZyB0aGUgbWV0aG9kcyBvZiAke21vZHVsZVRvTG9hZH06IGAgKyBlLm1lc3NhZ2UpLCB7XG4gICAgICBvcmlnaW5hbDogZVxuICAgIH0pXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIkBkY2wvZWNzLW1hdGhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwRnBzVGhyb3R0bGluZyhcbiAgZGNsOiBEZWNlbnRyYWxhbmRJbnRlcmZhY2UsXG4gIHBhcmNlbHM6IEFycmF5PHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4sXG4gIG9uQ2hhbmdlVXBkYXRlSW50ZXJ2YWw6IChuZXdWYWx1ZTogbnVtYmVyKSA9PiB2b2lkXG4pIHtcbiAgZGNsLnN1YnNjcmliZSgncG9zaXRpb25DaGFuZ2VkJylcbiAgZGNsLm9uRXZlbnQoKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICdwb3NpdGlvbkNoYW5nZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBlID0gZXZlbnQuZGF0YSBhcyBJRXZlbnRzWydwb3NpdGlvbkNoYW5nZWQnXVxuXG4gICAgLy9OT1RFOiBjYWxsaW5nIHdvcmxkVG9HcmlkIGZyb20gcGFyY2VsU2NlbmVQb3NpdGlvbnMudHMgaGVyZSBjcmFzaGVzIGtlcm5lbCB3aGVuIHRoZXJlIGFyZSA4MCsgd29ya2VycyBzaW5jZSBjaHJvbWUgOTIuXG4gICAgY29uc3QgUEFSQ0VMX1NJWkUgPSAxNlxuICAgIGNvbnN0IHBsYXllclBvc2l0aW9uID0gbmV3IFZlY3RvcjIoXG4gICAgICBNYXRoLmZsb29yKGUuY2FtZXJhUG9zaXRpb24ueCAvIFBBUkNFTF9TSVpFKSxcbiAgICAgIE1hdGguZmxvb3IoZS5jYW1lcmFQb3NpdGlvbi56IC8gUEFSQ0VMX1NJWkUpXG4gICAgKVxuXG4gICAgaWYgKHBsYXllclBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBsYXllclBvcyA9IHBsYXllclBvc2l0aW9uIGFzIFZlY3RvcjJcblxuICAgIGxldCBzcXJEaXN0YW5jZVRvUGxheWVySW5QYXJjZWxzID0gMTAgKiAxMFxuICAgIGxldCBpc0luc2lkZVNjZW5lID0gZmFsc2VcblxuICAgIGZvciAoY29uc3QgcGFyY2VsIG9mIHBhcmNlbHMpIHtcbiAgICAgIHNxckRpc3RhbmNlVG9QbGF5ZXJJblBhcmNlbHMgPSBNYXRoLm1pbihzcXJEaXN0YW5jZVRvUGxheWVySW5QYXJjZWxzLCBWZWN0b3IyLkRpc3RhbmNlU3F1YXJlZChwbGF5ZXJQb3MsIHBhcmNlbCkpXG4gICAgICBpZiAocGFyY2VsLnggPT09IHBsYXllclBvcy54ICYmIHBhcmNlbC55ID09PSBwbGF5ZXJQb3MueSkge1xuICAgICAgICBpc0luc2lkZVNjZW5lID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBmcHM6IG51bWJlciA9IDFcblxuICAgIGlmIChpc0luc2lkZVNjZW5lKSB7XG4gICAgICBmcHMgPSAzMFxuICAgIH0gZWxzZSBpZiAoc3FyRGlzdGFuY2VUb1BsYXllckluUGFyY2VscyA8PSAyICogMikge1xuICAgICAgLy8gTk9URShCcmlhbik6IFllcywgdGhpcyBjb3VsZCBiZSBhIGZvcm11bGEsIGJ1dCBJIHByZWZlciB0aGlzIHBlZGVzdHJpYW4gd2F5IGFzXG4gICAgICAvLyAgICAgICAgICAgICAgaXRzIGVhc2llciB0byByZWFkIGFuZCB0d2VhayAoaS5lLiBpZiB3ZSBmaW5kIG91dCBpdHMgYmV0dGVyIGFzIHNvbWUgYXJiaXRyYXJ5IGN1cnZlLCBldGMpLlxuICAgICAgZnBzID0gMjBcbiAgICB9IGVsc2UgaWYgKHNxckRpc3RhbmNlVG9QbGF5ZXJJblBhcmNlbHMgPD0gMyAqIDMpIHtcbiAgICAgIGZwcyA9IDEwXG4gICAgfSBlbHNlIGlmIChzcXJEaXN0YW5jZVRvUGxheWVySW5QYXJjZWxzIDw9IDQgKiA0KSB7XG4gICAgICBmcHMgPSA1XG4gICAgfVxuXG4gICAgb25DaGFuZ2VVcGRhdGVJbnRlcnZhbCgxMDAwIC8gZnBzKVxuICB9KVxufVxuIiwgImltcG9ydCB7IFByb3RvY29sIH0gZnJvbSAnZGV2dG9vbHMtcHJvdG9jb2wnXG5pbXBvcnQgeyBMb2FkZWRNb2R1bGVzIH0gZnJvbSAnLi4vY2xpZW50J1xuXG5leHBvcnQgY2xhc3MgRGV2VG9vbHNBZGFwdGVyIHtcbiAgZXhjZXB0aW9uczogRXJyb3JbXSA9IFtdXG5cbiAgY29uc3RydWN0b3IocHVibGljIGRldlRvb2xzOiBMb2FkZWRNb2R1bGVzWydEZXZUb29scyddKSB7IH1cblxuICBsb2coLi4uYXJnczogYW55W10pIHtcbiAgICBjb25zdCBwYXJhbXM6IFByb3RvY29sLlJ1bnRpbWUuQ29uc29sZUFQSUNhbGxlZEV2ZW50ID0ge1xuICAgICAgdHlwZTogJ2xvZycsXG4gICAgICB0aW1lc3RhbXA6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZXhlY3V0aW9uQ29udGV4dElkOiAwLFxuICAgICAgYXJnczogYXJncy5tYXAoKCQpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkXG4gICAgICAgIGxldCB1bnNlcmlhbGl6YWJsZVZhbHVlID0gdW5kZWZpbmVkXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgJFxuICAgICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcgJiYgJCAhPT0gbnVsbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSgkKVxuICAgICAgICAgICAgdmFsdWUgPSAkXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHVuc2VyaWFsaXphYmxlVmFsdWUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KCQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIChpc05hTigkKSB8fCAhaXNGaW5pdGUoJCkpKSB7XG4gICAgICAgICAgdW5zZXJpYWxpemFibGVWYWx1ZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoJClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9ICRcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdGVPYmplY3Q6IFByb3RvY29sLlJ1bnRpbWUuUmVtb3RlT2JqZWN0ID0ge1xuICAgICAgICAgIHR5cGU6IHR5cGVvZiAkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHVuc2VyaWFsaXphYmxlVmFsdWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3RlT2JqZWN0XG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuZGV2VG9vbHMhLmV2ZW50KHtcbiAgICAgIHR5cGU6ICdSdW50aW1lLmNvbnNvbGVBUElDYWxsZWQnLFxuICAgICAganNvblBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KFtwYXJhbXNdKVxuICAgIH0pLmNhdGNoKHRoaXMuY2F0Y2hIYW5kbGVyKVxuICB9XG5cbiAgZXJyb3IoZTogRXJyb3IpIHtcbiAgICBjb25zdCBleGNlcHRpb25JZCA9IHRoaXMuZXhjZXB0aW9ucy5wdXNoKGUpIC0gMVxuICAgIGxldCB2YWx1ZTogc3RyaW5nIHwgdm9pZCA9IHVuZGVmaW5lZFxuICAgIGxldCB1bnNlcmlhbGl6YWJsZVZhbHVlID0gdW5kZWZpbmVkXG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZSlcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ3t9JyAmJiBlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgLy8gbW9zdCBFcnJvciBvYmplY3RzIHNlcmlhbGl6ZSB0byBlbXB0eSBvYmplY3RzXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZSxcbiAgICAgICAgICBuYW1lOiBlLm5hbWUsXG4gICAgICAgICAgc3RhY2s6IGUuc3RhY2tcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdW5zZXJpYWxpemFibGVWYWx1ZSA9IGUudG9TdHJpbmcoKVxuICAgIH1cbiAgICBjb25zdCBleGNlcHRpb246IFByb3RvY29sLlJ1bnRpbWUuUmVtb3RlT2JqZWN0ID0ge1xuICAgICAgdHlwZTogdHlwZW9mIGUsXG4gICAgICB2YWx1ZSxcbiAgICAgIHVuc2VyaWFsaXphYmxlVmFsdWVcbiAgICB9XG4gICAgY29uc3QgcGFyYW06IFByb3RvY29sLlJ1bnRpbWUuRXhjZXB0aW9uVGhyb3duRXZlbnQgPSB7XG4gICAgICB0aW1lc3RhbXA6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZXhjZXB0aW9uRGV0YWlsczoge1xuICAgICAgICB0ZXh0OiBlLnRvU3RyaW5nKCkgKyAnXFxuJyArIGUuc3RhY2ssXG4gICAgICAgIGV4Y2VwdGlvbklkLFxuICAgICAgICBjb2x1bW5OdW1iZXI6IDAsXG4gICAgICAgIGxpbmVOdW1iZXI6IDAsXG4gICAgICAgIGV4Y2VwdGlvblxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGV2VG9vbHMhLmV2ZW50KHtcbiAgICAgIHR5cGU6ICdSdW50aW1lLmV4Y2VwdGlvblRocm93bicsXG4gICAgICBqc29uUGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoW3BhcmFtXSlcbiAgICB9KS5jYXRjaCh0aGlzLmNhdGNoSGFuZGxlcilcbiAgfVxuXG4gIHByaXZhdGUgY2F0Y2hIYW5kbGVyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmxvZyguLi5hcmdzKVxufVxuIiwgImltcG9ydCB7IEV2ZW50RGF0YSwgRXZlbnREYXRhVHlwZSB9IGZyb20gJ0BkY2wvcHJvdG9jb2wvb3V0LXRzL2RlY2VudHJhbGFuZC9rZXJuZWwvYXBpcy9lbmdpbmVfYXBpLmdlbidcblxuZXhwb3J0IHR5cGUgUnVudGltZUV2ZW50ID0geyB0eXBlOiBzdHJpbmc7IGRhdGE6IGFueSB9XG5leHBvcnQgdHlwZSBSdW50aW1lRXZlbnRDYWxsYmFjayA9IChldmVudDogUnVudGltZUV2ZW50KSA9PiB2b2lkXG5cbmV4cG9ydCB0eXBlIFNjZW5lUnVudGltZUV2ZW50U3RhdGUgPSB7IGFsbG93T3BlbkV4dGVybmFsVXJsOiBib29sZWFuIH1cblxuZXhwb3J0IGZ1bmN0aW9uIEV2ZW50RGF0YVRvUnVudGltZUV2ZW50KGU6IEV2ZW50RGF0YSk6IFJ1bnRpbWVFdmVudCB7XG4gIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgY2FzZSBFdmVudERhdGFUeXBlLkVEVF9HRU5FUklDOlxuICAgICAgcmV0dXJuIHsgdHlwZTogZS5nZW5lcmljPy5ldmVudElkIHx8ICcnLCBkYXRhOiBKU09OLnBhcnNlKGUuZ2VuZXJpYyEuZXZlbnREYXRhIHx8ICd7fScpIH1cbiAgICBjYXNlIEV2ZW50RGF0YVR5cGUuRURUX1BPU0lUSU9OX0NIQU5HRUQ6XG4gICAgICByZXR1cm4geyB0eXBlOiAncG9zaXRpb25DaGFuZ2VkJywgZGF0YTogZS5wb3NpdGlvbkNoYW5nZWQgfVxuICAgIGNhc2UgRXZlbnREYXRhVHlwZS5FRFRfUk9UQVRJT05fQ0hBTkdFRDpcbiAgICAgIHJldHVybiB7IHR5cGU6ICdyb3RhdGlvbkNoYW5nZWQnLCBkYXRhOiBlLnJvdGF0aW9uQ2hhbmdlZCB9XG4gIH1cblxuICByZXR1cm4geyB0eXBlOiAnJywgZGF0YTogJ3t9JyB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBRUEsaUJBQVcsWUFBWSxXQUFXLFdBQVk7QUFDNUMsY0FBTSxJQUFJLE1BQU07QUFBQTtBQUVsQixpQkFBVyxZQUFZLFNBQVMsV0FBWTtBQUMxQyxjQUFNLElBQUksTUFBTTtBQUFBO0FBQUE7QUFBQTs7O0FD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QUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBSztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFLO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUs7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBSztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFJO0FBQUEsVUFBSztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUk7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUk7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFJO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFJO0FBQUEsVUFBSTtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFJO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBSTtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSTtBQUFBLFVBQUk7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBSTtBQUFBLFVBQUs7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUk7QUFBQSxVQUFLO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUk7QUFBQSxVQUFJO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUk7QUFBQSxVQUFHO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUFJO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUc7QUFBQSxVQUFLO0FBQUEsVUFBSTtBQUFBLFVBQUk7QUFBQSxVQUFLO0FB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
